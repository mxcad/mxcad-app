import{M as _,aG as A,B as Z,ax as B,c4 as n,c5 as r,aZ as E,i as j,c6 as U,au as P,b as $,C as M,c7 as z,c8 as L,c9 as G,v as R,w as q}from"./lib.DTykjivu.js";import{d as O,h as g,l as J,D as p,c as K,o as F,H as l,w as o,a as D,t as V,F as Q,_ as H,v as W,b as N,m as u,e as X,aw as C,p as i}from"./framework.BMMljfWr.js";import"./commonjsHelpers.Cpj98o6Y.js";const Y=O({__name:"ElectronSetUp",setup(I,{expose:w}){const k=g(""),d=()=>{_.clearFileCache()},c=()=>{_.debugTools()},v=g(!1);return J(async()=>{v.value=await _.getAppConfig("isStartOpenLastFile")||!1}),w({determine:()=>{_&&_.setAppConfig("isStartOpenLastFile",v.value)}}),(f,b)=>{const S=p("v-text-field"),t=p("v-checkbox");return F(),K(Q,null,[l(S,{"model-value":k.value,readonly:"",class:"mt-2"},{prepend:o(()=>[D(V(f.t("日志保存路径")),1)]),_:1},8,["model-value"]),l(t,{label:f.t("启动时默认打开上次打开的文件"),modelValue:v.value,"onUpdate:modelValue":b[0]||(b[0]=e=>v.value=e),class:"mt-2"},null,8,["label","modelValue"]),l(A,{class:"mt-2 mr-2",onClick:d},{default:o(()=>[D(V(f.t("清除缓存")),1)]),_:1}),l(A,{class:"mt-2",onClick:c},{default:o(()=>[D(V(f.t("控制台")),1)]),_:1})],64)}}}),ee=H(Y,[["__scopeId","data-v-2d8902d3"]]),le={class:"px-3"},te={class:"d-flex justify-center algin-center"},oe={class:"d-flex justify-center algin-center"},ae={class:"d-flex"},se={class:"d-flex align-center mr-1 w-50"},ne={class:"d-flex align-center w-50"},re=O({__name:"index",setup(I){const{createColor:w}=Z(),k=g(),d=g(),c=g(),v=t=>{d.value=t};W(U,async t=>{if(!t)return;const m=$.getCurrentMxCAD().mxdraw.getViewColor(),s=M(m).toString();d.value=w({color:s,name:s}),c.value=w({color:z.value,name:z.value})});const h=t=>{const e=M(t.color),m=e.red(),s=e.green(),x=e.blue();$.getCurrentMxCAD().setViewBackgroundColor(m,s,x),R.callEvent("updateBackgroundColor",new q(m,s,x))},f=t=>{c.value=t},S=[{name:"确定",fun:()=>{var t;if(G(),(t=k.value)==null||t.determine(),d.value&&h(d.value),c.value){const e=M(c.value.color);z.value=e.string()}L(!1)},primary:!0},{name:"关闭",fun:()=>L(!1)}];return(t,e)=>{const m=p("v-text-field"),s=p("v-btn"),x=p("v-slider"),y=p("v-col"),T=p("v-row");return F(),N(P,{title:t.t("设置"),"max-width":"600",modelValue:i(U),"onUpdate:modelValue":e[8]||(e[8]=a=>C(U)?U.value=a:null),footerBtnList:S},{default:o(()=>[u("div",le,[l(T,null,{default:o(()=>[l(y,{cols:"6",class:"mb-1"},{default:o(()=>[l(B,{title:t.t("十字光标大小")},{default:o(()=>[u("div",te,[l(m,{modelValue:i(n),"onUpdate:modelValue":e[0]||(e[0]=a=>C(n)?n.value=a:null),class:"pa-0",style:{"max-width":"36px"}},null,8,["modelValue"]),l(x,{"thumb-size":10,"tick-size":1,max:128,color:"#007AD9",modelValue:i(n),"onUpdate:modelValue":e[3]||(e[3]=a=>C(n)?n.value=a:null),"hide-details":"",step:1},{prepend:o(()=>[l(s,{icon:"class:iconfont minus",size:"x-small",variant:"text",onClick:e[1]||(e[1]=a=>i(n)>0&&n.value--)})]),append:o(()=>[l(s,{icon:"class:iconfont plus",size:"x-small",variant:"text",onClick:e[2]||(e[2]=a=>i(n)<128&&n.value++)})]),_:1},8,["modelValue"])])]),_:1},8,["title"])]),_:1}),l(y,{cols:"6",class:"mb-1","align-self":"start"},{default:o(()=>[l(B,{title:t.t("靶框大小")},{default:o(()=>[u("div",oe,[l(m,{modelValue:i(r),"onUpdate:modelValue":e[4]||(e[4]=a=>C(r)?r.value=a:null),class:"pa-0",style:{"max-width":"36px"}},null,8,["modelValue"]),l(x,{"thumb-size":10,"tick-size":1,color:"#007AD9",modelValue:i(r),"onUpdate:modelValue":e[7]||(e[7]=a=>C(r)?r.value=a:null),min:0,max:68,"hide-details":"",step:1},{prepend:o(()=>[l(s,{icon:"class:iconfont minus",size:"x-small",variant:"text",onClick:e[5]||(e[5]=a=>i(r)>0&&r.value--)})]),append:o(()=>[l(s,{icon:"class:iconfont plus",size:"x-small",variant:"text",onClick:e[6]||(e[6]=a=>i(r)<68&&r.value++)})]),_:1},8,["modelValue"])])]),_:1},8,["title"])]),_:1})]),_:1}),l(B,{title:t.t("颜色"),class:"mt-2"},{default:o(()=>[u("div",ae,[u("div",se,[u("span",null,V(t.t("十字光标颜色"))+":",1),l(E,{"model-value":c.value,"onUpdate:modelValue":f,"menus-props":{maxHeight:"600"}},null,8,["model-value"])]),u("div",ne,[u("span",null,V(t.t("视图背景色"))+":",1),l(E,{"model-value":d.value,"onUpdate:modelValue":v,"menus-props":{maxHeight:"600"}},null,8,["model-value"])])])]),_:1},8,["title"]),i(j)()?(F(),N(ee,{key:0,ref_key:"electronSetUp",ref:k},null,512)):X("",!0)])]),_:1},8,["title","modelValue"])}}}),ce=H(re,[["__scopeId","data-v-40cc56f5"]]);export{ce as default};

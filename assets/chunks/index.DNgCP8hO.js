import{h as H,d as K,D as w,b as W,o as X,w as l,m as s,H as e,az as S,aw as x,p as c,a as u,t as n,aB as F,_ as $}from"./framework.BMMljfWr.js";import{O,K as q,t as h,y as E,Y as J,j as Q,z as Z,av as ee,aw as i,ax as T,ay as b,au as le}from"./lib.Cdm3KEls.js";import{r as te}from"./index.Yq_EzzQL.js";import"./commonjsHelpers.Cpj98o6Y.js";const se=r=>{const C=O(!0,"Mx_ArrayDialog_is_array_rect"),j=O(5,"Mx_ArrayDialog_row"),g=O(5,"Mx_ArrayDialog_col"),A=O(200,"Mx_ArrayDialog_row_offset"),M=O(200,"Mx_ArrayDialog_col_offset"),v=O(0,"Mx_ArrayDialog_angle");let f=[];const k=H(0),P=async()=>(r(!1),f=await Z.userSelect(h("选择陈列对象")),k.value=f.length,r(!0),f),R=async y=>{r(!1);const m=new Q;m.clearLastInputPoint(),y&&m.setMessage(y);const V=await m.go();if(!V)return r(!0);m.setUserDraw((t,a)=>{a.drawLine(t.toVector3(),V==null?void 0:V.toVector3())});const D=await m.go();return D?(r(!0),V.distanceTo(D)):r(!0)},U=async()=>{r(!1);const y=new E;y.clearLastInputPoint(),y.setMessage(h("指定整列角度"));const m=await y.go();typeof m=="number"&&(v.value=J(m,3)),r(!0)},B=q();return{isArrayRect:C,row:j,col:g,rowOffset:A,colOffset:M,angle:v,selectCount:k,selectObject:P,getLength:R,getAngle:U,onConfirmClick:()=>{if(C.value){if(k.value<=0)return B.error(h("未选择需要阵列对象")+"!");te({iColNum:g.value,iRowNum:j.value,dAng:v.value,aryId:f,dColOffset:M.value,dRowOffset:A.value})}r(!1)}}},ae={class:"px-3"},oe={class:"d-flex justify-center align-center"},ne={class:"d-flex justify-center align-center"},ue={class:"px-2"},de={class:"w-100"},ie={class:"w-100 mt-3"},ce={class:"w-50"},re={class:"w-25"},fe={class:"w-25 ml-1"},me={class:"d-flex flex-column justify-center align-center h-100"},_e={class:"w-100"},pe={class:"w-50"},ve={class:"w-25"},ge={class:"d-flex flex-column algin-center justify-center ml-4"},ye={class:"mr-12"},we={class:"px-3"},be={class:"d-flex flex-column algin-center justify-center ml-4"},ke={class:"h-100 pl-2"},Ve={class:"d-flex algin-center ml-2 mb-1",style:{"line-height":"1.5rem"}},xe={class:"mt-2"},Ce=K({__name:"index",setup(r){const{isShow:C,showDialog:j}=ee,{isArrayRect:g,row:A,col:M,rowOffset:v,colOffset:f,angle:k,selectCount:P,selectObject:R,getLength:U,getAngle:B,onConfirmClick:I}=se(j),y=async()=>{const t=await U(h("指定行间距"));t&&(v.value=t)},m=async()=>{const t=await U(h("指定列间距"));t&&(f.value=t)},V=async()=>{const t=await U(h("指定单位单元"));t&&(f.value=t,v.value=t)},D=[{name:"确定",fun:I,primary:!0},{name:"取消",fun:()=>j(!1)}];return(t,a)=>{const L=w("v-radio"),z=w("v-radio-group"),_=w("v-text-field"),o=w("v-col"),p=w("v-row"),N=w("v-img"),Y=w("v-select"),G=w("v-checkbox");return X(),W(le,{title:t.t("阵列"),modelValue:c(C),"onUpdate:modelValue":a[6]||(a[6]=d=>x(C)?C.value=d:null),"max-width":"520",footerBtnList:D},{default:l(()=>[s("div",ae,[e(p,{class:"mt-1","align-stretch":""},{default:l(()=>[e(o,{cols:7,class:"h-100","align-self":"start"},{default:l(()=>[e(z,{modelValue:c(g),"onUpdate:modelValue":a[0]||(a[0]=d=>x(g)?g.value=d:null),inline:""},{default:l(()=>[e(L,{value:!0,class:"mr-12"},{label:l(()=>[e(i,{"key-name":"R"},{default:l(()=>[u(n(t.t("矩形阵列")),1)]),_:1})]),_:1}),e(L,{value:!1},{label:l(()=>[e(i,{"key-name":"P"},{default:l(()=>[u(n(t.t("环形阵列")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(s("div",null,[e(p,null,{default:l(()=>[e(o,{cols:"6"},{default:l(()=>[e(_,{class:"mt-2 ml-2",type:"number",modelValue:c(A),"onUpdate:modelValue":a[1]||(a[1]=d=>x(A)?A.value=d:null)},{prepend:l(()=>[s("div",oe,[a[7]||(a[7]=s("div",{class:"box box-row mr-1"},[s("div",{class:"box-line"})],-1)),e(i,{"key-name":"W",colon:""},{default:l(()=>[u(n(t.t("行数")),1)]),_:1})])]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:l(()=>[e(_,{class:"mt-2 ml-2",type:"number",modelValue:c(M),"onUpdate:modelValue":a[2]||(a[2]=d=>x(M)?M.value=d:null)},{prepend:l(()=>[s("div",ne,[a[8]||(a[8]=s("div",{class:"box box-col mr-1"},[s("div",{class:"box-line"})],-1)),e(i,{"key-name":"O",colon:""},{default:l(()=>[u(n(t.t("列数")),1)]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(T,{class:"mt-1",title:t.t("偏移距离和方向")},{default:l(()=>[s("div",ue,[e(p,{class:"mt-2"},{default:l(()=>[e(o,{cols:"4"},{default:l(()=>[s("p",de,[e(i,{"key-name":"F",colon:""},{default:l(()=>[u(n(t.t("行偏移")),1)]),_:1})]),s("p",ie,[e(i,{"key-name":"M",colon:""},{default:l(()=>[u(n(t.t("列偏移")),1)]),_:1})])]),_:1}),e(o,{cols:"8",class:"d-flex"},{default:l(()=>[s("div",ce,[e(_,{class:"",type:"number",modelValue:c(v),"onUpdate:modelValue":a[3]||(a[3]=d=>x(v)?v.value=d:null)},null,8,["modelValue"]),e(_,{class:"mt-3",type:"number",modelValue:c(f),"onUpdate:modelValue":a[4]||(a[4]=d=>x(f)?f.value=d:null)},null,8,["modelValue"])]),s("div",re,[e(b,{class:"h-100",onClick:V})]),s("div",fe,[s("div",me,[e(b,{onClick:y}),e(b,{class:"mt-2",onClick:m})])])]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(o,{cols:"4"},{default:l(()=>[s("p",_e,[e(i,{"key-name":"A",colon:""},{default:l(()=>[u(n(t.t("阵列角度")),1)]),_:1})])]),_:1}),e(o,{cols:"8",class:"d-flex"},{default:l(()=>[s("div",pe,[e(_,{class:"mt-1",type:"number",step:"0.01",modelValue:c(k),"onUpdate:modelValue":a[5]||(a[5]=d=>x(k)?k.value=d:null)},null,8,["modelValue"])]),s("div",ve,[e(b,{class:"mt-1",onClick:c(B)},null,8,["onClick"])]),a[9]||(a[9]=s("div",{class:"w-25 ml-1"},null,-1))]),_:1})]),_:1}),e(p,{class:"mt-2"},{default:l(()=>[e(o,{cols:"3"},{default:l(()=>[s("div",ge,[e(N,{src:"../../../assets/jingao.png",alt:t.t("提示"),width:"24px"},null,8,["alt"]),u(" "+n(t.t("提示")),1)])]),_:1}),e(o,{cols:"9"},{default:l(()=>[u(n(t.t("默认情况下，如何行偏移为负值，则行添加在下面。如果列偏移为负值，则列添加在左边")),1)]),_:1})]),_:1})])]),_:1},8,["title"])],512),[[F,c(g)]]),S(s("div",null,[e(p,{class:"d-flex mx-3 mt-1"},{default:l(()=>[s("p",ye,n(t.t("中心点"))+":",1),e(_,null,{prepend:l(()=>[...a[10]||(a[10]=[s("span",{class:""},"X:",-1)])]),_:1}),e(_,{class:"ml-1"},{prepend:l(()=>[...a[11]||(a[11]=[s("span",{class:""},"Y:",-1)])]),_:1}),e(b)]),_:1}),e(T,{title:t.t("方法和值")},{default:l(()=>[s("div",we,[e(i,{"key-name":"M",colon:""},{default:l(()=>[u(n(t.t("方法")),1)]),_:1}),e(Y,{"bg-color":"grey-lighten-2",class:"",items:[]}),e(p,null,{default:l(()=>[e(o,{cols:"6"},{default:l(()=>[e(i,{"key-name":"I",colon:""},{default:l(()=>[u(n(t.t("项目总数")),1)]),_:1})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(_,{class:"mt-1"})]),_:1}),e(o,{cols:"3"})]),_:1}),e(p,null,{default:l(()=>[e(o,{cols:"6"},{default:l(()=>[e(i,{"key-name":"F",colon:""},{default:l(()=>[u(n(t.t("填充角度")),1)]),_:1})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(_,{class:"mt-1"})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(b)]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(o,{cols:"6"},{default:l(()=>[e(i,{"key-name":"B",colon:""},{default:l(()=>[u(n(t.t("项目间角度")),1)]),_:1})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(_,{class:"mt-1",disabled:""})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(b,{disabled:""})]),_:1})]),_:1}),e(p,{class:"mt-2"},{default:l(()=>[e(o,{cols:"3"},{default:l(()=>[s("div",be,[e(N,{src:"../../../assets/jingao.png",alt:t.t("提示"),width:"24px"},null,8,["alt"]),u(" "+n(t.t("提示")),1)])]),_:1}),e(o,{cols:"9"},{default:l(()=>[u(n(t.t("对于填充角度,正值指定逆时针旋转，负值指定顺时针旋转")),1)]),_:1})]),_:1})])]),_:1},8,["title"]),e(G,{class:"mt-2"},{label:l(()=>[e(i,{"key-name":"T"},{default:l(()=>[u(n(t.t("复制时旋转项目")),1)]),_:1})]),_:1})],512),[[F,!c(g)]])]),_:1}),e(o,{cols:5,"align-self":"start"},{default:l(()=>[s("div",ke,[s("div",Ve,[e(b,{onClick:c(R)},null,8,["onClick"]),e(i,{"key-name":"S"},{default:l(()=>[u(n(t.t("选择对象")),1)]),_:1})]),s("p",xe,n(t.t("已选择")+c(P)+t.t("个")+t.t("对象")),1),a[12]||(a[12]=s("div",{class:"obj-box"},null,-1))])]),_:1})]),_:1})])]),_:1},8,["title","modelValue"])}}}),je=$(Ce,[["__scopeId","data-v-0d2b4358"]]);export{je as default};

import{b8 as Q,b9 as h,aw as d,aG as ee,ax as S,au as le}from"./lib.Cdm3KEls.js";import{d as te,h as ae,k as W,D as k,b as z,o as A,w as t,m as i,H as a,p as l,aw as r,a as m,t as u,L as oe}from"./framework.BMMljfWr.js";import"./commonjsHelpers.Cpj98o6Y.js";const se={class:"px-3"},ne={class:"d-flex"},ue={class:""},pe=te({__name:"index",setup(de){const{isShow:C,showDialog:X,insertBlock:F,list:D,currentItem:n,openFile:G,isGetInsertionPoint:p,insertionPoint:U,isGetProportion:f,proportion:c,isUniformProportion:b,isGetRotation:_,rotation:N,isDecomposition:w,isAutoComputeOrigin:M,isBlockLibrary:g,isBlockLibraryDecomposition:O,isBlockLibraryAutoComputeOrigin:R,isShowTextAttribute:L,isExtractBlock:E}=Q(),I=ae(),Y=[{name:"确定",fun:F,primary:!0},{name:"关闭",fun:()=>X(!1)}];let v=!1;const Z={n:()=>{var x;if(v)return;const e=((x=I.value)==null?void 0:x.$el).getElementsByTagName("input")[0];e==null||e.focus({preventScroll:!0})},b:()=>{v||G()},s:()=>{v||(p.value=!p.value)},e:()=>{v||(f.value=!f.value)},c:()=>{v||(_.value=!_.value)},u:()=>{v||(b.value=!b.value)},d:()=>{v||(w.value=!w.value)},enter:()=>{F()}},$=W(()=>{var P;return(P=n.value)!=null&&P.filePath?new URL(n.value.filePath).pathname.split("/").pop():""}),T=s=>{v=s},H=W(()=>D.value.map(s=>s.name)),q=s=>{const e=H.value.indexOf(s.name);e!==-1&&(n.value=D.value[e])},J=s=>{if(n.value&&n.value.filePath){n.value.name=s;return}};return(s,e)=>{const x=k("v-combobox"),P=k("v-icon"),K=k("v-tooltip"),B=k("v-col"),j=k("v-row"),V=k("v-checkbox"),y=k("v-text-field");return A(),z(le,{title:s.t("插入块"),modelValue:l(C),"onUpdate:modelValue":e[16]||(e[16]=o=>r(C)?C.value=o:null),"max-width":"470",footerBtnList:Y,keys:Z},{default:t(()=>[i("div",se,[a(j,null,{default:t(()=>[a(B,{class:"mt-1"},{default:t(()=>[i("div",ne,[l(g)||l(n)&&!l(n).filePath?(A(),z(l(h),{key:0,class:"mt-1",ref_key:"autocomplete",ref:I,"onUpdate:focused":T,items:l(D),"item-title":"name","return-object":"",modelValue:l(n),"onUpdate:modelValue":e[0]||(e[0]=o=>r(n)?n.value=o:null)},{prepend:t(()=>[a(d,{class:"","key-name":"N"},{default:t(()=>[m(u(s.t("名称")),1)]),_:1})]),_:1},8,["items","modelValue"])):(A(),z(x,{key:1,class:"mt-1",ref_key:"autocomplete",ref:I,"onUpdate:focused":T,items:l(D),"item-title":"name","return-object":"","model-value":l(n),"onUpdate:search":J,"onUpdate:modelValue":q},{prepend:t(()=>[a(d,{class:"","key-name":"N"},{default:t(()=>[m(u(s.t("名称")),1)]),_:1})]),_:1},8,["items","model-value"])),a(ee,{onClick:l(G),class:"ml-1"},{default:t(()=>[a(d,{"key-name":"B"},{default:t(()=>[m(u(s.t("浏览")),1)]),_:1}),a(P,{icon:"class:iconfont more"})]),_:1},8,["onClick"])]),a(K,{text:l(n)&&l(n).filePath||s.t("路径")},{activator:t(({props:o})=>[i("p",oe({class:"mt-1 text-truncate"},o),u(s.t("路径"))+": "+u($.value),17)]),_:1},8,["text"])]),_:1}),a(B,{cols:3,class:"h-100"})]),_:1}),a(j,{"align-stretch":""},{default:t(()=>[a(B,{cols:"4","align-self":"stretch"},{default:t(()=>[a(S,{title:s.t("插入点"),class:"h-100"},{default:t(()=>[a(V,{class:"",modelValue:l(p),"onUpdate:modelValue":e[1]||(e[1]=o=>r(p)?p.value=o:null)},{label:t(()=>[a(d,{"key-name":"S"},{default:t(()=>[m(u(s.t("在屏幕上指定")),1)]),_:1})]),_:1},8,["modelValue"]),a(y,{class:"mt-1",type:"number",modelValue:l(U).x,"onUpdate:modelValue":e[2]||(e[2]=o=>l(U).x=o),disabled:l(p)},{prepend:t(()=>[...e[17]||(e[17]=[i("span",{class:""}," X:",-1)])]),_:1},8,["modelValue","disabled"]),a(y,{class:"mt-1",type:"number",modelValue:l(U).y,"onUpdate:modelValue":e[3]||(e[3]=o=>l(U).y=o),disabled:l(p)},{prepend:t(()=>[...e[18]||(e[18]=[i("span",{class:""}," Y:",-1)])]),_:1},8,["modelValue","disabled"]),a(y,{class:"mt-1",type:"number",modelValue:l(U).z,"onUpdate:modelValue":e[4]||(e[4]=o=>l(U).z=o),disabled:l(p)},{prepend:t(()=>[...e[19]||(e[19]=[i("span",{class:""}," Z:",-1)])]),_:1},8,["modelValue","disabled"])]),_:1},8,["title"])]),_:1}),a(B,{cols:"4","align-self":"stretch"},{default:t(()=>[a(S,{title:s.t("比例"),class:"h-100"},{default:t(()=>[a(V,{class:"",modelValue:l(f),"onUpdate:modelValue":e[5]||(e[5]=o=>r(f)?f.value=o:null)},{label:t(()=>[a(d,{"key-name":"E"},{default:t(()=>[m(u(s.t("在屏幕上指定")),1)]),_:1})]),_:1},8,["modelValue"]),a(y,{class:"mt-1",type:"number",step:"0.001",modelValue:l(c).x,"onUpdate:modelValue":e[6]||(e[6]=o=>l(c).x=o),disabled:l(f)},{prepend:t(()=>[...e[20]||(e[20]=[i("span",{class:""}," X:",-1)])]),_:1},8,["modelValue","disabled"]),a(y,{class:"mt-1",type:"number",modelValue:l(c).y,"onUpdate:modelValue":e[7]||(e[7]=o=>l(c).y=o),step:"0.001",disabled:l(f)||l(b)},{prepend:t(()=>[...e[21]||(e[21]=[i("span",{class:""}," Y:",-1)])]),_:1},8,["modelValue","disabled"]),a(y,{class:"mt-1",type:"number",modelValue:l(c).z,"onUpdate:modelValue":e[8]||(e[8]=o=>l(c).z=o),step:"0.001",disabled:l(f)||l(b)},{prepend:t(()=>[...e[22]||(e[22]=[i("span",{class:""}," Z:",-1)])]),_:1},8,["modelValue","disabled"]),a(V,{class:"ml-4 mt-1",modelValue:l(b),"onUpdate:modelValue":e[9]||(e[9]=o=>r(b)?b.value=o:null)},{label:t(()=>[a(d,{"key-name":"U"},{default:t(()=>[m(u(s.t("统一比例")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])]),_:1}),a(B,{cols:"4","align-self":"stretch"},{default:t(()=>[a(S,{title:s.t("旋转"),class:"h-100"},{default:t(()=>[a(V,{class:"",modelValue:l(_),"onUpdate:modelValue":e[10]||(e[10]=o=>r(_)?_.value=o:null)},{label:t(()=>[a(d,{"key-name":"C"},{default:t(()=>[m(u(s.t("在屏幕上指定")),1)]),_:1})]),_:1},8,["modelValue"]),a(y,{class:"mt-1",type:"number",modelValue:l(N),"onUpdate:modelValue":e[11]||(e[11]=o=>r(N)?N.value=o:null),disabled:l(_)},{prepend:t(()=>[i("span",ue,u(s.t("角度"))+":",1)]),_:1},8,["modelValue","disabled"])]),_:1},8,["title"])]),_:1})]),_:1}),a(V,{class:"mt-2","model-value":l(g)?l(O):l(w),"onUpdate:modelValue":e[12]||(e[12]=o=>{l(g)?O.value=!!o:w.value=!!o})},{label:t(()=>[a(d,{"key-name":"D"},{default:t(()=>[m(u(s.t("分解")),1)]),_:1})]),_:1},8,["model-value"]),a(V,{class:"mt-2",modelValue:l(E),"onUpdate:modelValue":e[13]||(e[13]=o=>r(E)?E.value=o:null)},{label:t(()=>[a(d,{"key-name":"D"},{default:t(()=>[m(u(s.t("插入图纸中的唯一块")),1)]),_:1})]),_:1},8,["modelValue"]),a(V,{class:"mt-2",modelValue:l(L),"onUpdate:modelValue":e[14]||(e[14]=o=>r(L)?L.value=o:null)},{label:t(()=>[a(d,{"key-name":"D"},{default:t(()=>[m(u(s.t("显示图块中的文字属性实体")),1)]),_:1})]),_:1},8,["modelValue"]),a(V,{class:"mt-2","model-value":l(g)?l(R):l(M),"onUpdate:modelValue":e[15]||(e[15]=o=>{l(g)?R.value=!!o:M.value=!!o})},{label:t(()=>[a(d,{"key-name":"D"},{default:t(()=>[m(u(s.t("自动计算原点")),1)]),_:1})]),_:1},8,["model-value"])])]),_:1},8,["title","modelValue"])}}});export{pe as default};

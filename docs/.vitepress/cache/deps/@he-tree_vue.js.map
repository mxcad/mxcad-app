{
  "version": 3,
  "sources": ["../../../../node_modules/helper-js/dist/index.esm.js", "../../../../node_modules/@virtual-list/vue/dist/v3/index.mjs", "../../../../node_modules/@he-tree/tree-utils/dist/index.esm.js", "../../../../node_modules/drag-event-service/dist/index.esm.js", "../../../../node_modules/@he-tree/dnd-utils/dist/index.esm.js", "../../../../node_modules/@he-tree/vue/dist/v3/index.mjs"],
  "sourcesContent": ["/*!\n * helper-js v3.1.6\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: null\n * Released under the MIT License.\n */\n// ## base functions\n// ## 基础方法\n/**\r\n * get global, such as window in browser.\r\n * 返回顶级全局变量. 例如浏览器的`window`\r\n * @returns\r\n */\nfunction glb() {\n  try {\n    // `this` !== global or window because of build tool. So you can't use `this` to get `global`\n    return window;\n  } catch (error) {\n    // @ts-ignore\n    return global;\n  }\n}\n/**\r\n * detect if global variable `document` existing.\r\n * 判断全局变量`document`是否存在\r\n * @returns\r\n */\nfunction isDocumentExisted() {\n  try {\n    let t = document;\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\nfunction isArray(v) {\n  return Object.prototype.toString.call(v) === \"[object Array]\";\n}\nfunction isBool(v) {\n  return Object.prototype.toString.call(v) === \"[object Boolean]\";\n}\nfunction isNumber(v) {\n  return Object.prototype.toString.call(v) === \"[object Number]\";\n}\nfunction isNumeric(v) {\n  try {\n    // @ts-ignore\n    return isFinite(v) && !isNaN(parseFloat(v));\n  } catch (error) {\n    return false;\n  }\n}\nfunction isString(v) {\n  return Object.prototype.toString.call(v) === \"[object String]\";\n}\nfunction isObject(v) {\n  return Object.prototype.toString.call(v) === \"[object Object]\";\n}\nfunction isFunction(v) {\n  return typeof v === \"function\";\n}\nfunction isPromise(v) {\n  return Object.prototype.toString.call(v) === \"[object Promise]\";\n}\n/**\r\n * detect if argumrnt is null, undefined, empty array, empty string, false, NaN, empty object\r\n * 检查是否是null, undefined, 空数组, 空字符串, false, NaN, 空对象\r\n * @param v\r\n * @returns\r\n */\nfunction empty(v) {\n  if (v == null) {\n    return true;\n  } else if (v[\"length\"] != null) {\n    return v[\"length\"] === 0;\n  } else if (isBool(v)) {\n    return false;\n  } else if (isNumber(v)) {\n    return isNaN(v);\n  } else if (isObject(v)) {\n    return Object.keys(v).length === 0;\n  }\n}\n/**\r\n * rand int in range, including min and max\r\n * 返回指定范围随机整数, 包括范围起始值和终止值\r\n * @param min\r\n * @param max\r\n * @returns\r\n */\nfunction randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n/**\r\n * rand item in array\r\n * 返回数组随机一项\r\n * @param arr\r\n * @returns\r\n */\nfunction randChoice(arr) {\n  return arr[randInt(0, arr.length - 1)];\n}\n/**\r\n * Pad a string to a certain length with another string\r\n * 左边补充指定字符, 使其达到指定长度\r\n * @param str\r\n * @param n\r\n * @param padString\r\n * @returns\r\n */\nfunction strPad(str, n) {\n  let padString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"0\";\n  let r = str.toString();\n  let len = str.toString().length;\n  while (len < n) {\n    r = padString + r;\n    len++;\n  }\n  if (r.length > n) {\n    r = r.substring(r.length - n);\n  }\n  return str;\n}\n/**\r\n * If n less than `min`, return `min`, else n.\r\n * 如果n小于min, 返回min, 否则n.\r\n * @param n\r\n * @param min\r\n * @returns\r\n */\nfunction notLessThan(n, min) {\n  return n < min ? min : n;\n}\n/**\r\n * If n greater than `max`, return `max`, else n.\r\n * 如果n大于max, 返回max, 否则n.\r\n * @param n\r\n * @param max\r\n * @returns\r\n */\nfunction notGreaterThan(n, max) {\n  return n < max ? n : max;\n}\n/**\r\n * limit min and max of value.\r\n * 限制值的最小和最大值.\r\n * @param n\r\n * @param min\r\n * @param max\r\n * @returns\r\n */\nfunction between(n, min, max) {\n  return notGreaterThan(notLessThan(n, min), max);\n}\n// ## string\n// ## 字符串\n/**\r\n * 'abc abc' to 'Abc abc'\r\n * @param str\r\n * @returns\r\n */\nfunction studlyCase(str) {\n  return str && str[0].toUpperCase() + str.substring(1);\n}\n/**\r\n * To lower case and use `-` as delimiter. example: '-ABC abc_def camelCase-- helloMyFriend' to 'a-b-c-abc-def-camel-case-hello-my-friend'\r\n * @param str\r\n * @returns\r\n */\nfunction kebabCase(str) {\n  return str.replace(/ /g, \"-\").replace(/_/g, \"-\").replace(/(?<=[a-z])([A-Z])/g, \"-$1\").replace(/--+/g, \"-\").replace(/^-|-$|/g, \"\").toLowerCase();\n}\n/**\r\n * To lower case and use `_` as delimiter.\r\n * @param str\r\n * @returns\r\n */\nfunction snakeCase(str) {\n  return kebabCase(str).replace(/-/g, \"_\");\n}\n/**\r\n * 'abc-abc-abc_abc' to 'AbcAbcAbcAbc'\r\n * @param str\r\n * @returns\r\n */\nfunction camelCase(str) {\n  const temp = kebabCase(str).split(\"-\");\n  for (let i = 1; i < temp.length; i++) {\n    temp[i] = studlyCase(temp[i]);\n  }\n  return temp.join(\"\");\n}\n/**\r\n * 'AbcAbcAbcAbc' to ['Abc', 'Abc', 'Abc', 'Abc']\r\n * @param str\r\n * @returns\r\n */\nfunction camelToWords(str) {\n  return str.split(/(?<=[a-z])(?=[A-Z])/g);\n}\n/**\r\n * 'abcAbc' to 'Abc Abc'\r\n * @param str\r\n * @returns\r\n */\nfunction titleCase(str) {\n  return camelToWords(studlyCase(camelCase(str))).join(\" \");\n}\n/**\r\n * generate random string\r\n * 随机字符串\r\n * @param len default 8\r\n * @param seeds\r\n * @returns\r\n */\nfunction randString() {\n  let len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n  let seeds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let r = \"\";\n  for (let i = 0; i < len; i++) {\n    r += randChoice(seeds);\n  }\n  return r;\n}\n/**\r\n * reverse a string\r\n * @param str\r\n * @returns\r\n */\nfunction reverseString(str) {\n  return str.split(\"\").reverse().join(\"\");\n}\n// ## Array\n// ## 数组\n/**\r\n * remove item from array. return removed count\r\n * 从数组删除项. 返回删除计数\r\n * @param arr\r\n * @param v\r\n * @returns\r\n */\nfunction arrayRemove(arr, v) {\n  let index;\n  let count = 0;\n  while ((index = arr.indexOf(v)) > -1) {\n    arr.splice(index, 1);\n    count++;\n  }\n  return count;\n}\n/**\r\n * remove items from array by sorted indexes. indexes example: [0, 2, 6, 8, 9]\r\n * 通过有序的索引集删除数组项. 索引集例子: [0, 2, 6, 8, 9]\r\n * @param arr\r\n * @param sortedIndexes\r\n */\nfunction arrayRemoveBySortedIndexes(arr, sortedIndexes) {\n  for (let i = sortedIndexes.length - 1; i >= 0; i--) {\n    const index = sortedIndexes[i];\n    arr.splice(index, 1);\n  }\n}\n/**\r\n * get item from array by index. index can be negative number\r\n * 通过索引获取数组一项. 支持负值索引.\r\n * @param arr\r\n * @param n\r\n * @returns\r\n */\nfunction arrayAt(arr, n) {\n  return arr[n >= 0 ? n : arr.length + n];\n}\n/**\r\n * get first or array\r\n * 返回数组首项\r\n * @param arr\r\n * @returns\r\n */\nfunction arrayFirst(arr) {\n  return arr[0];\n}\n/**\r\n * get last of array\r\n * 返回数组末项\r\n * @param arr\r\n * @returns\r\n */\nfunction arrayLast(arr) {\n  return arr[arr.length - 1];\n}\n/**\r\n *\r\n * @param arr1\r\n * @param arr2\r\n * @returns [diff1, diff2] diff1: in arr1 not in arr2. diff2: in arr2 not in arr1\r\n */\nfunction arrayDiff(arr1, arr2) {\n  const m1 = new Map();\n  const m2 = new Map();\n  for (const item of arr1) {\n    const count = m1.has(item) ? m1.get(item) : 0;\n    m1.set(item, count + 1);\n  }\n  for (const item of arr2) {\n    const count = m2.has(item) ? m2.get(item) : 0;\n    m2.set(item, count + 1);\n  }\n  const r1 = [];\n  const r2 = [];\n  m1.forEach((count, item) => {\n    const diff = count - (m2.has(item) ? m2.get(item) : 0);\n    if (diff > 0) {\n      diff === 1 ? r1.push(item) : r1.push(...new Array(diff).fill(item));\n    }\n  });\n  m2.forEach((count, item) => {\n    const diff = count - (m1.has(item) ? m1.get(item) : 0);\n    if (diff > 0) {\n      diff === 2 ? r2.push(item) : r2.push(...new Array(diff).fill(item));\n    }\n  });\n  return [r1, r2];\n}\n/**\r\n * like indexOf, get all indexes\r\n * @param strOrArr\r\n * @param item\r\n * @returns\r\n */\nfunction indexesOf(strOrArr, item) {\n  let i = 0;\n  const indexes = [];\n  while (i < strOrArr.length) {\n    const index = strOrArr.indexOf(item, i);\n    if (index === -1) {\n      break;\n    } else {\n      indexes.push(index);\n      if (typeof strOrArr === \"string\") {\n        i = index + (item + \"\").length;\n      } else {\n        i = index + 1;\n      }\n    }\n  }\n  return indexes;\n}\n/**\r\n * get array item siblings. Example: getArrayItemSiblings(arr, item, [-1, 1]), get previous and next sibling\r\n * 获得数组项的多个同级. 例: getArrayItemSiblings(arr, item, [-1, 1]), 获得前一个和后一个\r\n * @param arr\r\n * @param item\r\n * @param offsets\r\n * @returns\r\n */\nfunction getArrayItemSiblingsByOffsets(arr, item, offsets) {\n  const index = arr.indexOf(item);\n  if (index === -1) {\n    throw \"item is not in array\";\n  }\n  return offsets.map(v => arr[index + v]);\n}\nfunction toArrayIfNot(arrOrNot) {\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot];\n}\n/**\r\n * Split array every n. n can be getter, which argument is the times.\r\n * 每n个拆分数组. n可以是方法, 参数是第几次分块\r\n * @param arr\r\n * @param n\r\n * @returns\r\n */\nfunction splitArray(arr, n) {\n  const r = [];\n  if (isFunction(n)) {\n    const getChunkLength = n;\n    let times = 1;\n    let i = 0;\n    while (i < arr.length) {\n      const n = getChunkLength(times);\n      const end = i + n;\n      r.push(arr.slice(i, end));\n      i = end;\n      times++;\n    }\n  } else {\n    let i = 0;\n    while (i < arr.length) {\n      const end = i + n;\n      r.push(arr.slice(i, end));\n      i = end;\n    }\n  }\n  return r;\n}\n/**\r\n * group array by mark\r\n * 计算每项的标识, 通过标识将数组项分组.\r\n * @param arr\r\n * @param getMark\r\n * @returns\r\n */\nfunction groupArray(arr, getMark) {\n  const groups = new Map();\n  arr.forEach(v => {\n    const mark = getMark(v);\n    if (!groups.has(mark)) {\n      groups.set(mark, []);\n    }\n    groups.get(mark).push(v);\n  });\n  return groups;\n}\n/**\r\n * Each item in the new array is unique.\r\n * 新数组每项唯一.\r\n * @param arr\r\n * @param getMark\r\n * @returns\r\n */\nfunction arrayDistinct(arr, getMark) {\n  const t = new Set();\n  return arr.filter((v, i) => {\n    const mark = getMark ? getMark(v, i) : v;\n    if (!t.has(mark)) {\n      t.add(mark);\n      return true;\n    }\n  });\n}\n/**\r\n * get items from array between 2 indeies. index can be negative\r\n * 从数组获得一个范围内的项. 范围可以为负.\r\n * @param arr\r\n * @param index\r\n * @param endIndex\r\n * @returns\r\n */\nfunction arrayBetween(arr, index, endIndex) {\n  if (index < 0) {\n    index += arr.length;\n  }\n  if (endIndex < 0) {\n    endIndex += arr.length;\n  }\n  return arr.slice(index, endIndex - index + 1);\n}\n/**\r\n * return new array excluding n items from end\r\n * 返回新数组排除末尾n项\r\n * @param arr\r\n * @param n\r\n * @returns\r\n */\nfunction arrayWithoutEnd(arr) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return arr.slice(0, arr.length - n);\n}\n/**\r\n * get one-dimensional array from multidimensional array\r\n * 从多维数组获取一维数组\r\n * @param arr\r\n * @param depth\r\n * @returns\r\n */\nfunction arrayFlat(arr) {\n  let depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  const r = [];\n  const rec = (arr, curentDepth) => {\n    for (const item of arr) {\n      if (isArray(item) && curentDepth < depth) {\n        rec(item, curentDepth + 1);\n      } else {\n        r.push(item);\n      }\n    }\n  };\n  rec(arr, 0);\n  return r;\n}\n/**\r\n * simplified array.filter()\r\n * e.g.: arrayFilter(arr, [null, undefined]) equal to arr.filter(v => v!== null && v!== undefined)\r\n * @param arr\r\n * @param without\r\n * @returns\r\n */\nfunction arrayFilter(arr, without) {\n  // @ts-ignore\n  return arr.filter(v => without.indexOf(v) === -1);\n}\n/**\r\n * alias of arrayFilter\r\n */\nconst arrayWithout = arrayFilter;\n// ## Object\n// ## 对象\n/**\r\n * return JSON.parse(JSON.stringify(obj))\r\n * @param obj\r\n * @returns\r\n */\nfunction cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n/**\r\n * like Array.map\r\n * @param obj\r\n * @param handler\r\n * @returns\r\n */\nfunction objectMap(obj, handler) {\n  const r = {};\n  let i = 0;\n  for (const key in obj) {\n    r[key] = handler(obj[key], key, i);\n    i++;\n  }\n  return r;\n}\nfunction objectOnly(obj, keys) {\n  let keysSet = new Set(keys);\n  const r = {};\n  keysSet.forEach(key => {\n    r[key] = obj[key];\n  });\n  return r;\n}\nfunction objectExcept(obj, keys) {\n  let keysSet = new Set(keys);\n  const r = {};\n  for (const key in obj) {\n    if (!keysSet.has(key)) {\n      r[key] = obj[key];\n    }\n  }\n  return r;\n}\nfunction iterateAll(val) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function* () {\n    // opt: {reverse, exclude}\n    if (!opt.reverse) {\n      // @ts-ignore\n      if (val.length != null) {\n        // @ts-ignore\n        for (let i = 0; i < val.length; i++) {\n          const info = {\n            value: val[i],\n            index: i\n          };\n          if (!opt.exclude || !opt.exclude(info)) {\n            yield info;\n          }\n        }\n      } else if (isObject(val)) {\n        for (const key of Object.keys(val)) {\n          const info = {\n            value: val[key],\n            key\n          };\n          if (!opt.exclude || !opt.exclude(info)) {\n            yield info;\n          }\n        }\n      } else {\n        throw \"Unsupported type\";\n      }\n    } else {\n      // @ts-ignore\n      if (val.length != null) {\n        // @ts-ignore\n        for (let i = val.length - 1; i >= 0; i--) {\n          const info = {\n            value: val[i],\n            index: i\n          };\n          if (!opt.exclude || !opt.exclude(info)) {\n            yield info;\n          }\n        }\n      } else if (isObject(val)) {\n        const keys = Object.keys(val);\n        keys.reverse();\n        for (const key of keys) {\n          const info = {\n            value: val[key],\n            key\n          };\n          if (!opt.exclude || !opt.exclude(info)) {\n            yield info;\n          }\n        }\n      } else {\n        throw \"Unsupported type\";\n      }\n    }\n  }();\n}\n/**\r\n * like Array.find\r\n * @param list\r\n * @param callback\r\n * @param options\r\n * @returns\r\n */\nfunction findAll(list, callback, options) {\n  for (const {\n    value,\n    index\n  } of iterateAll(list, options)) {\n    if (callback(value, index)) {\n      return value;\n    }\n  }\n}\n// example: objectGet(window, 'document.body.children.0') . source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n// 例: objectGet(window, 'document.body.children.0') . 参考: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n/**\r\n * example: dotGet(window, 'document.body.children.0')\r\n * @param obj\r\n * @param path\r\n * @param throwError\r\n * @returns\r\n */\nfunction dotGet(obj, path, throwError) {\n  const paths = isArray(path) ? path : path.split(\".\");\n  let current = obj;\n  try {\n    for (const key of paths) {\n      current = current[key];\n    }\n  } catch (e) {\n    if (throwError) {\n      throw \"Path does not exist\";\n    }\n  }\n  return current;\n}\n/**\r\n * example: dotSet(window, 'document.body.children.0', vaue)\r\n */\nfunction dotSet(obj, path, value) {\n  const parts = isArray(path) ? path : path.split(\".\"); // Split the path string into parts\n  let current = obj; // Current object being processed\n  // Iterate through all parts except the last one\n  // 遍历路径的每一部分（除了最后一部分）\n  for (let i = 0; i < parts.length - 1; i++) {\n    const part = parts[i]; // Current path part\n    // Prevent prototype pollution by checking sensitive keys\n    // 检查是否尝试污染原型链\n    if (part === \"__proto__\" || part === \"prototype\" || part === \"constructor\") {\n      throw new Error(\"Prototype pollution attempt detected\"); // Prototype pollution detected\n    }\n    // Create nested objects if they do not exist\n    if (!current[part]) {\n      current[part] = {}; // Create a new empty object\n    }\n    // Move to the next level\n    current = current[part];\n  }\n  // Handle the last part of the path\n  const lastPart = parts[parts.length - 1];\n  // Check again for prototype pollution in the last part\n  // 再次检查最后一部分是否尝试污染原型链\n  if (lastPart === \"__proto__\" || lastPart === \"prototype\" || lastPart === \"constructor\") {\n    throw new Error(\"Prototype pollution attempt detected\"); // Prototype pollution detected\n  }\n  // Set the final value\n  current[lastPart] = value; // Assign the value to the target path\n}\n/**\r\n * try to delete obj[prop]\r\n * @param obj\r\n * @param prop\r\n * @returns\r\n */\nfunction unset(obj, prop) {\n  try {\n    delete obj[prop];\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction assignIfNoKey(obj, key, val) {\n  if (!obj.hasOwnProperty(key)) {\n    obj[key] = val;\n  }\n}\nfunction assignIfKeyNull(obj, key, val) {\n  if (obj[key] == null) {\n    obj[key] = val;\n  }\n}\n/**\r\n * Assign if value different. For assign sensitive, such as Vue.watch.\r\n * @param obj\r\n * @param key\r\n * @param val\r\n */\nfunction assignIfDiff(obj, key, val) {\n  if (obj[key] !== val) {\n    obj[key] = val;\n  }\n}\nfunction objectAssignIfNoKey(obj1, obj2) {\n  Object.keys(obj2).forEach(key => {\n    assignIfNoKey(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\nfunction objectAssignIfKeyNull(obj1, obj2) {\n  Object.keys(obj2).forEach(key => {\n    assignIfKeyNull(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\nfunction objectAssignIfDiff(obj1, obj2) {\n  Object.keys(obj2).forEach(key => {\n    assignIfDiff(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\nfunction withoutUndefined(obj) {\n  // @ts-ignore\n  const r = {};\n  Object.keys(obj).forEach(key => {\n    if (obj[key] !== undefined) {\n      r[key] = obj[key];\n    }\n  });\n  return r;\n}\n/**\r\n * proxy a property to another key of this or another object\r\n * @param targetObj\r\n * @param targetKey\r\n * @param sourceObj\r\n * @param sourceKey\r\n */\nfunction objectDefineProxyProperty(targetObj, targetKey, sourceObj, sourceKey) {\n  const info = Object.getOwnPropertyDescriptor(sourceObj, sourceKey);\n  Object.defineProperty(targetObj, targetKey, {\n    get() {\n      return sourceObj[sourceKey];\n    },\n    set(value) {\n      sourceObj[sourceKey] = value;\n    },\n    configurable: true,\n    enumerable: info.enumerable\n  });\n}\n/**\r\n * walk object and change key, value, delete key. return cloned new object.\r\n * 深度遍历对象, 可以改变key, value, 删除key. 返回克隆的新对象.\r\n * @param obj\r\n * @param handler\r\n * return null: don't change anything\r\n * return {delete: true}: delete\r\n * return {key: newKey}: change key\r\n * return {value: newValue}: change value\r\n * return {skip: true}: skip children\r\n * return {stop: true}: stop\r\n * @param limit to prevent circular reference.\r\n * @returns\r\n */\nfunction mapObjectTree(obj, handler) {\n  let limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10000;\n  let r;\n  let count = 0;\n  const stack = [{\n    value: obj\n  }];\n  while (stack.length > 0) {\n    if (count >= limit) {\n      throw `mapObjectTree: limit(${limit}) reached, object may has circular reference`;\n    }\n    count++;\n    // @ts-ignore\n    const {\n      value,\n      key,\n      parent,\n      newParent\n    } = stack.shift();\n    const t = handler(value, key, parent, newParent);\n    const assign = (value, key, canPush) => {\n      if (isArray(value)) {\n        value = [];\n      } else if (isObject(value)) {\n        value = {};\n      }\n      if (parent) {\n        if (isArray(newParent) && canPush) {\n          newParent.push(value);\n        } else {\n          newParent[key] = value;\n        }\n      } else {\n        r = value;\n      }\n      // value may changed\n      return value;\n    };\n    let newVal, val, toDelete, stop, skip;\n    if (!t) {\n      // no change\n      val = value;\n      // @ts-ignore\n      newVal = assign(value, key);\n    } else {\n      const {\n        key: key2,\n        value\n      } = t;\n      val = value;\n      // @ts-ignore\n      if (t.delete || key2 === false) {\n        // del\n        toDelete = true;\n      } else if (key2 == null) {\n        // don't change key\n        newVal = assign(value, key, true);\n      } else if (t.hasOwnProperty(\"value\")) {\n        // @ts-ignore\n        newVal = assign(value, key2);\n      }\n      ({\n        stop,\n        skip\n      } = t);\n    }\n    if (toDelete) {\n      continue;\n    }\n    if (skip) {\n      continue;\n    }\n    if (stop) {\n      break;\n    }\n    if (isArray(val)) {\n      const len = val.length;\n      for (let i = 0; i < len; i++) {\n        // @ts-ignore\n        stack.push({\n          value: val[i],\n          key: i,\n          parent: val,\n          newParent: newVal\n        });\n      }\n    } else if (isObject(val)) {\n      Object.keys(val).forEach(key => {\n        // @ts-ignore\n        stack.push({\n          value: val[key],\n          key,\n          parent: val,\n          newParent: newVal\n        });\n      });\n    }\n  }\n  return r;\n}\n/**\r\n * [{id: 1}, {id: 2}] to {'1':{id: 1}, '2': {id: 2}}\r\n * @param arr\r\n * @param idKey\r\n * @returns\r\n */\nfunction mapObjects(arr, idKey) {\n  const r = {};\n  const len = arr.length;\n  for (let i = 0; i < len; i++) {\n    const item = arr[i];\n    // @ts-ignore\n    const id = isFunction(idKey) ? idKey(item, i) : item[idKey];\n    r[id] = item;\n  }\n  return r;\n}\n/**\r\n * example: pairRows(users, userProfiles, 'id', 'user_id')\r\n * @param rows1\r\n * @param rows2\r\n * @param key1\r\n * @param key2\r\n * @returns [{row1|null, row2|null},...]\r\n */\nfunction joinRows(rows1, rows2, key1, key2, ignoreUnmatched) {\n  if (key2 == null) {\n    // @ts-ignore\n    key2 = key1;\n  }\n  const m1 = new Map();\n  const m2 = new Map();\n  const r = [];\n  rows2.forEach((row, index) => {\n    // @ts-ignore\n    const key = typeof key2 === \"function\" ? key2(row, index) : row[key2];\n    m2.set(key, row);\n  });\n  const usedRows2 = new Set();\n  rows1.forEach((row, index) => {\n    // @ts-ignore\n    const key = typeof key1 === \"function\" ? key1(row, index) : row[key1];\n    m1.set(key, row);\n    let row2 = m2.has(key) ? m2.get(key) : null;\n    if (m2.has(key) || !ignoreUnmatched) {\n      r.push([row, row2]);\n      usedRows2.add(row2);\n    }\n  });\n  if (!ignoreUnmatched) {\n    rows2.forEach((row, index) => {\n      // @ts-ignore\n      typeof key2 === \"function\" ? key2(row, index) : row[key2];\n      if (!usedRows2.has(row)) {\n        r.push([null, row]);\n      }\n    });\n  }\n  return r;\n}\n/**\r\n * walk tree data by with depth first search. tree data example: `[{children: [{}, {}]}]`\r\n * 深度优先遍历树形数据. 树形数据示例: `[{children: [{}, {}]}]`\r\n * @param obj\r\n * @param handler\r\n * @param opt\r\n */\nfunction walkTreeData(obj, handler) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opt = objectAssignIfNoKey({\n    ...opt\n  }, {\n    childrenKey: \"children\"\n  });\n  const {\n    childrenKey\n  } = opt;\n  const rootChildren = isArray(obj) ? obj : [obj];\n  //\n  class StopException {}\n  const func = (children, parent, parentPath) => {\n    if (opt.reverse) {\n      children = children.slice();\n      children.reverse();\n    }\n    const len = children.length;\n    for (let i = 0; i < len; i++) {\n      const item = children[i];\n      const index = opt.reverse ? len - i - 1 : i;\n      const path = parentPath ? [...parentPath, index] : [];\n      if (opt.childFirst) {\n        if (item[childrenKey] != null) {\n          func(item[childrenKey], item, path);\n        }\n      }\n      const r = handler(item, index, parent, path);\n      if (r === false) {\n        // stop\n        throw new StopException();\n      } else if (r === \"skip children\") {\n        continue;\n      } else if (r === \"skip siblings\") {\n        break;\n      }\n      if (!opt.childFirst) {\n        if (item[childrenKey] != null) {\n          func(item[childrenKey], item, path);\n        }\n      }\n    }\n  };\n  try {\n    func(rootChildren, null, isArray(obj) ? [] : null);\n  } catch (e) {\n    if (e instanceof StopException) ; else {\n      throw e;\n    }\n  }\n}\n/**\r\n * like Array.find\r\n * @param obj\r\n * @param handler return true when found.\r\n * @param opt\r\n * @returns\r\n */\nfunction findInfoInTreeData(obj, handler) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let r;\n  walkTreeData(obj, function () {\n    if (handler(...arguments)) {\n      r = {\n        node: arguments.length <= 0 ? undefined : arguments[0],\n        index: arguments.length <= 1 ? undefined : arguments[1],\n        parent: arguments.length <= 2 ? undefined : arguments[2],\n        path: arguments.length <= 3 ? undefined : arguments[3]\n      };\n      return false;\n    }\n  }, opt);\n  return r;\n}\n/**\r\n * like Array.find\r\n * @param obj\r\n * @param handler return true when found.\r\n * @param opt\r\n * @returns\r\n */\nfunction findTreeData(obj, handler) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const r = findInfoInTreeData(obj, handler, opt);\n  return r?.node;\n}\nfunction cloneTreeData(root, options) {\n  const opt = {\n    childrenKey: \"children\"\n  };\n  if (options) {\n    Object.assign(opt, options);\n  }\n  const {\n    childrenKey,\n    nodeHandler\n  } = opt;\n  const td = new TreeData();\n  td.childrenKey = childrenKey;\n  walkTreeData(root, (node, index, parent, path) => {\n    let newNode = Object.assign({}, node);\n    if (newNode[childrenKey]) {\n      newNode[childrenKey] = [];\n    }\n    if (nodeHandler) {\n      newNode = nodeHandler(newNode, {\n        oldNode: node,\n        index,\n        parent,\n        path\n      });\n    }\n    td.set(path, newNode);\n  }, {\n    childrenKey\n  });\n  return td.data;\n}\n// tree data helpers\nclass TreeData {\n  data;\n  childrenKey = \"children\";\n  // data = null;\n  constructor() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this.data = data;\n  }\n  get rootChildren() {\n    const {\n      childrenKey\n    } = this;\n    const {\n      data\n    } = this;\n    return isArray(data) ? data : data[childrenKey];\n  }\n  iteratePath(path) {\n    var _this = this;\n    let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return function* () {\n      const {\n        childrenKey,\n        rootChildren\n      } = _this;\n      if (!opt.reverse) {\n        let prevPath = [];\n        let prevChildren = rootChildren;\n        for (const index of path) {\n          const currentPath = [...prevPath, index];\n          const currentNode = prevChildren[index];\n          yield {\n            path: currentPath,\n            node: currentNode\n          };\n          prevPath = currentPath;\n          prevChildren = currentNode[childrenKey];\n        }\n      } else {\n        const list = [..._this.iteratePath(path, {\n          ...opt,\n          reverse: false\n        })];\n        list.reverse();\n        for (const {\n          path: path0,\n          node\n        } of list) {\n          const path = path0;\n          yield {\n            path,\n            node\n          };\n        }\n      }\n    }();\n  }\n  getFamily(path) {\n    const all = [];\n    for (const {\n      node\n    } of this.iteratePath(path)) {\n      all.push(node);\n    }\n    return all;\n  }\n  get(path) {\n    return arrayLast(this.getFamily(path));\n  }\n  getParentAndIndex(path) {\n    const parentPath = path.slice();\n    const index = parentPath.pop();\n    return {\n      parent: this.get(parentPath),\n      index,\n      parentPath\n    };\n  }\n  getParent(path) {\n    return this.getParentAndIndex(path).parent;\n  }\n  set(path, node) {\n    if (path == null || path.length === 0) {\n      this.data = node;\n    } else {\n      const {\n        childrenKey\n      } = this;\n      let {\n        rootChildren\n      } = this;\n      const {\n        parent,\n        index\n      } = this.getParentAndIndex(path);\n      let parentChildren;\n      if (path.length === 1) {\n        // fix data\n        if (!rootChildren) {\n          if (this.data) {\n            this.data[childrenKey] = [];\n          } else {\n            this.data = [];\n          }\n        }\n        parentChildren = rootChildren;\n      } else {\n        if (!parent[childrenKey]) {\n          parent[childrenKey] = [];\n        }\n        parentChildren = parent[childrenKey];\n      }\n      parentChildren[index] = node;\n    }\n  }\n  delete(path) {\n    const {\n      childrenKey,\n      rootChildren\n    } = this;\n    const {\n      parent,\n      index\n    } = this.getParentAndIndex(path);\n    const parentChildren = path.length === 1 ? rootChildren : parent[childrenKey];\n    const node = parentChildren[index];\n    parentChildren.splice(index, 1);\n    return node;\n  }\n  walk(handler, opt) {\n    const {\n      childrenKey,\n      data\n    } = this;\n    // @ts-ignore\n    return walkTreeData(data, handler, childrenKey, opt);\n  }\n  clone() {\n    let opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return cloneTreeData(this.data), withoutUndefined({\n      childrenKey: this.childrenKey,\n      nodeHandler: opt.nodeHandler || undefined\n    });\n  }\n}\n// ## function\n// ## 函数\n/**\r\n * if it is function, return result, else return it directly.\r\n * @param valueOrGetter\r\n * @param args\r\n * @returns\r\n */\nfunction resolveValueOrGettter(valueOrGetter) {\n  let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (isFunction(valueOrGetter)) {\n    return valueOrGetter(...args);\n  } else {\n    return valueOrGetter;\n  }\n}\n/**\r\n * add executed count as first argument of func\r\n * 增加执行次数作为方法的第一个参数\r\n * @param func\r\n * @returns\r\n */\nfunction executeWithCount(func) {\n  let count = 0;\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    // @ts-ignore\n    return func.call(this, count++, ...args);\n  }\n  return wrapper;\n}\n/**\r\n * (getVal, handler) => update . when execute update, call getVal and check if changed.\r\n * (getVal, handler) => update . 执行update时, 调用getVal并检查结果是否改变.\r\n * @param getVal\r\n * @param handler\r\n * @returns\r\n */\nfunction watchChange(getVal, handler) {\n  let oldVal;\n  const update = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    // @ts-ignore\n    const newVal = getVal(...args);\n    if (oldVal !== newVal) {\n      // @ts-ignore\n      handler(newVal, ...args);\n    }\n    oldVal = newVal;\n  };\n  return update;\n}\nfunction debounceTrailing(action) {\n  let wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let t;\n  let lastArgs; // when trailing, use last args\n  let resolves = [];\n  let rejects = [];\n  const wrappedAction = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return new Promise((resolve, reject) => {\n      resolves.push(resolve);\n      rejects.push(reject);\n      //\n      lastArgs = args;\n      if (t) {\n        clearTimeout(t);\n      }\n      t = setTimeout(() => {\n        // @ts-ignore\n        const result = action.call(this, ...lastArgs);\n        t = null;\n        resolves.forEach(resolve => resolve(result));\n        resolves = [];\n        rejects = [];\n      }, wait);\n    });\n  };\n  const stop = () => {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n    resolves = [];\n    rejects.forEach(reject => reject());\n    rejects = [];\n  };\n  // @ts-ignore\n  return {\n    action: wrappedAction,\n    stop\n  };\n}\nfunction debounceImmediate(action) {\n  let wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let t;\n  let delaying;\n  let result;\n  const wrappedAction = function () {\n    return new Promise((resolve, reject) => {\n      if (delaying) {\n        resolve(result);\n      } else {\n        delaying = true;\n        // @ts-ignore\n        result = action.call(this, ...lastArgs);\n        resolve(result);\n        t = setTimeout(() => {\n          t = null;\n          delaying = false;\n          result = null;\n        }, wait);\n      }\n    });\n  };\n  const stop = () => {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n    delaying = false;\n  };\n  // @ts-ignore\n  return {\n    action: wrappedAction,\n    stop\n  };\n}\n/**\r\n * the returned function only accept one argument\r\n * @param funcs\r\n * @returns\r\n */\nfunction joinFunctionsByResult(funcs) {\n  let wrappedFunc = funcs[0];\n  for (let i = 1; i < funcs.length; i++) {\n    wrappedFunc = join2func(wrappedFunc, funcs[i]);\n  }\n  return wrappedFunc;\n  function join2func(func1, func2) {\n    return function (arg) {\n      const result1 = func1(arg);\n      return func2(result1);\n    };\n  }\n}\n/**\r\n * apply finally function to a function, execute it after target return, event it error\r\n * 在目标方法结束或出错后执行另一方法\r\n * @param func\r\n * @param finallyFunc\r\n * @returns\r\n */\nfunction applyFinally(func, finallyFunc) {\n  const wrapped = function () {\n    let r, e;\n    try {\n      r = func(...arguments);\n    } catch (error) {\n      e = error;\n    } finally {\n      finallyFunc();\n    }\n    if (!e) {\n      return r;\n    } else {\n      throw e;\n    }\n  };\n  // @ts-ignore\n  return wrapped;\n}\n/**\r\n * must pass arguments to `next` manually\r\n * @param funcs\r\n * @returns\r\n */\nfunction joinFunctionsByNext(funcs) {\n  let next = () => {};\n  for (const {\n    value: func\n  } of iterateAll(funcs, {\n    reverse: true\n  })) {\n    const currentNext = next;\n    next = wrapFuncWithNext(func, currentNext);\n  }\n  return next;\n  function wrapFuncWithNext(func, next) {\n    return function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return func(next, ...args);\n    };\n  }\n}\n/**\r\n * wrap function, bind context(this).\r\n * @param action\r\n * @param context\r\n * @returns\r\n */\nfunction bindContext(action, context) {\n  const wrapped = function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    return action.apply(context, args);\n  };\n  // @ts-ignore\n  return wrapped;\n}\n/**\r\n * Cache function return by arguments\r\n * @param func\r\n * @returns\r\n */\nfunction cacheFunction(func) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const cachedArgsArr = [];\n  let map;\n  const defaultValue = {};\n  let noArgsCache = defaultValue;\n  const wrapped = function () {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    if (args.length === 0) {\n      if (noArgsCache === defaultValue) {\n        noArgsCache = func();\n      }\n      return noArgsCache;\n    }\n    if (!map) {\n      map = new ArrayKeyMap();\n    }\n    if (!map.has(args)) {\n      map.set(args, func(...args));\n      if (options.capacity != null) {\n        cachedArgsArr.push(args);\n        const removed = cachedArgsArr.splice(0, cachedArgsArr.length - options.capacity);\n        for (const args of removed) {\n          map.delete(args);\n        }\n      }\n    }\n    return map.get(args);\n  };\n  const clearCache = () => {\n    map = null;\n    cachedArgsArr.splice(0, cachedArgsArr.length);\n  };\n  return {\n    // @ts-ignore\n    action: wrapped,\n    clearCache\n  };\n}\n// ## promise\n/**\r\n * execute promise in sequence\r\n * @param getters\r\n * @param concurrent\r\n * @returns\r\n */\nfunction executePromiseGetters(getters) {\n  let concurrent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  let stopped;\n  const promise = new Promise(async function (resolve, reject) {\n    const chunks = splitArray(getters, concurrent);\n    const promises = [];\n    for (const chunk of chunks) {\n      const chunkPromises = chunk.map(v => v());\n      promises.push(...chunkPromises);\n      await Promise.all(chunkPromises);\n      if (stopped) {\n        break;\n      }\n    }\n    Promise.all(promises).then(function () {\n      resolve(...arguments);\n    });\n  });\n  return {\n    promise,\n    stop() {\n      stopped = true;\n    }\n  };\n}\nfunction promiseTimeout(promise, timeout) {\n  return new Promise((resolve, reject) => {\n    let t, rejected;\n    promise.then(function () {\n      clearTimeout(t);\n      resolve(...arguments);\n    }, function () {\n      if (!rejected) {\n        clearTimeout(t);\n        reject(...arguments);\n      }\n    });\n    t = setTimeout(() => {\n      rejected = true;\n      const e = new Error(\"Promise timeout!\");\n      e.name = \"timeout\";\n      reject(e);\n    }, timeout);\n  });\n}\nfunction promisePin() {\n  let resolve, reject;\n  const promise = new Promise((resolve2, reject2) => {\n    resolve = resolve2;\n    reject = reject2;\n  });\n  return {\n    promise,\n    resolve,\n    reject\n  };\n}\n/**\r\n * warp continuous Promise method, such as mousemove handler\r\n * @param method\r\n * @param opt. strategy 'last': the wrapped method return empty if skipped\r\n */\nfunction continuous(method, opt) {\n  // default options\n  if (!opt) {\n    // @ts-ignore\n    opt = {};\n  }\n  objectAssignIfNoKey(opt, {\n    strategy: \"every\"\n  });\n  const queue = [];\n  let working = false;\n  const currentCount = {\n    value: 0\n  };\n  return async function () {\n    currentCount.value++;\n    const count = currentCount.value;\n    const done = promisePin();\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n    queue.push({\n      count,\n      args,\n      done\n    });\n    if (!working) {\n      working = true;\n      task();\n    }\n    return done.promise;\n  };\n  async function task() {\n    if (opt.strategy === \"every\") {\n      while (queue.length > 0) {\n        const {\n          count,\n          args,\n          done\n        } = queue.shift();\n        let r = method({\n          count,\n          currentCount\n        }, ...args);\n        try {\n          await r;\n        } catch (error) {} finally {\n          done.resolve(r);\n        }\n      }\n    } else if (opt.strategy === \"last\") {\n      let currentIndex = -1;\n      while (queue.length > 0 && (currentIndex === -1 || queue.length - 1 > currentIndex)) {\n        currentIndex = queue.length - 1;\n        const item = queue[currentIndex];\n        const {\n          count,\n          args,\n          done\n        } = item;\n        let r = method({\n          count,\n          currentCount\n        }, ...args);\n        try {\n          await r;\n        } catch (error) {} finally {\n          done.resolve(r);\n          item.skipped = false;\n        }\n      }\n      for (let index = currentIndex - 1; index >= 0; index--) {\n        const item = queue[index];\n        // skip before last\n        if (!item || item.skipped != null) {\n          continue;\n        } else {\n          item.skipped = true;\n          // @ts-ignore\n          item.done.resolve();\n        }\n      }\n      queue.splice(0, queue.length);\n    }\n    if (opt.resetCount) {\n      currentCount.value = 0;\n    }\n    working = false;\n  }\n}\nconst promiseContinuous = continuous;\n// ## url\nfunction getUrlParam(par) {\n  // 获取当前URL\n  var local_url = document.location.href;\n  // 获取要取得的get参数位置\n  var get = local_url.indexOf(par + \"=\");\n  if (get == -1) {\n    return false;\n  }\n  // 截取字符串\n  var get_par = local_url.slice(par.length + get + 1);\n  // 判断截取后的字符串是否还有其他get参数\n  var nextPar = get_par.indexOf(\"&\");\n  if (nextPar != -1) {\n    get_par = get_par.slice(0, nextPar);\n  }\n  return get_par;\n}\nfunction pathJoin(p1, p2) {\n  if (!p2) {\n    return p1;\n  }\n  if (!p1 || p2.match(/^\\w+:/)) {\n    return p2;\n  }\n  if (p1 && !p1.endsWith(\"/\")) {\n    p1 = p1 + \"/\";\n  }\n  if (p1 && p2.startsWith(\"/\")) {\n    p2 = p2.substring(1);\n  }\n  return p1 + p2;\n}\n// ## dom\n/**\r\n * return NodeList if there are multiple top-level nodes\r\n * @param htmlString\r\n * @returns\r\n */\nfunction createElementFromHTML(htmlString) {\n  var div = document.createElement(\"div\");\n  div.innerHTML = htmlString.trim();\n  if (div.childNodes.length > 1) {\n    return div.childNodes;\n  } else {\n    return div.childNodes[0];\n  }\n}\n/**\r\n * NOT RECOMMEND. Use Node.contains instead.\r\n */\nfunction isDescendantOf(el, parent) {\n  while (true) {\n    if (el.parentNode == null) {\n      return false;\n    } else if (el.parentNode === parent) {\n      return true;\n    } else {\n      el = el.parentNode;\n    }\n  }\n}\nfunction pointIn(x, y, element) {\n  const rect = getBoundingClientRect(element);\n  return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n}\nfunction removeEl(el) {\n  if (el.parentNode !== null) {\n    return el.parentNode.removeChild(el);\n  }\n}\n/**\r\n * get page root scroll(body or documentElement). refer: https://stackoverflow.com/questions/871399/cross-browser-method-for-detecting-the-scrolltop-of-the-browser-window\r\n * @returns\r\n */\nfunction getScroll() {\n  if (typeof pageYOffset != \"undefined\") {\n    //most browsers except IE before #9\n    return {\n      top: pageYOffset,\n      left: pageXOffset\n    };\n  } else {\n    var B = document.body; //IE 'quirks'\n    var D = document.documentElement; //IE with doctype\n    D = D.clientHeight ? D : B;\n    return {\n      top: D.scrollTop,\n      left: D.scrollLeft\n    };\n  }\n}\n/**\r\n * relative to page root element(document.documentElement). refer: https://gist.github.com/aderaaij/89547e34617b95ac29d1\r\n * 相对于页面根元素.(document.documentElement)\r\n * @param el\r\n * @returns\r\n */\nfunction getOffset(el) {\n  const rect = getBoundingClientRect(el);\n  const t = getBoundingClientRect(document.documentElement);\n  return {\n    x: rect.left - t.left,\n    y: rect.top - t.top\n  };\n}\n/**\r\n * there is some trap in el.offsetParent, so use this func to fix\r\n * @param el\r\n * @returns\r\n */\nfunction getOffsetParent(el) {\n  let offsetParent = el.offsetParent;\n  if (!offsetParent || offsetParent === document.body && getComputedStyle(document.body).position === \"static\") {\n    offsetParent = document.body.parentElement;\n  }\n  return offsetParent;\n}\n/**\r\n * get el current position. like jQuery.position. The position is relative to offsetParent viewport left top. it is for set absolute position, absolute position is relative to offsetParent viewport left top.\r\n * 相对于offsetParent可视区域左上角(el.offsetLeft或top包含父元素的滚动距离, 所以要减去). position一般用于设置绝对定位的情况, 而绝对定位就是以可视区域左上角为原点.\r\n * @param el\r\n * @returns\r\n */\nfunction getPosition(el) {\n  const offsetParent = getOffsetParent(el);\n  const ps = {\n    x: el.offsetLeft,\n    y: el.offsetTop\n  };\n  let parent = el;\n  while (true) {\n    parent = parent.parentElement;\n    if (parent === offsetParent || !parent) {\n      break;\n    }\n    ps.x -= parent.scrollLeft;\n    ps.y -= parent.scrollTop;\n  }\n  return ps;\n}\n/**\r\n * like jQuery.offset(x, y), but it just return cmputed position, don't update style\r\n * 类似 jQuery.offset的设置功能, 但是它只返回计算的position, 不改变元素样式.\r\n * @param el\r\n * @param of\r\n * @returns\r\n */\nfunction getPositionFromOffset(el, of) {\n  const offsetParent = getOffsetParent(el);\n  const parentOf = getOffset(offsetParent);\n  return {\n    x: of.x - parentOf.x,\n    y: of.y - parentOf.y\n  };\n}\n/**\r\n * relative to viewport. like position fixed. alias getViewportPosition\r\n * 相对于视口. 类似 position fixed. 别名 getViewportPosition\r\n * @param el\r\n * @returns\r\n */\nfunction getBoundingClientRect(el) {\n  // refer: http://www.51xuediannao.com/javascript/getBoundingClientRect.html\n  let xy = el.getBoundingClientRect();\n  if (document.documentElement.clientTop > 0) {\n    const top = xy.top - document.documentElement.clientTop,\n      //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\n      bottom = xy.bottom,\n      left = xy.left - document.documentElement.clientLeft,\n      //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\n      right = xy.right,\n      width = xy.width || right - left,\n      //IE67不存在width 使用right - left获得\n      height = xy.height || bottom - top;\n    const x = left;\n    const y = top;\n    const json = {\n      top,\n      right,\n      bottom,\n      left,\n      width,\n      height,\n      x,\n      y\n    };\n    xy = {\n      ...json,\n      toJSON: () => json\n    };\n  }\n  return xy;\n}\n// refer [getBoundingClientRect](#getBoundingClientRect)\nconst getViewportPosition = getBoundingClientRect;\n/**\r\n * position fixed is not always related to viewport.\r\n * position fixed不总是相对于视口.\r\n * 参考/Check: https://developer.mozilla.org/en-US/docs/Web/CSS/position\r\n * @param el\r\n * @param viewportPosition\r\n */\nfunction viewportPositionToFixed(el, viewportPosition) {\n  const div = document.createElement(\"div\");\n  Object.assign(div.style, {\n    position: \"fixed\",\n    visibility: \"hidden\",\n    top: \"0px\",\n    left: \"0px\"\n  });\n  insertAfter(div, el);\n  const divVP = getViewportPosition(div);\n  const offset = {\n    x: 0 - divVP.x,\n    y: 0 - divVP.y\n  };\n  return {\n    x: viewportPosition.x + offset.x,\n    y: viewportPosition.x + offset.y\n  };\n}\nfunction findParent(el, callback) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let cur = opt && opt.withSelf ? el : el.parentElement;\n  while (cur) {\n    const shouldBreak = opt.until && cur === opt.until;\n    if (shouldBreak && !opt.withUntil) {\n      return;\n    }\n    const r = callback(cur);\n    if (r === \"break\") {\n      return;\n    } else if (r) {\n      return cur;\n    } else if (shouldBreak) {\n      return;\n    } else {\n      cur = cur.parentElement;\n    }\n  }\n}\nfunction backupAttr(el, name) {\n  const key = `original_${name}`;\n  el[key] = el.getAttribute(name);\n}\nfunction restoreAttr(el, name) {\n  const key = `original_${name}`;\n  const value = el[key];\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    el.setAttribute(name, value);\n  }\n}\n// source: http://youmightnotneedjquery.com/\nfunction hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return new RegExp(\"(^| )\" + className + \"( |$)\", \"gi\").test(el.className);\n  }\n}\n/**\r\n * has all classNames\r\n * @param el\r\n * @param classNames\r\n */\nfunction hasClasses(el, classNames) {\n  for (const className of classNames) {\n    if (!hasClass(el, className)) {\n      return false;\n    }\n  }\n  return true;\n}\n/**\r\n * has any class in classNames\r\n * @param el\r\n * @param classNames\r\n * @returns\r\n */\nfunction hasClassIn(el, classNames) {\n  for (const className of classNames) {\n    if (hasClass(el, className)) {\n      return true;\n    }\n  }\n  return false;\n}\n// source: http://youmightnotneedjquery.com/\nfunction addClass(el, className) {\n  const t = toArrayIfNot(className);\n  for (const className of t) {\n    if (!hasClass(el, className)) {\n      if (el.classList) {\n        el.classList.add(className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n}\n// source: http://youmightnotneedjquery.com/\nfunction removeClass(el, className) {\n  const t = toArrayIfNot(className);\n  for (const className of t) {\n    if (el.classList) {\n      el.classList.remove(className);\n    } else {\n      el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\n    }\n  }\n}\nfunction getElSizeEvenInvisible(el) {\n  backupAttr(el, \"style\");\n  el.style.display = \"block\";\n  const t = getBoundingClientRect(el);\n  const size = {\n    width: t.width,\n    height: t.height\n  };\n  restoreAttr(el, \"style\");\n  return size;\n}\n/**\r\n * [isOffsetInEl]\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Object} el HTML Element\r\n */\nfunction isOffsetInEl(x, y, el) {\n  const offset = getOffset(el);\n  return offset.x <= x && offset.x + el.offsetWidth >= x && offset.y <= y && offset.y + el.offsetHeight >= y;\n}\nfunction setElChildByIndex(el, child, index) {\n  // @ts-ignore\n  child.childComponentIndex = index;\n  const len = el.childNodes.length;\n  if (len === 0) {\n    el.appendChild(child);\n  } else if (index === 0) {\n    el.insertBefore(child, el.childNodes[0]);\n  } else {\n    const {\n      index: nearestIndex,\n      value: nearest,\n      greater\n    } = binarySearch(\n    // @ts-ignore\n    el.childNodes, el => {\n      return el[\"childComponentIndex\"] - index;\n    }, {\n      start: 0,\n      end: notGreaterThan(index, len - 1),\n      returnNearestIfNoHit: true\n    });\n    if (greater) {\n      // @ts-ignore\n      el.insertBefore(child, nearest);\n    } else {\n      const next = el.childNodes[nearestIndex + 1];\n      if (next) {\n        el.insertBefore(child, next);\n      } else {\n        el.appendChild(child);\n      }\n    }\n  }\n}\n/**\r\n * listen event on element\r\n * @param el\r\n * @param name\r\n * @param handler\r\n * @param options\r\n */\nfunction on(el, name, handler, options) {\n  if (el.addEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.addEventListener(name, handler, options);\n    // @ts-ignore\n  } else if (el.attachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.attachEvent(`on${name}`, handler, options);\n  }\n}\n/**\r\n * cancel event lisitener on element\r\n * @param el\r\n * @param name\r\n * @param handler\r\n * @param options\r\n */\nfunction off(el, name, handler, options) {\n  if (el.removeEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.removeEventListener(name, handler, options);\n    // @ts-ignore\n  } else if (el.detachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.detachEvent(`on${name}`, handler, options);\n  }\n}\n/**\r\n * listen event on element once. return destroy function\r\n * @param el\r\n * @param name\r\n * @param handler\r\n * @param options\r\n * @returns destroy\r\n */\nfunction once(el, name, handler, options) {\n  const onceHandler = function () {\n    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n    // @ts-ignore\n    let r = handler.call(this, ...args); // prettier-ignore\n    destroy();\n    return r;\n  };\n  on(el, name, onceHandler, options);\n  let destroied = false;\n  const destroy = () => {\n    if (!destroied) {\n      off(el, name, onceHandler, options);\n    }\n    destroied = true;\n  };\n  return destroy;\n}\n/**\r\n * lisiten multi events, and can stop and resume them. start listening by default. start is alias for resume\r\n * @param info\r\n * @returns\r\n */\nfunction extendedListen(info) {\n  let destroyFuncs = [];\n  const listenAll = () => {\n    if (r.listening) {\n      return;\n    }\n    for (const item of info) {\n      on.apply(this, item);\n      const destroy = () => off.apply(this, item);\n      destroyFuncs.push(destroy);\n    }\n    r.listening = true;\n  };\n  const destroyAll = () => {\n    if (!r.listening) {\n      return;\n    }\n    for (const destroy of destroyFuncs) {\n      destroy();\n    }\n    destroyFuncs = [];\n    r.listening = false;\n  };\n  const r = {\n    listening: false,\n    stop: destroyAll,\n    resume: listenAll,\n    start: listenAll\n  };\n  r.start();\n  return r;\n}\nfunction getImageSizeByUrl(url) {\n  const image = document.createElement(\"img\");\n  return new Promise(function (resolve, reject) {\n    on(image, \"load\", () => {\n      resolve({\n        width: image.width,\n        height: image.height\n      });\n    });\n    on(image, \"error\", e => {\n      reject(e);\n    });\n    image.src = url;\n  });\n}\nfunction elementsFromPoint(x, y) {\n  const args = [x, y];\n  const func = document.elementsFromPoint ||\n  // @ts-ignore\n  document.msElementsFromPoint || elementsFromPoint;\n  return func.apply(document, args);\n  function elementsFromPoint(x, y) {\n    const parents = [];\n    let parent = void 0;\n    do {\n      if (parent !== document.elementFromPoint(x, y)) {\n        parent = document.elementFromPoint(x, y);\n        parents.push(parent);\n        parent.style.pointerEvents = \"none\";\n        parent[\"_pointerEvents_backup\"] = parent.style.pointerEvents;\n      } else {\n        parent = false;\n      }\n    } while (parent);\n    parents.forEach(function (parent) {\n      return parent.style.pointerEvents = parent[\"_pointerEvents_backup\"];\n    });\n    return parents;\n  }\n}\nfunction getOuterAttachedHeight(el) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = {\n    margin: true,\n    border: true,\n    ...opt\n  };\n  const stl = getComputedStyle(el);\n  let r = 0;\n  const arr = [];\n  if (opt.margin) {\n    arr.push(\"margin-top\", \"margin-bottom\");\n  }\n  if (opt.border) {\n    arr.push(\"border-top-width\", \"border-bottom-width\");\n  }\n  arr.forEach(key => {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\nfunction getOuterAttachedWidth(el) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = {\n    margin: true,\n    border: true,\n    ...opt\n  };\n  const stl = getComputedStyle(el);\n  let r = 0;\n  const arr = [];\n  if (opt.margin) {\n    arr.push(\"margin-left\", \"margin-right\");\n  }\n  if (opt.border) {\n    arr.push(\"border-left-width\", \"border-right-width\");\n  }\n  arr.forEach(key => {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\n/**\r\n * like jquery $(el).css(), but only can read\r\n * @param el\r\n * @param name\r\n * @returns\r\n */\nfunction css(el, name) {\n  const stl = getComputedStyle(el);\n  return stl[name];\n}\nfunction cssNumber(el, name) {\n  return parseFloat(css(el, name));\n}\nfunction isScrollable(el, direction) {\n  const key = \"overflow\" + direction.toUpperCase();\n  const values = [\"auto\", \"scroll\", \"overlay\"];\n  if (el === document.scrollingElement) {\n    values.push(\"visible\");\n  }\n  return values.includes(css(el, key));\n}\n/**\r\n * scrollLeft, scrollRight, scrollTop, scrollBottom.\r\n * IMPORTANT! The min value of  scrollRight and scrollBottom may be a float less than 1, not zero.\r\n * 重要! scrollRight和scrollBottom的最小值可能是小于1的小数, 而不是0.\r\n * @param el\r\n * @param direction\r\n * @returns\r\n */\nfunction getScrollSpace(el, direction) {\n  let space;\n  if (direction === \"left\") {\n    space = el.scrollLeft;\n  } else if (direction === \"top\") {\n    space = el.scrollTop;\n  } else {\n    if (direction === \"right\") {\n      space = el.scrollWidth - el.clientWidth - el.scrollLeft;\n    } else {\n      // bottom\n      space = el.scrollHeight - el.clientHeight - el.scrollTop;\n    }\n  }\n  return space;\n}\n/* scroll to a positon with duration\r\nfrom https://gist.github.com/andjosh/6764939\r\ninterface options{\r\n  x: number // nullable. don't scroll horizontally when null\r\n  y: number // nullable. don't scroll vertically when null\r\n  duration: number // default 0\r\n  element: Node // default is the top scrollable element.\r\n  beforeEveryFrame: (count: number) => boolean|void // call before requestAnimationFrame execution. return false to stop\r\n}\r\nreturn stop\r\n*/\nfunction scrollTo(options) {\n  if (!options.element) {\n    options.element = document.scrollingElement || document.documentElement;\n  }\n  if (options.duration == null) {\n    options.duration = 0;\n  }\n  const {\n    x,\n    y,\n    duration,\n    element\n  } = options;\n  let requestAnimationFrameId;\n  let count = 0;\n  const startY = element.scrollTop,\n    changeY = y - startY,\n    startX = element.scrollLeft,\n    changeX = x - startX,\n    startDate = +new Date(),\n    animateScroll = function () {\n      if (options.beforeEveryFrame && options.beforeEveryFrame(count) === false) {\n        return;\n      }\n      const currentDate = new Date().getTime();\n      const changedTime = currentDate - startDate;\n      if (y != null) {\n        element.scrollTop = parseInt(calc(startY, changeY, changedTime, duration));\n      }\n      if (x != null) {\n        element.scrollLeft = parseInt(calc(startX, changeX, changedTime, duration));\n      }\n      if (changedTime < duration) {\n        requestAnimationFrameId = requestAnimationFrame(animateScroll);\n      } else {\n        if (y != null) {\n          element.scrollTop = y;\n        }\n        if (x != null) {\n          element.scrollLeft = x;\n        }\n      }\n      count++;\n    };\n  const stop = () => {\n    cancelAnimationFrame(requestAnimationFrameId);\n  };\n  animateScroll();\n  // return stop\n  return stop;\n  function calc(startValue, changeInValue, changedTime, duration) {\n    return startValue + changeInValue * (changedTime / duration);\n  }\n}\n// ### DOM structure\nfunction insertBefore(el, target) {\n  target.parentElement.insertBefore(el, target);\n}\nfunction insertAfter(el, target) {\n  target.parentElement.insertBefore(el, target.nextSibling);\n}\nfunction prependTo(el, target) {\n  target.insertBefore(el, target.firstChild);\n}\nfunction appendTo(el, target) {\n  target.appendChild(el);\n}\n// ## Date\nfunction cloneDate(dateObj) {\n  return new Date(dateObj.getTime());\n}\n// day and date is same\nfunction addDate(dateObj, n, type) {\n  if (![\"year\", \"month\", \"day\", \"date\"].includes(type)) {\n    type += \"s\";\n  }\n  let type2 = studlyCase(type);\n  if (type2 === \"Day\") {\n    type2 = \"Date\";\n  }\n  var setFuncName = \"set\" + type2;\n  var getFuncName = \"get\" + type2;\n  dateObj[setFuncName](dateObj[getFuncName]() + n);\n  return dateObj;\n}\nfunction getMonthStart(dateObj) {\n  const clonedObj = cloneDate(dateObj);\n  clonedObj.setDate(1);\n  return clonedObj;\n}\nfunction getMonthEnd(dateObj) {\n  const r = cloneDate(dateObj);\n  addDate(r, 1, \"month\");\n  r.setDate(0);\n  return r;\n}\n/**\r\n * startWeekDay: 0 is Sunday\r\n * @param year\r\n * @param month\r\n * @param startWeekDay\r\n * @returns [GetCalendarDay x 7][]\r\n */\nfunction getCalendar(year, month) {\n  let startWeekDay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  const results = [];\n  const date = new Date(year, month - 1);\n  year = date.getFullYear();\n  month = date.getMonth() + 1;\n  const monthStart = getMonthStart(date);\n  const monthStartDay = monthStart.getDay();\n  const calendarStart = addDate(cloneDate(monthStart), -(monthStartDay + startWeekDay), \"day\");\n  if (monthStartDay > startWeekDay) {\n    const startDate = calendarStart.getDate();\n    const year = calendarStart.getFullYear();\n    const month = calendarStart.getMonth() + 1;\n    for (let i = startWeekDay; i < monthStartDay; i++) {\n      const date = startDate + i;\n      results.push({\n        year,\n        month,\n        date: date,\n        text: date,\n        prevMonth: true\n      });\n    }\n  }\n  //\n  const monthEnd = getMonthEnd(date);\n  const monthEndtDate = monthEnd.getDate();\n  for (let i = 1; i <= monthEndtDate; i++) {\n    const date = i;\n    results.push({\n      year: year,\n      month: month,\n      date,\n      text: date,\n      currentMonth: true\n    });\n  }\n  //\n  const monthEndDay = monthEnd.getDay();\n  const endWeekDay = 6 - startWeekDay;\n  if (monthEndDay < endWeekDay) {\n    const nextMonth = addDate(cloneDate(date), 1, \"month\");\n    const year = nextMonth.getFullYear();\n    const month = nextMonth.getMonth() + 1;\n    for (let i = monthEndDay + 1, date = 1; i <= endWeekDay; i++, date++) {\n      results.push({\n        year: year,\n        month: month,\n        date: date,\n        text: date,\n        nextMonth: true\n      });\n    }\n  }\n  //\n  return splitArray(results, 7);\n}\n/**\r\n * timezone must be UTC. eg: 2018-09-07T03:38:37.888Z\r\n * @param str\r\n * @returns\r\n */\nfunction isIsoFormat(str) {\n  return Boolean(str.length > 15 && str.length < 30 && str.match(/^\\d{4}-\\d{2}-\\d{2}T.*Z$/));\n}\n/**\r\n *\r\n * @param timestamp eg: 2018-09-07T03:38:37.888Z\r\n * @returns\r\n */\nfunction parseISO(timestamp) {\n  const [datePart, timePart] = timestamp.split(\"T\");\n  let y,\n    m,\n    d,\n    h = 0,\n    min = 0,\n    s = 0;\n  [y, m, d] = datePart.split(\"-\").map(v => parseInt(v));\n  m = m - 1;\n  if (timePart) {\n    const t = timePart.split(\":\").map(v => parseFloat(v));\n    h = t[0];\n    if (t[1] != null) {\n      min = t[1];\n    }\n    if (t[2] != null) {\n      s = t[2];\n    }\n  }\n  const dt = new Date();\n  dt.setUTCFullYear(y);\n  dt.setUTCMonth(m);\n  dt.setUTCDate(d);\n  dt.setUTCHours(h);\n  dt.setUTCMinutes(min);\n  dt.setUTCSeconds(s);\n  return dt;\n}\n/**\r\n * binarySearch, 二分查找\r\n * @param arr\r\n * @param callback return `mid - your_value` for ascending array\r\n * @param opt\r\n * @returns\r\n */\nfunction binarySearch(arr, callback) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opt = {\n    start: 0,\n    end: arr.length - 1,\n    maxTimes: 1000,\n    ...opt\n  };\n  let {\n    start,\n    end\n  } = opt;\n  const {\n    returnNearestIfNoHit,\n    maxTimes\n  } = opt;\n  let midNum;\n  let mid;\n  if (start == null) {\n    start = 0;\n    end = arr.length - 1;\n  }\n  let i = 0;\n  let r;\n  while (start >= 0 && start <= end) {\n    if (i >= maxTimes) {\n      throw Error(`binarySearch: loop times is over ${maxTimes}, you can increase the limit.`);\n    }\n    midNum = Math.floor((end - start) / 2 + start);\n    mid = arr[midNum];\n    const count = i + 1;\n    r = callback(mid, midNum, count);\n    if (r > 0) {\n      end = midNum - 1;\n    } else if (r < 0) {\n      start = midNum + 1;\n    } else {\n      return {\n        index: midNum,\n        value: mid,\n        count,\n        hit: true\n      };\n    }\n    i++;\n  }\n  return returnNearestIfNoHit ? {\n    index: midNum,\n    value: mid,\n    count: i + 1,\n    hit: false,\n    greater: r > 0\n  } : null;\n}\n//\nfunction windowLoaded() {\n  return new Promise(function (resolve, reject) {\n    if (document && document.readyState === \"complete\") {\n      resolve();\n    } else {\n      window.addEventListener(\"load\", function once() {\n        resolve();\n        window.removeEventListener(\"load\", once);\n      });\n    }\n  });\n}\nfunction waitTime(milliseconds, callback) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      callback && callback();\n      resolve();\n    }, milliseconds);\n  });\n}\nfunction waitFor(condition) {\n  let time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  let maxTimes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  let interval;\n  const promise = new Promise(function (resolve, reject) {\n    let count = 0;\n    function judge() {\n      if (count <= maxTimes) {\n        if (condition()) {\n          stop();\n          resolve();\n        }\n      } else {\n        stop();\n        reject(new Error(\"waitFor: Limit is reached\"));\n      }\n      count++;\n    }\n    interval = setInterval(function () {\n      judge();\n    }, time);\n    judge();\n  });\n  return {\n    promise,\n    stop\n  };\n  function stop() {\n    clearInterval(interval);\n  }\n}\nasync function retry(action) {\n  let limitTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  for (let index = 1; index <= limitTimes; index++) {\n    try {\n      // @ts-ignore\n      return await action();\n    } catch (error) {\n      if (index === limitTimes) {\n        throw error;\n      }\n    }\n  }\n}\n/**\r\n * Copy to text to clipboard. Async not supported. Recommend clipboard-polyfill.\r\n * 复制文字到剪贴板. 仅限于简单使用, 不支持异步. 复杂环境推荐clipboard-polyfill\r\n * @param text\r\n * @returns\r\n */\nfunction copyTextToClipboard(text) {\n  try {\n    // use latest api\n    navigator.clipboard.writeText(text);\n    return;\n  } catch (e) {}\n  var textArea = document.createElement(\"textarea\");\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = \"fixed\";\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = \"2em\";\n  textArea.style.height = \"2em\";\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = \"0\";\n  // Clean up any borders.\n  textArea.style.border = \"none\";\n  textArea.style.outline = \"none\";\n  textArea.style.boxShadow = \"none\";\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = \"transparent\";\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.select();\n  try {\n    var successful = document.execCommand(\"copy\");\n    var msg = successful ? \"successful\" : \"unsuccessful\";\n    console.log(\"Copying text command was \" + msg);\n  } catch (err) {\n    console.log(\"Oops, unable to copy\");\n  }\n  document.body.removeChild(textArea);\n}\nfunction isWindowDefined() {\n  try {\n    return window && true;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isNode() {\n  // @ts-ignore\n  return Boolean(typeof glb().module !== \"undefined\" && glb().module.exports);\n}\nfunction isIE() {\n  // @ts-ignore\n  return Boolean(window.ActiveXObject || \"ActiveXObject\" in window);\n}\n/*\r\nhttps://developer.mozilla.org/docs/Web/API/Window/open\r\nhttp://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\r\n*/\nfunction openWindow(url, name) {\n  let opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  window.open(url, name, Object.keys(opt).map(k => `${k}=${opt[k]}`).join(\",\"));\n}\nfunction openCenterWindow(url, name, width, height) {\n  let opt = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const t = {\n    width,\n    height,\n    top: (window.screen.availHeight - 30 - height) / 2,\n    left: (window.screen.availWidth - 30 - width) / 2\n  };\n  Object.assign(t, opt);\n  openWindow(url, name, t);\n}\nfunction openPreviewWindow(previewUrl) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"preview\";\n  let width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  let height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 800;\n  return openCenterWindow(previewUrl, name, width, height, {\n    directories: \"no\",\n    titlebar: \"no\",\n    toolbar: \"no\",\n    location: \"no\",\n    status: \"no\",\n    menubar: \"no\"\n  });\n}\nclass URLHelper {\n  baseUrl = \"\"; // protocol, hostname, port, pastname\n  search = {};\n  constructor(baseUrl) {\n    let t = decodeURI(baseUrl).split(\"?\");\n    this.baseUrl = t[0];\n    if (t[1]) {\n      t[1].split(\"&\").forEach(v => {\n        let t2 = v.split(\"=\");\n        this.search[t2[0]] = t2[1] == null ? \"\" : decodeURIComponent(t2[1]);\n      });\n    }\n  }\n  getHref() {\n    const t = [this.baseUrl];\n    let searchStr = Object.keys(this.search).map(k => `${k}=${encodeURIComponent(this.search[k])}`).join(\"&\");\n    if (searchStr) {\n      t.push(searchStr);\n    }\n    return t.join(\"?\");\n  }\n}\n/* resolve arguments to help overload. 解析函数参数, 帮助重载\r\n```js\r\ntypes eg: ['Object', (i) => i > 3, ['Number', default], null ]\r\nnull represent all types of argument\r\nresolveArgsByType([1,'str'], ['Number', 'Boolean' ,'String']) -> [1, null, 'str']\r\nresolveArgsByType([1,'str'], ['Number', ['Boolean', true] ,'String']) -> [1, true, 'str']\r\n```\r\n*/\nfunction resolveArgsByType(args, types) {\n  let argIndex = 0;\n  return types.map(v => {\n    // make rule\n    let rule, dft;\n    if (isArray(v)) {\n      rule = v[0];\n      dft = v[1];\n    } else {\n      rule = v;\n      dft = undefined;\n    }\n    if (!isFunction(rule)) {\n      if (rule == null) {\n        rule = () => true;\n      } else {\n        const t = rule;\n        rule = x => Object.prototype.toString.call(x) === `[object ${t}]`;\n      }\n    }\n    const arg = args[argIndex];\n    if (rule(arg)) {\n      argIndex++;\n      return arg;\n    } else {\n      return dft;\n    }\n  });\n}\nfunction makeStorageHelper(storage) {\n  return {\n    storage: storage,\n    set(name, value, minutes) {\n      // set null can remove a item\n      if (value == null) {\n        this.storage.removeItem(name);\n      } else {\n        this.storage.setItem(name, JSON.stringify({\n          value,\n          expired_at: minutes ? new Date().getTime() + minutes * 60 * 1000 : null\n        }));\n      }\n    },\n    get(name) {\n      let t = this.storage.getItem(name);\n      if (t) {\n        t = JSON.parse(t);\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\n          return t.value;\n        } else {\n          this.storage.removeItem(name);\n        }\n      }\n      return null;\n    },\n    clear() {\n      this.storage.clear();\n    }\n  };\n}\nconst extendedLocalStorage = cacheFunction(function () {\n  return makeStorageHelper(localStorage);\n});\nconst extendedSessionStorage = cacheFunction(function () {\n  return makeStorageHelper(sessionStorage);\n});\n/**\r\n * Base event process. like event bus\r\n * 事件处理. 类似event bus\r\n */\nclass EventProcessor {\n  eventStore = [];\n  on(name, handler) {\n    this.eventStore.push({\n      name,\n      handler\n    });\n  }\n  once(name, handler) {\n    const off = () => {\n      this.off(name, wrappedHandler);\n    };\n    const wrappedHandler = function () {\n      handler(...arguments);\n      off();\n    };\n    this.on(name, wrappedHandler);\n    return off;\n  }\n  onceTimeout(name, handler, timeout) {\n    let off;\n    const promise = new Promise((resolve, reject) => {\n      const wrappedHandler = function () {\n        handler(...arguments);\n        resolve();\n      };\n      off = this.once(name, wrappedHandler);\n      waitTime(timeout).then(() => {\n        off();\n        reject();\n      });\n    });\n    const off2 = () => {\n      off && off();\n    };\n    return {\n      off: off2,\n      promise\n    };\n  }\n  off(name, handler) {\n    const indexes = []; // to remove indexes; reverse; 倒序的\n    const len = this.eventStore.length;\n    for (let i = 0; i < len; i++) {\n      const item = this.eventStore[i];\n      if (item.name === name && item.handler === handler) {\n        indexes.unshift(i);\n      }\n    }\n    for (const index of indexes) {\n      this.eventStore.splice(index, 1);\n    }\n  }\n  emit(name) {\n    // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\n    const items = [];\n    for (const item of this.eventStore) {\n      if (item.name === name) {\n        items.push(item);\n      }\n    }\n    for (var _len9 = arguments.length, args = new Array(_len9 > 1 ? _len9 - 1 : 0), _key9 = 1; _key9 < _len9; _key9++) {\n      args[_key9 - 1] = arguments[_key9];\n    }\n    for (const item of items) {\n      item.handler(...args);\n    }\n  }\n}\n/**\r\n * Pass event cross window\r\n */\nclass CrossWindowEventProcessor extends EventProcessor {\n  storageName = \"_crossWindow\";\n  windows = [];\n  timeout = 200;\n  id;\n  ready;\n  // id\n  constructor(opt) {\n    super();\n    if (opt) {\n      Object.assign(this, opt);\n    }\n    on(window, \"storage\", ev => {\n      if (ev.key === this.storageName) {\n        const event = JSON.parse(ev.newValue);\n        if (!event.targets || event.targets.includes(this.id)) {\n          this.emitLocal(event.name, ...event.args);\n        }\n      }\n    });\n    // social parts 集体部分\n    // join\n    this.id = randString();\n    this.windows = [this.id];\n    this.ready = new Promise((resolve, reject) => {\n      this.onceTimeout(\"_windows_updated\", _ref => {\n        let {\n          windows\n        } = _ref;\n        this.windows = windows;\n      }, this.timeout).promise.then(() => {\n        resolve();\n        // responsed 被响应\n      }, () => {\n        // no response 无响应\n        resolve();\n      });\n      this.broadcast(\"_join\", this.id);\n    });\n    this.ready.then(() => {\n      // on join\n      this.on(\"_join\", id => {\n        this.windows.push(id);\n        if (this.isMain()) {\n          this.broadcast(\"_windows_updated\", {\n            windows: this.windows,\n            type: \"join\",\n            id\n          });\n        }\n      });\n      // on _windows_updated\n      this.on(\"_windows_updated\", _ref2 => {\n        let {\n          windows\n        } = _ref2;\n        this.windows = windows;\n      });\n      // on exit\n      this.on(\"_exit\", id => {\n        const oldMain = this.windows[0];\n        arrayRemove(this.windows, id);\n        if (this.isMain()) {\n          this.emit(\"_windows_updated\", {\n            windows: this.windows,\n            type: \"exit\",\n            id\n          });\n          if (oldMain != this.id) {\n            this.emit(\"_main_updated\", {\n              windows: this.windows,\n              old: oldMain,\n              new: this.id\n            });\n          }\n        }\n      });\n      on(window, \"beforeunload\", () => {\n        this.exitGroup();\n      });\n    });\n  }\n  isMain() {\n    return this.id === this.windows[0];\n  }\n  BROADCAST = \"__BROADCAST__\";\n  emitTo(name, targets) {\n    for (var _len10 = arguments.length, args = new Array(_len10 > 2 ? _len10 - 2 : 0), _key10 = 2; _key10 < _len10; _key10++) {\n      args[_key10 - 2] = arguments[_key10];\n    }\n    if (targets === this.BROADCAST) {\n      targets = null;\n    } else {\n      if (targets && !isArray(targets)) {\n        targets = [targets];\n      }\n      if (targets.includes(this.id)) {\n        super.emit(name, ...args); // emit to current window\n      }\n    }\n    glb().localStorage.setItem(this.storageName, JSON.stringify({\n      name,\n      targets,\n      args,\n      // use random make storage event triggered every time\n      // 加入随机保证触发storage事件\n      random: Math.random()\n    }));\n  }\n  emitLocal(name) {\n    for (var _len11 = arguments.length, args = new Array(_len11 > 1 ? _len11 - 1 : 0), _key11 = 1; _key11 < _len11; _key11++) {\n      args[_key11 - 1] = arguments[_key11];\n    }\n    this.emitTo(name, this.id, ...args);\n  }\n  broadcast(name) {\n    for (var _len12 = arguments.length, args = new Array(_len12 > 1 ? _len12 - 1 : 0), _key12 = 1; _key12 < _len12; _key12++) {\n      args[_key12 - 1] = arguments[_key12];\n    }\n    this.emitTo(name, this.BROADCAST, ...args);\n  }\n  emit(name) {\n    for (var _len13 = arguments.length, args = new Array(_len13 > 1 ? _len13 - 1 : 0), _key13 = 1; _key13 < _len13; _key13++) {\n      args[_key13 - 1] = arguments[_key13];\n    }\n    this.emitTo(name, this.windows, ...args);\n  }\n  exitGroup() {\n    this.broadcast(\"_exit\", this.id);\n  }\n}\n/**\r\n * on continuous input. return destroy\r\n * 监听连续输入事件. 返回取消监听函数. 例如监听用户输入aa\r\n * @param handler\r\n * @param opt\r\n * @returns\r\n */\nfunction onContinuousInput(handler) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = {\n    timeout: 1000,\n    ...opt\n  };\n  let input = \"\";\n  let timeoutId;\n  const keydownHandler = e => {\n    if (e.key && e.key.length === 1) {\n      input = `${input}${e.key}`;\n      handler(input);\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n      timeoutId = setTimeout(() => {\n        input = \"\";\n      }, opt.timeout);\n    }\n  };\n  on(document, \"keydown\", keydownHandler);\n  return () => {\n    off(document, \"keydown\", keydownHandler);\n  };\n}\n// refer [onContinuousInput](#onContinuousInput)\nconst onQuickKeydown = onContinuousInput;\nfunction getUserLanguage() {\n  return navigator.language || navigator[\"userLanguage\"];\n}\nclass Cache {\n  store = {};\n  has(name) {\n    return this.store.hasOwnProperty(name);\n  }\n  remember(name, getter) {\n    if (!this.has(name)) {\n      this.store[name] = {\n        value: getter()\n      };\n    }\n    return this.store[name].value;\n  }\n  forget(name) {\n    if (name) {\n      if (this.has(name)) {\n        delete this.store[name];\n      }\n    } else {\n      this.store = {};\n    }\n  }\n}\n// attach cached getters to an object; can attach to self\nfunction attachCache(obj, toCache) {\n  let cache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Cache();\n  for (const key in toCache) {\n    const getter = toCache[key];\n    Object.defineProperty(obj, key, {\n      get() {\n        return cache.remember(key, () => getter.call(this));\n      }\n    });\n  }\n}\n// for animation\nfunction easeInOutQuad(startValue, changeInValue, changedTime, duration) {\n  let t = changedTime,\n    d = duration,\n    b = startValue,\n    c = changeInValue;\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n}\n// others\nfunction isMobile() {\n  var isMobile = false; //initiate as false\n  // device detection\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substring(0, 4))) {\n    isMobile = true;\n  }\n  return isMobile;\n}\nclass Accumulate {\n  arr = [];\n  cache = [];\n  constructor(arr) {\n    this.arr = arr;\n  }\n  getValue(item) {\n    // @ts-ignore\n    return item;\n  }\n  sum(index) {\n    if (this.cache[index] == null) {\n      let prev = index > 0 ? this.sum(index - 1) : 0;\n      this.cache[index] = this.getValue(this.arr[index]) + prev;\n    }\n    return this.cache[index];\n  }\n}\n/**\r\n * from https://www.zhangxinxu.com/wordpress/2018/08/css-svg-background-image-base64-encode/\r\n * @param svgCode\r\n * @returns\r\n */\nfunction svgToDataURL(svgCode) {\n  return \"data:image/svg+xml,\" + svgCode.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/{/g, \"%7B\").replace(/}/g, \"%7D\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\");\n}\nfunction genRandomLightColor() {\n  var letters = \"BCDEF\".split(\"\");\n  var color = \"#\";\n  for (var i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * letters.length)];\n  }\n  return color;\n}\n/**\r\n * Like Map, support array as key. array order is used.\r\n */\nclass ArrayKeyMap {\n  _map = (() => new Map())();\n  _values = {};\n  _objCount = 0;\n  _keysToString(keys) {\n    const {\n      _map\n    } = this;\n    let t = [];\n    for (const key of keys) {\n      if (!_map.has(key)) {\n        return null;\n      }\n      t.push(_map.get(key)[0]);\n    }\n    return t.toString();\n  }\n  has(keys) {\n    if (this._keysToString(keys) == null) {\n      return false;\n    }\n    return true;\n  }\n  /**\r\n   * throw error if not found\r\n   * @param keys\r\n   * @returns\r\n   */\n  get(keys) {\n    const {\n      _values\n    } = this;\n    const key2 = this._keysToString(keys);\n    if (key2 == null) {\n      throw \"Value not found by specified keys\";\n    }\n    return _values[key2][1];\n  }\n  set(keys, value) {\n    const {\n      _map,\n      _values\n    } = this;\n    let t = [];\n    for (const key of keys) {\n      let str;\n      let count = 1;\n      if (_map.has(key)) {\n        [str, count] = _map.get(key);\n        count++;\n      } else {\n        this._objCount++;\n        str = this._objCount.toString();\n      }\n      _map.set(key, [str, count]);\n      t.push(str);\n    }\n    _values[t.toString()] = [keys.slice(), value];\n  }\n  delete(keys) {\n    const {\n      _values,\n      _map\n    } = this;\n    const key2 = this._keysToString(keys);\n    if (key2 == null) {\n      throw \"Value not found by specified keys\";\n    }\n    delete _values[key2];\n    for (const key of keys) {\n      let [str, count] = _map.get(key);\n      count--;\n      if (count === 0) {\n        _map.delete(key);\n      } else {\n        _map.set(key, [str, count]);\n      }\n    }\n  }\n  clear() {\n    this._map.clear();\n    this._values = {};\n  }\n  *entries() {\n    const {\n      _values\n    } = this;\n    for (const key in _values) {\n      const [keys, value] = _values[key];\n      yield [keys, value];\n    }\n  }\n  count() {\n    return [...this.entries()].length;\n  }\n}\n\nexport { Accumulate, ArrayKeyMap, Cache, CrossWindowEventProcessor, EventProcessor, TreeData, URLHelper, addClass, addDate, appendTo, applyFinally, arrayAt, arrayBetween, arrayDiff, arrayDistinct, arrayFilter, arrayFirst, arrayFlat, arrayLast, arrayRemove, arrayRemoveBySortedIndexes, arrayWithout, arrayWithoutEnd, assignIfDiff, assignIfKeyNull, assignIfNoKey, attachCache, backupAttr, between, binarySearch, bindContext, cacheFunction, camelCase, camelToWords, cloneDate, cloneObject, cloneTreeData, continuous, copyTextToClipboard, createElementFromHTML, css, cssNumber, debounceImmediate, debounceTrailing, dotGet, dotSet, easeInOutQuad, elementsFromPoint, empty, executePromiseGetters, executeWithCount, extendedListen, extendedLocalStorage, extendedSessionStorage, findAll, findInfoInTreeData, findParent, findTreeData, genRandomLightColor, getArrayItemSiblingsByOffsets, getBoundingClientRect, getCalendar, getElSizeEvenInvisible, getImageSizeByUrl, getMonthEnd, getMonthStart, getOffset, getOffsetParent, getOuterAttachedHeight, getOuterAttachedWidth, getPosition, getPositionFromOffset, getScroll, getScrollSpace, getUrlParam, getUserLanguage, getViewportPosition, glb, groupArray, hasClass, hasClassIn, hasClasses, indexesOf, insertAfter, insertBefore, isArray, isBool, isDescendantOf, isDocumentExisted, isFunction, isIE, isIsoFormat, isMobile, isNode, isNumber, isNumeric, isObject, isOffsetInEl, isPromise, isScrollable, isString, isWindowDefined, iterateAll, joinFunctionsByNext, joinFunctionsByResult, joinRows, kebabCase, makeStorageHelper, mapObjectTree, mapObjects, notGreaterThan, notLessThan, objectAssignIfDiff, objectAssignIfKeyNull, objectAssignIfNoKey, objectDefineProxyProperty, objectExcept, objectMap, objectOnly, off, on, onContinuousInput, onQuickKeydown, once, openCenterWindow, openPreviewWindow, openWindow, parseISO, pathJoin, pointIn, prependTo, promiseContinuous, promisePin, promiseTimeout, randChoice, randInt, randString, removeClass, removeEl, resolveArgsByType, resolveValueOrGettter, restoreAttr, retry, reverseString, scrollTo, setElChildByIndex, snakeCase, splitArray, strPad, studlyCase, svgToDataURL, titleCase, toArrayIfNot, unset, viewportPositionToFixed, waitFor, waitTime, walkTreeData, watchChange, windowLoaded, withoutUndefined };\n", "import { defineComponent as J, ref as I, computed as s, reactive as re, watch as ie, onMounted as oe, nextTick as W } from \"vue-demi\";\nimport * as p from \"helper-js\";\nimport { openBlock as k, createElementBlock as w, renderSlot as u, createElementVNode as ae, resolveComponent as se, normalizeStyle as M, createVNode as ue, withCtx as P, Fragment as G, renderList as D } from \"vue\";\n/*!\n * @virtual-list/vue\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: https://virtual-list.phphe.com\n * Released under the MIT License.\n */\nconst ce = J({\n  props: {\n    table: Boolean\n  }\n}), Q = (e, i) => {\n  const m = e.__vccOpts || e;\n  for (const [d, v] of i)\n    m[d] = v;\n  return m;\n}, de = { key: 0 }, fe = { key: 1 };\nfunction me(e, i, m, d, v, z) {\n  return e.table ? (k(), w(\"table\", de, [\n    u(e.$slots, \"prepend\"),\n    ae(\"tbody\", null, [\n      u(e.$slots, \"default\")\n    ]),\n    u(e.$slots, \"append\")\n  ])) : (k(), w(\"div\", fe, [\n    u(e.$slots, \"prepend\"),\n    u(e.$slots, \"default\"),\n    u(e.$slots, \"append\")\n  ]));\n}\nconst ve = /* @__PURE__ */ Q(ce, [[\"render\", me]]), be = J({\n  components: { VirtualListTable: ve },\n  props: {\n    items: Array,\n    disabled: Boolean,\n    horizontal: Boolean,\n    firstRender: { type: Number, default: 10 },\n    buffer: { type: Number, default: 100 },\n    itemKey: {\n      type: [String, Function]\n    },\n    itemSize: {\n      type: Function\n    },\n    table: Boolean\n  },\n  setup(e) {\n    const i = I(0), m = I(e.firstRender - 1), d = s(\n      () => {\n        var t;\n        return p.notGreaterThan(m.value, (((t = e.items) == null ? void 0 : t.length) || 1) - 1);\n      }\n    ), v = I(0), z = s(() => f.value[i.value] ? E(i.value) : 0), C = s(\n      () => f.value.length > 0 ? E(f.value.length - 1) + p.arrayLast(L.value) : 0\n    ), o = s(\n      () => f.value[d.value] ? C.value - E(d.value) - L.value[d.value] : 0\n    ), b = s(\n      () => e.disabled ? {} : { overflow: \"auto\" }\n    ), U = s(() => {\n      const t = {\n        display: \"flex\"\n      };\n      return e.disabled || (e.horizontal ? Object.assign(t, {\n        \"margin-left\": z.value + \"px\",\n        \"margin-right\": o.value + \"px\",\n        width: C.value - o.value - z.value + \"px\"\n      }) : Object.assign(t, {\n        \"margin-top\": z.value + \"px\",\n        \"margin-bottom\": o.value + \"px\"\n      })), t[\"flex-direction\"] = e.horizontal ? \"row\" : \"column\", e.table && (delete t.display, delete t[\"flex-direction\"]), t;\n    }), $ = s(\n      () => re((e.items || []).map(() => null))\n    ), L = s(\n      () => (e.items || []).map((t, n) => {\n        var g;\n        if ($[n] != null)\n          return $[n];\n        let l = (g = e.itemSize) == null ? void 0 : g.call(e, t, n);\n        return l == null && (l = v.value), l;\n      })\n    ), f = s(() => {\n      const t = [];\n      return L.value.reduce((n, l) => (t.push(n), n + l), 0), t;\n    });\n    ie(() => e.items, y);\n    const X = s(() => {\n      if (!e.items || e.disabled)\n        return;\n      const t = [];\n      for (let n = i.value; n <= d.value; n++) {\n        const l = e.items[n];\n        if (!l)\n          break;\n        t.push({ item: l, index: n });\n      }\n      return t;\n    }), N = I(), V = I();\n    oe(async () => {\n      y();\n      try {\n        Z();\n      } catch {\n        await W(), y();\n      }\n    });\n    let T;\n    function Y() {\n      const t = N.value;\n      if (!t)\n        return;\n      const n = O(t);\n      T != null && e.buffer - Math.abs(n - T) >= 10 || (T = n, y());\n    }\n    let B = !1, K = !1;\n    async function y() {\n      var H;\n      if (B) {\n        K = !0;\n        return;\n      }\n      if (!e.items || e.disabled)\n        return;\n      B = !0;\n      const t = N.value, n = (H = V.value) == null ? void 0 : H.$el;\n      if (!t || !n)\n        return;\n      v.value || (v.value = ne()), i.value = ee(), m.value = te(), await W();\n      let l, g = 0;\n      const F = {}, q = e.table ? n.querySelector(\"tbody\").children : n.children;\n      for (let a = 0; a < q.length; a++) {\n        const r = q[a], c = p.css(r, \"position\");\n        if (c && [\"absolute\", \"fixed\"].includes(c))\n          continue;\n        const h = p.css(r, \"display\") !== \"none\" ? A(r) : 0, S = r.getAttribute(\"vt-index\"), R = S ? parseInt(S) : i.value + g;\n        F[R] = (F[R] || 0) + h, g++;\n      }\n      for (const a of Object.keys(F)) {\n        const r = parseInt(a);\n        $.value[r] !== F[r] && ($.value[r] = F[r], l = !0);\n      }\n      l && await W(), B = !1, K && (K = !1, y());\n      function ee() {\n        const a = O(t) - j(t) - e.buffer;\n        return p.binarySearch(\n          f.value,\n          (c) => c - a,\n          { returnNearestIfNoHit: !0 }\n        ).index;\n      }\n      function te() {\n        const a = O(t) - j(t) + x(t) + e.buffer;\n        return p.binarySearch(\n          f.value,\n          (c) => c - a,\n          { returnNearestIfNoHit: !0 }\n        ).index;\n      }\n      function ne() {\n        const r = [], c = e.table ? n.querySelector(\"tbody\").children : n.children;\n        for (let h = 0; h < c.length; h++) {\n          const S = c[h], R = getComputedStyle(S);\n          if ([\"absolute\", \"fixed\"].includes(R.position))\n            continue;\n          const le = A(S);\n          if (r.push(le), r.length >= 10)\n            break;\n        }\n        return r.length === 0 ? 0 : r.reduce((h, S) => h + S, 0) / r.length;\n      }\n    }\n    function x(t) {\n      const n = getComputedStyle(t);\n      let l = parseFloat(e.horizontal ? n.width : n.height);\n      return n.boxSizing === \"border-box\" && (e.horizontal ? l = l - parseFloat(n.borderLeftWidth) - parseFloat(n.borderRightWidth) : l = l - parseFloat(n.borderTopWidth) - parseFloat(n.borderBottomWidth)), l;\n    }\n    function A(t) {\n      let n = x(t);\n      const l = getComputedStyle(t);\n      return e.horizontal ? n += parseFloat(l.borderLeftWidth) + parseFloat(l.borderRightWidth) + parseFloat(l.marginLeft) + parseFloat(l.marginRight) : n += parseFloat(l.borderTopWidth) + parseFloat(l.borderBottomWidth) + parseFloat(l.marginTop) + parseFloat(l.marginBottom), n = Number.isNaN(n) ? 0 : n, n;\n    }\n    function O(t) {\n      return e.horizontal ? t.scrollLeft : t.scrollTop;\n    }\n    function j(t) {\n      const n = getComputedStyle(t);\n      return e.horizontal ? parseFloat(n.paddingLeft) : parseFloat(n.paddingTop);\n    }\n    function E(t) {\n      return f.value[t];\n    }\n    function Z() {\n      const t = N.value;\n      new ResizeObserver((l) => {\n        for (let g of l)\n          if (p.hasClass(g.target, \"vtlist\")) {\n            y();\n            break;\n          }\n      }).observe(t);\n    }\n    function _(t, n) {\n      if (e.itemKey) {\n        if (typeof e.itemKey == \"string\" && e.itemKey === \"index\")\n          return n;\n        if (typeof e.itemKey == \"function\")\n          return e.itemKey(t, n);\n      }\n    }\n    return {\n      listElRef: N,\n      listInnerRef: V,\n      onscroll: Y,\n      listStyle: b,\n      listInnerStyle: U,\n      visibleItemsInfo: X,\n      getItemKey: _,\n      update: y,\n      sizes: L,\n      positions: f,\n      runtimeSizes: $\n    };\n  }\n});\nfunction ye(e, i, m, d, v, z) {\n  const C = se(\"VirtualListTable\");\n  return k(), w(\"div\", {\n    class: \"vtlist\",\n    ref: \"listElRef\",\n    style: M(e.listStyle),\n    onScrollPassive: i[0] || (i[0] = (...o) => e.onscroll && e.onscroll(...o))\n  }, [\n    ue(C, {\n      class: \"vtlist-inner\",\n      ref: \"listInnerRef\",\n      style: M(e.listInnerStyle),\n      table: e.table\n    }, {\n      prepend: P(() => [\n        u(e.$slots, \"prepend\")\n      ]),\n      append: P(() => [\n        u(e.$slots, \"append\")\n      ]),\n      default: P(() => [\n        e.disabled ? (k(!0), w(G, { key: 0 }, D(e.items, (o, b) => u(e.$slots, \"default\", {\n          key: e.getItemKey(o, b),\n          item: o,\n          index: b\n        })), 128)) : (k(!0), w(G, { key: 1 }, D(e.visibleItemsInfo, ({ item: o, index: b }) => u(e.$slots, \"default\", {\n          key: e.getItemKey(o, b),\n          item: o,\n          index: b\n        })), 128))\n      ]),\n      _: 3\n    }, 8, [\"style\", \"table\"])\n  ], 36);\n}\nconst Se = /* @__PURE__ */ Q(be, [[\"render\", ye]]);\nexport {\n  Se as default\n};\n", "/*!\n * @he-tree/tree-utils v0.1.0-alpha.5\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: null\n * Released under the MIT License.\n */\nimport * as hp from 'helper-js';\n\nconst CHILDREN = \"children\"; // inner childrenKey\n\n/**\r\n * help to handle tree data. 帮助处理树形数据.\r\n */\n\nfunction makeTreeProcessor(data) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const opt2 = opt;\n  const utilsBase = { ...defaultOptions,\n    ...opt2,\n    data,\n    stats: null,\n    statsFlat: null,\n    _statsMap: null,\n    initialized: false,\n\n    init() {\n      const {\n        data,\n        childrenKey\n      } = this;\n      const td = new hp.TreeData([]);\n      this._statsMap = new Map();\n      hp.walkTreeData(data, (nodeData, index, parent, path) => {\n        const stat = this.statHandler({ ...statDefault(),\n          data: nodeData,\n          open: Boolean(this.defaultOpen),\n          parent: td.getParent(path),\n          children: [],\n          level: path.length\n        });\n\n        this._statsMap.set(nodeData, stat);\n\n        td.set(path, stat);\n      }, {\n        childrenKey\n      });\n      const statsFlat = [];\n      td.walk(stat => {\n        statsFlat.push(stat);\n      });\n      this.stats = this.statsHandler(td.rootChildren);\n      this.statsFlat = this.statsFlatHandler(statsFlat);\n      this.initialized = true;\n    },\n\n    getStat(nodeData) {\n      let r = this._statsMap.get(nodeData);\n\n      if (!r) {\n        throw new StatNotFoundError(\"Stat not found\");\n      }\n\n      return r;\n    },\n\n    has(nodeData) {\n      if (nodeData[\"isStat\"]) {\n        // @ts-ignore\n        return this.statsFlat.indexOf(nodeData) > -1;\n      } else {\n        try {\n          // @ts-ignore\n          let r = this.getStat(nodeData);\n          return Boolean(r);\n        } catch (error) {\n          if (error instanceof StatNotFoundError) {\n            return false;\n          }\n\n          throw error;\n        }\n      }\n    },\n\n    _getPathByStat(stat) {\n      if (stat == null) {\n        return [];\n      }\n\n      const siblings = this.getSiblings(stat);\n      const index = siblings.indexOf(stat);\n      return [...(stat.parent ? this._getPathByStat(stat.parent) : []), index];\n    },\n\n    /**\r\n     * call it after a stat's `checked` changed\r\n     * @param stat\r\n     * @returns return false mean ignored\r\n     */\n    afterOneCheckChanged(stat) {\n      const {\n        checked\n      } = stat;\n\n      if (stat._ignoreCheckedOnce) {\n        delete stat._ignoreCheckedOnce;\n        return false;\n      } // change parent\n\n\n      const checkParent = stat => {\n        const {\n          parent\n        } = stat;\n\n        if (parent) {\n          let hasChecked;\n          let hasUnchecked;\n          let hasHalfChecked;\n\n          for (const child of parent.children) {\n            if (child.checked) {\n              hasChecked = true;\n            } else if (child.checked === 0) {\n              hasHalfChecked = true;\n            } else {\n              hasUnchecked = true;\n            }\n          }\n\n          const parentChecked = hasHalfChecked ? 0 : !hasUnchecked ? true : hasChecked ? 0 : false;\n\n          if (parent.checked !== parentChecked) {\n            this._ignoreCheckedOnce(parent);\n\n            parent.checked = parentChecked;\n          }\n\n          checkParent(parent);\n        }\n      };\n\n      checkParent(stat); // change children\n\n      hp.walkTreeData(stat.children, child => {\n        if (child.checked !== checked) {\n          this._ignoreCheckedOnce(child);\n\n          child.checked = checked;\n        }\n      }, {\n        childrenKey: CHILDREN\n      });\n      return true;\n    },\n\n    _ignoreCheckedOnce(stat) {\n      stat._ignoreCheckedOnce = true; // cancel ignore immediately if not triggered\n\n      setTimeout(() => {\n        if (stat._ignoreCheckedOnce) {\n          stat._ignoreCheckedOnce = false;\n        }\n      }, 100);\n    },\n\n    isVisible(statOrNodeData) {\n      // @ts-ignore\n      const stat = statOrNodeData[\"isStat\"] ? statOrNodeData : this.getStat(statOrNodeData); // prettier-ignore\n\n      const walk = stat => {\n        return !stat || !stat.hidden && stat.open && walk(stat.parent);\n      };\n\n      return Boolean(!stat.hidden && walk(stat.parent));\n    },\n\n    /**\r\n     * call it to update all stats' `checked`\r\n     */\n    updateCheck() {\n      hp.walkTreeData(this.stats, stat => {\n        if (stat.children && stat.children.length > 0) {\n          const checked = stat.children.every(v => v.checked);\n\n          if (stat.checked !== checked) {\n            this._ignoreCheckedOnce(stat);\n\n            stat.checked = checked;\n          }\n        }\n      }, {\n        childFirst: true,\n        childrenKey: CHILDREN\n      });\n    },\n\n    getChecked() {\n      let withDemi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this.statsFlat.filter(v => {\n        return v.checked || withDemi && v.checked === 0;\n      });\n    },\n\n    getUnchecked() {\n      let withDemi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      return this.statsFlat.filter(v => {\n        return withDemi ? !v.checked : v.checked === false;\n      });\n    },\n\n    /**\r\n     * open all nodes\r\n     */\n    openAll() {\n      for (const stat of this.statsFlat) {\n        stat.open = true;\n      }\n    },\n\n    /**\r\n     * close all nodes\r\n     */\n    closeAll() {\n      for (const stat of this.statsFlat) {\n        stat.open = false;\n      }\n    },\n\n    openNodeAndParents(nodeOrStat) {\n      // @ts-ignore\n      const stat = nodeOrStat[\"isStat\"] ? nodeOrStat : this.getStat(nodeOrStat); // prettier-ignore\n\n      for (const parentStat of this.iterateParent(stat, {\n        withSelf: true\n      })) {\n        parentStat.open = true;\n      }\n    },\n\n    // actions\n    _calcFlatIndex(parent, index) {\n      let flatIndex = parent ? this.statsFlat.indexOf(parent) + 1 : 0;\n      const siblings = parent ? parent.children : this.stats;\n\n      for (let i = 0; i < index; i++) {\n        flatIndex += this._count(siblings[i]);\n      }\n\n      return flatIndex;\n    },\n\n    add(nodeData, parent, index) {\n      if (this.has(nodeData)) {\n        throw \"Can't add because data exists in tree\";\n      }\n\n      const siblings = parent ? parent.children : this.stats;\n\n      if (index == null) {\n        index = siblings.length;\n      }\n\n      const stat = this.statHandler({ ...statDefault(),\n        open: Boolean(this.defaultOpen),\n        data: nodeData,\n        parent: parent || null,\n        children: [],\n        level: parent ? parent.level + 1 : 1\n      });\n\n      this._setPosition(stat, parent || null, index);\n\n      const children = nodeData[this.childrenKey];\n\n      if (children) {\n        const childrenSnap = children.slice();\n\n        for (const child of childrenSnap) {\n          this.add(child, stat);\n        }\n      }\n    },\n\n    remove(stat) {\n      const siblings = this.getSiblings(stat);\n\n      if (siblings.includes(stat)) {\n        hp.arrayRemove(siblings, stat);\n\n        const stats = this._flat(stat);\n\n        this.statsFlat.splice(this.statsFlat.indexOf(stat), stats.length);\n\n        for (const stat of stats) {\n          this._statsMap.delete(stat.data);\n        }\n\n        this.afterRemoveStat(stat);\n        return true;\n      }\n\n      return false;\n    },\n\n    getSiblings(stat) {\n      const {\n        parent\n      } = stat;\n      return parent ? parent.children : this.stats;\n    },\n\n    /**\r\n     * The node should not exsit.\r\n     * @param node\r\n     * @param parent\r\n     * @param index\r\n     */\n    _setPosition(stat, parent, index) {\n      const siblings = parent ? parent.children : this.stats;\n      siblings.splice(index, 0, stat);\n      stat.parent = parent;\n      stat.level = parent ? parent.level + 1 : 1;\n\n      const flatIndex = this._calcFlatIndex(parent, index);\n\n      const stats = this._flat(stat);\n\n      this.statsFlat.splice(flatIndex, 0, ...stats);\n\n      for (const stat of stats) {\n        if (!this._statsMap.has(stat.data)) {\n          this._statsMap.set(stat.data, stat);\n        }\n      }\n\n      hp.walkTreeData(stat, (node, index, parent) => {\n        if (parent) {\n          node.level = parent.level + 1;\n        }\n      }, {\n        childrenKey: CHILDREN\n      });\n      this.afterSetStat(stat, parent, index);\n    },\n\n    *iterateParent(stat, opt) {\n      let t = opt !== null && opt !== void 0 && opt.withSelf ? stat : stat.parent;\n\n      while (t) {\n        yield t;\n        t = t.parent;\n      }\n    },\n\n    move(stat, parent, index) {\n      if (this.has(stat)) {\n        if (stat.parent === parent && this.getSiblings(stat).indexOf(stat) === index) {\n          return false;\n        } // check if is self\n\n\n        if (stat === parent) {\n          // 不允许移动目标为自己\n          throw new Error(\"Can't move node to it self\");\n        } // check if is descendant\n\n\n        if (parent && stat.level < parent.level) {\n          let t;\n\n          for (const item of this.iterateParent(parent)) {\n            if (item.level === stat.level) {\n              t = item;\n              break;\n            }\n          }\n\n          if (stat === t) {\n            // 不允许移动节点到其后代节点下\n            throw new Error(\"Can't move node to its descendant\");\n          }\n        }\n\n        this.remove(stat);\n      }\n\n      this._setPosition(stat, parent, index);\n\n      return true;\n    },\n\n    /**\r\n     * convert stat and its children to one-dimensional array\r\n     * 转换节点和其后代节点为一维数组\r\n     * @param stat\r\n     * @returns\r\n     */\n    _flat(stat) {\n      const r = [];\n      hp.walkTreeData(stat, child => {\n        r.push(child);\n      }, {\n        childrenKey: CHILDREN\n      });\n      return r;\n    },\n\n    /**\r\n     * get count of stat and its all children\r\n     * 统计节点和其后代节点数量\r\n     * @param stat\r\n     */\n    _count(stat) {\n      return this._flat(stat).length;\n    },\n\n    getData(filter, root) {\n      const {\n        childrenKey\n      } = this;\n      const td = new hp.TreeData([]);\n      td.childrenKey = childrenKey;\n      hp.walkTreeData(root || this.stats, (stat, index, parent, path) => {\n        let newData = { ...stat.data,\n          [childrenKey]: []\n        };\n\n        if (filter) {\n          // @ts-ignore\n          newData = filter(newData);\n        }\n\n        td.set(path, newData);\n      }, {\n        childrenKey: CHILDREN\n      });\n      return td.data;\n    }\n\n  };\n  const utils = utilsBase;\n\n  if (!utilsBase.noInitialization) {\n    utils.init();\n  }\n\n  return utils;\n}\nconst defaultOptions = {\n  childrenKey: \"children\",\n  defaultOpen: false,\n\n  statsHandler(stats) {\n    return stats;\n  },\n\n  statsFlatHandler(statsFlat) {\n    return statsFlat;\n  },\n\n  afterSetStat(stat, parent, index) {},\n\n  afterRemoveStat(stat) {},\n\n  statHandler(stat) {\n    return stat;\n  }\n\n};\nfunction statDefault() {\n  return {\n    isStat: true,\n    hidden: false,\n    checked: false,\n    style: null,\n    class: null,\n    draggable: null,\n    droppable: null\n  };\n}\n\nclass StatNotFoundError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"StatNotFoundError\";\n  }\n\n}\n\nexport { CHILDREN, defaultOptions, makeTreeProcessor, statDefault };\n", "/*!\n * drag-event-service v2.0.0\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: null\n * Released under the MIT License.\n */\nimport * as hp from 'helper-js';\n\n// support desktop and mobile\nconst events = {\n  start: [\"mousedown\", \"touchstart\"],\n  move: [\"mousemove\", \"touchmove\"],\n  end: [\"mouseup\", \"touchend\"]\n};\nconst DragEventService = {\n  isTouch(e) {\n    return e.type && e.type.startsWith(\"touch\");\n  },\n\n  _getStore(el) {\n    // @ts-ignore\n    if (!el._wrapperStore) {\n      // @ts-ignore\n      el._wrapperStore = [];\n    } // @ts-ignore\n\n\n    return el._wrapperStore;\n  },\n\n  on(el, name, handler, options) {\n    const {\n      args,\n      mouseArgs,\n      touchArgs\n    } = resolveOptions(options);\n\n    const store = this._getStore(el);\n\n    const ts = this;\n\n    const wrapper = function (e) {\n      let mouse;\n      const isTouch = ts.isTouch(e);\n\n      if (isTouch) {\n        // touch\n        mouse = {\n          x: e.changedTouches[0].pageX,\n          y: e.changedTouches[0].pageY,\n          pageX: e.changedTouches[0].pageX,\n          pageY: e.changedTouches[0].pageY,\n          clientX: e.changedTouches[0].clientX,\n          clientY: e.changedTouches[0].clientY,\n          screenX: e.changedTouches[0].screenX,\n          screenY: e.changedTouches[0].screenY\n        };\n      } else {\n        // mouse\n        mouse = {\n          x: e.pageX,\n          y: e.pageY,\n          pageX: e.pageX,\n          pageY: e.pageY,\n          clientX: e.clientX,\n          clientY: e.clientY,\n          screenX: e.screenX,\n          screenY: e.screenY\n        };\n\n        if (name === \"start\" && e.which !== 1) {\n          // not left button mousedown\n          return;\n        }\n      }\n\n      return handler.call(this, e, mouse);\n    };\n\n    store.push({\n      handler,\n      wrapper\n    }); // follow format will cause big bundle size\n    // 以下写法将会使打包工具认为hp是上下文, 导致打包整个hp\n    // hp.on(el, events[name][0], wrapper, ...args)\n\n    hp.on.call(null, el, events[name][0], wrapper, ...[...args, ...mouseArgs]);\n    hp.on.call(null, el, events[name][1], wrapper, ...[...args, ...touchArgs]);\n  },\n\n  off(el, name, handler, options) {\n    const {\n      args,\n      mouseArgs,\n      touchArgs\n    } = resolveOptions(options);\n\n    const store = this._getStore(el);\n\n    for (let i = store.length - 1; i >= 0; i--) {\n      const {\n        handler: handler2,\n        wrapper\n      } = store[i];\n\n      if (handler === handler2) {\n        hp.off.call(null, el, events[name][0], wrapper, ...[...args, ...mouseArgs]);\n        hp.off.call(null, el, events[name][1], wrapper, ...[...args, ...mouseArgs]);\n        store.splice(i, 1);\n      }\n    }\n  }\n\n};\n\nfunction resolveOptions(options) {\n  if (!options) {\n    options = {};\n  }\n\n  const args = options.args || [];\n  const mouseArgs = options.mouseArgs || [];\n  const touchArgs = options.touchArgs || [];\n  return {\n    args,\n    mouseArgs,\n    touchArgs\n  };\n}\n\nexport { DragEventService as default };\n", "/*!\n * @he-tree/dnd-utils v0.1.0-alpha.4\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: null\n * Released under the MIT License.\n */\nimport * as hp from 'helper-js';\nimport DragEventService from 'drag-event-service';\n\nconst instances = new Map();\nconst context = {\n  triggerElement: null,\n  dragElement: null,\n  internal: false,\n  dropEffect: \"none\",\n  preventDefault: false\n};\nconst ctx = context;\n\nfunction syncDropEffect(e) {\n  if (e.dataTransfer) {\n    e.dataTransfer.dropEffect = ctx.dropEffect;\n  }\n} //\n\n\nfunction extendedDND(root) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (instances.has(root)) {\n    throw \"Already registered on specified element\";\n  } // opt is same with thisInstance\n\n\n  const opt = { ...options\n  }; // clone options object\n\n  const ins = opt;\n  hp.objectAssignIfNoKey(opt, defaultOptions);\n  DragEventService.on(root, \"start\", beforeDragStart, {\n    touchArgs: [{\n      passive: true\n    }]\n  });\n  DragEventService.on(root, \"end\", onClickEnd); // methods\n\n  function beforeDragStart(e) {\n    var _opt$beforeDragStart;\n\n    const node = e.target; // only process element node\n\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      ctx.triggerElement = node;\n    }\n\n    const el = node; // if in ingoreHTMLTags\n\n    if (opt.ingoreHTMLTags && el.tagName) {\n      if (opt.ingoreHTMLTags.find(tag => tag.toUpperCase() === el.tagName)) {\n        return;\n      }\n    }\n\n    const dragElement = (_opt$beforeDragStart = opt.beforeDragStart) === null || _opt$beforeDragStart === void 0 ? void 0 : _opt$beforeDragStart.call(opt, e);\n\n    if (dragElement) {\n      dragElement.setAttribute(\"draggable\", \"true\");\n      ctx.dragElement = dragElement;\n    }\n  } // triggered when quick click\n\n\n  function onClickEnd(e) {\n    if (ctx.dragElement) {\n      ctx.dragElement.removeAttribute(\"draggable\");\n    }\n  }\n\n  function onDragStart(e) {\n    var _opt$onDragStart;\n\n    ctx.internal = true;\n    (_opt$onDragStart = opt.onDragStart) === null || _opt$onDragStart === void 0 ? void 0 : _opt$onDragStart.call(opt, e);\n    syncDropEffect(e);\n  }\n\n  function onDrag(e) {\n    var _opt$onDrag;\n\n    (_opt$onDrag = opt.onDrag) === null || _opt$onDrag === void 0 ? void 0 : _opt$onDrag.call(opt, e);\n    syncDropEffect(e);\n  }\n\n  function onDragEnd(e) {\n    var _opt$onDragEnd;\n\n    (_opt$onDragEnd = opt.onDragEnd) === null || _opt$onDragEnd === void 0 ? void 0 : _opt$onDragEnd.call(opt, e);\n    ctx.internal = false;\n\n    if (ctx.dragElement) {\n      ctx.dragElement.removeAttribute(\"draggable\");\n    }\n\n    ctx.triggerElement = null;\n    ctx.dragElement = null;\n    ctx.dropEffect = \"none\";\n  } // follow is called on target instance\n\n\n  const destroyDropZoneListeners = extendedDropZone(root, {\n    onDragLeave(e) {\n      var _opt$onDragLeave;\n\n      (_opt$onDragLeave = opt.onDragLeave) === null || _opt$onDragLeave === void 0 ? void 0 : _opt$onDragLeave.call(opt, e);\n      syncDropEffect(e);\n    },\n\n    onDragEnter(e) {\n      var _opt$onDragEnter;\n\n      ins.ifPreventDefault(e) && e.preventDefault();\n      (_opt$onDragEnter = opt.onDragEnter) === null || _opt$onDragEnter === void 0 ? void 0 : _opt$onDragEnter.call(opt, e);\n      syncDropEffect(e);\n    },\n\n    onDragOver(e) {\n      var _opt$onDragOver;\n\n      ins.ifPreventDefault(e) && e.preventDefault();\n      (_opt$onDragOver = opt.onDragOver) === null || _opt$onDragOver === void 0 ? void 0 : _opt$onDragOver.call(opt, e);\n      syncDropEffect(e);\n    },\n\n    onDrop(e) {\n      var _opt$onDrop;\n\n      ins.ifPreventDefault(e) && e.preventDefault();\n      (_opt$onDrop = opt.onDrop) === null || _opt$onDrop === void 0 ? void 0 : _opt$onDrop.call(opt, e);\n    },\n\n    onEnter(e) {\n      var _opt$onEnter;\n\n      (_opt$onEnter = opt.onEnter) === null || _opt$onEnter === void 0 ? void 0 : _opt$onEnter.call(opt, e);\n    },\n\n    onLeave(e) {\n      var _opt$onLeave;\n\n      (_opt$onLeave = opt.onLeave) === null || _opt$onLeave === void 0 ? void 0 : _opt$onLeave.call(opt, e);\n    }\n\n  });\n  hp.on(root, \"dragstart\", onDragStart);\n  hp.on(root, \"drag\", onDrag);\n  hp.on(root, \"dragend\", onDragEnd); // define the destroy function\n  // 定义销毁/退出的方法\n\n  const destroy = () => {\n    DragEventService.off(root, \"start\", beforeDragStart, {\n      touchArgs: [{\n        passive: true\n      }]\n    });\n    hp.off(root, \"dragstart\", onDragStart);\n    hp.off(root, \"drag\", onDrag);\n    hp.off(root, \"dragend\", onDragEnd);\n    destroyDropZoneListeners();\n    instances.delete(root);\n  };\n\n  Object.assign(opt, {\n    root,\n    destroy\n  });\n  instances.set(root, ins);\n  return ins;\n}\nconst defaultOptions = {\n  ingoreHTMLTags: [\"INPUT\", \"TEXTAREA\", \"SELECT\", \"OPTGROUP\", \"OPTION\"],\n\n  ifPreventDefault(event) {\n    if (context.dragElement) {\n      return true;\n    }\n\n    return ctx.preventDefault;\n  },\n\n  beforeDragStart(event) {},\n\n  onDragStart(event) {},\n\n  onDrag(event) {},\n\n  onDragEnter(event) {},\n\n  onDragLeave(event) {},\n\n  onDragOver(event) {},\n\n  onDragEnd(event) {},\n\n  onDrop(event) {}\n\n};\n/*\r\n## extendedDropZone\r\n为元素绑定DND相关事件。\r\n其中onEnter和onLeave不是原生事件。\r\nonEnter原理：\r\n使用变量表示是否进入，每次触发onDragEnter和onDragOver都会使该变量为真。\r\nonLeave原理：\r\n当进入子元素时，会依次触发onDragEnter和onDragLeave事件。onDragEnter时短暂记住事件target，onDragLeave检查是否刚刚触发onDragLeave事件，且事件target是子元素，否则触发onLeave。\r\n*/\n\nlet justEnteredTarget = null;\n\nconst setJustEnteredTarget = el => {\n  justEnteredTarget = el;\n  setTimeout(() => {\n    justEnteredTarget = null;\n  }, 20);\n};\n\nfunction extendedDropZone(el) {\n  let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const dropZone = el; // just rename\n\n  let entered = false;\n\n  const onEnter = e => {\n    var _opt$onEnter2;\n\n    entered = true;\n    (_opt$onEnter2 = opt.onEnter) === null || _opt$onEnter2 === void 0 ? void 0 : _opt$onEnter2.call(opt, e);\n    endListeners.resume();\n  };\n\n  const onDragEnter = e => {\n    var _opt$onDragEnter2;\n\n    setJustEnteredTarget(e.target);\n    (_opt$onDragEnter2 = opt.onDragEnter) === null || _opt$onDragEnter2 === void 0 ? void 0 : _opt$onDragEnter2.call(opt, e);\n\n    if (!entered) {\n      onEnter(e);\n    }\n  };\n\n  const onDragOver = e => {\n    var _opt$onDragOver2;\n\n    if (!entered) {\n      onEnter(e);\n    }\n\n    (_opt$onDragOver2 = opt.onDragOver) === null || _opt$onDragOver2 === void 0 ? void 0 : _opt$onDragOver2.call(opt, e);\n  };\n\n  const onDragLeave = e => {\n    var _opt$onDragLeave2;\n\n    (_opt$onDragLeave2 = opt.onDragLeave) === null || _opt$onDragLeave2 === void 0 ? void 0 : _opt$onDragLeave2.call(opt, e);\n\n    const doLeave = function () {\n      var _opt$onLeave2;\n\n      let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n      entered = false;\n      (_opt$onLeave2 = opt.onLeave) === null || _opt$onLeave2 === void 0 ? void 0 : _opt$onLeave2.call(opt, event);\n      endListeners.stop();\n    };\n\n    const justEnter = justEnteredTarget;\n    justEnteredTarget = null;\n\n    if (justEnter && hp.isDescendantOf(justEnter, dropZone)) ; else {\n      doLeave();\n    }\n  };\n\n  const onDrop = e => {\n    var _opt$onDrop2;\n\n    (_opt$onDrop2 = opt.onDrop) === null || _opt$onDrop2 === void 0 ? void 0 : _opt$onDrop2.call(opt, e);\n  };\n\n  const onEndBeforeLeave = e => {\n    var _opt$onEndBeforeLeave;\n\n    if (e instanceof KeyboardEvent) {\n      if (e.key !== \"Escape\") {\n        return;\n      }\n    }\n\n    entered = false;\n    endListeners.stop();\n    (_opt$onEndBeforeLeave = opt.onEndBeforeLeave) === null || _opt$onEndBeforeLeave === void 0 ? void 0 : _opt$onEndBeforeLeave.call(opt, e);\n  };\n\n  const endListeners = hp.extendedListen([[el, \"drop\", onEndBeforeLeave], [window, \"mouseup\", onEndBeforeLeave], [window, \"touchend\", onEndBeforeLeave], [window, \"keydown\", onEndBeforeLeave]]);\n  endListeners.stop();\n\n  const resume = () => {\n    hp.on(el, \"dragenter\", onDragEnter);\n    hp.on(el, \"dragover\", onDragOver);\n    hp.on(el, \"dragleave\", onDragLeave);\n    hp.on(el, \"drop\", onDrop);\n  };\n\n  const destroy = () => {\n    hp.off(el, \"dragenter\", onDragEnter);\n    hp.off(el, \"dragover\", onDragOver);\n    hp.off(el, \"dragleave\", onDragLeave);\n    hp.off(el, \"drop\", onDrop);\n    endListeners.stop();\n  };\n\n  resume();\n  return destroy;\n}\n\nexport { context, defaultOptions, extendedDND, extendedDropZone, instances };\n", "import { defineComponent as Q, computed as te, watch as ge, reactive as Y, isVue2 as re, isVue3 as Oe } from \"vue-demi\";\nimport * as h from \"helper-js\";\nimport { walkTreeData as ut } from \"helper-js\";\nimport Ne from \"@virtual-list/vue\";\nimport { openBlock as L, createElementBlock as E, normalizeClass as J, normalizeStyle as A, Fragment as ie, renderList as we, createCommentVNode as ye, createElementVNode as z, renderSlot as _, resolveComponent as ve, createBlock as Se, withCtx as X, createVNode as ke, createTextVNode as xe, toDisplayString as Le } from \"vue\";\nimport { makeTreeProcessor as $e, CHILDREN as me } from \"@he-tree/tree-utils\";\nimport { extendedDND as Be, context as R } from \"@he-tree/dnd-utils\";\n/*!\n * @he-tree/vue v2.9.3\n * Author: phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: https://hetree.phphe.com/\n * Released under the MIT License.\n */\nlet Z = !1;\nconst Ee = () => {\n  Z = !0, setTimeout(() => {\n    Z = !1;\n  }, 100);\n}, Ve = Q({\n  // components: {},\n  props: [\"stat\", \"rtl\", \"btt\", \"indent\", \"table\", \"treeLine\", \"treeLineOffset\", \"processor\"],\n  emits: [\"open\", \"close\", \"check\"],\n  setup(e, { emit: t }) {\n    const n = te(() => ({\n      [e.rtl ? \"paddingRight\" : \"paddingLeft\"]: e.indent * (e.stat.level - 1) + \"px\"\n    }));\n    ge(\n      () => e.stat.checked,\n      (y) => {\n        Z || e.processor.afterOneCheckChanged(e.stat) && t(\"check\", e.stat);\n      }\n    ), ge(\n      () => e.stat.open,\n      (y) => {\n        Z || (t(y ? \"open\" : \"close\", e.stat), Ee());\n      }\n    );\n    const l = te(() => {\n      const y = [], C = (o) => {\n        var c;\n        if (o.parent) {\n          let d = (c = o.parent) == null ? void 0 : c.children.indexOf(o);\n          do {\n            d++;\n            let g = o.parent.children[d];\n            if (g) {\n              if (!g.hidden)\n                return !0;\n            } else\n              break;\n          } while (!0);\n        }\n        return !1;\n      }, b = e.rtl ? \"right\" : \"left\", D = e.btt ? \"top\" : \"bottom\";\n      let i = e.stat;\n      for (; i; ) {\n        let o = (i.level - 2) * e.indent + e.treeLineOffset;\n        const c = C(i), d = () => {\n          y.push({\n            style: {\n              [b]: o + \"px\",\n              [D]: c ? 0 : \"50%\"\n            }\n          });\n        };\n        i === e.stat ? i.level > 1 && d() : c && d(), i = i.parent;\n      }\n      return y;\n    }), s = te(() => {\n      let y = (e.stat.level - 2) * e.indent + e.treeLineOffset;\n      return {\n        [e.rtl ? \"right\" : \"left\"]: y + \"px\"\n      };\n    });\n    return { indentStyle: n, vLines: l, hLineStyle: s };\n  }\n  // data() {\n  //   return {}\n  // },\n  // computed: {},\n  // watch: {},\n  // methods: {},\n  // created() {},\n  // mounted() {}\n}), se = (e, t) => {\n  const n = e.__vccOpts || e;\n  for (const [l, s] of t)\n    n[l] = s;\n  return n;\n}, Pe = { class: \"tree-node-inner\" }, Fe = {\n  key: 1,\n  class: \"tree-node\",\n  ref: \"el\"\n};\nfunction Ie(e, t, n, l, s, y) {\n  return e.table ? (L(), E(\"tr\", Fe, [\n    _(e.$slots, \"default\", { indentStyle: e.indentStyle })\n  ], 512)) : (L(), E(\"div\", {\n    key: 0,\n    class: J([\"tree-node\", { \"tree-node--with-tree-line\": e.treeLine }]),\n    style: A(e.indentStyle),\n    ref: \"el\"\n  }, [\n    e.treeLine ? (L(), E(ie, { key: 0 }, [\n      (L(!0), E(ie, null, we(e.vLines, (C) => (L(), E(\"div\", {\n        class: \"tree-line tree-vline\",\n        style: A(C.style)\n      }, null, 4))), 256)),\n      e.stat.level > 1 ? (L(), E(\"div\", {\n        key: 0,\n        class: \"tree-line tree-hline\",\n        style: A(e.hLineStyle)\n      }, null, 4)) : ye(\"\", !0)\n    ], 64)) : ye(\"\", !0),\n    z(\"div\", Pe, [\n      _(e.$slots, \"default\", { indentStyle: e.indentStyle })\n    ])\n  ], 6));\n}\nconst Re = /* @__PURE__ */ se(Ve, [[\"render\", Ie]]);\nfunction Ue(e, t = {}) {\n  const n = {\n    ...t,\n    statHandler(l) {\n      return this._statHandler2 && (l = this._statHandler2(l)), ne(t.statHandler, Y(l));\n    },\n    statsHandler(l) {\n      return ne(t.statsHandler, Y(l));\n    },\n    statsFlatHandler(l) {\n      return ne(t.statsFlatHandler, Y(l));\n    }\n  };\n  return $e(e, n);\n}\nfunction ne(e, t) {\n  return e ? e(t) : t;\n}\nconst _e = Q({\n  components: { VirtualList: Ne, TreeNode: Re },\n  props: {\n    // for vue2\n    value: { required: re, type: Array },\n    // for vue3\n    modelValue: { required: Oe, type: Array },\n    updateBehavior: {\n      type: String,\n      default: \"modify\"\n    },\n    processor: {\n      type: Object,\n      default: () => Ue([], {\n        noInitialization: !0\n      })\n    },\n    childrenKey: { type: String, default: \"children\" },\n    /**\n     * for default slot. 用于默认插槽\n     */\n    textKey: { type: String, default: \"text\" },\n    /**\n     * node indent. 节点缩进\n     */\n    indent: { type: Number, default: 20 },\n    /**\n     * Enable virtual list. 启用虚拟列表\n     */\n    virtualization: { type: Boolean, default: !1 },\n    /**\n     * Render count for virtual list at start. 虚拟列表初始渲染数量.\n     */\n    virtualizationPrerenderCount: { type: Number, default: 20 },\n    /**\n     * Open all nodes by default. 默认打开所有节点.\n     */\n    defaultOpen: { type: Boolean, default: !0 },\n    statHandler: { type: Function },\n    /**\n     * From right to left. 由右向左显示.\n     */\n    rtl: { type: Boolean, default: !1 },\n    /**\n     * From bottom to top. 由下向上显示\n     */\n    btt: { type: Boolean, default: !1 },\n    /**\n     * Display as table\n     */\n    table: { type: Boolean, default: !1 },\n    watermark: { type: Boolean, default: !1 },\n    nodeKey: {\n      type: [String, Function],\n      default: \"index\"\n    },\n    treeLine: { type: Boolean, default: !1 },\n    treeLineOffset: { type: Number, default: 8 }\n  },\n  emits: [\n    \"update:modelValue\",\n    \"click:node\",\n    \"open:node\",\n    \"close:node\",\n    \"check:node\",\n    \"beforeDragStart\",\n    \"before-drag-start\",\n    \"after-drop\",\n    \"change\",\n    \"enter\",\n    \"leave\"\n  ],\n  data() {\n    return {\n      stats: [],\n      statsFlat: [],\n      dragNode: null,\n      dragOvering: !1,\n      placeholderData: {},\n      placeholderColspan: 1,\n      batchUpdateWaiting: !1,\n      self: this,\n      _ignoreValueChangeOnce: !1\n    };\n  },\n  computed: {\n    valueComputed() {\n      return (re ? this.value : this.modelValue) || [];\n    },\n    visibleStats() {\n      const { statsFlat: e, isVisible: t } = this;\n      let n = e;\n      return this.btt && (n = n.slice(), n.reverse()), n.filter((l) => t(l));\n    },\n    rootChildren() {\n      return this.stats;\n    }\n  },\n  methods: {\n    _emitValue(e) {\n      this.$emit(re ? \"input\" : \"update:modelValue\", e);\n    },\n    /**\n     * private method\n     * @param value\n     */\n    _updateValue(e) {\n      return this.updateBehavior === \"disabled\" ? !1 : (e !== this.valueComputed && (this._ignoreValueChangeOnce = !0), this._emitValue(e), !0);\n    },\n    getStat: ae(\n      S(\"getStat\")\n    ),\n    has: ae(S(\"has\")),\n    updateCheck: S(\n      \"updateCheck\"\n    ),\n    getChecked: S(\n      \"getChecked\"\n    ),\n    getUnchecked: S(\n      \"getUnchecked\"\n    ),\n    openAll: S(\"openAll\"),\n    closeAll: S(\"closeAll\"),\n    openNodeAndParents: S(\n      \"openNodeAndParents\"\n    ),\n    isVisible: S(\"isVisible\"),\n    move: be(\"move\"),\n    add: ae(\n      be(\"add\")\n    ),\n    addMulti(e, t, n) {\n      this.batchUpdate(() => {\n        let l = n;\n        for (const s of e)\n          this.add(s, t, l), l != null && l++;\n      });\n    },\n    remove: S(\"remove\"),\n    removeMulti(e) {\n      let t = [...e];\n      this.batchUpdate(() => {\n        for (const n of t)\n          this.remove(n);\n      });\n    },\n    iterateParent: S(\n      \"iterateParent\"\n    ),\n    getSiblings: S(\n      \"getSiblings\"\n    ),\n    getData: S(\"getData\"),\n    getRootEl() {\n      return this.$refs.vtlist.listElRef;\n    },\n    batchUpdate(e) {\n      const t = this.ignoreUpdate(e);\n      return this.batchUpdateWaiting || this._updateValue(\n        this.updateBehavior === \"new\" ? this.getData() : this.valueComputed\n      ), t;\n    },\n    ignoreUpdate(e) {\n      const t = this.batchUpdateWaiting;\n      this.batchUpdateWaiting = !0;\n      const n = e();\n      return this.batchUpdateWaiting = t, n;\n    }\n  },\n  watch: {\n    processor: {\n      immediate: !0,\n      handler(e) {\n        if (e) {\n          const t = (n) => {\n            if (n) {\n              const { childrenKey: l } = this;\n              return n[l] || (n[l] = []), n[l];\n            } else\n              return this.valueComputed;\n          };\n          e._statHandler2 = this.statHandler ? (n) => n.data === this.placeholderData ? n : this.statHandler(n) : null, e.afterSetStat = (n, l, s) => {\n            const { childrenKey: y, updateBehavior: C } = this;\n            let b = this.valueComputed;\n            if (C === \"new\") {\n              if (this.batchUpdateWaiting)\n                return;\n              b = this.getData();\n            } else if (C === \"modify\") {\n              const D = t(l == null ? void 0 : l.data);\n              D.includes(n.data) || D.splice(s, 0, n.data);\n            }\n            this.batchUpdateWaiting || this._updateValue(b);\n          }, e.afterRemoveStat = (n) => {\n            var C;\n            const { childrenKey: l, updateBehavior: s } = this;\n            let y = this.valueComputed;\n            if (s === \"new\") {\n              if (this.batchUpdateWaiting)\n                return;\n              y = this.getData();\n            } else if (s === \"modify\") {\n              const b = t((C = n.parent) == null ? void 0 : C.data);\n              h.arrayRemove(b, n.data);\n            }\n            this.batchUpdateWaiting || this._updateValue(y);\n          };\n        }\n        e.initialized || (e.data = this.valueComputed, Object.assign(\n          e,\n          h.objectOnly(this, [\"childrenKey\", \"defaultOpen\"])\n        ), e.init(), e.updateCheck()), this.stats = e.stats, this.statsFlat = e.statsFlat, e.data !== this.valueComputed && this._updateValue(e.data);\n      }\n    },\n    valueComputed: {\n      handler(e) {\n        if (this.dragOvering || this.dragNode || this._ignoreValueChangeOnce)\n          this._ignoreValueChangeOnce = !1;\n        else {\n          const { processor: n } = this;\n          n.data = e, n.init(), this.stats = n.stats, this.statsFlat = n.statsFlat;\n        }\n      }\n    }\n  },\n  created() {\n  },\n  mounted() {\n    typeof window < \"u\" && (this.watermark === !1 && (window._heTreeWatermarkDisabled = !0), this.watermark && !window._heTreeWatermarkDisabled && (window._heTreeWatermark || (window._heTreeWatermark = !0, console.log(\n      \"%c[he-tree] Vue tree component:  https://hetree.phphe.com\",\n      \"color:#0075ff; font-size:14px;\"\n    ))));\n  }\n});\nfunction S(e) {\n  return function(...t) {\n    return this.processor[e](...t);\n  };\n}\nfunction be(e) {\n  return function(...t) {\n    return this.batchUpdate(() => this.processor[e](...t));\n  };\n}\nfunction ae(e) {\n  return function(t, ...n) {\n    return t && (t = Y(t)), e.call(this, t, ...n);\n  };\n}\nconst Me = {\n  key: 0,\n  class: \"drag-placeholder he-tree-drag-placeholder\"\n}, Te = [\"colspan\"], He = { class: \"drag-placeholder he-tree-drag-placeholder\" };\nfunction We(e, t, n, l, s, y) {\n  const C = ve(\"TreeNode\"), b = ve(\"VirtualList\");\n  return L(), Se(b, {\n    class: J([\"he-tree\", {\n      \"he-tree--rtl rtl\": e.rtl,\n      \"he-tree--drag-overing drag-overing\": e.dragOvering\n    }]),\n    ref: \"vtlist\",\n    items: e.visibleStats,\n    disabled: !e.virtualization,\n    table: e.table,\n    itemKey: e.nodeKey\n  }, {\n    prepend: X(() => [\n      _(e.$slots, \"prepend\", { tree: e.self })\n    ]),\n    default: X(({ item: D, index: i }) => [\n      ke(C, {\n        \"vt-index\": i,\n        class: J([\n          D.class,\n          {\n            \"drag-placeholder-wrapper\": D.data === e.placeholderData,\n            \"dragging-node\": D === e.dragNode\n          }\n        ]),\n        style: A(D.style),\n        stat: D,\n        rtl: e.rtl,\n        btt: e.btt,\n        indent: e.indent,\n        table: e.table,\n        treeLine: e.treeLine,\n        treeLineOffset: e.treeLineOffset,\n        processor: e.processor,\n        onClick: (o) => e.$emit(\"click:node\", D),\n        onOpen: t[0] || (t[0] = (o) => e.$emit(\"open:node\", o)),\n        onClose: t[1] || (t[1] = (o) => e.$emit(\"close:node\", o)),\n        onCheck: t[2] || (t[2] = (o) => e.$emit(\"check:node\", o))\n      }, {\n        default: X(({ indentStyle: o }) => [\n          D.data === e.placeholderData ? (L(), E(ie, { key: 0 }, [\n            e.table ? (L(), E(\"td\", {\n              key: 1,\n              style: A(o),\n              colspan: e.placeholderColspan\n            }, [\n              z(\"div\", He, [\n                _(e.$slots, \"placeholder\", { tree: e.self })\n              ])\n            ], 12, Te)) : (L(), E(\"div\", Me, [\n              _(e.$slots, \"placeholder\", { tree: e.self })\n            ]))\n          ], 64)) : _(e.$slots, \"default\", {\n            key: 1,\n            node: D.data,\n            stat: D,\n            indentStyle: o,\n            tree: e.self\n          }, () => [\n            xe(Le(D.data[e.textKey]), 1)\n          ])\n        ]),\n        _: 2\n      }, 1032, [\"vt-index\", \"class\", \"style\", \"stat\", \"rtl\", \"btt\", \"indent\", \"table\", \"treeLine\", \"treeLineOffset\", \"processor\", \"onClick\"])\n    ]),\n    append: X(() => [\n      _(e.$slots, \"append\", { tree: e.self })\n    ]),\n    _: 3\n  }, 8, [\"class\", \"items\", \"disabled\", \"table\", \"itemKey\"]);\n}\nconst Ke = /* @__PURE__ */ se(_e, [[\"render\", We]]);\nlet a = null, r = null, G, K, U, q, le, N, oe;\nconst lt = {\n  get startInfo() {\n    return G;\n  },\n  get targetInfo() {\n    return K;\n  },\n  get dragNode() {\n    return N;\n  },\n  get startTree() {\n    return a;\n  },\n  get targetTree() {\n    return r;\n  },\n  get closestNode() {\n    return oe;\n  }\n}, Ae = Q({\n  extends: Ke,\n  props: {\n    triggerClass: { type: [String, Array] },\n    disableDrag: Boolean,\n    disableDrop: Boolean,\n    eachDraggable: {\n      type: Function\n    },\n    eachDroppable: {\n      type: Function\n    },\n    rootDroppable: {\n      type: [Boolean, Function],\n      default: !0\n    },\n    /**\n     * open closed node when drag over\n     */\n    dragOpen: { type: Boolean, default: !0 },\n    dragOpenDelay: { type: Number, default: 0 },\n    /**\n     * e.g.: you can load children by ajax in the hook\n     */\n    beforeDragOpen: { type: Function },\n    resolveStartMovePoint: {\n      type: [String, Function]\n    },\n    /**\n     * if remove placeholder when drag leave a tree\n     */\n    keepPlaceholder: { type: Boolean },\n    /**\n     * prevent drop if greater than maxLevel\n     */\n    maxLevel: { type: Number },\n    /**\n     * copy when drag\n     */\n    dragCopy: { type: Boolean },\n    /**\n     * return new data when drag copy\n     */\n    dragCopyDataHandler: {\n      type: Function\n    },\n    onExternalDragOver: {\n      type: Function\n    },\n    externalDataHandler: {\n      type: Function\n    },\n    // hook of event HTML5 Drag and Drop API's dragstart event\n    ondragstart: {\n      type: Function\n    }\n  },\n  data() {\n    return {\n      treeDraggableInstance: null\n    };\n  },\n  computed: {},\n  methods: {\n    getNodeByElement(e) {\n      const t = e.getAttribute(\"vt-index\");\n      return t == null ? null : this.visibleStats[t];\n    },\n    isDraggable(e) {\n      if (this.disableDrag)\n        return !1;\n      if (e.draggable != null)\n        return e.draggable;\n      if (this.eachDraggable) {\n        const n = this.eachDraggable(e);\n        if (n != null)\n          return n;\n      }\n      const { parent: t } = e;\n      return t ? this.isDraggable(t) : !0;\n    },\n    isDroppable(e) {\n      if (this.disableDrop)\n        return !1;\n      if (!e)\n        return h.resolveValueOrGettter(this.rootDroppable, [this, a]);\n      if (e.droppable != null)\n        return e.droppable;\n      if (this.eachDroppable) {\n        const n = this.eachDroppable(e);\n        if (n != null)\n          return n;\n      }\n      const { parent: t } = e;\n      return t ? this.isDroppable(t) : !0;\n    },\n    _eachDroppable() {\n      var e;\n      return h.resolveValueOrGettter((e = this._isDragCopy) == null ? void 0 : e.call(this), [this]);\n    }\n  },\n  mounted() {\n    const e = (i, o) => {\n      let c = !0;\n      return a && a !== this && (c = c && this._isMoved), this.table && !this._isDragCopy && (c = c && this._isDragCopy), c && (i.x !== o.x || i.y !== o.y);\n    }, t = (i, o) => {\n      r.ignoreUpdate(() => {\n        if (!r.has(r.placeholderData)) {\n          if (r.table) {\n            let d = 0;\n            const g = r.getRootEl().querySelector(\"tr\");\n            if (g)\n              for (const {\n                value: v\n              } of h.iterateAll(g.children))\n                h.css(v, \"display\") !== \"none\" && (d += v.colSpan || 1);\n            d < 1 && (d = 1), r.placeholderColspan = d;\n          }\n          r.add(r.placeholderData);\n        }\n        const c = r.getStat(r.placeholderData);\n        r.move(c, i, o);\n      });\n    }, n = () => {\n      const i = this;\n      if (i.has(i.placeholderData))\n        return i.remove(i.getStat(i.placeholderData)), !0;\n    }, l = (i) => {\n      i ? R.dropEffect = a != null && a.dragCopy ? \"copy\" : \"move\" : R.dropEffect = \"none\";\n    }, s = (i) => {\n      const o = this;\n      i ? l(!0) : o.keepPlaceholder ? o.has(o.placeholderData) || l(!1) : (n(), l(!1));\n    };\n    let y = { x: 0, y: 0 };\n    const C = this.getRootEl();\n    let b = null;\n    const D = () => {\n      r != null && r.has(r.placeholderData) && r.ignoreUpdate(() => {\n        r.remove(r.getStat(r.placeholderData)), a && (a.dragNode.hidden = !1, a.dragOvering = !1);\n      });\n    };\n    this.treeDraggableInstance = Be(C, {\n      beforeDragStart: (i) => {\n        if (!R.triggerElement)\n          return;\n        let o = this.triggerClass;\n        (!o || o.length === 0) && (o = \"tree-node\");\n        let c = h.toArrayIfNot(o), d = h.findParent(\n          R.triggerElement,\n          (g) => {\n            if (h.hasClassIn(g, c))\n              return !0;\n            if (h.hasClass(g, \"tree-node\"))\n              return \"break\";\n          },\n          { withSelf: !0, until: C }\n        );\n        if (b = h.findParent(\n          d,\n          (g) => {\n            if (h.hasClass(g, \"tree-node\"))\n              return !0;\n          },\n          { withSelf: !0, until: C }\n        ), !!b) {\n          if (N = this.getNodeByElement(b), !N)\n            throw \"Can't find drag node\";\n          if (this.isDraggable(N))\n            return this.$emit(\"before-drag-start\", N), this.$emit(\"beforeDragStart\", N), C;\n        }\n      },\n      onDragStart: (i) => {\n        var g, v, u;\n        if (!b || !N)\n          return;\n        {\n          const { x: p, y: k } = b.getBoundingClientRect(), { clientX: m, clientY: V } = i;\n          (g = i.dataTransfer) == null || g.setDragImage(\n            b,\n            m - p,\n            V - k\n          );\n        }\n        le = { x: i.clientX, y: i.clientY }, a = this, a.dragNode = N, q = (() => {\n          if (this.resolveStartMovePoint === \"mouse\")\n            return { x: i.clientX, y: i.clientY };\n          if (typeof this.resolveStartMovePoint == \"function\")\n            return this.resolveStartMovePoint(b);\n          {\n            let p, k = 0;\n            if (this.table) {\n              let m = b.getBoundingClientRect();\n              p = { x: m.x, y: m.y }, this.rtl && (p.x = m.right), k = m.height;\n            } else if (!this.rtl)\n              p = b.children[0].getBoundingClientRect().toJSON(), k = p.height;\n            else {\n              const m = b.children[0].getBoundingClientRect();\n              p = {\n                x: m.right,\n                y: m.y\n              }, k = m.height;\n            }\n            return this.btt && (p.y += k), p;\n          }\n        })(), this.dragOvering = !0;\n        const c = a.getSiblings(a.dragNode), d = c.indexOf(N);\n        G = {\n          tree: a,\n          dragNode: N,\n          parent: N.parent,\n          siblings: c,\n          indexBeforeDrop: d\n        }, r = this, (v = i.dataTransfer) == null || v.setData(\n          \"text\",\n          `he-tree drag start at ${(/* @__PURE__ */ new Date()).toISOString()}`\n        ), a._eachDroppable() || setTimeout(() => {\n          N.hidden = !0, t(N.parent, d + 1);\n        }, 0), (u = this.ondragstart) == null || u.call(this, i);\n      },\n      // onDragEnter, onDragLeave, onDragOver, onDrop execute on target tree\n      onEnter: (i) => {\n        this.$emit(\"enter\", i);\n      },\n      onLeave: (i) => {\n        U = null, this.dragOvering = !1, R.preventDefault = !1, n(), this.$emit(\"leave\", i);\n      },\n      onDragOver: h.applyFinally(\n        (i) => {\n          if (!a) {\n            if (!this.onExternalDragOver || this.onExternalDragOver(i) === !1)\n              return;\n            R.preventDefault = !0;\n          }\n          const o = { x: i.clientX, y: i.clientY }, c = e(o, y);\n          if (y = o, !c)\n            return;\n          this.dragOvering = !0, r = this;\n          const d = q ? {\n            x: q.x + (o.x - le.x),\n            y: q.y + (o.y - le.y)\n          } : { ...o }, { btt: g, rtl: v } = r;\n          if (r.disableDrop) {\n            R.dropEffect = \"none\";\n            return;\n          }\n          let u, p;\n          const k = r.getRootEl().querySelectorAll(\".tree-node\"), m = [];\n          k.forEach((f) => {\n            !h.hasClassIn(f, [\n              \"drag-placeholder-wrapper\",\n              \"dragging-node\"\n            ]) && h.css(f, \"display\") !== \"none\" && m.push(f);\n          });\n          const V = h.binarySearch(\n            m,\n            (f) => h.getBoundingClientRect(f)[g ? \"bottom\" : \"top\"] - d.y,\n            { returnNearestIfNoHit: !0 }\n          );\n          let O = null, F, ee;\n          V.hit || (V.greater ? g || (O = V.index - 1, m[O] || O++) : g && (O = V.index + 1, m[O] || O--)), O == null && (O = V.index), F = m[O], ee = g ? m[O - 1] : m[O + 1], u = F && r.getNodeByElement(F), p = ee && r.getNodeByElement(ee);\n          const { indent: j } = r, $ = h.cacheFunction(() => {\n            if (r.table) {\n              let f = h.getBoundingClientRect(F).toJSON();\n              const x = j * (u.level - 1);\n              return v ? (f.width -= x, f.right -= x) : f.x += x, f;\n            } else\n              return h.getBoundingClientRect(F.firstElementChild);\n          }).action, de = h.cacheFunction(() => g ? d.y > $().y + $().height / 2 : d.y < $().y + $().height / 2).action, De = h.cacheFunction(() => g ? !F || O === m.length - 1 && de() : !F || O === 0 && de()).action, ue = h.cacheFunction(\n            () => v ? d.x - ($().x + $().width) : $().x - d.x\n          ).action, Ce = h.cacheFunction(\n            () => v ? d.x < $().x + $().width - j : d.x > $().x + j\n          ).action;\n          let P;\n          if (De())\n            P = 1, u = null;\n          else if (u)\n            ue() > 0 ? P = u.level - Math.ceil(ue() / j) : Ce() ? P = u.level + 1 : P = u.level;\n          else return;\n          p && P < p.level && (P = p.level), (async () => {\n            let f, x, I = !1, M = null;\n            const H = async (w) => {\n              if (w.open)\n                return !0;\n              if (r.dragOpen)\n                if (r.dragOpenDelay)\n                  if (M = w, U === w)\n                    I = !0;\n                  else {\n                    let B = h.promisePin();\n                    U = w;\n                    const T = w;\n                    return setTimeout(async () => {\n                      T !== U ? (I = !0, B.resolve(!0)) : (r.beforeDragOpen && await r.beforeDragOpen(w), T !== U ? (I = !0, B.resolve(!0)) : (w.open = !0, M = null, B.resolve(!0)));\n                    }, r.dragOpenDelay), await B.promise;\n                  }\n                else\n                  return r.beforeDragOpen && await r.beforeDragOpen(w), w.open = !0, !0;\n              else\n                return !1;\n            }, W = async () => {\n              if (r.isDroppable(u) && await H(u)) {\n                if (I)\n                  return;\n                f = u, x = null;\n              } else\n                return !1;\n            }, he = (w = P) => {\n              let B = u, T = [];\n              for (; B && B.level >= w; )\n                B = B.parent || null, T.unshift(B);\n              let ce = 0;\n              for (const pe of T) {\n                if (r.isDroppable(pe))\n                  return f = pe, x = T[ce + 1] || u, !0;\n                ce++;\n              }\n              return !1;\n            };\n            oe = u || null, u ? P > u.level ? await W() === !1 && he(u.level) : he() === !1 && await W() : r.isDroppable(null) && (f = null), U = M;\n            const fe = !!(!I && (f || f === null));\n            return {\n              cancelled: I,\n              success: fe,\n              parent: f,\n              index: fe ? x ? (f ? f.children : r.stats).filter((w) => w.data !== r.placeholderData).indexOf(x) + 1 : 0 : -1\n            };\n          })().then((f) => {\n            if (!f.cancelled) {\n              if (!f.success) {\n                s(!1);\n                return;\n              }\n              if (r.maxLevel != null && r.maxLevel > 0) {\n                let x = 1;\n                if (a) {\n                  const M = a.dragNode;\n                  let H = 0;\n                  h.walkTreeData(\n                    M,\n                    (W) => {\n                      W.level > H && (H = W.level);\n                    },\n                    {\n                      childrenKey: me\n                    }\n                  ), x = H - M.level + 1;\n                }\n                if (x + (f.parent ? f.parent.level : 0) > r.maxLevel) {\n                  s(!1);\n                  return;\n                }\n              }\n              s(!0), t(f.parent, f.index);\n            }\n          });\n        },\n        () => {\n        }\n      ),\n      onDrop: (i) => {\n        r = this;\n        const o = !a;\n        if (!r)\n          return;\n        const c = a == null ? void 0 : a.dragNode;\n        let d, g = (() => {\n          var u;\n          let v = !0;\n          if (!r.has(r.placeholderData))\n            v = !1;\n          else if (o)\n            d = (u = this.externalDataHandler) == null ? void 0 : u.call(this, i), v = d != null;\n          else if (!a.dragCopy) {\n            const p = r.getStat(\n              r.placeholderData\n            );\n            a === r && p.parent === c.parent && (h.findTreeData(c, (k) => k === p), me);\n          }\n          return v;\n        })();\n        if (g) {\n          const v = r.getStat(r.placeholderData), u = r.getSiblings(v);\n          K = {\n            tree: r,\n            dragNode: c,\n            parent: v.parent,\n            siblings: u,\n            indexBeforeDrop: u.indexOf(v)\n          };\n        }\n        (() => {\n          if (D(), g) {\n            let v = K.indexBeforeDrop;\n            a && !a.dragCopy && a === r && G.parent == K.parent && G.indexBeforeDrop < v && v--, a && a !== r && !a._eachDroppable() && a.batchUpdate(() => {\n              a.remove(c), a.updateCheck();\n            }), r.batchUpdate(() => {\n              let u = a == null ? void 0 : a.dragNode, p;\n              d ? p = d : a._eachDroppable() && (p = h.cloneTreeData(a.dragNode.data, {\n                childrenKey: a.childrenKey\n              }), a.dragCopyDataHandler && (p = a.dragCopyDataHandler(p))), p && (r.add(p), u = r.getStat(p)), r.move(u, K.parent, v), r.updateCheck();\n            });\n          }\n          r.$emit(\"after-drop\"), g && (a && (a.dragCopy || a.$emit(\"change\")), r !== a && r.$emit(\"change\"));\n        })();\n      },\n      onDragEnd: (i) => {\n        D(), a && (a.dragNode && (a.dragNode.hidden = !1), a.dragNode = null, a.dragOvering = !1, a = null), r = null, U = null, N = null, oe = null;\n      }\n    });\n  },\n  unmounted() {\n    var e;\n    (e = this.treeDraggableInstance) == null || e.destroy();\n  }\n}), ze = Q({\n  props: {\n    open: { type: Boolean }\n  }\n}), je = /* @__PURE__ */ z(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, [\n  /* @__PURE__ */ z(\"title\", null, \"chevron-right\"),\n  /* @__PURE__ */ z(\"path\", { d: \"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" })\n], -1), Xe = [\n  je\n];\nfunction qe(e, t, n, l, s, y) {\n  return L(), E(\"a\", {\n    class: J([\"he-tree__open-icon\", { open: e.open }])\n  }, Xe, 2);\n}\nconst it = /* @__PURE__ */ se(ze, [[\"render\", qe]]);\nfunction ot(e, t) {\n  try {\n    return {\n      mixins: [Ae],\n      created: new Function(Ye(e, t))()\n    };\n  } catch {\n    throw new Error(\"he-tree-pro: wrong secret key\");\n  }\n}\nfunction Ye(e, t) {\n  e = encodeURIComponent(e), e.length % 2 === 1 && (e += \"h\"), e = e.split(\"\").reverse().join(\"\"), t = atob(t);\n  for (let n = 0; n < e.length; n += 2) {\n    const l = e[n], s = e[n + 1];\n    t = Ge(t, l, s);\n  }\n  return Je(\n    \"arb=inowc=ocmet;etrnfucton){are=1,=tistr{evod !=b}ath(){e&(c_htreWtemak=)=e,._sMve=(=>._eteeatrmrkd.israCoy=)=d.abe,._acDrppbl=(=>.dagop)}\",\n    t\n  );\n}\nfunction Ge(e, t, n) {\n  let l = \"\";\n  for (let s = 0; s < e.length; s++) {\n    const y = e[s];\n    y === t ? l += n : y === n ? l += t : l += y;\n  }\n  return l;\n}\nfunction Je(e, t) {\n  let n = 0, l = \"\";\n  for (; ; ) {\n    let s;\n    if (s = n, s >= t.length || (l += t[s], s = n * 2, s >= e.length) || (l += e[s], s += 1, s >= e.length))\n      break;\n    l += e[s], n++;\n  }\n  return l;\n}\nexport {\n  Ke as BaseTree,\n  Ae as Draggable,\n  it as OpenIcon,\n  Re as TreeNode,\n  lt as context,\n  lt as dragContext,\n  ot as pro,\n  ut as walkTreeData\n};\n"],
  "mappings": "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",
  "names": ["r", "r", "r", "path", "r", "args", "r", "r", "r", "U", "N", "Z", "K", "ne", "q", "a", "r", "S", "le", "data", "r", "stat", "index", "parent", "opt", "defaultOptions", "be", "de", "ce", "fe"]
}

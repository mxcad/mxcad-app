(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{68:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(0),a=n(9),u=n(1),c=n(2),o=Object(r.eb)(""),s=Object(r.eb)(0),i=a.tc.isShow,b=a.tc.showDialog,l=a.tc.confirm,f=a.tc.onReveal,p=a.tc.onConfirm;f((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e.text&&(o.value=e.text),"number"==typeof e.angle&&(s.value=Object(a.Bd)(THREE.MathUtils.radToDeg(e.angle),2))}));var d=function(){var e=Object(a.B)(a.C.mark((function e(){var t,n,r,c,o,s;return a.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.ob).setMessage(Object(a.zd)("2105")+":"),t.setCursorType(u.E.kCross),e.next=1,t.go();case 1:if(n=e.sent){e.next=2;break}return e.abrupt("return");case 2:return(r=new u.zb).setMessage(Object(a.zd)("2106")+":"),e.next=3,r.go();case 3:if(null!==(c=e.sent)){e.next=4;break}return e.abrupt("return");case 4:return o=p((function(e){var t=new u.sb;t.textString=e.text,t.position=new u.wb(n),t.alignmentPoint=t.position,t.height=c,t.rotation=e.angle,u.n.getCurrentMxCAD().drawEntity(t),u.n.getCurrentMxCAD().updateDisplay(),s()})),s=o.off,e.next=5,b(!0,{text:"测试"});case 5:s();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.B)(a.C.mark((function e(){var t,n,r,c,o,s,i,l;return a.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.p).AddMcDbEntityTypes("TEXT,MTEXT,CUSTOMENTITY"),(n=new u.x).setFilter(t),n.setMessage(Object(a.zd)("2107")),e.next=1,n.go();case 1:if((r=e.sent).isValid()){e.next=2;break}return e.abrupt("return");case 2:if(c=r.getMcDbEntity()){e.next=3;break}return e.abrupt("return");case 3:if(!(c instanceof u.sb)){e.next=5;break}return o=c.textString,s=c.rotation,i=p((function(e){c.textString=e.text,c.rotation=e.angle,u.n.getCurrentMxCAD().updateDisplay(),l()})),l=i.off,e.next=4,b(!0,{text:o,angle:s});case 4:l(),e.next=6;break;case 5:(c instanceof u.qb||c instanceof u.g)&&Object(a.uc)(r,n.pickPoint());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.Pb)("Mx_EditText",O),Object(a.Pb)("_DrawText",(function(){d()}));var j={class:"px-3"},x={class:"px-2"},v={class:""},g={class:""};const w=Object(r.db)({__name:"index",setup:function(e){Object(r.hb)(i,(function(e){e||(o.value="",s.value=0)}));var t=function(){l({text:o.value,angle:THREE.MathUtils.degToRad(s.value)}),o.value=""},n=[{name:"确定",fun:function(){t()},primary:!0},{name:"关闭",fun:function(){return b(!1)}}],u={esc:function(){return b(!1)},enter:function(){t()}};return function(e,t){return Object(r.nb)(),Object(r.lb)(a.r,{title:e.t("227"),"max-width":"480",modelValue:Object(r.f)(i),"onUpdate:modelValue":t[2]||(t[2]=function(e){return Object(r.s)(i)?i.value=e:null}),footerBtnList:n,persistent:"",keys:u},{default:Object(r.vb)((function(){return[Object(r.kb)("div",j,[Object(r.C)(a.w,{title:e.t("2109")},{default:Object(r.vb)((function(){return[Object(r.kb)("div",x,[Object(r.C)(c.N,{class:"mt-1",modelValue:Object(r.f)(o),"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(r.s)(o)?o.value=e:null}),autofocus:"",rows:"3","no-resize":""},{prepend:Object(r.vb)((function(){return[Object(r.kb)("span",v,Object(r.sb)(e.t("2039"))+":",1)]})),_:1},8,["modelValue"]),Object(r.C)(c.Y,{class:"mt-1 w-50",modelValue:Object(r.f)(s),"onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(r.s)(s)?s.value=e:null}),type:"number"},{prepend:Object(r.vb)((function(){return[Object(r.kb)("span",g,Object(r.sb)(e.t("1931"))+":",1)]})),_:1},8,["modelValue"])])]})),_:1},8,["title"])])]})),_:1},8,["title","modelValue"])}}})}}]);
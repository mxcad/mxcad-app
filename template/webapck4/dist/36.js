(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{41:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var c=n(9),u=n(0),a=n(1),l=n(2),b={class:"px-3"},r={class:"d-flex algin-center mt-2 w-75"},o={class:""},i={class:""},s={class:""},d={class:""};const j=Object(u.db)({__name:"index",setup:function(e){var t=c.z.isShow,n=c.z.showDialog,j=Object(u.eb)(1),O=Object(u.gb)({x:0,y:0}),f=Object(c.pd)(!1,"Mx_AttachPictureDialog_isGetPt"),m=Object(c.pd)(!1,"Mx_AttachPictureDialog_isGetZoomRatio"),p=Object(c.pd)(!1,"Mx_AttachPictureDialog_isGetRotationAngle"),v=Object(u.eb)(1),w=Object(u.eb)(0),V=[{name:"确定",fun:function(){var e=Object(c.B)(c.C.mark((function e(){var t,u,l,b,r,o,i,s,d,V,C,h;return c.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.a.value){e.next=1;break}return e.abrupt("return");case 1:if(""!==c.a.value.url){e.next=2;break}return e.abrupt("return",Object(c.nd)().warning(Object(c.zd)("请先选择图片")));case 2:if(n(!1),t=a.n.getCurrentMxCAD(),!f.value){e.next=5;break}return(u=new a.ob).setMessage(Object(c.zd)("指定插入点")),e.next=3,u.go();case 3:if(l=e.sent){e.next=4;break}return e.abrupt("return");case 4:O.x=l.x,O.y=l.y;case 5:if(!m.value){e.next=8;break}return b=new a.ob,r=new a.wb(O.x,O.y),b.setBasePt(r),b.setMessage(Object(c.zd)("指定缩放比例")),b.setUserDraw((function(e,t){var n=e.distanceTo(r)/c.H.width,u=c.H.width*n,a=c.H.height*n,l=new THREE.Vector3(r.x+u,r.y+a);t.drawRect(r.toVector3(),l)})),e.next=6,b.go();case 6:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:v.value=Object(c.I)(o.distanceTo(r)/c.H.width,3);case 8:if(!p.value){e.next=11;break}return(i=new a.ub).setMessage(Object(c.zd)("指定旋转角度")),s=new a.wb(O.x,O.y),i.setBasePt(s),e.next=9,i.go();case 9:if(d=e.sent){e.next=10;break}return e.abrupt("return");case 10:i.getDetailedResult()===a.e.kCoordIn?w.value=Object(c.I)(d,3):w.value=Object(c.I)(d/(Math.PI/180),3);case 11:V=t.drawImage(O.x,O.y,c.H.width*v.value,c.H.height*v.value,w.value,c.a.value.fileName||c.a.value.url,!0,c.H.width,c.H.height),(C=V.getMcDbEntity())&&(h=C.trueColor,C.trueColor=new a.C(h.red,h.green,h.blue,255*j.value));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),primary:!0},{name:"关闭",fun:function(){return n(!1)}}];return function(e,n){return Object(u.nb)(),Object(u.lb)(c.r,{title:e.t("1922"),modelValue:Object(u.f)(t),"onUpdate:modelValue":n[13]||(n[13]=function(e){return Object(u.s)(t)?t.value=e:null}),"max-width":"600",footerBtnList:V},{default:Object(u.vb)((function(){return[Object(u.kb)("div",b,[Object(u.kb)("div",r,[Object(u.C)(l.lb,{class:"mt-1 mr-2","return-object":"","item-title":"fileName","item-value":"url",items:Object(u.f)(c.A),modelValue:Object(u.f)(c.a),"onUpdate:modelValue":[n[0]||(n[0]=function(e){return Object(u.s)(c.a)?c.a.value=e:null}),n[1]||(n[1]=function(e){return Object(u.f)(c.E)(e)})],modelModifiers:{lazy:!0}},{prepend:Object(u.vb)((function(){return[Object(u.kb)("span",o,[Object(u.pb)(Object(u.sb)(e.t("1923"))+"(",1),n[14]||(n[14]=Object(u.kb)("span",{class:"text-decoration-underline"},"N",-1)),n[15]||(n[15]=Object(u.pb)(") "))])]})),_:1},8,["items","modelValue"]),Object(u.C)(c.F,{onClick:n[2]||(n[2]=function(e){return Object(u.f)(c.G)(Object(u.f)(c.z))})},{default:Object(u.vb)((function(){return[Object(u.C)(c.v,{"key-name":"B"},{default:Object(u.vb)((function(){return[Object(u.pb)(Object(u.sb)(e.t("1924")),1)]})),_:1}),n[16]||(n[16]=Object(u.pb)()),Object(u.C)(l.C,{icon:"class:iconfont more"})]})),_:1})]),Object(u.C)(l.e,{"align-stretch":"",class:"mt-2"},{default:Object(u.vb)((function(){return[Object(u.C)(l.d,{cols:8,"align-self":"auto"},{default:Object(u.vb)((function(){return[Object(u.C)(c.w,{title:e.t("1925"),class:"h-100"},{default:Object(u.vb)((function(){var e;return[Object(u.C)(l.X,{src:null===(e=Object(u.f)(c.a))||void 0===e?void 0:e.url,crossorigin:"anonymous",height:"425px"},null,8,["src"])]})),_:1},8,["title"])]})),_:1}),Object(u.C)(l.d,{cols:4,"align-self":"auto"},{default:Object(u.vb)((function(){return[Object(u.C)(c.w,{title:e.t("209")},{default:Object(u.vb)((function(){return[Object(u.C)(l.Z,{modelValue:Object(u.f)(f),"onUpdate:modelValue":n[3]||(n[3]=function(e){return Object(u.s)(f)?f.value=e:null})},{label:Object(u.vb)((function(){return[Object(u.C)(c.v,{"key-name":"S"},{default:Object(u.vb)((function(){return[Object(u.pb)(Object(u.sb)(e.t("1927")),1)]})),_:1})]})),_:1},8,["modelValue"]),Object(u.C)(l.Y,{class:"mt-1",modelValue:O.x,"onUpdate:modelValue":n[4]||(n[4]=function(e){return O.x=e}),disabled:Object(u.f)(f)},{prepend:Object(u.vb)((function(){return n[17]||(n[17]=[Object(u.kb)("span",{class:""}," X:",-1)])})),_:1},8,["modelValue","disabled"]),Object(u.C)(l.Y,{class:"mt-1",modelValue:O.y,"onUpdate:modelValue":n[5]||(n[5]=function(e){return O.y=e}),disabled:Object(u.f)(f)},{prepend:Object(u.vb)((function(){return n[18]||(n[18]=[Object(u.kb)("span",{class:""}," Y:",-1)])})),_:1},8,["modelValue","disabled"])]})),_:1},8,["title"]),Object(u.C)(c.w,{title:e.t("1928")},{default:Object(u.vb)((function(){return[Object(u.C)(l.Z,{modelValue:Object(u.f)(m),"onUpdate:modelValue":n[6]||(n[6]=function(e){return Object(u.s)(m)?m.value=e:null})},{label:Object(u.vb)((function(){return[Object(u.C)(c.v,{"key-name":"S"},{default:Object(u.vb)((function(){return[Object(u.pb)(Object(u.sb)(e.t("1927")),1)]})),_:1})]})),_:1},8,["modelValue"]),Object(u.C)(l.Y,{class:"mt-1 ml-1",type:"number",disabled:Object(u.f)(m),modelValue:v.value,"onUpdate:modelValue":n[7]||(n[7]=function(e){return v.value=e})},null,8,["disabled","modelValue"])]})),_:1},8,["title"]),Object(u.C)(c.w,{title:e.t("1929")},{default:Object(u.vb)((function(){return[Object(u.C)(l.Y,{class:"mt-1",type:"number",modelValue:Object(u.f)(c.H).width,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Object(u.f)(c.H).width=e})},{prepend:Object(u.vb)((function(){return[Object(u.kb)("span",i,Object(u.sb)(e.t("1930"))+":",1)]})),_:1},8,["modelValue"]),Object(u.C)(l.Y,{class:"mt-1",type:"number",modelValue:Object(u.f)(c.H).height,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Object(u.f)(c.H).height=e})},{prepend:Object(u.vb)((function(){return[Object(u.kb)("span",s,Object(u.sb)(e.t("1835"))+":",1)]})),_:1},8,["modelValue"])]})),_:1},8,["title"]),Object(u.C)(c.w,{title:e.t("1931")},{default:Object(u.vb)((function(){return[Object(u.C)(l.Z,{class:"",modelValue:Object(u.f)(p),"onUpdate:modelValue":n[10]||(n[10]=function(e){return Object(u.s)(p)?p.value=e:null})},{label:Object(u.vb)((function(){return[Object(u.C)(c.v,{"key-name":"S"},{default:Object(u.vb)((function(){return[Object(u.pb)(Object(u.sb)(e.t("1927")),1)]})),_:1})]})),_:1},8,["modelValue"]),Object(u.C)(l.Y,{class:"mt-1",type:"number",modelValue:w.value,"onUpdate:modelValue":n[11]||(n[11]=function(e){return w.value=e}),disabled:Object(u.f)(p)},{prepend:Object(u.vb)((function(){return[Object(u.kb)("span",d,Object(u.sb)(e.t("169"))+":",1)]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["title"]),Object(u.C)(c.w,{title:e.t("1932")},{default:Object(u.vb)((function(){return[Object(u.C)(l.g,{modelValue:j.value,"onUpdate:modelValue":n[12]||(n[12]=function(e){return j.value=e}),max:1,min:0,step:.2,"thumb-label":""},null,8,["modelValue"])]})),_:1},8,["title"])]})),_:1})]})),_:1})])]})),_:1},8,["title","modelValue"])}}})}}]);
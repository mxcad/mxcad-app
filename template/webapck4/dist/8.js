(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{29:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),a=n(1);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,b=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){b=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(b)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){e.sort((function(e,t){return e.minPt.y===t.minPt.y?e.minPt.x-t.minPt.x:e.minPt.y-t.minPt.y}));var t,n=[],r=c(e);try{for(r.s();!(t=r.n()).done;){var a,u=t.value,o=!0,b=c(n);try{for(b.s();!(a=b.n()).done;){var i=a.value;if(u.minPt.x>=i.minPt.x&&u.minPt.y>=i.minPt.y&&u.maxPt.x<=i.maxPt.x&&u.maxPt.y<=i.maxPt.y){o=!1;break}}}catch(e){b.e(e)}finally{b.f()}o&&n.push(u)}}catch(e){r.e(e)}finally{r.f()}return n}var b=function(){var e=Object(r.B)(r.C.mark((function e(t){var n,c,u,o,b,i,s,l,f,d,p,v;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(n=t||{}).blockName,u=n.isSpecifiedRange,o=void 0!==u&&u,b=n.layerName,i=[],s=c){e.next=5;break}return e.next=1,a.lb.userSelect(Object(r.zd)("3603"));case 1:if(0!==(l=e.sent).length){e.next=2;break}return e.abrupt("return",i);case 2:if((f=l[0].getMcDbEntity())instanceof a.nb){e.next=3;break}return Object(r.nd)().error(Object(r.zd)("3604")),e.abrupt("return",i);case 3:if(d=f.blockTableRecordId.getMcDbBlockTableRecord()){e.next=4;break}return e.abrupt("return",i);case 4:s=d.name;case 5:if(p=new a.pb,(v=new a.p).AddMcDbEntityTypes("INSERT"),!o){e.next=7;break}return e.next=6,p.userSelect(Object(r.zd)("2322"),v);case 6:e.next=8;break;case 7:p.allSelect(v);case 8:return p.forEach((function(e){var t=e.getMcDbEntity();if(t instanceof a.nb){var n=t,r=n.blockTableRecordId.getMcDbBlockTableRecord();if(b&&n.layer!==b)return;if(r&&r.name===s){var c=n.getBoundingBox(),u=c.minPt,o=c.maxPt,l=new a.wb(Math.min(u.x,o.x),Math.min(u.y,o.y),Math.min(u.z,o.z)),f=new a.wb(Math.max(u.x,o.x),Math.max(u.y,o.y),Math.max(u.z,o.z));i.push({minPt:l,maxPt:f})}}})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r.B)(r.C.mark((function e(t){var n,c,u,b,i,s,l,f,d,p,v,j,O;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(n=t||{}).isSpecifiedRange,u=void 0===c||c,b=n.layerName,i=[],!u){e.next=2;break}return e.next=1,a.lb.userSelect(Object(r.zd)("3754"));case 1:i=e.sent,e.next=3;break;case 2:s=new a.pb,(l=new a.p).AddMcDbEntityTypes("LWPOLYLINE"),s.allSelect(l),i=s.getIds();case 3:return f=[],d=function(e,t,n){return(t.x-e.x)*(t.x-n.x)+(t.y-e.y)*(t.y-n.y)==0},p=function(e,t,n,r){return d(e,t,n)},v=function(e){if(e instanceof a.xb){if(b&&e.layer!==b)return;var t=e.numVerts();if(0===t||(e.isClosed?t>4:t>5))return;for(var n=0;n<t;n++){if(e.getBulgeAt(n)>.001)return}var r=e.getPointAt(0).val;if(p(r,e.getPointAt(1).val,e.getPointAt(2).val,e.isClosed||e.getPointAt(3).val)){var c=e.getBoundingBox(),u=c.minPt,o=c.maxPt;f.push({minPt:u,maxPt:o})}}},j=function(e){var t=e.blockTableRecordId.getMcDbBlockTableRecord();t&&t.getAllEntityId().forEach((function(e){var t=e.getMcDbEntity();t&&(t instanceof a.xb&&v(t),t instanceof a.nb&&j(t))}))},i.forEach((function(e){var t=e.getMcDbEntity();if(t instanceof a.xb)v(t);else if(t instanceof a.nb){if(b&&t.layer!==b)return;j(t)}})),O=o(f).filter((function(e){var t=e.minPt,n=e.maxPt,r=new a.pb;return r.imp.userSelect(t.x,t.y,n.x,n.y,Object(a.gb)(),!1),0!==r.count()})),e.abrupt("return",O);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(r.B)(r.C.mark((function e(t){var n,a,c,u,o,s;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=t||{}).method,c=void 0===a?"polyline":a,u=n.blockName,o=n.isSpecifiedRange,s=n.layerName,"block"!==c){e.next=1;break}return e.abrupt("return",b({blockName:u,isSpecifiedRange:o,layerName:s}));case 1:return e.abrupt("return",i({isSpecifiedRange:o,layerName:s}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},46:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(9),a=n(0),c=n(1),u=n(29),o=n(5),b=n(2);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){o=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(o)throw c}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={key:0,class:"d-flex align-center"},f={class:"d-flex"},d={class:"position-relative"},p={class:"d-flex align-center justify-space-between"},v={class:"ml-2 multi-select-actions"},j={class:"d-flex flex-wrap justify-space-start overflow-y-auto",style:{"max-height":"340px"}},O=["onClick"],x={class:"cut-box-actions"},m={class:"cut-box-jump"},y={key:0,class:"cut-box-filename"},h={class:"cut-box-add ma-2"};const k=Object(a.db)({__name:"index",setup:function(e){var t=[{name:"全部导出",primary:!0,fun:function(){return E()}},{name:"关闭",fun:function(){w.value=[],Object(r.vb)(!1)}}],n=Object(a.eb)(!1);Object(a.hb)(n,(function(e){e||w.value.forEach((function(e){e.selected=!1}))}));var s=[{name:"批量删除",icon:"delete",color:"error",fun:function(){w.value=w.value.filter((function(e){return!e.selected})),k.value=!1}},{name:"批量导出",icon:"lingcunweiDWG",color:"primary",fun:function(){return C.apply(this,arguments)}}],k=Object(a.eb)(!1),w=Object(a.eb)([]);function g(){var e=w.value.some((function(e){return!e.selected}));w.value.forEach((function(t){t.selected=e})),k.value=!1}function C(){return(C=Object(r.B)(r.C.mark((function e(){var t,n,a,c,u,o,b;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,r.wb.hasPath(V.value);case 2:if(e.sent){e.next=3;break}return Object(r.nd)().error(Object(r.zd)("3717")),e.abrupt("return");case 3:if(0!==w.value.length){e.next=4;break}return Object(r.nd)().error(Object(r.zd)("3718")),e.abrupt("return");case 4:t=w.value.map((function(e,t){return e.selected?t:-1})).filter((function(e){return-1!==e})),n=[],a=i(t),e.prev=5,a.s();case 6:if((c=a.n()).done){e.next=10;break}return u=c.value,w.value[u].exportStatus="ready",e.next=7,D(u);case 7:return o=e.sent,k.value=!1,e.next=8,new Promise((function(e){return setTimeout(e,500)}));case 8:o&&n.push(u);case 9:e.next=6;break;case 10:e.next=12;break;case 11:e.prev=11,b=e.catch(5),a.e(b);case 12:return e.prev=12,a.f(),e.finish(12);case 13:0===n.length?Object(r.nd)().error(Object(r.zd)("3719")):Object(r.nd)().success(Object(r.zd)("3720")),k.value=!1;case 14:case"end":return e.stop()}}),e,null,[[5,11,12,13]])})))).apply(this,arguments)}Object(a.hb)(n,(function(){k.value=!1}));var _=Object(a.eb)("manual"),z=Object(a.eb)("");var S=Object(a.eb)(!1),P=function(){var e=Object(r.B)(r.C.mark((function e(t,n){return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a=c.n.getCurrentMxCAD();a.setAttribute({ShowCoordinate:!1});var u=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);if(u<1||o<1)return e(void 0);var b,i;u<=800?(b=u,i=o):(b=800,i=o/u*800),a.mxdraw.createCanvasImageData((function(t){e(t),a.setAttribute({ShowCoordinate:!0})}),{width:b,height:i,range_pt1:t.toVector3(),range_pt2:n.toVector3()})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function M(e,t){!function(e){return w.value.some((function(t){var n=.001,r=Math.abs(parseFloat(t.param.bd_pt1_x)-parseFloat(e.bd_pt1_x))<n,a=Math.abs(parseFloat(t.param.bd_pt1_y)-parseFloat(e.bd_pt1_y))<n,c=Math.abs(parseFloat(t.param.bd_pt2_x)-parseFloat(e.bd_pt2_x))<n,u=Math.abs(parseFloat(t.param.bd_pt2_y)-parseFloat(e.bd_pt2_y))<n;return r&&a&&c&&u}))}(t)?(w.value.push({imgBase64:e,param:t,exportStatus:"ready",selected:!1}),k.value=!0):Object(r.nd)().info(Object(r.zd)("3721"))}var V=Object(a.eb)(""),D=function(){var e=Object(r.B)(r.C.mark((function e(t){var n,a,u,o,b,i,s,l,f,d,p;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,r.wb.hasPath(V.value);case 2:if(e.sent){e.next=3;break}return Object(r.nd)().error(Object(r.zd)("3717")),e.abrupt("return");case 3:if(!(t<0||t>=w.value.length)){e.next=4;break}return e.abrupt("return");case 4:c.n.getCurrentMxCAD().mxdraw.getTempMarkDraw().clear(),(n=w.value[t]).exportStatus="exporting",e.next=11;break;case 6:if(!e.sent){e.next=7;break}return n.exportStatus="success",n.fileName=void 0,e.abrupt("return",!0);case 7:n.exportStatus="error",n.fileName="";case 8:e.next=10;break;case 9:e.prev=9,d=e.catch(5),n.exportStatus="error",console.error("导出DWG失败:",d);case 10:e.next=15;break;case 11:return a=Object(r.e)()||{},u=a.baseUrl,o=void 0===u?"":u,b=a.mxfilepath,i=void 0===b?"":b,s=a.cutDwgUrl,l=void 0===s?"":s,f="".concat((new Date).getTime(),"_").concat(t,".dwg"),e.prev=12,e.next=13,new Promise((function(e,t){c.n.getCurrentMxCAD().saveFileToUrl(l,(function(r,a){try{var u=JSON.parse(a);if("ok"==u.ret){var b=o+i+u.file;c.k.downloadFileFromUrl(b,f),n.exportStatus="success",n.fileName=f,e()}else console.error("导出DWG失败:",a),n.exportStatus="error",t(new Error(a))}catch(e){console.error("导出DWG错误:",e),n.exportStatus="error",t(e)}}),void 0,JSON.stringify(n.param))}));case 13:e.next=15;break;case 14:e.prev=14,p=e.catch(12),console.error("导出过程中发生错误:",p),n.exportStatus="error";case 15:case"end":return e.stop()}}),e,null,[[5,9],[12,14]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(r.B)(r.C.mark((function e(){var t,n,a;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==w.value.length){e.next=1;break}return Object(r.nd)().error(Object(r.zd)("3718")),e.abrupt("return");case 1:e.next=4;break;case 2:return e.next=3,r.wb.hasPath(V.value);case 3:if(e.sent){e.next=4;break}return Object(r.nd)().error(Object(r.zd)("3717")),e.abrupt("return");case 4:t=[],n=0;case 5:if(!(n<w.value.length)){e.next=9;break}return w.value[n].exportStatus="ready",e.next=6,D(n);case 6:return a=e.sent,k.value=!1,e.next=7,new Promise((function(e){return setTimeout(e,500)}));case 7:a&&t.push(n);case 8:n++,e.next=5;break;case 9:0===t.length?Object(r.nd)().error(Object(r.zd)("3719")):Object(r.nd)().success(Object(r.zd)("3722")),k.value=!1;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t,r=t,a=new c.wb(e.minPt.x-n,e.minPt.y-r,e.minPt.z),u=new c.wb(e.maxPt.x+n,e.maxPt.y+r,e.maxPt.z);return{minPt:a,maxPt:u}}var B=function(){var e=Object(r.B)(r.C.mark((function e(){var t,n,a,c,o,b,s,l,f,d;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Object(u.a)({method:"polyline",isSpecifiedRange:!S.value,layerName:R()});case 1:if(0!==(t=e.sent).length){e.next=2;break}return Object(r.nd)().error(Object(r.zd)("3723")),e.abrupt("return");case 2:n=i(t),e.prev=3,n.s();case 4:if((a=n.n()).done){e.next=9;break}if(c=a.value){e.next=5;break}return e.abrupt("continue",8);case 5:return o=A(c),b=o.minPt,s=o.maxPt,e.next=6,P(b,s);case 6:if(l=e.sent){e.next=7;break}return e.abrupt("continue",8);case 7:f={bd_pt1_x:""+b.x,bd_pt1_y:""+b.y,bd_pt2_x:""+s.x,bd_pt2_y:""+s.y},M(l,f);case 8:e.next=4;break;case 9:e.next=11;break;case 10:e.prev=10,d=e.catch(3),n.e(d);case 11:return e.prev=11,n.f(),e.finish(11);case 12:case"end":return e.stop()}}),e,null,[[3,10,11,12]])})));return function(){return e.apply(this,arguments)}}(),T=Object(a.eb)(""),R=function(){return""!==T.value?T.value:void 0},N=Object(o.d)(Object(r.Dd)()).list,I=Object(a.fb)((function(){return N.value.map((function(e){return e.name}))}));function F(){return U.apply(this,arguments)}function U(){return(U=Object(r.B)(r.C.mark((function e(){var t,n,a,u,o;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.vb)(!1),e.prev=1,(t=new c.x).setMessage(Object(r.zd)("3724")),e.next=2,t.go();case 2:if((n=e.sent).isValid()){e.next=3;break}return Object(r.nd)().warning(Object(r.zd)("3725")),e.abrupt("return");case 3:if(a=n.getMcDbEntity()){e.next=4;break}return Object(r.nd)().warning(Object(r.zd)("3726")),e.abrupt("return");case 4:if(u=a.layer){e.next=5;break}return Object(r.nd)().warning(Object(r.zd)("3727")),e.abrupt("return");case 5:T.value=u,Object(r.nd)().success(Object(r.zd)("3728")+u),e.next=7;break;case 6:e.prev=6,o=e.catch(1),console.error("获取图层名失败:",o),Object(r.nd)().error(Object(r.zd)("3729"));case 7:return e.prev=7,Object(r.vb)(!0),e.finish(7);case 8:case"end":return e.stop()}}),e,null,[[1,6,7,8]])})))).apply(this,arguments)}function L(){return W.apply(this,arguments)}function W(){return(W=Object(r.B)(r.C.mark((function e(){var t,n,a,u,o;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.vb)(!1),e.prev=1,(t=new c.x).setMessage(Object(r.zd)("3730")),e.next=2,t.go();case 2:if((n=e.sent).isValid()){e.next=3;break}return Object(r.nd)().warning(Object(r.zd)("3725")),e.abrupt("return");case 3:if(a=n.getMcDbEntity()){e.next=4;break}return Object(r.nd)().warning(Object(r.zd)("3726")),e.abrupt("return");case 4:if(!(a instanceof c.nb)){e.next=6;break}if(u=a.blockName){e.next=5;break}return Object(r.nd)().warning(Object(r.zd)("3731")),e.abrupt("return");case 5:z.value=u,Object(r.nd)().success(Object(r.zd)("3732")+u),e.next=7;break;case 6:Object(r.nd)().warning(Object(r.zd)("3733"));case 7:e.next=9;break;case 8:e.prev=8,o=e.catch(1),console.error("获取图块名失败:",o),Object(r.nd)().error(Object(r.zd)("3734"));case 9:return e.prev=9,Object(r.vb)(!0),e.finish(9);case 10:case"end":return e.stop()}}),e,null,[[1,8,9,10]])})))).apply(this,arguments)}var H=function(){var e=Object(r.B)(r.C.mark((function e(){var t,n,a,c,o,b,s,l,f,d;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==z.value){e.next=1;break}return Object(r.nd)().error(Object(r.zd)("3587")),e.abrupt("return");case 1:return e.next=2,Object(u.a)({method:"block",blockName:""!==z.value?z.value:void 0,isSpecifiedRange:!S.value,layerName:R()});case 2:if(0!==(t=e.sent).length){e.next=3;break}return Object(r.nd)().error(Object(r.zd)("3723")),e.abrupt("return");case 3:n=i(t),e.prev=4,n.s();case 5:if((a=n.n()).done){e.next=10;break}if(c=a.value){e.next=6;break}return e.abrupt("continue",9);case 6:return o=A(c),b=o.minPt,s=o.maxPt,e.next=7,P(b,s);case 7:if(l=e.sent){e.next=8;break}return e.abrupt("continue",9);case 8:f={bd_pt1_x:""+b.x,bd_pt1_y:""+b.y,bd_pt2_x:""+s.x,bd_pt2_y:""+s.y},M(l,f);case 9:e.next=5;break;case 10:e.next=12;break;case 11:e.prev=11,d=e.catch(4),n.e(d);case 12:return e.prev=12,n.f(),e.finish(12);case 13:case"end":return e.stop()}}),e,null,[[4,11,12,13]])})));return function(){return e.apply(this,arguments)}}();function G(){return J.apply(this,arguments)}function J(){return(J=Object(r.B)(r.C.mark((function e(){var t;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("block"!==_.value||""!==z.value){e.next=1;break}return Object(r.nd)().error(Object(r.zd)("3587")),e.abrupt("return");case 1:Object(r.vb)(!1),e.prev=2,t=_.value,e.next="polyline"===t?3:"block"===t?5:7;break;case 3:return e.next=4,B();case 4:return e.abrupt("continue",9);case 5:return e.next=6,H();case 6:return e.abrupt("continue",9);case 7:return e.next=8,Y();case 8:return e.abrupt("continue",9);case 9:return e.prev=9,Object(r.vb)(!0),e.finish(9);case 10:case"end":return e.stop()}}),e,null,[[2,,9,10]])})))).apply(this,arguments)}function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(r.B)(r.C.mark((function e(){var t,n,a,u,o,b,i,s,l;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new c.ob).clearLastInputPoint(),t.setMessage(Object(r.zd)("3589")),e.next=1,t.go();case 1:if(n=e.sent){e.next=2;break}return e.abrupt("return");case 2:return t.setMessage(Object(r.zd)("3590")),t.setUserDraw((function(e,t){t.setColor(16711680);var r=new c.xb;r.addVertexAt(n),r.addVertexAt(new c.wb(n.x,e.y)),r.addVertexAt(e),r.addVertexAt(new c.wb(e.x,n.y)),r.constantWidth=c.hb.screenCoordLong2Doc(2),r.isClosed=!0,t.drawMcDbEntity(r);var a=[];a.push(n.toVector3()),a.push(new THREE.Vector3(n.x,e.y)),a.push(e.toVector3()),a.push(new THREE.Vector3(e.x,n.y)),t.setColor(12868),t.drawSolid(a,.5)})),t.setDisableOsnap(!0),t.setDisableOrthoTrace(!0),t.setDynamicInputType(c.Cb.kXYCoordInput),e.next=3,t.go();case 3:if(a=e.sent){e.next=4;break}return e.abrupt("return");case 4:return u={minPt:new c.wb(Math.min(n.x,a.x),Math.min(n.y,a.y),Math.min(n.z,a.z)),maxPt:new c.wb(Math.max(n.x,a.x),Math.max(n.y,a.y),Math.max(n.z,a.z))},o=A(u),b=o.minPt,i=o.maxPt,s={bd_pt1_x:""+b.x,bd_pt1_y:""+b.y,bd_pt2_x:""+i.x,bd_pt2_y:""+i.y},e.next=5,P(b,i);case 5:if(l=e.sent){e.next=6;break}return e.abrupt("return");case 6:M(l,s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(){z.value="",T.value="",w.value=[],Object(r.vb)(!1)},q={esc:$},K=function(){var e=Object(r.B)(r.C.mark((function e(){var t;return r.C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,r.wb.showDirSelectBox(V.value);case 1:(t=e.sent)&&(V.value=t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,u){var o=Object(a.J)("scroll-bottom");return Object(a.nb)(),Object(a.lb)(r.r,{title:Object(a.f)(r.zd)("1990"),modelValue:Object(a.f)(r.ub),"onUpdate:modelValue":u[7]||(u[7]=function(e){return Object(a.s)(r.ub)?r.ub.value=e:null}),"max-width":"610",footerBtnList:t,keys:q,onClickClose:$},{default:Object(a.vb)((function(){return[Object(a.f)(r.q)()?(Object(a.nb)(),Object(a.bb)("div",l,[Object(a.C)(b.Y,{modelValue:V.value,"onUpdate:modelValue":u[0]||(u[0]=function(e){return V.value=e}),class:"flex-grow-1 mr-2"},{prepend:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(Object(a.f)(r.zd)("3735"))+": ",1)]})),_:1},8,["modelValue"]),Object(a.C)(r.F,{small:"",onClick:K},{default:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(Object(a.f)(r.zd)("3736")),1)]})),_:1})])):Object(a.rb)("",!0),Object(a.kb)("div",f,[Object(a.C)(r.w,{title:Object(a.f)(r.zd)("3591"),class:"mr-2"},{default:Object(a.vb)((function(){return[Object(a.C)(b.r,{modelValue:_.value,"onUpdate:modelValue":u[1]||(u[1]=function(e){return _.value=e}),inline:!1},{default:Object(a.vb)((function(){return[Object(a.C)(b.t,{value:"manual",label:Object(a.f)(r.zd)("3592")},null,8,["label"]),Object(a.C)(b.t,{value:"polyline",class:"mt-2",label:Object(a.f)(r.zd)("3593")},null,8,["label"]),Object(a.C)(b.t,{value:"block",class:"mt-2",label:Object(a.f)(r.zd)("3594")},null,8,["label"])]})),_:1},8,["modelValue"])]})),_:1},8,["title"]),Object(a.C)(r.w,{title:Object(a.f)(r.zd)("3737")},{default:Object(a.vb)((function(){return[Object(a.C)(b.Z,{modelValue:S.value,"onUpdate:modelValue":u[2]||(u[2]=function(e){return S.value=e}),label:Object(a.f)(r.zd)("3738"),disabled:"manual"===_.value},null,8,["modelValue","label","disabled"]),Object(a.C)(b.lb,{modelValue:z.value,"onUpdate:modelValue":u[3]||(u[3]=function(e){return z.value=e}),class:"mt-2",items:Object(a.f)(r.rb)(),disabled:"block"!==_.value,clearable:""},{prepend:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(Object(a.f)(r.zd)("3739"))+": ",1)]})),append:Object(a.vb)((function(){return[Object(a.C)(r.x,{text:Object(a.f)(r.zd)("3740"),onClick:L},null,8,["text"])]})),_:1},8,["modelValue","items","disabled"]),Object(a.C)(b.lb,{class:"mt-2",modelValue:T.value,"onUpdate:modelValue":u[4]||(u[4]=function(e){return T.value=e}),items:I.value,disabled:"manual"===_.value,clearable:""},{prepend:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(Object(a.f)(r.zd)("3741"))+": ",1)]})),append:Object(a.vb)((function(){return[Object(a.C)(r.x,{text:Object(a.f)(r.zd)("3742"),onClick:F},null,8,["text"])]})),_:1},8,["modelValue","items","disabled"])]})),_:1},8,["title"])]),Object(a.C)(r.w,{title:Object(a.f)(r.zd)("3597"),class:"mt-2",style:{"min-height":"420px"}},{default:Object(a.vb)((function(){return[Object(a.kb)("div",d,[Object(a.kb)("div",p,[Object(a.C)(b.K,{class:"ml-4",modelValue:n.value,"onUpdate:modelValue":u[5]||(u[5]=function(e){return n.value=e}),label:n.value?Object(a.f)(r.zd)("3743"):Object(a.f)(r.zd)("3744"),density:"compact",color:"primary","hide-details":""},null,8,["modelValue","label"]),Object(a.kb)("div",v,[Object(a.C)(r.F,{small:"",onClick:g,disabled:0===w.value.length||!n.value},{default:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(w.value.some((function(e){return!e.selected}))?Object(a.f)(r.zd)("1871"):Object(a.f)(r.zd)("3745")),1)]})),_:1},8,["disabled"]),(Object(a.nb)(),Object(a.bb)(a.g,null,Object(a.cb)(s,(function(e,t){return Object(a.C)(r.F,{small:"",disabled:!(w.value.filter((function(e){return e.selected})).length>0),key:t,class:"ml-1",onClick:e.fun},{default:Object(a.vb)((function(){return[Object(a.pb)(Object(a.sb)(e.name),1)]})),_:2},1032,["disabled","onClick"])})),64))])]),Object(a.C)(b.V,{class:"mb-2"}),Object(a.yb)((Object(a.nb)(),Object(a.bb)("div",j,[(Object(a.nb)(!0),Object(a.bb)(a.g,null,Object(a.cb)(w.value,(function(e,t){return Object(a.nb)(),Object(a.bb)("div",{key:t,class:Object(a.ob)(["cut-box-container ma-2",{"selected-box":e.selected}])},[Object(a.kb)("div",{class:"cut-box bg-black",style:Object(a.mb)({backgroundImage:"url(".concat(e.imgBase64,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}),onClick:function(e){return n.value&&function(e){if(n.value){var t=w.value[e];t.selected=!t.selected,k.value=!1}}(t)}},[Object(a.kb)("div",{class:Object(a.ob)(["cut-box-status",["ready"===e.exportStatus?"status-ready":"exporting"===e.exportStatus?"status-exporting":"success"===e.exportStatus?"status-success":"status-error"]])},[n.value?(Object(a.nb)(),Object(a.lb)(b.Z,{key:0,style:{"--v-selection-control-size":"24px","margin-left":"2px","margin-top":"1.5px"},modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},color:"primary",onClick:u[6]||(u[6]=Object(a.xb)((function(){}),["stop"]))},null,8,["modelValue","onUpdate:modelValue"])):(Object(a.nb)(),Object(a.bb)(a.g,{key:1},["ready"===e.exportStatus?(Object(a.nb)(),Object(a.lb)(b.C,{key:0,size:"small"},{default:Object(a.vb)((function(){return u[8]||(u[8]=[Object(a.pb)("pending")])})),_:1})):"exporting"===e.exportStatus?(Object(a.nb)(),Object(a.lb)(b.h,{key:1,indeterminate:"",size:"16",width:"2",color:"white"})):"success"===e.exportStatus?(Object(a.nb)(),Object(a.lb)(b.C,{key:2,color:"success",size:"small"},{default:Object(a.vb)((function(){return u[9]||(u[9]=[Object(a.pb)("class:iconfont gou")])})),_:1})):Object(a.rb)("",!0)],64))],2),Object(a.kb)("div",x,[Object(a.C)(b.R,{text:Object(a.f)(r.zd)("205"),location:"top"},{activator:Object(a.vb)((function(e){var n=e.props;return[Object(a.C)(b.w,Object(a.ub)({ref_for:!0},n,{icon:"",variant:"outlined",color:"error",class:"delete-btn",onClick:function(e){return function(e){w.value.splice(e,1),k.value=!1}(t)}}),{default:Object(a.vb)((function(){return[Object(a.C)(b.C,{size:"14"},{default:Object(a.vb)((function(){return u[10]||(u[10]=[Object(a.pb)("cha")])})),_:1})]})),_:2},1040,["onClick"])]})),_:2},1032,["text"]),Object(a.C)(b.R,{text:"ready"===e.exportStatus?Object(a.f)(r.zd)("3598"):"exporting"===e.exportStatus?Object(a.f)(r.zd)("3599"):"success"===e.exportStatus?Object(a.f)(r.zd)("3600"):Object(a.f)(r.zd)("3601"),location:"top"},{activator:Object(a.vb)((function(n){var r=n.props;return[Object(a.C)(b.w,Object(a.ub)({ref_for:!0},r,{icon:"",variant:"outlined",color:"success"===e.exportStatus?"success":"error"===e.exportStatus?"warning":"primary",class:"export-btn",disabled:"exporting"===e.exportStatus,loading:"exporting"===e.exportStatus,onClick:function(e){return D(t)}}),{default:Object(a.vb)((function(){return[Object(a.C)(b.C,{size:"14"},{default:Object(a.vb)((function(){return u[11]||(u[11]=[Object(a.pb)("lingcunweiDWG")])})),_:1})]})),_:2},1040,["color","disabled","loading","onClick"])]})),_:2},1032,["text"])]),Object(a.kb)("div",m,[Object(a.C)(b.R,{text:Object(a.f)(r.zd)("3746"),location:"top"},{activator:Object(a.vb)((function(e){var n=e.props;return[Object(a.C)(b.w,Object(a.ub)({ref_for:!0},n,{icon:"",variant:"outlined",color:"info",class:"jump-btn",onClick:function(e){return function(e){var t=w.value[e];if(t){var n=parseFloat(t.param.bd_pt1_x),a=parseFloat(t.param.bd_pt1_y),u=parseFloat(t.param.bd_pt2_x),o=parseFloat(t.param.bd_pt2_y),b=Math.abs(u-n),i=Math.abs(o-a),s=.2,l=n-b*s,f=a-i*s,d=u+b*s,p=o+i*s;Object(r.vb)(!1);var v=c.n.getCurrentMxCAD();v.zoomW(new c.wb(l,f),new c.wb(d,p));var j=v.mxdraw.getTempMarkDraw();j.clear();var O=new THREE.Vector3(n,a,0),x=new THREE.Vector3(u,a,0),m=new THREE.Vector3(u,o,0),y=new THREE.Vector3(n,o,0),h=c.j.createLines([O,x,m,y,O],16711680);j.drawEntity(h),v.updateDisplay(),setTimeout((function(){Object(r.nd)().warning(Object(r.zd)("4317")),document.addEventListener("click",(function(){j.clear(),Object(r.vb)(!0)}),{once:!0})}))}}(t)}}),{default:Object(a.vb)((function(){return[Object(a.C)(b.C,{size:"14"},{default:Object(a.vb)((function(){return u[12]||(u[12]=[Object(a.pb)("chuangkousuofang")])})),_:1})]})),_:2},1040,["onClick"])]})),_:2},1032,["text"])])],12,O),e.fileName?(Object(a.nb)(),Object(a.bb)("div",y,Object(a.sb)(e.fileName),1)):Object(a.rb)("",!0)],2)})),128)),Object(a.kb)("div",h,[Object(a.C)(b.R,{text:Object(a.f)(r.zd)("3602"),location:"top"},{activator:Object(a.vb)((function(e){var t=e.props;return[Object(a.C)(b.w,Object(a.ub)({class:"add-btn"},t,{variant:"outlined",color:"primary",onClick:G}),{default:Object(a.vb)((function(){return[Object(a.C)(b.C,{size:"36"},{default:Object(a.vb)((function(){return u[13]||(u[13]=[Object(a.pb)("class:iconfont plus")])})),_:1})]})),_:2},1040)]})),_:1},8,["text"])])])),[[o,k.value]])])]})),_:1},8,["title"])]})),_:1},8,["title","modelValue"])}}}),w=Object(r.s)(k,[["__scopeId","data-v-0be22789"]])}}]);
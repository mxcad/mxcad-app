"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[107],{1107:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(8741),r=n(8159),u=n(1157),o=n(3673);function i(e,t,n,a){var r=Math.abs(a.x-n.x),u=Math.abs(a.y-n.y);return e/r<t/u?r/e:u/t}var l=["onUpdate:modelValue"],c={class:"d-flex flex-column"},s={class:"h-100 mt-2"},d={class:"d-flex align-center flex-column"};const f=(0,a.at)({__name:"index",setup:function(e){var t=function(){var e,t,n,l=(0,a.aq)(!0),c=(0,a.aq)(0),s=(0,a.aq)(0),d=(0,a.aq)(0),f=(0,a.aq)(0),p=(0,a.aq)("A4"),m=function(){switch(p.value){case"A1":return{w:594,h:841};case"A2":return{w:420,h:594};case"A3":return{w:297,h:420};case"A4":return{w:210,h:297};case"自定义16.55x23.90":return{w:165.5,h:239,nw:130,nh:190}}},v=(0,a.aq)("横向"),y=(0,a.aq)(1),x=(0,a.aq)(1),h=x.value/y.value,w=function(){var r=m(),u=r.w,o=r.h,i=x.value/y.value;if(!(Math.abs(i-h)<1e-6)){h=i;var l=function(e,t,n,r,u){var o=e*u,i=t*u,l=(n.x+r.x)/2,c=(n.y+r.y)/2;return[new a.e(l-o/2,c+i/2),new a.e(l+o/2,c-i/2)]}(u,o,e,t,i),p=(0,a.A)(l,2),v=p[0],w=p[1];c.value=(0,a.X)((null==v?void 0:v.x)||0,4),s.value=(0,a.X)((null==v?void 0:v.y)||0,4),d.value=(0,a.X)((null==w?void 0:w.x)||0,4),f.value=(0,a.X)((null==w?void 0:w.y)||0,4),n.pt1=v,n.pt2=w,n.w=u,n.h=o}},b=[],C=function(r,u){e=r,t=u;var o=m(),w=o.w,C=o.h,g=o.nw,V=o.nh;if("横向"===v.value){var k=w;w=C,C=k,k=g,g=V,V=k}n&&b.push(n);var M=i(w,C,r,u);return h=M,x.value=(0,a.X)(y.value*M,4),n={pt1:r,pt2:u,w:w,h:C,size:p.value,paperOrientation:v.value,printParameterMillimeter:y.value,printParametersCADDrawingUnits:x.value,isDrawingBoundary:l.value},c.value=(0,a.X)((null==r?void 0:r.x)||0,4),s.value=(0,a.X)((null==r?void 0:r.y)||0,4),d.value=(0,a.X)((null==u?void 0:u.x)||0,4),f.value=(0,a.X)((null==u?void 0:u.y)||0,4),n},g=function(){var e=a.M.getCurrentDatabase().currentSpace.getBoundingBox(),t=e.minPt,n=e.maxPt;return C(t,n)},V=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,u,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.ds.isShow.value=!1,t=function(){a.ds.isShow.value=!0},(n=new a.j).clearLastInputPoint(),n.setMessage("\n"+(0,a.t)("1571")+":"),n.disableAllTrace(),e.next=1,n.go();case 1:if(u=e.sent){e.next=2;break}return e.abrupt("return",t());case 2:return n.setMessage("\n"+(0,a.t)("1580")+":"),n.setUserDraw(function(e,t){if(u){t.setColor(16711680);var n=new a.f;n.addVertexAt(u),n.addVertexAt(new a.e(u.x,e.y)),n.addVertexAt(e),n.addVertexAt(new a.e(e.x,u.y)),n.constantWidth=r.M.screenCoordLong2Doc(2),n.isClosed=!0,t.drawMcDbEntity(n);var o=[];o.push(u.toVector3()),o.push(new THREE.Vector3(u.x,e.y)),o.push(e.toVector3()),o.push(new THREE.Vector3(e.x,u.y)),t.setColor(12868),t.drawSolid(o,.5)}}),n.setDisableOsnap(!0),n.setDisableOrthoTrace(!0),n.setDynamicInputType(r.g.kXYCoordInput),e.next=3,n.go();case 3:if(o=e.sent){e.next=4;break}return e.abrupt("return",t());case 4:C(u,o),l.value=null,a.ds.isShow.value=!0,(0,a.F)().success((0,a.t)("2325"));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,u,o,i,c,s,d,f,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t,n,r){var u,o=Math.abs(r.x-n.x),i=Math.abs(r.y-n.y),l=e*(u=o>i?o/e:i/t),c=t*u;return new a.e(n.x+l,n.y-c)},a.ds.isShow.value=!1,n=function(){a.ds.isShow.value=!0},(u=new a.j).clearLastInputPoint(),u.setMessage("\n"+(0,a.t)("2326")+":"),u.disableAllTrace(),o=m(),i=o.w,c=o.h,s=o.nw,d=o.nh,function(e){if(i*=e,c*=e,s&&(s*=e),d&&(d*=e),"横向"===v.value){var t=i;i=c,c=t,t=s,s=d,d=t}}(x.value/y.value),e.next=1,u.go();case 1:if(f=e.sent){e.next=2;break}return e.abrupt("return",n());case 2:return u.setMessage("\n"+(0,a.t)("2327")+":"),u.setUserDraw(function(e,n){if(f){n.setColor(16711680),e=t(i,c,f,e);var u=new a.f;u.addVertexAt(f),u.addVertexAt(new a.e(f.x,e.y)),u.addVertexAt(e),u.addVertexAt(new a.e(e.x,f.y)),u.constantWidth=r.M.screenCoordLong2Doc(2),u.isClosed=!0,n.drawMcDbEntity(u);var o=[];o.push(f.toVector3()),o.push(new THREE.Vector3(f.x,e.y)),o.push(e.toVector3()),o.push(new THREE.Vector3(e.x,f.y)),n.setColor(12868),n.drawSolid(o,.5)}}),u.setDisableOsnap(!0),u.setDisableOrthoTrace(!0),u.setDynamicInputType(r.g.kXYCoordInput),e.next=3,u.go();case 3:if(p=e.sent){e.next=4;break}return e.abrupt("return",n());case 4:p=t(i,c,f,p),C(f,p),l.value=null,a.ds.isShow.value=!0,(0,a.F)().success((0,a.t)("2325"));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,u,o,i,c,s,d,f,p,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.ds.isShow.value=!1,t=x.value/y.value,n=m(),u=n.w,o=n.h,i=n.nw,c=n.nh,function(e){if(u*=e,o*=e,i&&(i*=e),c&&(c*=e),"横向"===v.value){var t=u;u=o,o=t,t=i,i=c,c=t}}(t),(s=new a.j).clearLastInputPoint(),s.disableAllTrace(),s.setMessage("\n"+(0,a.t)("1579")),s.setKeyWords(""),d=a.M.getCurrentMxCAD(),s.setUserDraw(function(e,t){t.setColor(16711680);var n=new a.f,l=e.clone(),s=new a.e(e.x,e.y+o),f=new a.e(e.x+u,e.y+o),p=new a.e(e.x+u,e.y);n.addVertexAt(l),n.addVertexAt(s),n.addVertexAt(f),n.addVertexAt(p),n.constantWidth=r.M.screenCoordLong2Doc(2),n.isClosed=!0,t.drawMcDbEntity(n);var m=[];if(m.push(l.toVector3()),m.push(s.toVector3()),m.push(f.toVector3()),m.push(p.toVector3()),t.setColor(12868),t.drawSolid(m,.5),i&&c&&i>0&&c>0){var v=e.clone(),y=new a.e(e.x,e.y+o),x=new a.e(e.x+u,e.y+o),h=new a.e(e.x+u,e.y),w=[];w.push(v.toVector3()),w.push(y.toVector3()),w.push(x.toVector3()),w.push(h.toVector3()),w.push(v.toVector3());var b=d.mxdraw.viewCoordLong2Cad(3),C=r.r.createDashedLines(w,16777215,2*b,b);t.drawEntity(C)}}),e.next=1,s.go();case 1:if(f=e.sent){e.next=2;break}return e.abrupt("return",a.ds.isShow.value=!0);case 2:p=f.clone(),h=new a.e(f.x+u,f.y+o),C(p,h),a.ds.isShow.value=!0,l.value=null,(0,a.F)().success((0,a.t)("2325"));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(i){var l={width:""+n,height:""+r,roate_angle:0,bd_pt1_x:""+e.x,bd_pt1_y:""+e.y,bd_pt2_x:""+t.x,bd_pt2_y:""+t.y},c=(0,a.i)(),s=(0,a.B)()||{},d=s.baseUrl,f=void 0===d?"":d,p=s.mxfilepath,m=void 0===p?"":p,v=s.printPdfUrl,y=void 0===v?"":v;a.M.getCurrentMxCAD().saveFileToUrl(y,function(e,t){try{var n=JSON.parse(t);if("ok"==n.ret){var r=f+m+n.file;if(o)return i(r);(0,u.p)(r),c&&(0,a.c)("MxFullScreen"),(0,a.F)().success((0,a.t)("2329")),i(r)}else console.log(t),(0,a.F)().error((0,a.t)("2328")),i(!1)}catch(e){console.log("Mx: sserverResult error"),i(!1)}},void 0,JSON.stringify(l))})},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16711680,a=new r.y;return a.pt1=e.toVector3(),a.pt2=t.toVector3(),a.setLineWidth(10),a.color=n,a.top(),a},D=(0,a.ci)(!1,"Mx_batch_PrintDialog"),S=[],_=(0,a.aq)([]),F=[],B=function(){var e=(0,a._)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.ds.isShow.value=!1,D.isShow.value=!1,e.next=1,(0,o.i)();case 1:F=e.sent,_.value=F.map(function(e,t){return{name:(0,a.t)("2330")+t,index:t}}),S=F.filter(function(e){return!!e}).map(function(e,t){var n=e.minPt,u=e.maxPt,o=A(n,u),i=a.M.getCurrentMxCAD();i.getMxDrawObject().addMxEntity(o);var l=new a.e((n.x+u.x)/2,(n.y+u.y)/2),c=new r.t;return c.text=t.toString(),c.position=l.toVector3(),c.color=16711680,c.height=.5*n.distanceTo(u),i.getMxDrawObject().addMxEntity(c),[c,o]}),D.isShow.value=!0;case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function G(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}var E=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,r,u,o,i,l,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=m(),n=t.w,r=t.h,u=0;case 1:if(!(u<F.length)){e.next=6;break}if(o=F[u]||{},i=o.minPt,l=o.maxPt,i){e.next=2;break}return e.abrupt("continue",5);case 2:if(l){e.next=3;break}return e.abrupt("continue",5);case 3:return e.next=4,P(i,l,n,r,!0);case 4:(c=e.sent)&&G(c,_.value[u].name);case 5:u++,e.next=1;break;case 6:D.isShow.value=!1;case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=a.M.getCurrentMxCAD();S.forEach(function(t){var n=(0,a.A)(t,2),r=n[0],u=n[1];e.mxdraw.eraseMxEntity(r.objectId()),e.mxdraw.eraseMxEntity(u.objectId())}),S=[],F=[],_.value=[],e.updateDisplay()};return(0,a.au)(D.isShow,function(e){e||U()}),{dialog:a.ds,isDrawingBoundary:l,lowerLeftCornerCoordinateX:c,lowerLeftCornerCoordinateY:s,upperRightCornerCoordinateX:d,upperRightCornerCoordinateY:f,sheetSizes:["A1","A2","A3","A4","自定义16.55x23.90"],sheetSize:p,paperOrientations:["横向","纵向"],paperOrientation:v,printParameterMillimeter:y,printParametersCADDrawingUnits:x,scopeHistory:b,callLastTimeScopeHistory:function(){var e=b.pop();if(!e)return(0,a.F)().error((0,a.t)("2323"));var t=e.pt1,r=e.pt2,u=e.size;return n=e,c.value=(0,a.X)((null==t?void 0:t.x)||0,4),s.value=(0,a.X)((null==t?void 0:t.y)||0,4),d.value=(0,a.X)((null==r?void 0:r.x)||0,4),f.value=(0,a.X)((null==r?void 0:r.y)||0,4),p.value=u,v.value=e.paperOrientation,y.value=e.printParameterMillimeter,x.value=e.printParametersCADDrawingUnits,l.value=e.isDrawingBoundary,l.value=null,(0,a.F)().success((0,a.t)("2324"))},callFreeChoiceOfRange:V,callFixedProportionalSelection:k,callFixedDrawingSizeSelection:M,callPrint:function(){var e=n||g(),t=e.pt1,r=e.pt2,u=e.w,o=e.h;P(t,r,u,o),a.ds.isShow.value=!1},updateDrawingBoundary:function(){var e,t,n;"boolean"==typeof l.value&&(l.value?g():(t=(e=a.M.getCurrentMxCAD().getViewCADCoord()).pt1,n=e.pt3,C(t,n)))},updatePrintParameters:w,updateSize:function(){var n=m(),r=i(n.w,n.h,e,t);h=r,x.value=(0,a.X)(y.value*r,4),w()},universalBatchPrinting:E,frameIndexArr:_,removeFrame:function(e){var t=(0,a.A)(S[e],2),n=t[0],r=t[1],u=a.M.getCurrentMxCAD();u.mxdraw.eraseMxEntity(n.objectId()),u.mxdraw.eraseMxEntity(r.objectId()),u.updateDisplay(),F.splice(e,1),S.splice(e,1),_.value.splice(e,1)},removeFramesRectBoxArr:U,frameRecognition:B,batchPrintingDialog:D,framePrint:function(e){if(F[e]){var t=F[e],n=t.maxPt,a=t.minPt,r=m(),u=r.w,o=r.h;P(a,n,u,o,!0)}},positioningFrame:function(e){if(F[e]){var t=F[e],n=t.maxPt,r=t.minPt,u=a.M.getCurrentMxCAD(),o=.1*r.distanceTo(n);n=n.clone(),(r=r.clone()).x-=o,r.y-=o,n.x+=o,n.y+=o,u.zoomW(r,n)}}}}(),n=t.dialog,f=t.isDrawingBoundary,p=t.lowerLeftCornerCoordinateX,m=t.lowerLeftCornerCoordinateY,v=t.upperRightCornerCoordinateX,y=t.upperRightCornerCoordinateY,x=t.sheetSizes,h=t.sheetSize,w=t.paperOrientations,b=t.paperOrientation,C=t.printParameterMillimeter,g=t.printParametersCADDrawingUnits,V=t.callLastTimeScopeHistory,k=t.callFreeChoiceOfRange,M=t.callFixedProportionalSelection,P=t.callFixedDrawingSizeSelection,A=t.callPrint,D=t.updateDrawingBoundary,S=t.updatePrintParameters,_=t.updateSize,F=t.universalBatchPrinting,B=t.frameIndexArr,G=t.removeFrame,E=t.frameRecognition,U=t.batchPrintingDialog,R=t.framePrint,I=t.positioningFrame,T=n.isShow,X=n.showDialog,L=[{name:"生成打印PDF",fun:A,primary:!0},{name:"取消",fun:function(){return X(!1)}}],J=[{name:"批量下载",fun:F,primary:!0},{name:"取消",fun:function(){return U.showDialog(!1)}}];return function(e,t){return(0,a.aw)(),(0,a.aA)(a.bt,null,[(0,a.aC)(a.aY,{title:e.t("2052"),modelValue:(0,a.ay)(U).isShow.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.ay)(U).isShow.value=e}),"max-width":"600",footerBtnList:J},{default:(0,a.aG)(function(){return[(0,a.aC)(a.ct,{density:"compact","fixed-header":"",height:300,class:"attribute_table",style:{"table-layout":"fixed"}},{default:(0,a.aG)(function(){return[(0,a.aB)("thead",null,[(0,a.aB)("tr",null,[(0,a.aB)("th",null,"pdf"+(0,a.aF)(e.t("1923")),1),(0,a.aB)("th",null,(0,a.aF)(e.t("2053")),1)])]),(0,a.aB)("tbody",null,[((0,a.aw)(!0),(0,a.aA)(a.bt,null,(0,a.bu)((0,a.ay)(B),function(t,n){return(0,a.aw)(),(0,a.aA)("tr",{key:n},[(0,a.aB)("td",null,[(0,a.az)((0,a.aB)("input",{class:"w-100 h-100","onUpdate:modelValue":function(e){return t.name=e}},null,8,l),[[a.cu,t.name]])]),(0,a.aB)("td",null,[(0,a.aC)(a.aI,{onClick:function(e){return(0,a.ay)(G)(n)}},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("205")),1)]}),_:2},1032,["onClick"]),(0,a.aC)(a.aI,{onClick:function(e){return(0,a.ay)(R)(n)},class:"ml-1"},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("203")),1)]}),_:2},1032,["onClick"]),(0,a.aC)(a.aI,{onClick:function(e){return(0,a.ay)(I)(n)},class:"ml-1"},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2054")),1)]}),_:2},1032,["onClick"])])])}),128))])]}),_:1})]}),_:1},8,["title","modelValue"]),(0,a.aC)(a.aY,{title:e.t("203"),modelValue:(0,a.ay)(T),"onUpdate:modelValue":t[10]||(t[10]=function(e){return(0,a.aK)(T)?T.value=e:null}),"max-width":"600",footerBtnList:L},{default:(0,a.aG)(function(){return[(0,a.aC)(a.aU,{align:"stretch"},{default:(0,a.aG)(function(){return[(0,a.aC)(a.aV,{cols:"6","align-self":"start"},{default:(0,a.aG)(function(){return[(0,a.aC)(a.b1,{title:e.t("2055"),class:"mt-2"},{default:(0,a.aG)(function(){return[(0,a.aC)(a.a_,{modelValue:(0,a.ay)(f),"onUpdate:modelValue":[t[1]||(t[1]=function(e){return(0,a.aK)(f)?f.value=e:null}),(0,a.ay)(D)],inline:!1},{default:(0,a.aG)(function(){return[(0,a.aC)(a.a$,{value:!0,onClick:(0,a.ay)(D)},{label:(0,a.aG)(function(){return[(0,a.aC)(a.b0,{class:"","key-name":"W"},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("1544")+e.t("2056")),1)]}),_:1})]}),_:1},8,["onClick"]),(0,a.aC)(a.a$,{class:"mt-1",value:!1,onClick:(0,a.ay)(D)},{label:(0,a.aG)(function(){return[(0,a.aC)(a.b0,{class:"","key-name":"R"},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2057")+e.t("1759")),1)]}),_:1})]}),_:1},8,["onClick"])]}),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.aB)("div",c,[(0,a.aC)(a.bd,{class:"mt-2",onClick:(0,a.ay)(V)},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2058")+e.t("183")),1)]}),_:1},8,["onClick"]),(0,a.aC)(a.bd,{class:"mt-1",onClick:(0,a.ay)(k)},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2059")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.aC)(a.bd,{class:"mt-1",onClick:(0,a.ay)(M)},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2060")+e.t("1686")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.aC)(a.bd,{class:"mt-1",onClick:(0,a.ay)(P)},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2060")+e.t("1544")+e.t("2061")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.aC)(a.bd,{class:"mt-1",onClick:(0,a.ay)(E)},{default:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("2062")+" "+e.t("2063")),1)]}),_:1},8,["onClick"])]),(0,a.aC)(a.aM,{modelValue:(0,a.ay)(p),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,a.aK)(p)?p.value=e:null}),class:"mt-2",type:"number"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("2064")+e.t("2065")+e.t("2066"))+"X:",1)]}),_:1},8,["modelValue"]),(0,a.aC)(a.aM,{modelValue:(0,a.ay)(m),"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,a.aK)(m)?m.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("2064")+e.t("2065")+e.t("2066"))+"Y:",1)]}),_:1},8,["modelValue"]),(0,a.aC)(a.aM,{modelValue:(0,a.ay)(v),"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,a.aK)(v)?v.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("2067")+e.t("2065")+e.t("2066"))+"X:",1)]}),_:1},8,["modelValue"]),(0,a.aC)(a.aM,{modelValue:(0,a.ay)(y),"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,a.aK)(y)?y.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("2067")+e.t("2065")+e.t("2066"))+"Y:",1)]}),_:1},8,["modelValue"])]}),_:1},8,["title"])]}),_:1}),(0,a.aC)(a.aV,{cols:"6","align-self":"start"},{default:(0,a.aG)(function(){return[(0,a.aB)("div",s,[(0,a.aC)(a.b1,{title:e.t("1544")+e.t("2068")},{default:(0,a.aG)(function(){return[(0,a.aC)(a.b4,{modelValue:(0,a.ay)(h),"onUpdate:modelValue":[t[6]||(t[6]=function(e){return(0,a.aK)(h)?h.value=e:null}),(0,a.ay)(_)],items:(0,a.ay)(x),class:"mr-1 my-2"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("1544")+e.t("2061"))+":",1)]}),selection:(0,a.aG)(function(e){var t=e.item;return[(0,a.aJ)((0,a.aF)((0,a.ay)(a.cw)(t.title)),1)]}),item:(0,a.aG)(function(e){var t=e.item,n=e.props;return[(0,a.aC)(a.ce,(0,a.bA)(n,{title:(0,a.ay)(a.cw)(t.title)}),null,16,["title"])]}),_:1},8,["modelValue","items","onUpdate:modelValue"]),(0,a.aC)(a.b4,{modelValue:(0,a.ay)(b),"onUpdate:modelValue":[t[7]||(t[7]=function(e){return(0,a.aK)(b)?b.value=e:null}),(0,a.ay)(D)],items:(0,a.ay)(w),class:"mr-1 my-2"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",null,(0,a.aF)(e.t("1544")+e.t("186"))+":",1)]}),selection:(0,a.aG)(function(e){var t=e.item;return[(0,a.aJ)((0,a.aF)((0,a.ay)(a.cw)(t.title)),1)]}),item:(0,a.aG)(function(e){var t=e.item,n=e.props;return[(0,a.aC)(a.ce,(0,a.bA)(n,{title:(0,a.ay)(a.cw)(t.title)}),null,16,["title"])]}),_:1},8,["modelValue","items","onUpdate:modelValue"])]}),_:1},8,["title"]),(0,a.aC)(a.b1,{class:"my-4 py-4",title:e.t("203")+e.t("2069")},{default:(0,a.aG)(function(){return[(0,a.aB)("div",d,[(0,a.aC)(a.aM,{modelValue:(0,a.ay)(C),"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,a.aK)(C)?C.value=e:null}),modelModifiers:{lazy:!0},min:"0","onUpdate:focused":(0,a.ay)(S),class:"w-75 mr-1",type:"number"},{append:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)(e.t("1779")),1)]}),_:1},8,["modelValue","onUpdate:focused"]),t[11]||(t[11]=(0,a.aB)("span",null,"=",-1)),(0,a.aC)(a.aM,{modelValue:(0,a.ay)(g),"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,a.aK)(g)?g.value=e:null}),modelModifiers:{lazy:!0},min:"0","onUpdate:focused":(0,a.ay)(S),class:"w-75 ml-1 mr-1",type:"number"},{append:(0,a.aG)(function(){return[(0,a.aJ)((0,a.aF)("CAD"+e.t("223")+e.t("2071")),1)]}),_:1},8,["modelValue","onUpdate:focused"])])]}),_:1},8,["title"])])]}),_:1})]}),_:1})]}),_:1},8,["title","modelValue"])],64)}}})},3673:function(e,t,n){n.d(t,{i:function(){return c}});var a=n(8741);function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function o(e){e.sort(function(e,t){return e.minPt.y===t.minPt.y?e.minPt.x-t.minPt.x:e.minPt.y-t.minPt.y});var t,n=[],a=r(e);try{for(a.s();!(t=a.n()).done;){var u,o=t.value,i=!0,l=r(n);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(o.minPt.x>=c.minPt.x&&o.minPt.y>=c.minPt.y&&o.maxPt.x<=c.maxPt.x&&o.maxPt.y<=c.maxPt.y){i=!1;break}}}catch(e){l.e(e)}finally{l.f()}i&&n.push(o)}}catch(e){a.e(e)}finally{a.f()}return n}var i=function(){var e=(0,a._)(a.a.mark(function e(t){var n,r,u,o,i,l,c,s,d,f,p,m;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t||{}).blockName,u=n.isSpecifiedRange,o=void 0!==u&&u,i=n.layerName,l=[],c=r){e.next=5;break}return e.next=1,a.w.userSelect((0,a.t)("3603"));case 1:if(0!==(s=e.sent).length){e.next=2;break}return e.abrupt("return",l);case 2:if((d=s[0].getMcDbEntity())instanceof a.$){e.next=3;break}return(0,a.F)().error((0,a.t)("3604")),e.abrupt("return",l);case 3:if(f=d.blockTableRecordId.getMcDbBlockTableRecord()){e.next=4;break}return e.abrupt("return",l);case 4:c=f.name;case 5:if(p=new a.J,(m=new a.v).AddMcDbEntityTypes("INSERT"),!o){e.next=7;break}return e.next=6,p.userSelect((0,a.t)("2322"),m);case 6:e.next=8;break;case 7:p.allSelect(m);case 8:return p.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.$){var n=t,r=n.blockTableRecordId.getMcDbBlockTableRecord();if(i&&n.layer!==i)return;if(r&&r.name===c){var u=n.getBoundingBox(),o=u.minPt,s=u.maxPt,d=new a.e(Math.min(o.x,s.x),Math.min(o.y,s.y),Math.min(o.z,s.z)),f=new a.e(Math.max(o.x,s.x),Math.max(o.y,s.y),Math.max(o.z,s.z));l.push({minPt:d,maxPt:f})}}}),e.abrupt("return",l);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a._)(a.a.mark(function e(t){var n,r,u,i,l,c,s,d,f,p,m,v,y;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t||{}).isSpecifiedRange,u=void 0===r||r,i=n.layerName,l=[],!u){e.next=2;break}return e.next=1,a.w.userSelect((0,a.t)("3754"));case 1:l=e.sent,e.next=3;break;case 2:c=new a.J,(s=new a.v).AddMcDbEntityTypes("LWPOLYLINE"),c.allSelect(s),l=c.getIds();case 3:return d=[],f=function(e,t,n){return(t.x-e.x)*(t.x-n.x)+(t.y-e.y)*(t.y-n.y)==0},p=function(e,t,n,a){return f(e,t,n)},m=function(e){if(e instanceof a.f){if(i&&e.layer!==i)return;var t=e.numVerts();if(0===t||(e.isClosed?t>4:t>5))return;for(var n=0;n<t;n++)if(e.getBulgeAt(n)>.001)return;var r=e.getPointAt(0).val;if(p(r,e.getPointAt(1).val,e.getPointAt(2).val,e.isClosed||e.getPointAt(3).val)){var u=e.getBoundingBox(),o=u.minPt,l=u.maxPt;d.push({minPt:o,maxPt:l})}}},v=function(e){var t=e.blockTableRecordId.getMcDbBlockTableRecord();t&&t.getAllEntityId().forEach(function(e){var t=e.getMcDbEntity();t&&(t instanceof a.f&&m(t),t instanceof a.$&&v(t))})},l.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.f)m(t);else if(t instanceof a.$){if(i&&t.layer!==i)return;v(t)}}),y=o(d).filter(function(e){var t=e.minPt,n=e.maxPt,r=new a.J;return r.imp.userSelect(t.x,t.y,n.x,n.y,(0,a.du)(),!1),0!==r.count()}),e.abrupt("return",y);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,a._)(a.a.mark(function e(t){var n,r,u,o,c,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t||{}).method,u=void 0===r?"polyline":r,o=n.blockName,c=n.isSpecifiedRange,s=n.layerName,"block"!==u){e.next=1;break}return e.abrupt("return",i({blockName:o,isSpecifiedRange:c,layerName:s}));case 1:return e.abrupt("return",l({isSpecifiedRange:c,layerName:s}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]);
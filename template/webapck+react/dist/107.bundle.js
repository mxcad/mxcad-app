"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[107],{1107:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(9091),a=n(2898),u=n(8285),i=n(6101),o=n(3673),l=n(2164);function c(e,t,n,r){var a=Math.abs(r.x-n.x),u=Math.abs(r.y-n.y);return e/a<t/u?a/e:u/t}var s=["onUpdate:modelValue"],d={class:"d-flex flex-column"},f={class:"h-100 mt-2"},p={class:"d-flex align-center flex-column"};const v=(0,a.e)({__name:"index",setup:function(e){var t=function(){var e,t,n,l=(0,a.f)(!0),s=(0,a.f)(0),d=(0,a.f)(0),f=(0,a.f)(0),p=(0,a.f)(0),v=(0,a.f)("A4"),m=function(){switch(v.value){case"A1":return{w:594,h:841};case"A2":return{w:420,h:594};case"A3":return{w:297,h:420};case"A4":return{w:210,h:297};case"自定义16.55x23.90":return{w:165.5,h:239,nw:130,nh:190}}},w=(0,a.f)("横向"),h=(0,a.f)(1),x=(0,a.f)(1),y=x.value/h.value,b=function(){var a=m(),i=a.w,o=a.h,l=x.value/h.value;if(!(Math.abs(l-y)<1e-6)){y=l;var c=function(e,t,n,r,a){var i=e*a,o=t*a,l=(n.x+r.x)/2,c=(n.y+r.y)/2;return[new u.q(l-i/2,c+o/2),new u.q(l+i/2,c-o/2)]}(i,o,e,t,l),v=(0,r.d)(c,2),w=v[0],b=v[1];s.value=(0,r.v)((null==w?void 0:w.x)||0,4),d.value=(0,r.v)((null==w?void 0:w.y)||0,4),f.value=(0,r.v)((null==b?void 0:b.x)||0,4),p.value=(0,r.v)((null==b?void 0:b.y)||0,4),n.pt1=w,n.pt2=b,n.w=i,n.h=o}},g=[],C=function(a,u){e=a,t=u;var i=m(),o=i.w,b=i.h,C=i.nw,V=i.nh;if("横向"===w.value){var D=o;o=b,b=D,D=C,C=V,V=D}n&&g.push(n);var k=c(o,b,a,u);return y=k,x.value=(0,r.v)(h.value*k,4),n={pt1:a,pt2:u,w:o,h:b,size:v.value,paperOrientation:w.value,printParameterMillimeter:h.value,printParametersCADDrawingUnits:x.value,isDrawingBoundary:l.value},s.value=(0,r.v)((null==a?void 0:a.x)||0,4),d.value=(0,r.v)((null==a?void 0:a.y)||0,4),f.value=(0,r.v)((null==u?void 0:u.x)||0,4),p.value=(0,r.v)((null==u?void 0:u.y)||0,4),n},V=function(){var e=u.M.getCurrentDatabase().currentSpace.getBoundingBox(),t=e.minPt,n=e.maxPt;return C(t,n)},D=function(){var e=(0,r._)(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.bD.isShow.value=!1,t=function(){r.bD.isShow.value=!0},(n=new u.i).clearLastInputPoint(),n.setMessage("\n"+(0,r.t)("1571")+":"),n.disableAllTrace(),e.next=1,n.go();case 1:if(a=e.sent){e.next=2;break}return e.abrupt("return",t());case 2:return n.setMessage("\n"+(0,r.t)("1580")+":"),n.setUserDraw(function(e,t){if(a){t.setColor(16711680);var n=new u.r;n.addVertexAt(a),n.addVertexAt(new u.q(a.x,e.y)),n.addVertexAt(e),n.addVertexAt(new u.q(e.x,a.y)),n.constantWidth=u.b.screenCoordLong2Doc(2),n.isClosed=!0,t.drawMcDbEntity(n);var r=[];r.push(a.toVector3()),r.push(new THREE.Vector3(a.x,e.y)),r.push(e.toVector3()),r.push(new THREE.Vector3(e.x,a.y)),t.setColor(12868),t.drawSolid(r,.5)}}),n.setDisableOsnap(!0),n.setDisableOrthoTrace(!0),n.setDynamicInputType(u.w.kXYCoordInput),e.next=3,n.go();case 3:if(i=e.sent){e.next=4;break}return e.abrupt("return",t());case 4:C(a,i),l.value=null,r.bD.isShow.value=!0,(0,r.h)().success((0,r.t)("2325"));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,r._)(r.a.mark(function e(){var t,n,a,i,o,c,s,d,f,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t,n,r){var a,i=Math.abs(r.x-n.x),o=Math.abs(r.y-n.y),l=e*(a=i>o?i/e:o/t),c=t*a;return new u.q(n.x+l,n.y-c)},r.bD.isShow.value=!1,n=function(){r.bD.isShow.value=!0},(a=new u.i).clearLastInputPoint(),a.setMessage("\n"+(0,r.t)("2326")+":"),a.disableAllTrace(),i=m(),o=i.w,c=i.h,s=i.nw,d=i.nh,function(e){if(o*=e,c*=e,s&&(s*=e),d&&(d*=e),"横向"===w.value){var t=o;o=c,c=t,t=s,s=d,d=t}}(x.value/h.value),e.next=1,a.go();case 1:if(f=e.sent){e.next=2;break}return e.abrupt("return",n());case 2:return a.setMessage("\n"+(0,r.t)("2327")+":"),a.setUserDraw(function(e,n){if(f){n.setColor(16711680),e=t(o,c,f,e);var r=new u.r;r.addVertexAt(f),r.addVertexAt(new u.q(f.x,e.y)),r.addVertexAt(e),r.addVertexAt(new u.q(e.x,f.y)),r.constantWidth=u.b.screenCoordLong2Doc(2),r.isClosed=!0,n.drawMcDbEntity(r);var a=[];a.push(f.toVector3()),a.push(new THREE.Vector3(f.x,e.y)),a.push(e.toVector3()),a.push(new THREE.Vector3(e.x,f.y)),n.setColor(12868),n.drawSolid(a,.5)}}),a.setDisableOsnap(!0),a.setDisableOrthoTrace(!0),a.setDynamicInputType(u.w.kXYCoordInput),e.next=3,a.go();case 3:if(p=e.sent){e.next=4;break}return e.abrupt("return",n());case 4:p=t(o,c,f,p),C(f,p),l.value=null,r.bD.isShow.value=!0,(0,r.h)().success((0,r.t)("2325"));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,r._)(r.a.mark(function e(){var t,n,a,i,o,c,s,d,f,p,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.bD.isShow.value=!1,t=x.value/h.value,n=m(),a=n.w,i=n.h,o=n.nw,c=n.nh,function(e){if(a*=e,i*=e,o&&(o*=e),c&&(c*=e),"横向"===w.value){var t=a;a=i,i=t,t=o,o=c,c=t}}(t),(s=new u.i).clearLastInputPoint(),s.disableAllTrace(),s.setMessage("\n"+(0,r.t)("1579")),s.setKeyWords(""),d=u.M.getCurrentMxCAD(),s.setUserDraw(function(e,t){t.setColor(16711680);var n=new u.r,r=e.clone(),l=new u.q(e.x,e.y+i),s=new u.q(e.x+a,e.y+i),f=new u.q(e.x+a,e.y);n.addVertexAt(r),n.addVertexAt(l),n.addVertexAt(s),n.addVertexAt(f),n.constantWidth=u.b.screenCoordLong2Doc(2),n.isClosed=!0,t.drawMcDbEntity(n);var p=[];if(p.push(r.toVector3()),p.push(l.toVector3()),p.push(s.toVector3()),p.push(f.toVector3()),t.setColor(12868),t.drawSolid(p,.5),o&&c&&o>0&&c>0){var v=e.clone(),m=new u.q(e.x,e.y+i),w=new u.q(e.x+a,e.y+i),h=new u.q(e.x+a,e.y),x=[];x.push(v.toVector3()),x.push(m.toVector3()),x.push(w.toVector3()),x.push(h.toVector3()),x.push(v.toVector3());var y=d.mxdraw.viewCoordLong2Cad(3),b=u.I.createDashedLines(x,16777215,2*y,y);t.drawEntity(b)}}),e.next=1,s.go();case 1:if(f=e.sent){e.next=2;break}return e.abrupt("return",r.bD.isShow.value=!0);case 2:p=f.clone(),v=new u.q(f.x+a,f.y+i),C(p,v),r.bD.isShow.value=!0,l.value=null,(0,r.h)().success((0,r.t)("2325"));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(l){var c={width:""+n,height:""+a,roate_angle:0,bd_pt1_x:""+e.x,bd_pt1_y:""+e.y,bd_pt2_x:""+t.x,bd_pt2_y:""+t.y},s=(0,r.i)(),d=(0,r.e)()||{},f=d.baseUrl,p=void 0===f?"":f,v=d.mxfilepath,m=void 0===v?"":v,w=d.printPdfUrl,h=void 0===w?"":w;u.M.getCurrentMxCAD().saveFileToUrl(h,function(e,t){try{var n=JSON.parse(t);if("ok"==n.ret){var a=p+m+n.file;if(o)return l(a);(0,i.p)(a),s&&(0,r.c)("MxFullScreen"),(0,r.h)().success((0,r.t)("2329")),l(a)}else console.log(t),(0,r.h)().error((0,r.t)("2328")),l(!1)}catch(e){console.log("Mx: sserverResult error"),l(!1)}},void 0,JSON.stringify(c))})},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16711680,r=new u.as;return r.pt1=e.toVector3(),r.pt2=t.toVector3(),r.setLineWidth(10),r.color=n,r.top(),r},S=(0,r.aJ)(!1,"Mx_batch_PrintDialog"),A=[],_=(0,a.f)([]),R=[],U=function(){var e=(0,r._)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.bD.isShow.value=!1,S.isShow.value=!1,e.next=1,(0,o.i)();case 1:R=e.sent,_.value=R.map(function(e,t){return{name:(0,r.t)("2330")+t,index:t}}),A=R.filter(function(e){return!!e}).map(function(e,t){var n=e.minPt,r=e.maxPt,a=M(n,r),i=u.M.getCurrentMxCAD();i.getMxDrawObject().addMxEntity(a);var o=new u.q((n.x+r.x)/2,(n.y+r.y)/2),l=new u.a2;return l.text=t.toString(),l.position=o.toVector3(),l.color=16711680,l.height=.5*n.distanceTo(r),i.getMxDrawObject().addMxEntity(l),[l,a]}),S.isShow.value=!0;case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function q(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}var T=function(){var e=(0,r._)(r.a.mark(function e(){var t,n,a,u,i,o,l,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=m(),n=t.w,a=t.h,u=0;case 1:if(!(u<R.length)){e.next=6;break}if(i=R[u]||{},o=i.minPt,l=i.maxPt,o){e.next=2;break}return e.abrupt("continue",5);case 2:if(l){e.next=3;break}return e.abrupt("continue",5);case 3:return e.next=4,E(o,l,n,a,!0);case 4:(c=e.sent)&&q(c,_.value[u].name);case 5:u++,e.next=1;break;case 6:S.isShow.value=!1;case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=u.M.getCurrentMxCAD();A.forEach(function(t){var n=(0,r.d)(t,2),a=n[0],u=n[1];e.mxdraw.eraseMxEntity(a.objectId()),e.mxdraw.eraseMxEntity(u.objectId())}),A=[],R=[],_.value=[],e.updateDisplay()};return(0,a.i)(S.isShow,function(e){e||I()}),{dialog:r.bD,isDrawingBoundary:l,lowerLeftCornerCoordinateX:s,lowerLeftCornerCoordinateY:d,upperRightCornerCoordinateX:f,upperRightCornerCoordinateY:p,sheetSizes:["A1","A2","A3","A4","自定义16.55x23.90"],sheetSize:v,paperOrientations:["横向","纵向"],paperOrientation:w,printParameterMillimeter:h,printParametersCADDrawingUnits:x,scopeHistory:g,callLastTimeScopeHistory:function(){var e=g.pop();if(!e)return(0,r.h)().error((0,r.t)("2323"));var t=e.pt1,a=e.pt2,u=e.size;return n=e,s.value=(0,r.v)((null==t?void 0:t.x)||0,4),d.value=(0,r.v)((null==t?void 0:t.y)||0,4),f.value=(0,r.v)((null==a?void 0:a.x)||0,4),p.value=(0,r.v)((null==a?void 0:a.y)||0,4),v.value=u,w.value=e.paperOrientation,h.value=e.printParameterMillimeter,x.value=e.printParametersCADDrawingUnits,l.value=e.isDrawingBoundary,l.value=null,(0,r.h)().success((0,r.t)("2324"))},callFreeChoiceOfRange:D,callFixedProportionalSelection:k,callFixedDrawingSizeSelection:P,callPrint:function(){var e=n||V(),t=e.pt1,a=e.pt2,u=e.w,i=e.h;E(t,a,u,i),r.bD.isShow.value=!1},updateDrawingBoundary:function(){var e,t,n;"boolean"==typeof l.value&&(l.value?V():(t=(e=u.M.getCurrentMxCAD().getViewCADCoord()).pt1,n=e.pt3,C(t,n)))},updatePrintParameters:b,updateSize:function(){var n=m(),a=c(n.w,n.h,e,t);y=a,x.value=(0,r.v)(h.value*a,4),b()},universalBatchPrinting:T,frameIndexArr:_,removeFrame:function(e){var t=(0,r.d)(A[e],2),n=t[0],a=t[1],i=u.M.getCurrentMxCAD();i.mxdraw.eraseMxEntity(n.objectId()),i.mxdraw.eraseMxEntity(a.objectId()),i.updateDisplay(),R.splice(e,1),A.splice(e,1),_.value.splice(e,1)},removeFramesRectBoxArr:I,frameRecognition:U,batchPrintingDialog:S,framePrint:function(e){if(R[e]){var t=R[e],n=t.maxPt,r=t.minPt,a=m(),u=a.w,i=a.h;E(r,n,u,i,!0)}},positioningFrame:function(e){if(R[e]){var t=R[e],n=t.maxPt,r=t.minPt,a=u.M.getCurrentMxCAD(),i=.1*r.distanceTo(n);n=n.clone(),(r=r.clone()).x-=i,r.y-=i,n.x+=i,n.y+=i,a.zoomW(r,n)}}}}(),n=t.dialog,v=t.isDrawingBoundary,m=t.lowerLeftCornerCoordinateX,w=t.lowerLeftCornerCoordinateY,h=t.upperRightCornerCoordinateX,x=t.upperRightCornerCoordinateY,y=t.sheetSizes,b=t.sheetSize,g=t.paperOrientations,C=t.paperOrientation,V=t.printParameterMillimeter,D=t.printParametersCADDrawingUnits,k=t.callLastTimeScopeHistory,P=t.callFreeChoiceOfRange,E=t.callFixedProportionalSelection,M=t.callFixedDrawingSizeSelection,S=t.callPrint,A=t.updateDrawingBoundary,_=t.updatePrintParameters,R=t.updateSize,U=t.universalBatchPrinting,q=t.frameIndexArr,T=t.removeFrame,I=t.frameRecognition,B=t.batchPrintingDialog,L=t.framePrint,O=t.positioningFrame,z=n.isShow,F=n.showDialog,N=[{name:"生成打印PDF",fun:S,primary:!0},{name:"取消",fun:function(){return F(!1)}}],j=[{name:"批量下载",fun:U,primary:!0},{name:"取消",fun:function(){return B.showDialog(!1)}}];return function(e,t){return(0,a.o)(),(0,a.c)(a.F,null,[(0,a.a)(r.U,{title:e.t("2052"),modelValue:(0,a.E)(B).isShow.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.E)(B).isShow.value=e}),"max-width":"600",footerBtnList:j},{default:(0,a.w)(function(){return[(0,a.a)(l._,{density:"compact","fixed-header":"",height:300,class:"attribute_table",style:{"table-layout":"fixed"}},{default:(0,a.w)(function(){return[(0,a.l)("thead",null,[(0,a.l)("tr",null,[(0,a.l)("th",null,"pdf"+(0,a.t)(e.t("1923")),1),(0,a.l)("th",null,(0,a.t)(e.t("2053")),1)])]),(0,a.l)("tbody",null,[((0,a.o)(!0),(0,a.c)(a.F,null,(0,a.d)((0,a.E)(q),function(t,n){return(0,a.o)(),(0,a.c)("tr",{key:n},[(0,a.l)("td",null,[(0,a.z)((0,a.l)("input",{class:"w-100 h-100","onUpdate:modelValue":function(e){return t.name=e}},null,8,s),[[a.ab,t.name]])]),(0,a.l)("td",null,[(0,a.a)(l.V,{onClick:function(e){return(0,a.E)(T)(n)}},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("205")),1)]}),_:2},1032,["onClick"]),(0,a.a)(l.V,{onClick:function(e){return(0,a.E)(L)(n)},class:"ml-1"},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("203")),1)]}),_:2},1032,["onClick"]),(0,a.a)(l.V,{onClick:function(e){return(0,a.E)(O)(n)},class:"ml-1"},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2054")),1)]}),_:2},1032,["onClick"])])])}),128))])]}),_:1})]}),_:1},8,["title","modelValue"]),(0,a.a)(r.U,{title:e.t("203"),modelValue:(0,a.E)(z),"onUpdate:modelValue":t[10]||(t[10]=function(e){return(0,a.R)(z)?z.value=e:null}),"max-width":"600",footerBtnList:N},{default:(0,a.w)(function(){return[(0,a.a)(l.D,{align:"stretch"},{default:(0,a.w)(function(){return[(0,a.a)(l.C,{cols:"6","align-self":"start"},{default:(0,a.w)(function(){return[(0,a.a)(r.X,{title:e.t("2055"),class:"mt-2"},{default:(0,a.w)(function(){return[(0,a.a)(l.Q,{modelValue:(0,a.E)(v),"onUpdate:modelValue":[t[1]||(t[1]=function(e){return(0,a.R)(v)?v.value=e:null}),(0,a.E)(A)],inline:!1},{default:(0,a.w)(function(){return[(0,a.a)(l.S,{value:!0,onClick:(0,a.E)(A)},{label:(0,a.w)(function(){return[(0,a.a)(r.W,{class:"","key-name":"W"},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("1544")+e.t("2056")),1)]}),_:1})]}),_:1},8,["onClick"]),(0,a.a)(l.S,{class:"mt-1",value:!1,onClick:(0,a.E)(A)},{label:(0,a.w)(function(){return[(0,a.a)(r.W,{class:"","key-name":"R"},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2057")+e.t("1759")),1)]}),_:1})]}),_:1},8,["onClick"])]}),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.l)("div",d,[(0,a.a)(r.a3,{class:"mt-2",onClick:(0,a.E)(k)},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2058")+e.t("183")),1)]}),_:1},8,["onClick"]),(0,a.a)(r.a3,{class:"mt-1",onClick:(0,a.E)(P)},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2059")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.a)(r.a3,{class:"mt-1",onClick:(0,a.E)(E)},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2060")+e.t("1686")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.a)(r.a3,{class:"mt-1",onClick:(0,a.E)(M)},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2060")+e.t("1544")+e.t("2061")+e.t("1581")),1)]}),_:1},8,["onClick"]),(0,a.a)(r.a3,{class:"mt-1",onClick:(0,a.E)(I)},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2062")+" "+e.t("2063")),1)]}),_:1},8,["onClick"])]),(0,a.a)(l.i,{modelValue:(0,a.E)(m),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,a.R)(m)?m.value=e:null}),class:"mt-2",type:"number"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("2064")+e.t("2065")+e.t("2066"))+"X:",1)]}),_:1},8,["modelValue"]),(0,a.a)(l.i,{modelValue:(0,a.E)(w),"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,a.R)(w)?w.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("2064")+e.t("2065")+e.t("2066"))+"Y:",1)]}),_:1},8,["modelValue"]),(0,a.a)(l.i,{modelValue:(0,a.E)(h),"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,a.R)(h)?h.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("2067")+e.t("2065")+e.t("2066"))+"X:",1)]}),_:1},8,["modelValue"]),(0,a.a)(l.i,{modelValue:(0,a.E)(x),"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,a.R)(x)?x.value=e:null}),class:"mt-1",type:"number"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("2067")+e.t("2065")+e.t("2066"))+"Y:",1)]}),_:1},8,["modelValue"])]}),_:1},8,["title"])]}),_:1}),(0,a.a)(l.C,{cols:"6","align-self":"start"},{default:(0,a.w)(function(){return[(0,a.l)("div",f,[(0,a.a)(r.X,{title:e.t("1544")+e.t("2068")},{default:(0,a.w)(function(){return[(0,a.a)(l.d,{modelValue:(0,a.E)(b),"onUpdate:modelValue":[t[6]||(t[6]=function(e){return(0,a.R)(b)?b.value=e:null}),(0,a.E)(R)],items:(0,a.E)(y),class:"mr-1 my-2"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("1544")+e.t("2061"))+":",1)]}),selection:(0,a.w)(function(e){var t=e.item;return[(0,a.q)((0,a.t)((0,a.E)(r.aR)(t.title)),1)]}),item:(0,a.w)(function(e){var t=e.item,n=e.props;return[(0,a.a)(l.c,(0,a.v)(n,{title:(0,a.E)(r.aR)(t.title)}),null,16,["title"])]}),_:1},8,["modelValue","items","onUpdate:modelValue"]),(0,a.a)(l.d,{modelValue:(0,a.E)(C),"onUpdate:modelValue":[t[7]||(t[7]=function(e){return(0,a.R)(C)?C.value=e:null}),(0,a.E)(A)],items:(0,a.E)(g),class:"mr-1 my-2"},{prepend:(0,a.w)(function(){return[(0,a.l)("span",null,(0,a.t)(e.t("1544")+e.t("186"))+":",1)]}),selection:(0,a.w)(function(e){var t=e.item;return[(0,a.q)((0,a.t)((0,a.E)(r.aR)(t.title)),1)]}),item:(0,a.w)(function(e){var t=e.item,n=e.props;return[(0,a.a)(l.c,(0,a.v)(n,{title:(0,a.E)(r.aR)(t.title)}),null,16,["title"])]}),_:1},8,["modelValue","items","onUpdate:modelValue"])]}),_:1},8,["title"]),(0,a.a)(r.X,{class:"my-4 py-4",title:e.t("203")+e.t("2069")},{default:(0,a.w)(function(){return[(0,a.l)("div",p,[(0,a.a)(l.i,{modelValue:(0,a.E)(V),"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,a.R)(V)?V.value=e:null}),modelModifiers:{lazy:!0},min:"0","onUpdate:focused":(0,a.E)(_),class:"w-75 mr-1",type:"number"},{append:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("1779")),1)]}),_:1},8,["modelValue","onUpdate:focused"]),t[11]||(t[11]=(0,a.l)("span",null,"=",-1)),(0,a.a)(l.i,{modelValue:(0,a.E)(D),"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,a.R)(D)?D.value=e:null}),modelModifiers:{lazy:!0},min:"0","onUpdate:focused":(0,a.E)(_),class:"w-75 ml-1 mr-1",type:"number"},{append:(0,a.w)(function(){return[(0,a.q)((0,a.t)("CAD"+e.t("223")+e.t("2071")),1)]}),_:1},8,["modelValue","onUpdate:focused"])])]}),_:1},8,["title"])])]}),_:1})]}),_:1})]}),_:1},8,["title","modelValue"])],64)}}})},3673:function(e,t,n){n.d(t,{i:function(){return s}});var r=n(9091),a=n(8285);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,u=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw u}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){e.sort(function(e,t){return e.minPt.y===t.minPt.y?e.minPt.x-t.minPt.x:e.minPt.y-t.minPt.y});var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var a,i=t.value,o=!0,l=u(n);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(i.minPt.x>=c.minPt.x&&i.minPt.y>=c.minPt.y&&i.maxPt.x<=c.maxPt.x&&i.maxPt.y<=c.maxPt.y){o=!1;break}}}catch(e){l.e(e)}finally{l.f()}o&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}var l=function(){var e=(0,r._)(r.a.mark(function e(t){var n,u,i,o,l,c,s,d,f,p,v,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(n=t||{}).blockName,i=n.isSpecifiedRange,o=void 0!==i&&i,l=n.layerName,c=[],s=u){e.next=5;break}return e.next=1,a.f.userSelect((0,r.t)("3603"));case 1:if(0!==(d=e.sent).length){e.next=2;break}return e.abrupt("return",c);case 2:if((f=d[0].getMcDbEntity())instanceof a.h){e.next=3;break}return(0,r.h)().error((0,r.t)("3604")),e.abrupt("return",c);case 3:if(p=f.blockTableRecordId.getMcDbBlockTableRecord()){e.next=4;break}return e.abrupt("return",c);case 4:s=p.name;case 5:if(v=new a.j,(m=new a.O).AddMcDbEntityTypes("INSERT"),!o){e.next=7;break}return e.next=6,v.userSelect((0,r.t)("2322"),m);case 6:e.next=8;break;case 7:v.allSelect(m);case 8:return v.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.h){var n=t,r=n.blockTableRecordId.getMcDbBlockTableRecord();if(l&&n.layer!==l)return;if(r&&r.name===s){var u=n.getBoundingBox(),i=u.minPt,o=u.maxPt,d=new a.q(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.min(i.z,o.z)),f=new a.q(Math.max(i.x,o.x),Math.max(i.y,o.y),Math.max(i.z,o.z));c.push({minPt:d,maxPt:f})}}}),e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r._)(r.a.mark(function e(t){var n,u,i,l,c,s,d,f,p,v,m,w,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(n=t||{}).isSpecifiedRange,i=void 0===u||u,l=n.layerName,c=[],!i){e.next=2;break}return e.next=1,a.f.userSelect((0,r.t)("3754"));case 1:c=e.sent,e.next=3;break;case 2:s=new a.j,(d=new a.O).AddMcDbEntityTypes("LWPOLYLINE"),s.allSelect(d),c=s.getIds();case 3:return f=[],p=function(e,t,n){return(t.x-e.x)*(t.x-n.x)+(t.y-e.y)*(t.y-n.y)==0},v=function(e,t,n,r){return p(e,t,n)},m=function(e){if(e instanceof a.r){if(l&&e.layer!==l)return;var t=e.numVerts();if(0===t||(e.isClosed?t>4:t>5))return;for(var n=0;n<t;n++)if(e.getBulgeAt(n)>.001)return;var r=e.getPointAt(0).val;if(v(r,e.getPointAt(1).val,e.getPointAt(2).val,e.isClosed||e.getPointAt(3).val)){var u=e.getBoundingBox(),i=u.minPt,o=u.maxPt;f.push({minPt:i,maxPt:o})}}},w=function(e){var t=e.blockTableRecordId.getMcDbBlockTableRecord();t&&t.getAllEntityId().forEach(function(e){var t=e.getMcDbEntity();t&&(t instanceof a.r&&m(t),t instanceof a.h&&w(t))})},c.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.r)m(t);else if(t instanceof a.h){if(l&&t.layer!==l)return;w(t)}}),h=o(f).filter(function(e){var t=e.minPt,n=e.maxPt,r=new a.j;return r.imp.userSelect(t.x,t.y,n.x,n.y,(0,a.at)(),!1),0!==r.count()}),e.abrupt("return",h);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r._)(r.a.mark(function e(t){var n,a,u,i,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=t||{}).method,u=void 0===a?"polyline":a,i=n.blockName,o=n.isSpecifiedRange,s=n.layerName,"block"!==u){e.next=1;break}return e.abrupt("return",l({blockName:i,isSpecifiedRange:o,layerName:s}));case 1:return e.abrupt("return",c({isSpecifiedRange:o,layerName:s}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]);
"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[330],{2566:function(e,a,n){n.d(a,{d:function(){return o},u:function(){return u}});var t=n(8741);function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}var i,r=!1,o=function(e){var a=i,n=a.setValue;a.setLayerList;var l=(0,t.a3)(i).list;n("visible",e="boolean"==typeof e?e:r,l.value.map(function(e,a){return a})),r=!e},u=function(e){var a=e.onAddLayer;i=(0,t.a2)();var n=(0,t.cz)("Shift"),u=(0,t.cz)("Control"),c=i,s=c.add,f=c.remove,d=c.putCurrent,v=c.toggle,y=c.setValue,p=c.setIndex,m=c.getIndex,b=c.stringifyJSON;c.create;var h,g,C,w=c.initLayerList,k=c.setLayerList,x=(0,t.a3)(i),B=x.index,L=x.list,A=x.currentLayer,_=x.rootId,F=function(){return Array.isArray(B.value)&&B.value.length>1},O=function(e,a){if(a&&a.target&&S(a.target),n.value){void 0===h&&(h=B.value);var l=Math.max(h,e),i=l===e?h:e;p((0,t.cC)(i,l))}else if(u.value){var r=[];if(Array.isArray(B.value)){var o=B.value.indexOf(e);o>=0&&B.value.length>1?(r=(0,t.Y)(B.value)).splice(o,1):r=[].concat((0,t.Y)(B.value),[e])}else r=[B.value,e];p(r)}else p(e),h=e,j()},j=function(){g=Array.isArray(B.value)?B.value[B.value.length-1]:B.value},T=function(){a&&a(s()),n&&(h=L.value.length-1)},S=function(e){if(e)if("INPUT"===e.tagName)C=e;else{var a=null==e?void 0:e.getElementsByTagName("input")[0];a?C=a:S(e.parentNode)}},I=function(e){var a=m();if(!(Array.isArray(a)&&a.length>1)){var n=Array.isArray(a)?a[0]:a;A.value!==L.value[n]&&L.value[n].id!==_.value&&e&&setTimeout(function(){e.focus(),e.select()})}},z=function(){var e=Array.isArray(B.value)?B.value:[B.value],a=[];j(),v("isSelect",L.value.map(function(n,t){return e.includes(t)||a.push(t),t})),B.value=a},V=(0,t.cA)({hasIcon:!0,iconType:"svg-icon",menuList:[{label:(0,t.t)("213"),fn:function(){return d(void 0,!0)},disabled:F},{label:(0,t.t)("1674"),fn:function(){return T()}},{label:(0,t.t)("205"),fn:function(){return f()},disabled:function(){var e;if(F())return!1;var a=m(B.value);return a="number"==typeof a?a:a[0],(null===(e=L.value[a])||void 0===e?void 0:e.id)===_.value},icon:(0,t.cB)("youjianshanchu")},{label:(0,t.t)("4104"),tips:"F2",fn:function(){return I(C)},disabled:F,icon:(0,t.cB)("youjianzhongmingming")},{line:!0},{label:(0,t.t)("197"),fn:function(){p(L.value.map(function(e,a){return a}))}},{label:(0,t.t)("4262"),fn:function(){return p([]),void j()}},{label:(0,t.t)("4263"),fn:function(){return z()}}]}),D=(0,t.y)().createColor;(0,t.ag)().createLineType;var G=(0,t.b8)([{name:(0,t.t)("4264"),fun:function(){T()}},{name:(0,t.t)("4265"),fun:function(){return f()}},{name:(0,t.t)("213"),fun:function(){return d()}},{name:(0,t.t)("4266"),fun:function(){o(),G[3].name=r?(0,t.t)("4267"):(0,t.t)("4266")}}]);return{onClickLayer:O,onClickStopTD:function(e,a){for(var t=arguments.length,l=new Array(t>2?t-2:0),i=2;i<t;i++)l[i-2]=arguments[i];var r=l[0],o=l[1],c=l[2];return n.value||u.value?e.preventDefault():a.isSelect?F()?(e.stopPropagation(),y(r,o),!1):void y(r,o,c):y(r,o,c)},onClickLayerName:function(e,a){C=e.target,B.value===a&&I(C)},resumeIndex:function(){g&&p(g),g=void 0},reverseSelection:z,selectColor:function(e){(0,t.c)("Mx_Color",{call:function(e,a){y("color",D(function(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach(function(a){(0,t.L)(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}({},(0,t.cD)(e,a))),B)},color:e})},selectLineType:function(e){y("lineType",e,B)},setIndex:p,onRightClickLayer:function(e,a){(!F()||!L.value[e].isSelect)&&O(e,a)},initLayerList:w,setLayerList:function(){k(b())},list:L,bodyRightClickMenuOptions:V,isShiftKeyMultipleChoice:n,isCtrlKeyMultipleChoice:u,btnList:G,rootId:_}}},7330:function(e,a,n){n.r(a),n.d(a,{default:function(){return N}});var t=n(8741),l=n(2566),i={class:"mt-2"},r={class:"text-center"},o={class:"text-center"},u={class:"text-center"},c=["onClick"];const s=(0,t.at)({__name:"index",emits:["change"],setup:function(e,a){var n=a.expose,l=a.emit,s=function(){var e=(0,t.ag)(),a=e.createLineType;return{lineTypeList:(0,t.a3)(e).lineTypeList,createLineType:a}}(),f=s.lineTypeList,d=(0,t.aq)(0),v=(0,t.ci)(!1),y=v.isShow,p=v.showDialog,m=v.onReveal,b=l,h=[{name:"确定",fun:function(){b("change",f.value[d.value]),p(!1)},primary:!0},{name:"取消",fun:function(){return p(!1)}}];return m(function(e){d.value=f.value.findIndex(function(a){return a.name===e.name})}),n({showDialog:p}),function(e,a){return(0,t.aw)(),(0,t.ax)(t.aY,{title:e.t("2300"),"max-width":"500",modelValue:(0,t.ay)(y),"onUpdate:modelValue":a[0]||(a[0]=function(e){return(0,t.aK)(y)?y.value=e:null}),footerBtnList:h},{default:(0,t.aG)(function(){return[(0,t.aB)("div",i,[(0,t.aB)("p",null,(0,t.aF)(e.t("2301")),1),(0,t.aC)(t.ct,{height:"300"},{default:(0,t.aG)(function(){return[(0,t.aB)("thead",null,[(0,t.aB)("tr",null,[(0,t.aB)("th",r,(0,t.aF)(e.t("218")),1),(0,t.aB)("th",o,(0,t.aF)(e.t("2302")),1),(0,t.aB)("th",u,(0,t.aF)(e.t("1970")),1)])]),(0,t.aB)("tbody",null,[((0,t.aw)(!0),(0,t.aA)(t.bt,null,(0,t.bu)((0,t.ay)(f),function(e,a){return(0,t.aw)(),(0,t.aA)("tr",{key:e.id,class:(0,t.bs)(d.value===a?"active":""),onClick:function(e){return d.value=a}},[(0,t.aB)("td",null,(0,t.aF)(e.name),1),(0,t.aB)("td",null,(0,t.aF)(e.explain),1),(0,t.aB)("td",null,(0,t.aF)(e.appearance),1)],10,c)}),128))])]}),_:1})])]}),_:1},8,["title","modelValue"])}}}),f=(0,t.aQ)(s,[["__scopeId","data-v-964f83a9"]]);var d={class:"d-flex align-center"},v={class:"d-flex align-center my-2"},y={class:"w-100"},p={class:"w-100"},m={class:"w-20"},b={class:""},h={class:""},g={class:""},C={class:"w-20"},w={class:"w-20"},k={class:"w-20"},x={class:"w-100",ref:"tbody"},B=["id","onClick","onContextmenu"],L={class:"text-no-wrap"},A={style:{width:"18px"},class:"d-inline-block"},_=["for"],F=["disabled","id","onClick","onUpdate:modelValue"],O=["onClick"],j=["onClick"],T=["onClick"],S=["onClick"],I=["onClick"],z={class:"w-20 text-truncate"},V={class:"w-100 my-3",cellpadding:"20"},D={class:"w-100"},G={class:"w-100"},P={class:"w-auto px-6"},M={class:"d-flex justify-end w-auto"};const U=(0,t.at)({__name:"index",setup:function(e){var a=(0,t.aq)(),n=(0,l.u)({onAddLayer:function(){var e,n=(null===(e=a.value)||void 0===e?void 0:e.$el).getElementsByClassName("v-table__wrapper")[0];(0,t.bo)(function(){n.scrollTo({top:n.scrollHeight-n.clientHeight,behavior:"smooth"})})}}),i=n.onClickLayer,r=n.onClickStopTD,o=n.onClickLayerName,u=n.resumeIndex,c=n.reverseSelection,s=n.selectColor,U=n.selectLineType,N=n.setIndex,H=n.onRightClickLayer,J=n.initLayerList,q=n.setLayerList,R=n.list,E=n.bodyRightClickMenuOptions,K=n.btnList,Y=n.rootId;J();var W=(0,t.aq)([]),Q=function(e){var a=e(W.value,function(e,a){return a}).map;a.length>0&&N(a)},$=(0,t.aq)(),X=(0,t.aq)(""),Z=(0,t.as)(function(e){null===e&&(e=""),X.value=e},500),ee=(0,t.ar)(function(){return R.value.filter(function(e){return e.name.toLowerCase().includes(X.value.toLowerCase())})}),ae=(0,t.cc)();return function(e,n){var l=(0,t.av)("box-selection"),N=(0,t.av)("right-click-menu");return(0,t.aw)(),(0,t.aA)(t.bt,null,[(0,t.aC)(t.aY,{maxWidth:"900",ref:"layerDialog",modelValue:(0,t.ay)(t.cy),"onUpdate:modelValue":n[4]||(n[4]=function(e){return(0,t.aK)(t.cy)?t.cy.value=e:null}),title:e.t("2000")},{actions:(0,t.aG)(function(){return n[9]||(n[9]=[(0,t.aB)("div",{class:"mt-1"},null,-1)])}),default:(0,t.aG)(function(){return[(0,t.aB)("div",d,[(0,t.aB)("div",v,[((0,t.aw)(!0),(0,t.aA)(t.bt,null,(0,t.bu)((0,t.ay)(K),function(a,n){return(0,t.aw)(),(0,t.ax)(t.bd,{onClick:a.fun,class:"mx-2 px-2",key:a.name+n},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t(a.name)),1)]}),_:2},1032,["onClick"])}),128))]),(0,t.aC)(t.aM,{"model-values":X.value,"onUpdate:modelValue":(0,t.ay)(Z),class:"pa-1",clearable:"",density:"compact",label:e.t("2001"),variant:"solo","hide-details":"","single-line":""},{"append-inner":(0,t.aG)(function(){return[(0,t.aC)(t.aH,{icon:"$mdi-magnify",class:"v-icon--clickable"})]}),_:1},8,["model-values","onUpdate:modelValue","label"])]),(0,t.az)(((0,t.aw)(),(0,t.ax)((0,t.ay)(t.ct),{class:"w-100 layer-table",height:"300",ref_key:"boxRef",ref:a,onClick:n[0]||(n[0]=function(e){return(0,t.ay)(u)()})},{default:(0,t.aG)(function(){return[(0,t.aB)("thead",y,[(0,t.aB)("tr",p,[(0,t.aB)("th",m,[n[5]||(n[5]=(0,t.aB)("div",{style:{width:"10px"},class:"d-inline-block"},null,-1)),n[6]||(n[6]=(0,t.aJ)()),(0,t.aB)("span",null,(0,t.aF)(e.t("196")+e.t("1923")),1)]),(0,t.aB)("th",b,(0,t.aF)(e.t("2002")),1),(0,t.aB)("th",h,(0,t.aF)(e.t("2003")),1),(0,t.aB)("th",g,(0,t.aF)(e.t("203")),1),(0,t.aB)("th",C,(0,t.aF)(e.t("210")),1),(0,t.aB)("th",w,(0,t.aF)(e.t("217")),1),(0,t.aB)("th",k,(0,t.aF)(e.t("1810")),1)])]),(0,t.az)(((0,t.aw)(),(0,t.aA)("tbody",x,[((0,t.aw)(!0),(0,t.aA)(t.bt,null,(0,t.bu)(ee.value,function(e,a){return(0,t.aw)(),(0,t.aA)("tr",{class:(0,t.bs)(["text-center layer-info",e.isSelect?"active":""]),ref_for:!0,ref_key:"refItems",ref:W,key:e.id,id:e.id.toString(),onClick:(0,t.bv)(function(e){return(0,t.ay)(i)(a)},["prevent"]),onContextmenu:(0,t.bv)(function(e){return(0,t.ay)(H)(a,e)},["prevent"])},[(0,t.az)(((0,t.aw)(),(0,t.aA)("td",L,[(0,t.aB)("div",A,[e.status?((0,t.aw)(),(0,t.ax)(t.aH,{key:0,icon:"class:iconfont gou",size:"x-small",color:"#16FD21"})):(0,t.aO)("",!0)]),(0,t.aB)("label",{class:"d-inline-block",for:e.id.toString()},[(0,t.az)((0,t.aB)("input",{disabled:e.id===(0,t.ay)(Y),id:e.id.toString(),class:"text-truncate text-center",type:"text",onClick:function(e){return(0,t.ay)(o)(e,a)},"onUpdate:modelValue":function(a){return e.name=a}},null,8,F),[[t.cu,e.name]])],8,_)])),[[t.cv]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",{class:"text-orange",onClick:function(n){return(0,t.ay)(r)(n,e,"visible",!e.visible,a)}},[(0,t.aC)(t.aH,{icon:e.visible?"yanjing1":"yanjing"},null,8,["icon"])],8,O)),[[t.cv,void 0,void 0,{prevent:!0}]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",{class:"text-orange",onClick:function(n){return(0,t.ay)(r)(n,e,"lock",!e.lock,a)}},[(0,t.aC)(t.aH,{icon:e.lock?"suo":"jiesuo1"},null,8,["icon"])],8,j)),[[t.cv]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",{onClick:function(n){return(0,t.ay)(r)(n,e,"print",!e.print,a)}},[(0,t.aC)(t.aH,{icon:e.print?"dayin":"budayinbiaoqian"},null,8,["icon"])],8,T)),[[t.cv]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",{class:"d-flex align-center justify-center",onClick:function(a){return(0,t.ay)(s)(e.color)}},[(0,t.aB)("div",{class:"colorBox mr-2",style:(0,t.c4)({background:"".concat(e.color.color)})},null,4),(0,t.aB)("span",null,(0,t.aF)((0,t.ay)(t.cw)(e.color.name)),1)],8,S)),[[t.cv]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",{class:"w-20 text-truncate",onClick:function(a){return function(e){var a;null===(a=$.value)||void 0===a||a.showDialog(!0,e)}(e.lineType)}},[(0,t.aJ)((0,t.aF)(e.lineType.name),1)],8,I)),[[t.cv]]),(0,t.az)(((0,t.aw)(),(0,t.aA)("td",z,[(0,t.aC)(t.b4,{items:(0,t.ay)(ae),"item-title":"name","bg-color":"transparent","model-value":e.lineWeight,"onUpdate:modelValue":function(a){return function(e,a){r(new MouseEvent("click"),e,"lineWeight",a)}(e,a)}},null,8,["items","model-value","onUpdate:modelValue"])])),[[t.cv]])],42,B)}),128))])),[[l,Q]])]}),_:1})),[[N,(0,t.ay)(E)]]),(0,t.aC)(t.c3,{color:"#576375",class:"border-opacity-75"}),(0,t.aB)("table",V,[(0,t.aB)("thead",D,[(0,t.aB)("tr",G,[n[7]||(n[7]=(0,t.aB)("th",{class:"w-20"},null,-1)),(0,t.aB)("th",P,[(0,t.aC)(t.bd,{onClick:n[1]||(n[1]=function(e){return(0,t.ay)(c)()})},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t("2005")),1)]}),_:1})]),n[8]||(n[8]=(0,t.aB)("th",{class:"w-50"},null,-1)),(0,t.aB)("th",M,[(0,t.aC)(t.bd,{isAction:"",primary:"",onClick:n[2]||(n[2]=function(e){return(0,t.ay)(q)(),(0,t.ay)(t.cx)(!1)})},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t("1829")),1)]}),_:1}),(0,t.aC)(t.bd,{class:"ml-10 mr-6",onClick:n[3]||(n[3]=function(e){return(0,t.ay)(t.cx)()})},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t("2006")),1)]}),_:1})])])])])]}),_:1},8,["modelValue","title"]),(0,t.aC)(f,{ref_key:"linearManager",ref:$,onChange:(0,t.ay)(U)},null,8,["onChange"])],64)}}}),N=(0,t.aQ)(U,[["__scopeId","data-v-2a567250"]])}}]);
"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[330],{2566:function(e,n,t){t.d(n,{d:function(){return f},u:function(){return d}});var l=t(9417),a=t(9091),i=t(9295),r=t(5679),o=t(2898);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,l)}return t}t(8285);var c,s=!1,f=function(e){var n=c,t=n.setValue;n.setLayerList;var l=(0,r.s)(c).list;t("visible",e="boolean"==typeof e?e:s,l.value.map(function(e,n){return n})),s=!e},d=function(e){var n=e.onAddLayer;c=(0,a.x)();var t=(0,i.c)("Shift"),d=(0,i.c)("Control"),v=c,p=v.add,y=v.remove,m=v.putCurrent,h=v.toggle,g=v.setValue,b=v.setIndex,k=v.getIndex,w=v.stringifyJSON;v.create;var C,x,L,_=v.initLayerList,E=v.setLayerList,O=(0,r.s)(c),T=O.index,S=O.list,j=O.currentLayer,A=O.rootId,R=function(){return Array.isArray(T.value)&&T.value.length>1},V=function(e,n){if(n&&n.target&&D(n.target),t.value){void 0===C&&(C=T.value);var l=Math.max(C,e),i=l===e?C:e;b((0,a.aW)(i,l))}else if(d.value){var r=[];if(Array.isArray(T.value)){var o=T.value.indexOf(e);o>=0&&T.value.length>1?(r=(0,a.w)(T.value)).splice(o,1):r=[].concat((0,a.w)(T.value),[e])}else r=[T.value,e];b(r)}else b(e),C=e,I()},I=function(){x=Array.isArray(T.value)?T.value[T.value.length-1]:T.value},z=function(){n&&n(p()),t&&(C=S.value.length-1)},D=function(e){if(e)if("INPUT"===e.tagName)L=e;else{var n=null==e?void 0:e.getElementsByTagName("input")[0];n?L=n:D(e.parentNode)}},U=function(e){var n=k();if(!(Array.isArray(n)&&n.length>1)){var t=Array.isArray(n)?n[0]:n;j.value!==S.value[t]&&S.value[t].id!==A.value&&e&&setTimeout(function(){e.focus(),e.select()})}},P=function(){var e=Array.isArray(T.value)?T.value:[T.value],n=[];I(),h("isSelect",S.value.map(function(t,l){return e.includes(l)||n.push(l),l})),T.value=n},F=(0,a.aU)({hasIcon:!0,iconType:"svg-icon",menuList:[{label:(0,a.t)("213"),fn:function(){return m(void 0,!0)},disabled:R},{label:(0,a.t)("1674"),fn:function(){return z()}},{label:(0,a.t)("205"),fn:function(){return y()},disabled:function(){var e;if(R())return!1;var n=k(T.value);return n="number"==typeof n?n:n[0],(null===(e=S.value[n])||void 0===e?void 0:e.id)===A.value},icon:(0,a.aV)("youjianshanchu")},{label:(0,a.t)("4104"),tips:"F2",fn:function(){return U(L)},disabled:R,icon:(0,a.aV)("youjianzhongmingming")},{line:!0},{label:(0,a.t)("197"),fn:function(){b(S.value.map(function(e,n){return n}))}},{label:(0,a.t)("4262"),fn:function(){return b([]),void I()}},{label:(0,a.t)("4263"),fn:function(){return P()}}]}),M=(0,a.u)().createColor;(0,a.F)().createLineType;var N=(0,o.h)([{name:(0,a.t)("4264"),fun:function(){z()}},{name:(0,a.t)("4265"),fun:function(){return y()}},{name:(0,a.t)("213"),fun:function(){return m()}},{name:(0,a.t)("4266"),fun:function(){f(),N[3].name=s?(0,a.t)("4267"):(0,a.t)("4266")}}]);return{onClickLayer:V,onClickStopTD:function(e,n){for(var l=arguments.length,a=new Array(l>2?l-2:0),i=2;i<l;i++)a[i-2]=arguments[i];var r=a[0],o=a[1],u=a[2];return t.value||d.value?e.preventDefault():n.isSelect?R()?(e.stopPropagation(),g(r,o),!1):void g(r,o,u):g(r,o,u)},onClickLayerName:function(e,n){L=e.target,T.value===n&&U(L)},resumeIndex:function(){x&&b(x),x=void 0},reverseSelection:P,selectColor:function(e){(0,a.c)("Mx_Color",{call:function(e,n){g("color",M(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){(0,l._)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},(0,a.aX)(e,n))),T)},color:e})},selectLineType:function(e){g("lineType",e,T)},setIndex:b,onRightClickLayer:function(e,n){(!R()||!S.value[e].isSelect)&&V(e,n)},initLayerList:_,setLayerList:function(){E(w())},list:S,bodyRightClickMenuOptions:F,isShiftKeyMultipleChoice:t,isCtrlKeyMultipleChoice:d,btnList:N,rootId:A}}},7330:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var l=t(9091),a=t(2898),i=t(5679),r=t(2164),o=t(2566),u=t(9295),c={class:"mt-2"},s={class:"text-center"},f={class:"text-center"},d={class:"text-center"},v=["onClick"];const p=(0,a.e)({__name:"index",emits:["change"],setup:function(e,n){var t=n.expose,o=n.emit,u=function(){var e=(0,l.F)(),n=e.createLineType;return{lineTypeList:(0,i.s)(e).lineTypeList,createLineType:n}}(),p=u.lineTypeList,y=(0,a.f)(0),m=(0,l.aJ)(!1),h=m.isShow,g=m.showDialog,b=m.onReveal,k=o,w=[{name:"确定",fun:function(){k("change",p.value[y.value]),g(!1)},primary:!0},{name:"取消",fun:function(){return g(!1)}}];return b(function(e){y.value=p.value.findIndex(function(n){return n.name===e.name})}),t({showDialog:g}),function(e,n){return(0,a.o)(),(0,a.m)(l.U,{title:e.t("2300"),"max-width":"500",modelValue:(0,a.E)(h),"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,a.R)(h)?h.value=e:null}),footerBtnList:w},{default:(0,a.w)(function(){return[(0,a.l)("div",c,[(0,a.l)("p",null,(0,a.t)(e.t("2301")),1),(0,a.a)(r._,{height:"300"},{default:(0,a.w)(function(){return[(0,a.l)("thead",null,[(0,a.l)("tr",null,[(0,a.l)("th",s,(0,a.t)(e.t("218")),1),(0,a.l)("th",f,(0,a.t)(e.t("2302")),1),(0,a.l)("th",d,(0,a.t)(e.t("1970")),1)])]),(0,a.l)("tbody",null,[((0,a.o)(!0),(0,a.c)(a.F,null,(0,a.d)((0,a.E)(p),function(e,n){return(0,a.o)(),(0,a.c)("tr",{key:e.id,class:(0,a.p)(y.value===n?"active":""),onClick:function(e){return y.value=n}},[(0,a.l)("td",null,(0,a.t)(e.name),1),(0,a.l)("td",null,(0,a.t)(e.explain),1),(0,a.l)("td",null,(0,a.t)(e.appearance),1)],10,v)}),128))])]}),_:1})])]}),_:1},8,["title","modelValue"])}}}),y=(0,l.O)(p,[["__scopeId","data-v-964f83a9"]]);var m={class:"d-flex align-center"},h={class:"d-flex align-center my-2"},g={class:"w-100"},b={class:"w-100"},k={class:"w-20"},w={class:""},C={class:""},x={class:""},L={class:"w-20"},_={class:"w-20"},E={class:"w-20"},O={class:"w-100",ref:"tbody"},T=["id","onClick","onContextmenu"],S={class:"text-no-wrap"},j={style:{width:"18px"},class:"d-inline-block"},A=["for"],R=["disabled","id","onClick","onUpdate:modelValue"],V=["onClick"],I=["onClick"],z=["onClick"],D=["onClick"],U=["onClick"],P={class:"w-20 text-truncate"},F={class:"w-100 my-3",cellpadding:"20"},M={class:"w-100"},N={class:"w-100"},q={class:"w-auto px-6"},B={class:"d-flex justify-end w-auto"};const W=(0,a.e)({__name:"index",setup:function(e){var n=(0,a.f)(),t=(0,o.u)({onAddLayer:function(){var e,t=(null===(e=n.value)||void 0===e?void 0:e.$el).getElementsByClassName("v-table__wrapper")[0];(0,a.k)(function(){t.scrollTo({top:t.scrollHeight-t.clientHeight,behavior:"smooth"})})}}),i=t.onClickLayer,c=t.onClickStopTD,s=t.onClickLayerName,f=t.resumeIndex,d=t.reverseSelection,v=t.selectColor,p=t.selectLineType,W=t.setIndex,H=t.onRightClickLayer,J=t.initLayerList,K=t.setLayerList,$=t.list,X=t.bodyRightClickMenuOptions,G=t.btnList,Q=t.rootId;J();var Y=(0,a.f)([]),Z=function(e){var n=e(Y.value,function(e,n){return n}).map;n.length>0&&W(n)},ee=(0,a.f)(),ne=(0,a.f)(""),te=(0,u.b)(function(e){null===e&&(e=""),ne.value=e},500),le=(0,a.g)(function(){return $.value.filter(function(e){return e.name.toLowerCase().includes(ne.value.toLowerCase())})}),ae=(0,l.aH)();return function(e,t){var o=(0,a.a6)("box-selection"),u=(0,a.a6)("right-click-menu");return(0,a.o)(),(0,a.c)(a.F,null,[(0,a.a)(l.U,{maxWidth:"900",ref:"layerDialog",modelValue:(0,a.E)(l.aT),"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,a.R)(l.aT)?l.aT.value=e:null}),title:e.t("2000")},{actions:(0,a.w)(function(){return t[9]||(t[9]=[(0,a.l)("div",{class:"mt-1"},null,-1)])}),default:(0,a.w)(function(){return[(0,a.l)("div",m,[(0,a.l)("div",h,[((0,a.o)(!0),(0,a.c)(a.F,null,(0,a.d)((0,a.E)(G),function(n,t){return(0,a.o)(),(0,a.m)(l.a3,{onClick:n.fun,class:"mx-2 px-2",key:n.name+t},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t(n.name)),1)]}),_:2},1032,["onClick"])}),128))]),(0,a.a)(r.i,{"model-values":ne.value,"onUpdate:modelValue":(0,a.E)(te),class:"pa-1",clearable:"",density:"compact",label:e.t("2001"),variant:"solo","hide-details":"","single-line":""},{"append-inner":(0,a.w)(function(){return[(0,a.a)(r.a,{icon:"$mdi-magnify",class:"v-icon--clickable"})]}),_:1},8,["model-values","onUpdate:modelValue","label"])]),(0,a.z)(((0,a.o)(),(0,a.m)((0,a.E)(r._),{class:"w-100 layer-table",height:"300",ref_key:"boxRef",ref:n,onClick:t[0]||(t[0]=function(e){return(0,a.E)(f)()})},{default:(0,a.w)(function(){return[(0,a.l)("thead",g,[(0,a.l)("tr",b,[(0,a.l)("th",k,[t[5]||(t[5]=(0,a.l)("div",{style:{width:"10px"},class:"d-inline-block"},null,-1)),t[6]||(t[6]=(0,a.q)()),(0,a.l)("span",null,(0,a.t)(e.t("196")+e.t("1923")),1)]),(0,a.l)("th",w,(0,a.t)(e.t("2002")),1),(0,a.l)("th",C,(0,a.t)(e.t("2003")),1),(0,a.l)("th",x,(0,a.t)(e.t("203")),1),(0,a.l)("th",L,(0,a.t)(e.t("210")),1),(0,a.l)("th",_,(0,a.t)(e.t("217")),1),(0,a.l)("th",E,(0,a.t)(e.t("1810")),1)])]),(0,a.z)(((0,a.o)(),(0,a.c)("tbody",O,[((0,a.o)(!0),(0,a.c)(a.F,null,(0,a.d)(le.value,function(e,n){return(0,a.o)(),(0,a.c)("tr",{class:(0,a.p)(["text-center layer-info",e.isSelect?"active":""]),ref_for:!0,ref_key:"refItems",ref:Y,key:e.id,id:e.id.toString(),onClick:(0,a.y)(function(e){return(0,a.E)(i)(n)},["prevent"]),onContextmenu:(0,a.y)(function(e){return(0,a.E)(H)(n,e)},["prevent"])},[(0,a.z)(((0,a.o)(),(0,a.c)("td",S,[(0,a.l)("div",j,[e.status?((0,a.o)(),(0,a.m)(r.a,{key:0,icon:"class:iconfont gou",size:"x-small",color:"#16FD21"})):(0,a.s)("",!0)]),(0,a.l)("label",{class:"d-inline-block",for:e.id.toString()},[(0,a.z)((0,a.l)("input",{disabled:e.id===(0,a.E)(Q),id:e.id.toString(),class:"text-truncate text-center",type:"text",onClick:function(e){return(0,a.E)(s)(e,n)},"onUpdate:modelValue":function(n){return e.name=n}},null,8,R),[[a.ab,e.name]])],8,A)])),[[r.R]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",{class:"text-orange",onClick:function(t){return(0,a.E)(c)(t,e,"visible",!e.visible,n)}},[(0,a.a)(r.a,{icon:e.visible?"yanjing1":"yanjing"},null,8,["icon"])],8,V)),[[r.R,void 0,void 0,{prevent:!0}]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",{class:"text-orange",onClick:function(t){return(0,a.E)(c)(t,e,"lock",!e.lock,n)}},[(0,a.a)(r.a,{icon:e.lock?"suo":"jiesuo1"},null,8,["icon"])],8,I)),[[r.R]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",{onClick:function(t){return(0,a.E)(c)(t,e,"print",!e.print,n)}},[(0,a.a)(r.a,{icon:e.print?"dayin":"budayinbiaoqian"},null,8,["icon"])],8,z)),[[r.R]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",{class:"d-flex align-center justify-center",onClick:function(n){return(0,a.E)(v)(e.color)}},[(0,a.l)("div",{class:"colorBox mr-2",style:(0,a.n)({background:"".concat(e.color.color)})},null,4),(0,a.l)("span",null,(0,a.t)((0,a.E)(l.aR)(e.color.name)),1)],8,D)),[[r.R]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",{class:"w-20 text-truncate",onClick:function(n){return function(e){var n;null===(n=ee.value)||void 0===n||n.showDialog(!0,e)}(e.lineType)}},[(0,a.q)((0,a.t)(e.lineType.name),1)],8,U)),[[r.R]]),(0,a.z)(((0,a.o)(),(0,a.c)("td",P,[(0,a.a)(r.d,{items:(0,a.E)(ae),"item-title":"name","bg-color":"transparent","model-value":e.lineWeight,"onUpdate:modelValue":function(n){return function(e,n){c(new MouseEvent("click"),e,"lineWeight",n)}(e,n)}},null,8,["items","model-value","onUpdate:modelValue"])])),[[r.R]])],42,T)}),128))])),[[o,Z]])]}),_:1})),[[u,(0,a.E)(X)]]),(0,a.a)(r.f,{color:"#576375",class:"border-opacity-75"}),(0,a.l)("table",F,[(0,a.l)("thead",M,[(0,a.l)("tr",N,[t[7]||(t[7]=(0,a.l)("th",{class:"w-20"},null,-1)),(0,a.l)("th",q,[(0,a.a)(l.a3,{onClick:t[1]||(t[1]=function(e){return(0,a.E)(d)()})},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2005")),1)]}),_:1})]),t[8]||(t[8]=(0,a.l)("th",{class:"w-50"},null,-1)),(0,a.l)("th",B,[(0,a.a)(l.a3,{isAction:"",primary:"",onClick:t[2]||(t[2]=function(e){return(0,a.E)(K)(),(0,a.E)(l.aS)(!1)})},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("1829")),1)]}),_:1}),(0,a.a)(l.a3,{class:"ml-10 mr-6",onClick:t[3]||(t[3]=function(e){return(0,a.E)(l.aS)()})},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.t("2006")),1)]}),_:1})])])])])]}),_:1},8,["modelValue","title"]),(0,a.a)(y,{ref_key:"linearManager",ref:ee,onChange:(0,a.E)(p)},null,8,["onChange"])],64)}}}),H=(0,l.O)(W,[["__scopeId","data-v-2a567250"]])}}]);
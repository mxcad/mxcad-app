"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[508],{4508:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var n=t(8741),u=t(8159),l={class:"px-3"},r={class:"d-flex algin-center mt-2 w-75"},o={class:""},i={class:""},s={class:""},c={class:""};const d=(0,n.at)({__name:"index",setup:function(e){var a=n.b7.isShow,t=n.b7.showDialog,d=(0,n.aq)(1),f=(0,n.b8)({x:0,y:0}),b=(0,n.I)(!1,"Mx_AttachPictureDialog_isGetPt"),m=(0,n.I)(!1,"Mx_AttachPictureDialog_isGetZoomRatio"),p=(0,n.I)(!1,"Mx_AttachPictureDialog_isGetRotationAngle"),y=(0,n.aq)(1),V=(0,n.aq)(0),h=function(){var e=(0,n._)(n.a.mark(function e(){var a,l,r,o,i,s,c,h,v,C,_,x;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.bb.value){e.next=1;break}return e.abrupt("return");case 1:if(""!==n.bb.value.url){e.next=2;break}return e.abrupt("return",(0,n.F)().warning((0,n.t)("请先选择图片")));case 2:if(t(!1),a=n.M.getCurrentMxCAD(),!b.value){e.next=5;break}return(l=new n.j).setMessage((0,n.t)("指定插入点")),e.next=3,l.go();case 3:if(r=e.sent){e.next=4;break}return e.abrupt("return");case 4:f.x=r.x,f.y=r.y;case 5:if(!m.value){e.next=8;break}return o=new n.j,i=new n.e(f.x,f.y),o.setBasePt(i),o.setMessage((0,n.t)("指定缩放比例")),o.setUserDraw(function(e,a){var t=e.distanceTo(i)/n.bf.width,u=n.bf.width*t,l=n.bf.height*t,r=new THREE.Vector3(i.x+u,i.y+l);a.drawRect(i.toVector3(),r)}),e.next=6,o.go();case 6:if(s=e.sent){e.next=7;break}return e.abrupt("return");case 7:y.value=(0,n.bh)(s.distanceTo(i)/n.bf.width,3);case 8:if(!p.value){e.next=11;break}return(c=new n.o).setMessage((0,n.t)("指定旋转角度")),h=new n.e(f.x,f.y),c.setBasePt(h),e.next=9,c.go();case 9:if(v=e.sent){e.next=10;break}return e.abrupt("return");case 10:c.getDetailedResult()===u.D.kCoordIn?V.value=(0,n.bh)(v,3):V.value=(0,n.bh)(v/(Math.PI/180),3);case 11:C=a.drawImage(f.x,f.y,n.bf.width*y.value,n.bf.height*y.value,V.value,n.bb.value.fileName||n.bb.value.url,!0,n.bf.width,n.bf.height),(_=C.getMcDbEntity())&&(x=_.trueColor,_.trueColor=new n.n(x.red,x.green,x.blue,255*d.value));case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=[{name:"确定",fun:h,primary:!0},{name:"关闭",fun:function(){return t(!1)}}];return function(e,t){return(0,n.aw)(),(0,n.ax)(n.aY,{title:e.t("1922"),modelValue:(0,n.ay)(a),"onUpdate:modelValue":t[13]||(t[13]=function(e){return(0,n.aK)(a)?a.value=e:null}),"max-width":"600",footerBtnList:v},{default:(0,n.aG)(function(){return[(0,n.aB)("div",l,[(0,n.aB)("div",r,[(0,n.aC)(n.b9,{class:"mt-1 mr-2","return-object":"","item-title":"fileName","item-value":"url",items:(0,n.ay)(n.ba),modelValue:(0,n.ay)(n.bb),"onUpdate:modelValue":[t[0]||(t[0]=function(e){return(0,n.aK)(n.bb)?n.bb.value=e:null}),t[1]||(t[1]=function(e){return(0,n.ay)(n.bc)(e)})],modelModifiers:{lazy:!0}},{prepend:(0,n.aG)(function(){return[(0,n.aB)("span",o,[(0,n.aJ)((0,n.aF)(e.t("1923"))+"(",1),t[14]||(t[14]=(0,n.aB)("span",{class:"text-decoration-underline"},"N",-1)),t[15]||(t[15]=(0,n.aJ)(") "))])]}),_:1},8,["items","modelValue"]),(0,n.aC)(n.bd,{onClick:t[2]||(t[2]=function(e){return(0,n.ay)(n.be)((0,n.ay)(n.b7))})},{default:(0,n.aG)(function(){return[(0,n.aC)(n.b0,{"key-name":"B"},{default:(0,n.aG)(function(){return[(0,n.aJ)((0,n.aF)(e.t("1924")),1)]}),_:1}),t[16]||(t[16]=(0,n.aJ)()),(0,n.aC)(n.aH,{icon:"class:iconfont more"})]}),_:1})]),(0,n.aC)(n.aU,{"align-stretch":"",class:"mt-2"},{default:(0,n.aG)(function(){return[(0,n.aC)(n.aV,{cols:8,"align-self":"auto"},{default:(0,n.aG)(function(){return[(0,n.aC)(n.b1,{title:e.t("1925"),class:"h-100"},{default:(0,n.aG)(function(){var e;return[(0,n.aC)(n.aE,{src:null===(e=(0,n.ay)(n.bb))||void 0===e?void 0:e.url,crossorigin:"anonymous",height:"425px"},null,8,["src"])]}),_:1},8,["title"])]}),_:1}),(0,n.aC)(n.aV,{cols:4,"align-self":"auto"},{default:(0,n.aG)(function(){return[(0,n.aC)(n.b1,{title:e.t("209")},{default:(0,n.aG)(function(){return[(0,n.aC)(n.aN,{modelValue:(0,n.ay)(b),"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,n.aK)(b)?b.value=e:null})},{label:(0,n.aG)(function(){return[(0,n.aC)(n.b0,{"key-name":"S"},{default:(0,n.aG)(function(){return[(0,n.aJ)((0,n.aF)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,n.aC)(n.aM,{class:"mt-1",modelValue:f.x,"onUpdate:modelValue":t[4]||(t[4]=function(e){return f.x=e}),disabled:(0,n.ay)(b)},{prepend:(0,n.aG)(function(){return t[17]||(t[17]=[(0,n.aB)("span",{class:""}," X:",-1)])}),_:1},8,["modelValue","disabled"]),(0,n.aC)(n.aM,{class:"mt-1",modelValue:f.y,"onUpdate:modelValue":t[5]||(t[5]=function(e){return f.y=e}),disabled:(0,n.ay)(b)},{prepend:(0,n.aG)(function(){return t[18]||(t[18]=[(0,n.aB)("span",{class:""}," Y:",-1)])}),_:1},8,["modelValue","disabled"])]}),_:1},8,["title"]),(0,n.aC)(n.b1,{title:e.t("1928")},{default:(0,n.aG)(function(){return[(0,n.aC)(n.aN,{modelValue:(0,n.ay)(m),"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,n.aK)(m)?m.value=e:null})},{label:(0,n.aG)(function(){return[(0,n.aC)(n.b0,{"key-name":"S"},{default:(0,n.aG)(function(){return[(0,n.aJ)((0,n.aF)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,n.aC)(n.aM,{class:"mt-1 ml-1",type:"number",disabled:(0,n.ay)(m),modelValue:y.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return y.value=e})},null,8,["disabled","modelValue"])]}),_:1},8,["title"]),(0,n.aC)(n.b1,{title:e.t("1929")},{default:(0,n.aG)(function(){return[(0,n.aC)(n.aM,{class:"mt-1",type:"number",modelValue:(0,n.ay)(n.bf).width,"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,n.ay)(n.bf).width=e})},{prepend:(0,n.aG)(function(){return[(0,n.aB)("span",i,(0,n.aF)(e.t("1930"))+":",1)]}),_:1},8,["modelValue"]),(0,n.aC)(n.aM,{class:"mt-1",type:"number",modelValue:(0,n.ay)(n.bf).height,"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,n.ay)(n.bf).height=e})},{prepend:(0,n.aG)(function(){return[(0,n.aB)("span",s,(0,n.aF)(e.t("1835"))+":",1)]}),_:1},8,["modelValue"])]}),_:1},8,["title"]),(0,n.aC)(n.b1,{title:e.t("1931")},{default:(0,n.aG)(function(){return[(0,n.aC)(n.aN,{class:"",modelValue:(0,n.ay)(p),"onUpdate:modelValue":t[10]||(t[10]=function(e){return(0,n.aK)(p)?p.value=e:null})},{label:(0,n.aG)(function(){return[(0,n.aC)(n.b0,{"key-name":"S"},{default:(0,n.aG)(function(){return[(0,n.aJ)((0,n.aF)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,n.aC)(n.aM,{class:"mt-1",type:"number",modelValue:V.value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return V.value=e}),disabled:(0,n.ay)(p)},{prepend:(0,n.aG)(function(){return[(0,n.aB)("span",c,(0,n.aF)(e.t("169"))+":",1)]}),_:1},8,["modelValue","disabled"])]}),_:1},8,["title"]),(0,n.aC)(n.b1,{title:e.t("1932")},{default:(0,n.aG)(function(){return[(0,n.aC)(n.bg,{modelValue:d.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return d.value=e}),max:1,min:0,step:.2,"thumb-label":""},null,8,["modelValue"])]}),_:1},8,["title"])]}),_:1})]}),_:1})])]}),_:1},8,["title","modelValue"])}}})}}]);
"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[508],{4508:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(9091),u=a(2898),l=a(8285),r=a(2164),i={class:"px-3"},o={class:"d-flex algin-center mt-2 w-75"},s={class:""},c={class:""},d={class:""},f={class:""};const m=(0,u.e)({__name:"index",setup:function(e){var t=n.$.isShow,a=n.$.showDialog,m=(0,u.f)(1),p=(0,u.h)({x:0,y:0}),w=(0,n.j)(!1,"Mx_AttachPictureDialog_isGetPt"),v=(0,n.j)(!1,"Mx_AttachPictureDialog_isGetZoomRatio"),V=(0,n.j)(!1,"Mx_AttachPictureDialog_isGetRotationAngle"),b=(0,u.f)(1),h=(0,u.f)(0),_=function(){var e=(0,n._)(n.a.mark(function e(){var t,u,r,i,o,s,c,d,f,_,x,g;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.a1.value){e.next=1;break}return e.abrupt("return");case 1:if(""!==n.a1.value.url){e.next=2;break}return e.abrupt("return",(0,n.h)().warning((0,n.t)("请先选择图片")));case 2:if(a(!1),t=l.M.getCurrentMxCAD(),!w.value){e.next=5;break}return(u=new l.i).setMessage((0,n.t)("指定插入点")),e.next=3,u.go();case 3:if(r=e.sent){e.next=4;break}return e.abrupt("return");case 4:p.x=r.x,p.y=r.y;case 5:if(!v.value){e.next=8;break}return i=new l.i,o=new l.q(p.x,p.y),i.setBasePt(o),i.setMessage((0,n.t)("指定缩放比例")),i.setUserDraw(function(e,t){var a=e.distanceTo(o)/n.a5.width,u=n.a5.width*a,l=n.a5.height*a,r=new THREE.Vector3(o.x+u,o.y+l);t.drawRect(o.toVector3(),r)}),e.next=6,i.go();case 6:if(s=e.sent){e.next=7;break}return e.abrupt("return");case 7:b.value=(0,n.a6)(s.distanceTo(o)/n.a5.width,3);case 8:if(!V.value){e.next=11;break}return(c=new l.o).setMessage((0,n.t)("指定旋转角度")),d=new l.q(p.x,p.y),c.setBasePt(d),e.next=9,c.go();case 9:if(f=e.sent){e.next=10;break}return e.abrupt("return");case 10:c.getDetailedResult()===l.D.kCoordIn?h.value=(0,n.a6)(f,3):h.value=(0,n.a6)(f/(Math.PI/180),3);case 11:_=t.drawImage(p.x,p.y,n.a5.width*b.value,n.a5.height*b.value,h.value,n.a1.value.fileName||n.a1.value.url,!0,n.a5.width,n.a5.height),(x=_.getMcDbEntity())&&(g=x.trueColor,x.trueColor=new l.a(g.red,g.green,g.blue,255*m.value));case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=[{name:"确定",fun:_,primary:!0},{name:"关闭",fun:function(){return a(!1)}}];return function(e,a){return(0,u.o)(),(0,u.m)(n.U,{title:e.t("1922"),modelValue:(0,u.E)(t),"onUpdate:modelValue":a[13]||(a[13]=function(e){return(0,u.R)(t)?t.value=e:null}),"max-width":"600",footerBtnList:x},{default:(0,u.w)(function(){return[(0,u.l)("div",i,[(0,u.l)("div",o,[(0,u.a)(r.v,{class:"mt-1 mr-2","return-object":"","item-title":"fileName","item-value":"url",items:(0,u.E)(n.a0),modelValue:(0,u.E)(n.a1),"onUpdate:modelValue":[a[0]||(a[0]=function(e){return(0,u.R)(n.a1)?n.a1.value=e:null}),a[1]||(a[1]=function(e){return(0,u.E)(n.a2)(e)})],modelModifiers:{lazy:!0}},{prepend:(0,u.w)(function(){return[(0,u.l)("span",s,[(0,u.q)((0,u.t)(e.t("1923"))+"(",1),a[14]||(a[14]=(0,u.l)("span",{class:"text-decoration-underline"},"N",-1)),a[15]||(a[15]=(0,u.q)(") "))])]}),_:1},8,["items","modelValue"]),(0,u.a)(n.a3,{onClick:a[2]||(a[2]=function(e){return(0,u.E)(n.a4)((0,u.E)(n.$))})},{default:(0,u.w)(function(){return[(0,u.a)(n.W,{"key-name":"B"},{default:(0,u.w)(function(){return[(0,u.q)((0,u.t)(e.t("1924")),1)]}),_:1}),a[16]||(a[16]=(0,u.q)()),(0,u.a)(r.a,{icon:"class:iconfont more"})]}),_:1})]),(0,u.a)(r.D,{"align-stretch":"",class:"mt-2"},{default:(0,u.w)(function(){return[(0,u.a)(r.C,{cols:8,"align-self":"auto"},{default:(0,u.w)(function(){return[(0,u.a)(n.X,{title:e.t("1925"),class:"h-100"},{default:(0,u.w)(function(){var e;return[(0,u.a)(r.h,{src:null===(e=(0,u.E)(n.a1))||void 0===e?void 0:e.url,crossorigin:"anonymous",height:"425px"},null,8,["src"])]}),_:1},8,["title"])]}),_:1}),(0,u.a)(r.C,{cols:4,"align-self":"auto"},{default:(0,u.w)(function(){return[(0,u.a)(n.X,{title:e.t("209")},{default:(0,u.w)(function(){return[(0,u.a)(r.j,{modelValue:(0,u.E)(w),"onUpdate:modelValue":a[3]||(a[3]=function(e){return(0,u.R)(w)?w.value=e:null})},{label:(0,u.w)(function(){return[(0,u.a)(n.W,{"key-name":"S"},{default:(0,u.w)(function(){return[(0,u.q)((0,u.t)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,u.a)(r.i,{class:"mt-1",modelValue:p.x,"onUpdate:modelValue":a[4]||(a[4]=function(e){return p.x=e}),disabled:(0,u.E)(w)},{prepend:(0,u.w)(function(){return a[17]||(a[17]=[(0,u.l)("span",{class:""}," X:",-1)])}),_:1},8,["modelValue","disabled"]),(0,u.a)(r.i,{class:"mt-1",modelValue:p.y,"onUpdate:modelValue":a[5]||(a[5]=function(e){return p.y=e}),disabled:(0,u.E)(w)},{prepend:(0,u.w)(function(){return a[18]||(a[18]=[(0,u.l)("span",{class:""}," Y:",-1)])}),_:1},8,["modelValue","disabled"])]}),_:1},8,["title"]),(0,u.a)(n.X,{title:e.t("1928")},{default:(0,u.w)(function(){return[(0,u.a)(r.j,{modelValue:(0,u.E)(v),"onUpdate:modelValue":a[6]||(a[6]=function(e){return(0,u.R)(v)?v.value=e:null})},{label:(0,u.w)(function(){return[(0,u.a)(n.W,{"key-name":"S"},{default:(0,u.w)(function(){return[(0,u.q)((0,u.t)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,u.a)(r.i,{class:"mt-1 ml-1",type:"number",disabled:(0,u.E)(v),modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=function(e){return b.value=e})},null,8,["disabled","modelValue"])]}),_:1},8,["title"]),(0,u.a)(n.X,{title:e.t("1929")},{default:(0,u.w)(function(){return[(0,u.a)(r.i,{class:"mt-1",type:"number",modelValue:(0,u.E)(n.a5).width,"onUpdate:modelValue":a[8]||(a[8]=function(e){return(0,u.E)(n.a5).width=e})},{prepend:(0,u.w)(function(){return[(0,u.l)("span",c,(0,u.t)(e.t("1930"))+":",1)]}),_:1},8,["modelValue"]),(0,u.a)(r.i,{class:"mt-1",type:"number",modelValue:(0,u.E)(n.a5).height,"onUpdate:modelValue":a[9]||(a[9]=function(e){return(0,u.E)(n.a5).height=e})},{prepend:(0,u.w)(function(){return[(0,u.l)("span",d,(0,u.t)(e.t("1835"))+":",1)]}),_:1},8,["modelValue"])]}),_:1},8,["title"]),(0,u.a)(n.X,{title:e.t("1931")},{default:(0,u.w)(function(){return[(0,u.a)(r.j,{class:"",modelValue:(0,u.E)(V),"onUpdate:modelValue":a[10]||(a[10]=function(e){return(0,u.R)(V)?V.value=e:null})},{label:(0,u.w)(function(){return[(0,u.a)(n.W,{"key-name":"S"},{default:(0,u.w)(function(){return[(0,u.q)((0,u.t)(e.t("1927")),1)]}),_:1})]}),_:1},8,["modelValue"]),(0,u.a)(r.i,{class:"mt-1",type:"number",modelValue:h.value,"onUpdate:modelValue":a[11]||(a[11]=function(e){return h.value=e}),disabled:(0,u.E)(V)},{prepend:(0,u.w)(function(){return[(0,u.l)("span",f,(0,u.t)(e.t("169"))+":",1)]}),_:1},8,["modelValue","disabled"])]}),_:1},8,["title"]),(0,u.a)(n.X,{title:e.t("1932")},{default:(0,u.w)(function(){return[(0,u.a)(r.F,{modelValue:m.value,"onUpdate:modelValue":a[12]||(a[12]=function(e){return m.value=e}),max:1,min:0,step:.2,"thumb-label":""},null,8,["modelValue"])]}),_:1},8,["title"])]}),_:1})]}),_:1})])]}),_:1},8,["title","modelValue"])}}})}}]);
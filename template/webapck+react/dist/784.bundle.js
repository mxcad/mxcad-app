"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[784],{6784:function(e,a,n){n.r(a),n.d(a,{default:function(){return l}});var t=n(8741),u={class:"d-flex algin-center"};const l=(0,t.at)({__name:"index",setup:function(e){var a,n=t.e1.isShow,l=(0,t.a2)(),r=l.setValue,o=l.stringifyJSON,i=l.remove,c=l.setLayerList,f=(0,t.a3)(l).list,v=(0,t.aq)(!1),s=(0,t.ar)(function(){return f.value.filter(function(e){return e.name}).map(function(e){return e.name})}),d=(0,t.aq)((0,t.Y)(s.value)),m=(0,t.aq)(!0);(0,t.au)(n,function(e){e?a=(0,t.e2)():a&&m.value&&(0,t.e3)(a)}),(0,t.au)(d,(0,t.as)(function(e){f.value.forEach(function(a,n){r("visible",e.includes(a.name),n)}),(0,t.e3)(o())},100));var p=(0,t.aq)(""),y=(0,t.aq)(!1),h=function(){var e=(0,t._)(t.a.mark(function e(){var a,n;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.e1.showDialog(!1),e.next=1,t.w.userSelect((0,t.t)("选择对象"));case 1:a=e.sent,n=new Set,a.forEach(function(e){var a=e.getMcDbEntity();a&&n.add(a.layer)}),d.value=Array.from(n),t.e1.showDialog(!0);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,t.au)(p,function(e){""===e&&(y.value=!1,v.value=!1)});var b=function(){""!==p.value?(y.value=!0,v.value=!0,d.value=s.value.filter(function(e){return e.toLocaleLowerCase()===p.value.toLocaleLowerCase()})):d.value=[]},w=(0,t.aq)([]),x=function(e){var a=e(w.value.map(function(e){return e.$el}),function(e,a){return a}).map;if(0!==a.length){var n=v.value?d.value:s.value;d.value=a.map(function(e){return n[e]})}},C=(0,t.ar)(function(){return"".concat((0,t.t)("图层漫游")," - ").concat((0,t.t)("图层数"),":")+s.value.length}),k=function(){var e=new t.J,a=new Set;e.allSelect(),e.forEach(function(e){var n=e.getMcDbEntity();n&&a.add(n.layer)});var n=Array.from(a);i(f.value.filter(function(e){var a=e.name;return!n.includes(a)}),"this"),c(o())};return function(e,a){var l=(0,t.av)("box-selection");return(0,t.aw)(),(0,t.ax)(t.aY,{maxWidth:"400px",ref:"layerDialog",modelValue:(0,t.ay)(n),"onUpdate:modelValue":a[4]||(a[4]=function(e){return(0,t.aK)(n)?n.value=e:null}),title:C.value},{actions:(0,t.aG)(function(){return[(0,t.aC)(t.e4,{class:"mx-1 mt-0 mb-1 py-0 px-2 bg-dialog-card-text d-flex justify-end"},{default:(0,t.aG)(function(){return[(0,t.aC)(t.aN,{class:"mr-5",label:e.t("2149"),modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=function(e){return m.value=e})},null,8,["label","modelValue"]),(0,t.aC)(t.bd,{onClick:k},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t("2150")),1)]}),_:1}),(0,t.aC)(t.bd,{onClick:a[3]||(a[3]=function(e){return(0,t.ay)(t.e1).showDialog(!1)})},{default:(0,t.aG)(function(){return[(0,t.aJ)((0,t.aF)(e.t("2006")),1)]}),_:1})]}),_:1})]}),default:(0,t.aG)(function(){return[(0,t.aB)("div",u,[(0,t.aC)(t.b2,{onClick:h}),(0,t.aC)(t.aM,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return p.value=e}),onKeydown:(0,t.aL)(b,["enter"])},null,8,["modelValue"]),(0,t.aC)(t.aN,{label:e.t("2148"),modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return v.value=e}),disabled:!y.value},null,8,["label","modelValue","disabled"])]),(0,t.az)(((0,t.aw)(),(0,t.ax)(t.cj,{density:"compact",color:"primary",style:{height:"300px"}},{default:(0,t.aG)(function(){return[((0,t.aw)(!0),(0,t.aA)(t.bt,null,(0,t.bu)(v.value?(0,t.Y)(d.value):s.value,function(e,a){return(0,t.aw)(),(0,t.ax)(t.ce,{class:"ma-0",title:e,ref_for:!0,ref_key:"refItems",ref:w,key:a,onClick:function(n){return function(e,a,n){if(e.ctrlKey){var u=d.value.indexOf(a);d.value=-1===u?[].concat((0,t.Y)(d.value),[a]):d.value.filter(function(e){return e!==a})}else if(e.shiftKey){var l=d.value.map(function(e){return s.value.indexOf(e)}),r=Math.min.apply(Math,(0,t.Y)(l)),o=Math.max.apply(Math,(0,t.Y)(l));r>n?r=n:o=n,d.value=s.value.slice(r,o+1)}else d.value=[a]}(n,e,a)},active:v.value?v.value:d.value.includes(e)},null,8,["title","onClick","active"])}),128))]}),_:1})),[[l,x]])]}),_:1},8,["modelValue","title"])}}})}}]);
"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[575],{3673:function(e,t,a){a.d(t,{i:function(){return s}});var r=a(8741);function n(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return u(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}(e))||t){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function c(e){e.sort(function(e,t){return e.minPt.y===t.minPt.y?e.minPt.x-t.minPt.x:e.minPt.y-t.minPt.y});var t,a=[],r=n(e);try{for(r.s();!(t=r.n()).done;){var u,c=t.value,o=!0,i=n(a);try{for(i.s();!(u=i.n()).done;){var s=u.value;if(c.minPt.x>=s.minPt.x&&c.minPt.y>=s.minPt.y&&c.maxPt.x<=s.maxPt.x&&c.maxPt.y<=s.maxPt.y){o=!1;break}}}catch(e){i.e(e)}finally{i.f()}o&&a.push(c)}}catch(e){r.e(e)}finally{r.f()}return a}var o=function(){var e=(0,r._)(r.a.mark(function e(t){var a,n,u,c,o,i,s,l,f,p,d,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(a=t||{}).blockName,u=a.isSpecifiedRange,c=void 0!==u&&u,o=a.layerName,i=[],s=n){e.next=5;break}return e.next=1,r.w.userSelect((0,r.t)("3603"));case 1:if(0!==(l=e.sent).length){e.next=2;break}return e.abrupt("return",i);case 2:if((f=l[0].getMcDbEntity())instanceof r.$){e.next=3;break}return(0,r.F)().error((0,r.t)("3604")),e.abrupt("return",i);case 3:if(p=f.blockTableRecordId.getMcDbBlockTableRecord()){e.next=4;break}return e.abrupt("return",i);case 4:s=p.name;case 5:if(d=new r.J,(b=new r.v).AddMcDbEntityTypes("INSERT"),!c){e.next=7;break}return e.next=6,d.userSelect((0,r.t)("2322"),b);case 6:e.next=8;break;case 7:d.allSelect(b);case 8:return d.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof r.$){var a=t,n=a.blockTableRecordId.getMcDbBlockTableRecord();if(o&&a.layer!==o)return;if(n&&n.name===s){var u=a.getBoundingBox(),c=u.minPt,l=u.maxPt,f=new r.e(Math.min(c.x,l.x),Math.min(c.y,l.y),Math.min(c.z,l.z)),p=new r.e(Math.max(c.x,l.x),Math.max(c.y,l.y),Math.max(c.z,l.z));i.push({minPt:f,maxPt:p})}}}),e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r._)(r.a.mark(function e(t){var a,n,u,o,i,s,l,f,p,d,b,v,x;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(a=t||{}).isSpecifiedRange,u=void 0===n||n,o=a.layerName,i=[],!u){e.next=2;break}return e.next=1,r.w.userSelect((0,r.t)("3754"));case 1:i=e.sent,e.next=3;break;case 2:s=new r.J,(l=new r.v).AddMcDbEntityTypes("LWPOLYLINE"),s.allSelect(l),i=s.getIds();case 3:return f=[],p=function(e,t,a){return(t.x-e.x)*(t.x-a.x)+(t.y-e.y)*(t.y-a.y)==0},d=function(e,t,a,r){return p(e,t,a)},b=function(e){if(e instanceof r.f){if(o&&e.layer!==o)return;var t=e.numVerts();if(0===t||(e.isClosed?t>4:t>5))return;for(var a=0;a<t;a++)if(e.getBulgeAt(a)>.001)return;var n=e.getPointAt(0).val;if(d(n,e.getPointAt(1).val,e.getPointAt(2).val,e.isClosed||e.getPointAt(3).val)){var u=e.getBoundingBox(),c=u.minPt,i=u.maxPt;f.push({minPt:c,maxPt:i})}}},v=function(e){var t=e.blockTableRecordId.getMcDbBlockTableRecord();t&&t.getAllEntityId().forEach(function(e){var t=e.getMcDbEntity();t&&(t instanceof r.f&&b(t),t instanceof r.$&&v(t))})},i.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof r.f)b(t);else if(t instanceof r.$){if(o&&t.layer!==o)return;v(t)}}),x=c(f).filter(function(e){var t=e.minPt,a=e.maxPt,n=new r.J;return n.imp.userSelect(t.x,t.y,a.x,a.y,(0,r.du)(),!1),0!==n.count()}),e.abrupt("return",x);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r._)(r.a.mark(function e(t){var a,n,u,c,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(a=t||{}).method,u=void 0===n?"polyline":n,c=a.blockName,s=a.isSpecifiedRange,l=a.layerName,"block"!==u){e.next=1;break}return e.abrupt("return",o({blockName:c,isSpecifiedRange:s,layerName:l}));case 1:return e.abrupt("return",i({isSpecifiedRange:s,layerName:l}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},4575:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var r=a(8741),n=a(8159),u=a(3673);function c(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return o(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}(e))||t){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,u=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw u}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var i={key:0,class:"d-flex align-center"},s={class:"d-flex"},l={class:"position-relative"},f={class:"d-flex align-center justify-space-between"},p={class:"ml-2 multi-select-actions"},d={class:"d-flex flex-wrap justify-space-start overflow-y-auto",style:{"max-height":"340px"}},b=["onClick"],v={class:"cut-box-actions"},x={class:"cut-box-jump"},m={key:0,class:"cut-box-filename"},y={class:"cut-box-add ma-2"};const h=(0,r.at)({__name:"index",setup:function(e){var t=[{name:"全部导出",primary:!0,fun:function(){return A()}},{name:"关闭",fun:function(){k.value=[],(0,r.c6)(!1)}}],a=(0,r.aq)(!1);(0,r.au)(a,function(e){e||k.value.forEach(function(e){e.selected=!1})});var o=[{name:"批量删除",icon:"delete",color:"error",fun:function(){k.value=k.value.filter(function(e){return!e.selected}),h.value=!1}},{name:"批量导出",icon:"lingcunweiDWG",color:"primary",fun:function(){return g.apply(this,arguments)}}],h=(0,r.aq)(!1),k=(0,r.aq)([]);function w(){var e=k.value.some(function(e){return!e.selected});k.value.forEach(function(t){t.selected=e}),h.value=!1}function g(){return(g=(0,r._)(r.a.mark(function e(){var t,a,n,u,o,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,r.c7.hasPath(F.value);case 2:if(e.sent){e.next=3;break}return(0,r.F)().error((0,r.t)("3717")),e.abrupt("return");case 3:if(0!==k.value.length){e.next=4;break}return(0,r.F)().error((0,r.t)("3718")),e.abrupt("return");case 4:t=k.value.map(function(e,t){return e.selected?t:-1}).filter(function(e){return-1!==e}),a=[],n=c(t),e.prev=5,n.s();case 6:if((u=n.n()).done){e.next=10;break}return o=u.value,k.value[o].exportStatus="ready",e.next=7,V(o);case 7:return i=e.sent,h.value=!1,e.next=8,new Promise(function(e){return setTimeout(e,500)});case 8:i&&a.push(o);case 9:e.next=6;break;case 10:e.next=12;break;case 11:e.prev=11,s=e.catch(5),n.e(s);case 12:return e.prev=12,n.f(),e.finish(12);case 13:0===a.length?(0,r.F)().error((0,r.t)("3719")):(0,r.F)().success((0,r.t)("3720")),h.value=!1;case 14:case"end":return e.stop()}},e,null,[[5,11,12,13]])}))).apply(this,arguments)}(0,r.au)(a,function(){h.value=!1});var _=(0,r.aq)("manual"),C=(0,r.aq)(""),S=(0,r.aq)(!1),P=function(){var e=(0,r._)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var u=r.M.getCurrentMxCAD();u.setAttribute({ShowCoordinate:!1});var c,o,i=Math.abs(t.x-a.x),s=Math.abs(t.y-a.y);if(i<1||s<1)return e(void 0);i<=800?(c=i,o=s):(c=800,o=s/i*800),u.mxdraw.createCanvasImageData(function(t){e(t),u.setAttribute({ShowCoordinate:!0})},{width:c,height:o,range_pt1:t.toVector3(),range_pt2:a.toVector3()})}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();function M(e,t){!function(e){return k.value.some(function(t){var a=.001,r=Math.abs(parseFloat(t.param.bd_pt1_x)-parseFloat(e.bd_pt1_x))<a,n=Math.abs(parseFloat(t.param.bd_pt1_y)-parseFloat(e.bd_pt1_y))<a,u=Math.abs(parseFloat(t.param.bd_pt2_x)-parseFloat(e.bd_pt2_x))<a,c=Math.abs(parseFloat(t.param.bd_pt2_y)-parseFloat(e.bd_pt2_y))<a;return r&&n&&u&&c})}(t)?(k.value.push({imgBase64:e,param:t,exportStatus:"ready",selected:!1}),h.value=!0):(0,r.F)().info((0,r.t)("3721"))}var F=(0,r.aq)(""),V=function(){var e=(0,r._)(r.a.mark(function e(t){var a,n,u,c,o,i,s,l,f,p,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,r.c7.hasPath(F.value);case 2:if(e.sent){e.next=3;break}return(0,r.F)().error((0,r.t)("3717")),e.abrupt("return");case 3:if(!(t<0||t>=k.value.length)){e.next=4;break}return e.abrupt("return");case 4:r.M.getCurrentMxCAD().mxdraw.getTempMarkDraw().clear(),(a=k.value[t]).exportStatus="exporting",e.next=11;break;case 6:if(!e.sent){e.next=7;break}return a.exportStatus="success",a.fileName=void 0,e.abrupt("return",!0);case 7:a.exportStatus="error",a.fileName="";case 8:e.next=10;break;case 9:e.prev=9,p=e.catch(5),a.exportStatus="error",console.error("导出DWG失败:",p);case 10:e.next=15;break;case 11:return n=(0,r.ae)()||{},u=n.baseUrl,c=void 0===u?"":u,o=n.mxfilepath,i=void 0===o?"":o,s=n.cutDwgUrl,l=void 0===s?"":s,f="".concat((new Date).getTime(),"_").concat(t,".dwg"),e.prev=12,e.next=13,new Promise(function(e,t){r.M.getCurrentMxCAD().saveFileToUrl(l,function(n,u){try{var o=JSON.parse(u);if("ok"==o.ret){var s=c+i+o.file;r.b.downloadFileFromUrl(s,f),a.exportStatus="success",a.fileName=f,e()}else console.error("导出DWG失败:",u),a.exportStatus="error",t(new Error(u))}catch(e){console.error("导出DWG错误:",e),a.exportStatus="error",t(e)}},void 0,JSON.stringify(a.param))});case 13:e.next=15;break;case 14:e.prev=14,d=e.catch(12),console.error("导出过程中发生错误:",d),a.exportStatus="error";case 15:case"end":return e.stop()}},e,null,[[5,9],[12,14]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,r._)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.value.length){e.next=1;break}return(0,r.F)().error((0,r.t)("3718")),e.abrupt("return");case 1:e.next=4;break;case 2:return e.next=3,r.c7.hasPath(F.value);case 3:if(e.sent){e.next=4;break}return(0,r.F)().error((0,r.t)("3717")),e.abrupt("return");case 4:t=[],a=0;case 5:if(!(a<k.value.length)){e.next=9;break}return k.value[a].exportStatus="ready",e.next=6,V(a);case 6:return n=e.sent,h.value=!1,e.next=7,new Promise(function(e){return setTimeout(e,500)});case 7:n&&t.push(a);case 8:a++,e.next=5;break;case 9:0===t.length?(0,r.F)().error((0,r.t)("3719")):(0,r.F)().success((0,r.t)("3722")),h.value=!1;case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t,n=t;return{minPt:new r.e(e.minPt.x-a,e.minPt.y-n,e.minPt.z),maxPt:new r.e(e.maxPt.x+a,e.maxPt.y+n,e.maxPt.z)}}var D=function(){var e=(0,r._)(r.a.mark(function e(){var t,a,n,o,i,s,l,f,p,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,u.i)({method:"polyline",isSpecifiedRange:!S.value,layerName:T()});case 1:if(0!==(t=e.sent).length){e.next=2;break}return(0,r.F)().error((0,r.t)("3723")),e.abrupt("return");case 2:a=c(t),e.prev=3,a.s();case 4:if((n=a.n()).done){e.next=9;break}if(o=n.value){e.next=5;break}return e.abrupt("continue",8);case 5:return i=E(o),s=i.minPt,l=i.maxPt,e.next=6,P(s,l);case 6:if(f=e.sent){e.next=7;break}return e.abrupt("continue",8);case 7:p={bd_pt1_x:""+s.x,bd_pt1_y:""+s.y,bd_pt2_x:""+l.x,bd_pt2_y:""+l.y},M(f,p);case 8:e.next=4;break;case 9:e.next=11;break;case 10:e.prev=10,d=e.catch(3),a.e(d);case 11:return e.prev=11,a.f(),e.finish(11);case 12:case"end":return e.stop()}},e,null,[[3,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),G=(0,r.aq)(""),T=function(){return""!==G.value?G.value:void 0},z=(0,r.a3)((0,r.a2)()).list,I=(0,r.ar)(function(){return z.value.map(function(e){return e.name})});function N(){return B.apply(this,arguments)}function B(){return(B=(0,r._)(r.a.mark(function e(){var t,a,n,u,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,r.c6)(!1),e.prev=1,(t=new r.l).setMessage((0,r.t)("3724")),e.next=2,t.go();case 2:if((a=e.sent).isValid()){e.next=3;break}return(0,r.F)().warning((0,r.t)("3725")),e.abrupt("return");case 3:if(n=a.getMcDbEntity()){e.next=4;break}return(0,r.F)().warning((0,r.t)("3726")),e.abrupt("return");case 4:if(u=n.layer){e.next=5;break}return(0,r.F)().warning((0,r.t)("3727")),e.abrupt("return");case 5:G.value=u,(0,r.F)().success((0,r.t)("3728")+u),e.next=7;break;case 6:e.prev=6,c=e.catch(1),console.error("获取图层名失败:",c),(0,r.F)().error((0,r.t)("3729"));case 7:return e.prev=7,(0,r.c6)(!0),e.finish(7);case 8:case"end":return e.stop()}},e,null,[[1,6,7,8]])}))).apply(this,arguments)}function R(){return J.apply(this,arguments)}function J(){return(J=(0,r._)(r.a.mark(function e(){var t,a,n,u,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,r.c6)(!1),e.prev=1,(t=new r.l).setMessage((0,r.t)("3730")),e.next=2,t.go();case 2:if((a=e.sent).isValid()){e.next=3;break}return(0,r.F)().warning((0,r.t)("3725")),e.abrupt("return");case 3:if(n=a.getMcDbEntity()){e.next=4;break}return(0,r.F)().warning((0,r.t)("3726")),e.abrupt("return");case 4:if(!(n instanceof r.$)){e.next=6;break}if(u=n.blockName){e.next=5;break}return(0,r.F)().warning((0,r.t)("3731")),e.abrupt("return");case 5:C.value=u,(0,r.F)().success((0,r.t)("3732")+u),e.next=7;break;case 6:(0,r.F)().warning((0,r.t)("3733"));case 7:e.next=9;break;case 8:e.prev=8,c=e.catch(1),console.error("获取图块名失败:",c),(0,r.F)().error((0,r.t)("3734"));case 9:return e.prev=9,(0,r.c6)(!0),e.finish(9);case 10:case"end":return e.stop()}},e,null,[[1,8,9,10]])}))).apply(this,arguments)}var U=function(){var e=(0,r._)(r.a.mark(function e(){var t,a,n,o,i,s,l,f,p,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==C.value){e.next=1;break}return(0,r.F)().error((0,r.t)("3587")),e.abrupt("return");case 1:return e.next=2,(0,u.i)({method:"block",blockName:""!==C.value?C.value:void 0,isSpecifiedRange:!S.value,layerName:T()});case 2:if(0!==(t=e.sent).length){e.next=3;break}return(0,r.F)().error((0,r.t)("3723")),e.abrupt("return");case 3:a=c(t),e.prev=4,a.s();case 5:if((n=a.n()).done){e.next=10;break}if(o=n.value){e.next=6;break}return e.abrupt("continue",9);case 6:return i=E(o),s=i.minPt,l=i.maxPt,e.next=7,P(s,l);case 7:if(f=e.sent){e.next=8;break}return e.abrupt("continue",9);case 8:p={bd_pt1_x:""+s.x,bd_pt1_y:""+s.y,bd_pt2_x:""+l.x,bd_pt2_y:""+l.y},M(f,p);case 9:e.next=5;break;case 10:e.next=12;break;case 11:e.prev=11,d=e.catch(4),a.e(d);case 12:return e.prev=12,a.f(),e.finish(12);case 13:case"end":return e.stop()}},e,null,[[4,11,12,13]])}));return function(){return e.apply(this,arguments)}}();function H(){return O.apply(this,arguments)}function O(){return(O=(0,r._)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("block"!==_.value||""!==C.value){e.next=1;break}return(0,r.F)().error((0,r.t)("3587")),e.abrupt("return");case 1:(0,r.c6)(!1),e.prev=2,t=_.value,e.next="polyline"===t?3:"block"===t?5:7;break;case 3:return e.next=4,D();case 4:case 6:case 8:return e.abrupt("continue",9);case 5:return e.next=6,U();case 7:return e.next=8,$();case 9:return e.prev=9,(0,r.c6)(!0),e.finish(9);case 10:case"end":return e.stop()}},e,null,[[2,,9,10]])}))).apply(this,arguments)}function $(){return j.apply(this,arguments)}function j(){return(j=(0,r._)(r.a.mark(function e(){var t,a,u,c,o,i,s,l,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new r.j).clearLastInputPoint(),t.setMessage((0,r.t)("3589")),e.next=1,t.go();case 1:if(a=e.sent){e.next=2;break}return e.abrupt("return");case 2:return t.setMessage((0,r.t)("3590")),t.setUserDraw(function(e,t){t.setColor(16711680);var u=new r.f;u.addVertexAt(a),u.addVertexAt(new r.e(a.x,e.y)),u.addVertexAt(e),u.addVertexAt(new r.e(e.x,a.y)),u.constantWidth=n.M.screenCoordLong2Doc(2),u.isClosed=!0,t.drawMcDbEntity(u);var c=[];c.push(a.toVector3()),c.push(new THREE.Vector3(a.x,e.y)),c.push(e.toVector3()),c.push(new THREE.Vector3(e.x,a.y)),t.setColor(12868),t.drawSolid(c,.5)}),t.setDisableOsnap(!0),t.setDisableOrthoTrace(!0),t.setDynamicInputType(n.g.kXYCoordInput),e.next=3,t.go();case 3:if(u=e.sent){e.next=4;break}return e.abrupt("return");case 4:return c={minPt:new r.e(Math.min(a.x,u.x),Math.min(a.y,u.y),Math.min(a.z,u.z)),maxPt:new r.e(Math.max(a.x,u.x),Math.max(a.y,u.y),Math.max(a.z,u.z))},o=E(c),i=o.minPt,s=o.maxPt,l={bd_pt1_x:""+i.x,bd_pt1_y:""+i.y,bd_pt2_x:""+s.x,bd_pt2_y:""+s.y},e.next=5,P(i,s);case 5:if(f=e.sent){e.next=6;break}return e.abrupt("return");case 6:M(f,l);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var q=function(){C.value="",G.value="",k.value=[],(0,r.c6)(!1)},L={esc:q},W=function(){var e=(0,r._)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,r.c7.showDirSelectBox(F.value);case 1:(t=e.sent)&&(F.value=t);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,u){var c=(0,r.av)("scroll-bottom");return(0,r.aw)(),(0,r.ax)(r.aY,{title:(0,r.ay)(r.t)("1990"),modelValue:(0,r.ay)(r.c5),"onUpdate:modelValue":u[7]||(u[7]=function(e){return(0,r.aK)(r.c5)?r.c5.value=e:null}),"max-width":"610",footerBtnList:t,keys:L,onClickClose:q},{default:(0,r.aG)(function(){return[(0,r.ay)(r.aX)()?((0,r.aw)(),(0,r.aA)("div",i,[(0,r.aC)(r.aM,{modelValue:F.value,"onUpdate:modelValue":u[0]||(u[0]=function(e){return F.value=e}),class:"flex-grow-1 mr-2"},{prepend:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)((0,r.ay)(r.t)("3735"))+": ",1)]}),_:1},8,["modelValue"]),(0,r.aC)(r.bd,{small:"",onClick:W},{default:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)((0,r.ay)(r.t)("3736")),1)]}),_:1})])):(0,r.aO)("",!0),(0,r.aB)("div",s,[(0,r.aC)(r.b1,{title:(0,r.ay)(r.t)("3591"),class:"mr-2"},{default:(0,r.aG)(function(){return[(0,r.aC)(r.a_,{modelValue:_.value,"onUpdate:modelValue":u[1]||(u[1]=function(e){return _.value=e}),inline:!1},{default:(0,r.aG)(function(){return[(0,r.aC)(r.a$,{value:"manual",label:(0,r.ay)(r.t)("3592")},null,8,["label"]),(0,r.aC)(r.a$,{value:"polyline",class:"mt-2",label:(0,r.ay)(r.t)("3593")},null,8,["label"]),(0,r.aC)(r.a$,{value:"block",class:"mt-2",label:(0,r.ay)(r.t)("3594")},null,8,["label"])]}),_:1},8,["modelValue"])]}),_:1},8,["title"]),(0,r.aC)(r.b1,{title:(0,r.ay)(r.t)("3737")},{default:(0,r.aG)(function(){return[(0,r.aC)(r.aN,{modelValue:S.value,"onUpdate:modelValue":u[2]||(u[2]=function(e){return S.value=e}),label:(0,r.ay)(r.t)("3738"),disabled:"manual"===_.value},null,8,["modelValue","label","disabled"]),(0,r.aC)(r.b9,{modelValue:C.value,"onUpdate:modelValue":u[3]||(u[3]=function(e){return C.value=e}),class:"mt-2",items:(0,r.ay)(r.b_)(),disabled:"block"!==_.value,clearable:""},{prepend:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)((0,r.ay)(r.t)("3739"))+": ",1)]}),append:(0,r.aG)(function(){return[(0,r.aC)(r.b2,{text:(0,r.ay)(r.t)("3740"),onClick:R},null,8,["text"])]}),_:1},8,["modelValue","items","disabled"]),(0,r.aC)(r.b9,{class:"mt-2",modelValue:G.value,"onUpdate:modelValue":u[4]||(u[4]=function(e){return G.value=e}),items:I.value,disabled:"manual"===_.value,clearable:""},{prepend:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)((0,r.ay)(r.t)("3741"))+": ",1)]}),append:(0,r.aG)(function(){return[(0,r.aC)(r.b2,{text:(0,r.ay)(r.t)("3742"),onClick:N},null,8,["text"])]}),_:1},8,["modelValue","items","disabled"])]}),_:1},8,["title"])]),(0,r.aC)(r.b1,{title:(0,r.ay)(r.t)("3597"),class:"mt-2",style:{"min-height":"420px"}},{default:(0,r.aG)(function(){return[(0,r.aB)("div",l,[(0,r.aB)("div",f,[(0,r.aC)(r.c2,{class:"ml-4",modelValue:a.value,"onUpdate:modelValue":u[5]||(u[5]=function(e){return a.value=e}),label:a.value?(0,r.ay)(r.t)("3743"):(0,r.ay)(r.t)("3744"),density:"compact",color:"primary","hide-details":""},null,8,["modelValue","label"]),(0,r.aB)("div",p,[(0,r.aC)(r.bd,{small:"",onClick:w,disabled:0===k.value.length||!a.value},{default:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)(k.value.some(function(e){return!e.selected})?(0,r.ay)(r.t)("1871"):(0,r.ay)(r.t)("3745")),1)]}),_:1},8,["disabled"]),((0,r.aw)(),(0,r.aA)(r.bt,null,(0,r.bu)(o,function(e,t){return(0,r.aC)(r.bd,{small:"",disabled:!(k.value.filter(function(e){return e.selected}).length>0),key:t,class:"ml-1",onClick:e.fun},{default:(0,r.aG)(function(){return[(0,r.aJ)((0,r.aF)(e.name),1)]}),_:2},1032,["disabled","onClick"])}),64))])]),(0,r.aC)(r.c3,{class:"mb-2"}),(0,r.az)(((0,r.aw)(),(0,r.aA)("div",d,[((0,r.aw)(!0),(0,r.aA)(r.bt,null,(0,r.bu)(k.value,function(e,t){return(0,r.aw)(),(0,r.aA)("div",{key:t,class:(0,r.bs)(["cut-box-container ma-2",{"selected-box":e.selected}])},[(0,r.aB)("div",{class:"cut-box bg-black",style:(0,r.c4)({backgroundImage:"url(".concat(e.imgBase64,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}),onClick:function(e){return a.value&&function(e){if(a.value){var t=k.value[e];t.selected=!t.selected,h.value=!1}}(t)}},[(0,r.aB)("div",{class:(0,r.bs)(["cut-box-status",["ready"===e.exportStatus?"status-ready":"exporting"===e.exportStatus?"status-exporting":"success"===e.exportStatus?"status-success":"status-error"]])},[a.value?((0,r.aw)(),(0,r.ax)(r.aN,{key:0,style:{"--v-selection-control-size":"24px","margin-left":"2px","margin-top":"1.5px"},modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},color:"primary",onClick:u[6]||(u[6]=(0,r.bv)(function(){},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])):((0,r.aw)(),(0,r.aA)(r.bt,{key:1},["ready"===e.exportStatus?((0,r.aw)(),(0,r.ax)(r.aH,{key:0,size:"small"},{default:(0,r.aG)(function(){return u[8]||(u[8]=[(0,r.aJ)("pending")])}),_:1})):"exporting"===e.exportStatus?((0,r.aw)(),(0,r.ax)(r.by,{key:1,indeterminate:"",size:"16",width:"2",color:"white"})):"success"===e.exportStatus?((0,r.aw)(),(0,r.ax)(r.aH,{key:2,color:"success",size:"small"},{default:(0,r.aG)(function(){return u[9]||(u[9]=[(0,r.aJ)("class:iconfont gou")])}),_:1})):(0,r.aO)("",!0)],64))],2),(0,r.aB)("div",v,[(0,r.aC)(r.bz,{text:(0,r.ay)(r.t)("205"),location:"top"},{activator:(0,r.aG)(function(e){var a=e.props;return[(0,r.aC)(r.aI,(0,r.bA)({ref_for:!0},a,{icon:"",variant:"outlined",color:"error",class:"delete-btn",onClick:function(e){return function(e){k.value.splice(e,1),h.value=!1}(t)}}),{default:(0,r.aG)(function(){return[(0,r.aC)(r.aH,{size:"14"},{default:(0,r.aG)(function(){return u[10]||(u[10]=[(0,r.aJ)("cha")])}),_:1})]}),_:2},1040,["onClick"])]}),_:2},1032,["text"]),(0,r.aC)(r.bz,{text:"ready"===e.exportStatus?(0,r.ay)(r.t)("3598"):"exporting"===e.exportStatus?(0,r.ay)(r.t)("3599"):"success"===e.exportStatus?(0,r.ay)(r.t)("3600"):(0,r.ay)(r.t)("3601"),location:"top"},{activator:(0,r.aG)(function(a){var n=a.props;return[(0,r.aC)(r.aI,(0,r.bA)({ref_for:!0},n,{icon:"",variant:"outlined",color:"success"===e.exportStatus?"success":"error"===e.exportStatus?"warning":"primary",class:"export-btn",disabled:"exporting"===e.exportStatus,loading:"exporting"===e.exportStatus,onClick:function(e){return V(t)}}),{default:(0,r.aG)(function(){return[(0,r.aC)(r.aH,{size:"14"},{default:(0,r.aG)(function(){return u[11]||(u[11]=[(0,r.aJ)("lingcunweiDWG")])}),_:1})]}),_:2},1040,["color","disabled","loading","onClick"])]}),_:2},1032,["text"])]),(0,r.aB)("div",x,[(0,r.aC)(r.bz,{text:(0,r.ay)(r.t)("3746"),location:"top"},{activator:(0,r.aG)(function(e){var a=e.props;return[(0,r.aC)(r.aI,(0,r.bA)({ref_for:!0},a,{icon:"",variant:"outlined",color:"info",class:"jump-btn",onClick:function(e){return function(e){var t=k.value[e];if(t){var a=parseFloat(t.param.bd_pt1_x),u=parseFloat(t.param.bd_pt1_y),c=parseFloat(t.param.bd_pt2_x),o=parseFloat(t.param.bd_pt2_y),i=Math.abs(c-a),s=Math.abs(o-u),l=.2,f=a-i*l,p=u-s*l,d=c+i*l,b=o+s*l;(0,r.c6)(!1);var v=r.M.getCurrentMxCAD();v.zoomW(new r.e(f,p),new r.e(d,b));var x=v.mxdraw.getTempMarkDraw();x.clear();var m=new THREE.Vector3(a,u,0),y=new THREE.Vector3(c,u,0),h=new THREE.Vector3(c,o,0),w=new THREE.Vector3(a,o,0),g=n.r.createLines([m,y,h,w,m],16711680);x.drawEntity(g),v.updateDisplay(),setTimeout(function(){(0,r.F)().warning((0,r.t)("4317")),document.addEventListener("click",function(){x.clear(),(0,r.c6)(!0)},{once:!0})})}}(t)}}),{default:(0,r.aG)(function(){return[(0,r.aC)(r.aH,{size:"14"},{default:(0,r.aG)(function(){return u[12]||(u[12]=[(0,r.aJ)("chuangkousuofang")])}),_:1})]}),_:2},1040,["onClick"])]}),_:2},1032,["text"])])],12,b),e.fileName?((0,r.aw)(),(0,r.aA)("div",m,(0,r.aF)(e.fileName),1)):(0,r.aO)("",!0)],2)}),128)),(0,r.aB)("div",y,[(0,r.aC)(r.bz,{text:(0,r.ay)(r.t)("3602"),location:"top"},{activator:(0,r.aG)(function(e){var t=e.props;return[(0,r.aC)(r.aI,(0,r.bA)({class:"add-btn"},t,{variant:"outlined",color:"primary",onClick:H}),{default:(0,r.aG)(function(){return[(0,r.aC)(r.aH,{size:"36"},{default:(0,r.aG)(function(){return u[13]||(u[13]=[(0,r.aJ)("class:iconfont plus")])}),_:1})]}),_:2},1040)]}),_:1},8,["text"])])])),[[c,h.value]])])]}),_:1},8,["title"])]}),_:1},8,["title","modelValue"])}}}),k=(0,r.aQ)(h,[["__scopeId","data-v-0be22789"]])}}]);
"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[575],{3673:function(e,t,r){r.d(t,{i:function(){return l}});var n=r(9091),a=r(8285);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,u=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw u}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){e.sort(function(e,t){return e.minPt.y===t.minPt.y?e.minPt.x-t.minPt.x:e.minPt.y-t.minPt.y});var t,r=[],n=u(e);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,c=!0,i=u(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(o.minPt.x>=s.minPt.x&&o.minPt.y>=s.minPt.y&&o.maxPt.x<=s.maxPt.x&&o.maxPt.y<=s.maxPt.y){c=!1;break}}}catch(e){i.e(e)}finally{i.f()}c&&r.push(o)}}catch(e){n.e(e)}finally{n.f()}return r}var i=function(){var e=(0,n._)(n.a.mark(function e(t){var r,u,o,c,i,s,l,f,p,d,v,x;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(r=t||{}).blockName,o=r.isSpecifiedRange,c=void 0!==o&&o,i=r.layerName,s=[],l=u){e.next=5;break}return e.next=1,a.f.userSelect((0,n.t)("3603"));case 1:if(0!==(f=e.sent).length){e.next=2;break}return e.abrupt("return",s);case 2:if((p=f[0].getMcDbEntity())instanceof a.h){e.next=3;break}return(0,n.h)().error((0,n.t)("3604")),e.abrupt("return",s);case 3:if(d=p.blockTableRecordId.getMcDbBlockTableRecord()){e.next=4;break}return e.abrupt("return",s);case 4:l=d.name;case 5:if(v=new a.j,(x=new a.O).AddMcDbEntityTypes("INSERT"),!c){e.next=7;break}return e.next=6,v.userSelect((0,n.t)("2322"),x);case 6:e.next=8;break;case 7:v.allSelect(x);case 8:return v.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.h){var r=t,n=r.blockTableRecordId.getMcDbBlockTableRecord();if(i&&r.layer!==i)return;if(n&&n.name===l){var u=r.getBoundingBox(),o=u.minPt,c=u.maxPt,f=new a.q(Math.min(o.x,c.x),Math.min(o.y,c.y),Math.min(o.z,c.z)),p=new a.q(Math.max(o.x,c.x),Math.max(o.y,c.y),Math.max(o.z,c.z));s.push({minPt:f,maxPt:p})}}}),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,n._)(n.a.mark(function e(t){var r,u,o,i,s,l,f,p,d,v,x,b,m;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(r=t||{}).isSpecifiedRange,o=void 0===u||u,i=r.layerName,s=[],!o){e.next=2;break}return e.next=1,a.f.userSelect((0,n.t)("3754"));case 1:s=e.sent,e.next=3;break;case 2:l=new a.j,(f=new a.O).AddMcDbEntityTypes("LWPOLYLINE"),l.allSelect(f),s=l.getIds();case 3:return p=[],d=function(e,t,r){return(t.x-e.x)*(t.x-r.x)+(t.y-e.y)*(t.y-r.y)==0},v=function(e,t,r,n){return d(e,t,r)},x=function(e){if(e instanceof a.r){if(i&&e.layer!==i)return;var t=e.numVerts();if(0===t||(e.isClosed?t>4:t>5))return;for(var r=0;r<t;r++)if(e.getBulgeAt(r)>.001)return;var n=e.getPointAt(0).val;if(v(n,e.getPointAt(1).val,e.getPointAt(2).val,e.isClosed||e.getPointAt(3).val)){var u=e.getBoundingBox(),o=u.minPt,c=u.maxPt;p.push({minPt:o,maxPt:c})}}},b=function(e){var t=e.blockTableRecordId.getMcDbBlockTableRecord();t&&t.getAllEntityId().forEach(function(e){var t=e.getMcDbEntity();t&&(t instanceof a.r&&x(t),t instanceof a.h&&b(t))})},s.forEach(function(e){var t=e.getMcDbEntity();if(t instanceof a.r)x(t);else if(t instanceof a.h){if(i&&t.layer!==i)return;b(t)}}),m=c(p).filter(function(e){var t=e.minPt,r=e.maxPt,n=new a.j;return n.imp.userSelect(t.x,t.y,r.x,r.y,(0,a.at)(),!1),0!==n.count()}),e.abrupt("return",m);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n._)(n.a.mark(function e(t){var r,a,u,o,c,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r=t||{}).method,u=void 0===a?"polyline":a,o=r.blockName,c=r.isSpecifiedRange,l=r.layerName,"block"!==u){e.next=1;break}return e.abrupt("return",i({blockName:o,isSpecifiedRange:c,layerName:l}));case 1:return e.abrupt("return",s({isSpecifiedRange:c,layerName:l}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},4575:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(9091),a=r(2898),u=r(8285),o=r(3673),c=r(5679),i=r(2164);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,u=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw u}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f={key:0,class:"d-flex align-center"},p={class:"d-flex"},d={class:"position-relative"},v={class:"d-flex align-center justify-space-between"},x={class:"ml-2 multi-select-actions"},b={class:"d-flex flex-wrap justify-space-start overflow-y-auto",style:{"max-height":"340px"}},m=["onClick"],h={class:"cut-box-actions"},y={class:"cut-box-jump"},w={key:0,class:"cut-box-filename"},k={class:"cut-box-add ma-2"};const g=(0,a.e)({__name:"index",setup:function(e){var t=[{name:"全部导出",primary:!0,fun:function(){return q()}},{name:"关闭",fun:function(){_.value=[],(0,n.aE)(!1)}}],r=(0,a.f)(!1);(0,a.i)(r,function(e){e||_.value.forEach(function(e){e.selected=!1})});var l=[{name:"批量删除",icon:"delete",color:"error",fun:function(){_.value=_.value.filter(function(e){return!e.selected}),g.value=!1}},{name:"批量导出",icon:"lingcunweiDWG",color:"primary",fun:function(){return S.apply(this,arguments)}}],g=(0,a.f)(!1),_=(0,a.f)([]);function E(){var e=_.value.some(function(e){return!e.selected});_.value.forEach(function(t){t.selected=e}),g.value=!1}function S(){return(S=(0,n._)(n.a.mark(function e(){var t,r,a,u,o,c,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,n.aF.hasPath(A.value);case 2:if(e.sent){e.next=3;break}return(0,n.h)().error((0,n.t)("3717")),e.abrupt("return");case 3:if(0!==_.value.length){e.next=4;break}return(0,n.h)().error((0,n.t)("3718")),e.abrupt("return");case 4:t=_.value.map(function(e,t){return e.selected?t:-1}).filter(function(e){return-1!==e}),r=[],a=s(t),e.prev=5,a.s();case 6:if((u=a.n()).done){e.next=10;break}return o=u.value,_.value[o].exportStatus="ready",e.next=7,T(o);case 7:return c=e.sent,g.value=!1,e.next=8,new Promise(function(e){return setTimeout(e,500)});case 8:c&&r.push(o);case 9:e.next=6;break;case 10:e.next=12;break;case 11:e.prev=11,i=e.catch(5),a.e(i);case 12:return e.prev=12,a.f(),e.finish(12);case 13:0===r.length?(0,n.h)().error((0,n.t)("3719")):(0,n.h)().success((0,n.t)("3720")),g.value=!1;case 14:case"end":return e.stop()}},e,null,[[5,11,12,13]])}))).apply(this,arguments)}(0,a.i)(r,function(){g.value=!1});var P=(0,a.f)("manual"),M=(0,a.f)(""),V=(0,a.f)(!1),C=function(){var e=(0,n._)(n.a.mark(function e(t,r){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var a=u.M.getCurrentMxCAD();a.setAttribute({ShowCoordinate:!1});var o,c,i=Math.abs(t.x-r.x),s=Math.abs(t.y-r.y);if(i<1||s<1)return e(void 0);i<=800?(o=i,c=s):(o=800,c=s/i*800),a.mxdraw.createCanvasImageData(function(t){e(t),a.setAttribute({ShowCoordinate:!0})},{width:o,height:c,range_pt1:t.toVector3(),range_pt2:r.toVector3()})}));case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}();function D(e,t){!function(e){return _.value.some(function(t){var r=.001,n=Math.abs(parseFloat(t.param.bd_pt1_x)-parseFloat(e.bd_pt1_x))<r,a=Math.abs(parseFloat(t.param.bd_pt1_y)-parseFloat(e.bd_pt1_y))<r,u=Math.abs(parseFloat(t.param.bd_pt2_x)-parseFloat(e.bd_pt2_x))<r,o=Math.abs(parseFloat(t.param.bd_pt2_y)-parseFloat(e.bd_pt2_y))<r;return n&&a&&u&&o})}(t)?(_.value.push({imgBase64:e,param:t,exportStatus:"ready",selected:!1}),g.value=!0):(0,n.h)().info((0,n.t)("3721"))}var A=(0,a.f)(""),T=function(){var e=(0,n._)(n.a.mark(function e(t){var r,a,o,c,i,s,l,f,p,d,v;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 1:return e.next=2,n.aF.hasPath(A.value);case 2:if(e.sent){e.next=3;break}return(0,n.h)().error((0,n.t)("3717")),e.abrupt("return");case 3:if(!(t<0||t>=_.value.length)){e.next=4;break}return e.abrupt("return");case 4:u.M.getCurrentMxCAD().mxdraw.getTempMarkDraw().clear(),(r=_.value[t]).exportStatus="exporting",e.next=11;break;case 6:if(!e.sent){e.next=7;break}return r.exportStatus="success",r.fileName=void 0,e.abrupt("return",!0);case 7:r.exportStatus="error",r.fileName="";case 8:e.next=10;break;case 9:e.prev=9,d=e.catch(5),r.exportStatus="error",console.error("导出DWG失败:",d);case 10:e.next=15;break;case 11:return a=(0,n.D)()||{},o=a.baseUrl,c=void 0===o?"":o,i=a.mxfilepath,s=void 0===i?"":i,l=a.cutDwgUrl,f=void 0===l?"":l,p="".concat((new Date).getTime(),"_").concat(t,".dwg"),e.prev=12,e.next=13,new Promise(function(e,t){u.M.getCurrentMxCAD().saveFileToUrl(f,function(n,a){try{var o=JSON.parse(a);if("ok"==o.ret){var i=c+s+o.file;u.J.downloadFileFromUrl(i,p),r.exportStatus="success",r.fileName=p,e()}else console.error("导出DWG失败:",a),r.exportStatus="error",t(new Error(a))}catch(e){console.error("导出DWG错误:",e),r.exportStatus="error",t(e)}},void 0,JSON.stringify(r.param))});case 13:e.next=15;break;case 14:e.prev=14,v=e.catch(12),console.error("导出过程中发生错误:",v),r.exportStatus="error";case 15:case"end":return e.stop()}},e,null,[[5,9],[12,14]])}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,n._)(n.a.mark(function e(){var t,r,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==_.value.length){e.next=1;break}return(0,n.h)().error((0,n.t)("3718")),e.abrupt("return");case 1:e.next=4;break;case 2:return e.next=3,n.aF.hasPath(A.value);case 3:if(e.sent){e.next=4;break}return(0,n.h)().error((0,n.t)("3717")),e.abrupt("return");case 4:t=[],r=0;case 5:if(!(r<_.value.length)){e.next=9;break}return _.value[r].exportStatus="ready",e.next=6,T(r);case 6:return a=e.sent,g.value=!1,e.next=7,new Promise(function(e){return setTimeout(e,500)});case 7:a&&t.push(r);case 8:r++,e.next=5;break;case 9:0===t.length?(0,n.h)().error((0,n.t)("3719")):(0,n.h)().success((0,n.t)("3722")),g.value=!1;case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t,n=t;return{minPt:new u.q(e.minPt.x-r,e.minPt.y-n,e.minPt.z),maxPt:new u.q(e.maxPt.x+r,e.maxPt.y+n,e.maxPt.z)}}var R=function(){var e=(0,n._)(n.a.mark(function e(){var t,r,a,u,c,i,l,f,p,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,o.i)({method:"polyline",isSpecifiedRange:!V.value,layerName:N()});case 1:if(0!==(t=e.sent).length){e.next=2;break}return(0,n.h)().error((0,n.t)("3723")),e.abrupt("return");case 2:r=s(t),e.prev=3,r.s();case 4:if((a=r.n()).done){e.next=9;break}if(u=a.value){e.next=5;break}return e.abrupt("continue",8);case 5:return c=F(u),i=c.minPt,l=c.maxPt,e.next=6,C(i,l);case 6:if(f=e.sent){e.next=7;break}return e.abrupt("continue",8);case 7:p={bd_pt1_x:""+i.x,bd_pt1_y:""+i.y,bd_pt2_x:""+l.x,bd_pt2_y:""+l.y},D(f,p);case 8:e.next=4;break;case 9:e.next=11;break;case 10:e.prev=10,d=e.catch(3),r.e(d);case 11:return e.prev=11,r.f(),e.finish(11);case 12:case"end":return e.stop()}},e,null,[[3,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),z=(0,a.f)(""),N=function(){return""!==z.value?z.value:void 0},I=(0,c.s)((0,n.x)()).list,U=(0,a.g)(function(){return I.value.map(function(e){return e.name})});function j(){return B.apply(this,arguments)}function B(){return(B=(0,n._)(n.a.mark(function e(){var t,r,a,o,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.aE)(!1),e.prev=1,(t=new u.W).setMessage((0,n.t)("3724")),e.next=2,t.go();case 2:if((r=e.sent).isValid()){e.next=3;break}return(0,n.h)().warning((0,n.t)("3725")),e.abrupt("return");case 3:if(a=r.getMcDbEntity()){e.next=4;break}return(0,n.h)().warning((0,n.t)("3726")),e.abrupt("return");case 4:if(o=a.layer){e.next=5;break}return(0,n.h)().warning((0,n.t)("3727")),e.abrupt("return");case 5:z.value=o,(0,n.h)().success((0,n.t)("3728")+o),e.next=7;break;case 6:e.prev=6,c=e.catch(1),console.error("获取图层名失败:",c),(0,n.h)().error((0,n.t)("3729"));case 7:return e.prev=7,(0,n.aE)(!0),e.finish(7);case 8:case"end":return e.stop()}},e,null,[[1,6,7,8]])}))).apply(this,arguments)}function O(){return W.apply(this,arguments)}function W(){return(W=(0,n._)(n.a.mark(function e(){var t,r,a,o,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.aE)(!1),e.prev=1,(t=new u.W).setMessage((0,n.t)("3730")),e.next=2,t.go();case 2:if((r=e.sent).isValid()){e.next=3;break}return(0,n.h)().warning((0,n.t)("3725")),e.abrupt("return");case 3:if(a=r.getMcDbEntity()){e.next=4;break}return(0,n.h)().warning((0,n.t)("3726")),e.abrupt("return");case 4:if(!(a instanceof u.h)){e.next=6;break}if(o=a.blockName){e.next=5;break}return(0,n.h)().warning((0,n.t)("3731")),e.abrupt("return");case 5:M.value=o,(0,n.h)().success((0,n.t)("3732")+o),e.next=7;break;case 6:(0,n.h)().warning((0,n.t)("3733"));case 7:e.next=9;break;case 8:e.prev=8,c=e.catch(1),console.error("获取图块名失败:",c),(0,n.h)().error((0,n.t)("3734"));case 9:return e.prev=9,(0,n.aE)(!0),e.finish(9);case 10:case"end":return e.stop()}},e,null,[[1,8,9,10]])}))).apply(this,arguments)}var L=function(){var e=(0,n._)(n.a.mark(function e(){var t,r,a,u,c,i,l,f,p,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==M.value){e.next=1;break}return(0,n.h)().error((0,n.t)("3587")),e.abrupt("return");case 1:return e.next=2,(0,o.i)({method:"block",blockName:""!==M.value?M.value:void 0,isSpecifiedRange:!V.value,layerName:N()});case 2:if(0!==(t=e.sent).length){e.next=3;break}return(0,n.h)().error((0,n.t)("3723")),e.abrupt("return");case 3:r=s(t),e.prev=4,r.s();case 5:if((a=r.n()).done){e.next=10;break}if(u=a.value){e.next=6;break}return e.abrupt("continue",9);case 6:return c=F(u),i=c.minPt,l=c.maxPt,e.next=7,C(i,l);case 7:if(f=e.sent){e.next=8;break}return e.abrupt("continue",9);case 8:p={bd_pt1_x:""+i.x,bd_pt1_y:""+i.y,bd_pt2_x:""+l.x,bd_pt2_y:""+l.y},D(f,p);case 9:e.next=5;break;case 10:e.next=12;break;case 11:e.prev=11,d=e.catch(4),r.e(d);case 12:return e.prev=12,r.f(),e.finish(12);case 13:case"end":return e.stop()}},e,null,[[4,11,12,13]])}));return function(){return e.apply(this,arguments)}}();function G(){return H.apply(this,arguments)}function H(){return(H=(0,n._)(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("block"!==P.value||""!==M.value){e.next=1;break}return(0,n.h)().error((0,n.t)("3587")),e.abrupt("return");case 1:(0,n.aE)(!1),e.prev=2,t=P.value,e.next="polyline"===t?3:"block"===t?5:7;break;case 3:return e.next=4,R();case 4:case 6:case 8:return e.abrupt("continue",9);case 5:return e.next=6,L();case 7:return e.next=8,X();case 9:return e.prev=9,(0,n.aE)(!0),e.finish(9);case 10:case"end":return e.stop()}},e,null,[[2,,9,10]])}))).apply(this,arguments)}function X(){return Y.apply(this,arguments)}function Y(){return(Y=(0,n._)(n.a.mark(function e(){var t,r,a,o,c,i,s,l,f;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.i).clearLastInputPoint(),t.setMessage((0,n.t)("3589")),e.next=1,t.go();case 1:if(r=e.sent){e.next=2;break}return e.abrupt("return");case 2:return t.setMessage((0,n.t)("3590")),t.setUserDraw(function(e,t){t.setColor(16711680);var n=new u.r;n.addVertexAt(r),n.addVertexAt(new u.q(r.x,e.y)),n.addVertexAt(e),n.addVertexAt(new u.q(e.x,r.y)),n.constantWidth=u.b.screenCoordLong2Doc(2),n.isClosed=!0,t.drawMcDbEntity(n);var a=[];a.push(r.toVector3()),a.push(new THREE.Vector3(r.x,e.y)),a.push(e.toVector3()),a.push(new THREE.Vector3(e.x,r.y)),t.setColor(12868),t.drawSolid(a,.5)}),t.setDisableOsnap(!0),t.setDisableOrthoTrace(!0),t.setDynamicInputType(u.w.kXYCoordInput),e.next=3,t.go();case 3:if(a=e.sent){e.next=4;break}return e.abrupt("return");case 4:return o={minPt:new u.q(Math.min(r.x,a.x),Math.min(r.y,a.y),Math.min(r.z,a.z)),maxPt:new u.q(Math.max(r.x,a.x),Math.max(r.y,a.y),Math.max(r.z,a.z))},c=F(o),i=c.minPt,s=c.maxPt,l={bd_pt1_x:""+i.x,bd_pt1_y:""+i.y,bd_pt2_x:""+s.x,bd_pt2_y:""+s.y},e.next=5,C(i,s);case 5:if(f=e.sent){e.next=6;break}return e.abrupt("return");case 6:D(f,l);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var J=function(){M.value="",z.value="",_.value=[],(0,n.aE)(!1)},$={esc:J},Q=function(){var e=(0,n._)(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,n.aF.showDirSelectBox(A.value);case 1:(t=e.sent)&&(A.value=t);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,o){var c=(0,a.a6)("scroll-bottom");return(0,a.o)(),(0,a.m)(n.U,{title:(0,a.E)(n.t)("1990"),modelValue:(0,a.E)(n.aD),"onUpdate:modelValue":o[7]||(o[7]=function(e){return(0,a.R)(n.aD)?n.aD.value=e:null}),"max-width":"610",footerBtnList:t,keys:$,onClickClose:J},{default:(0,a.w)(function(){return[(0,a.E)(n.T)()?((0,a.o)(),(0,a.c)("div",f,[(0,a.a)(i.i,{modelValue:A.value,"onUpdate:modelValue":o[0]||(o[0]=function(e){return A.value=e}),class:"flex-grow-1 mr-2"},{prepend:(0,a.w)(function(){return[(0,a.q)((0,a.t)((0,a.E)(n.t)("3735"))+": ",1)]}),_:1},8,["modelValue"]),(0,a.a)(n.a3,{small:"",onClick:Q},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)((0,a.E)(n.t)("3736")),1)]}),_:1})])):(0,a.s)("",!0),(0,a.l)("div",p,[(0,a.a)(n.X,{title:(0,a.E)(n.t)("3591"),class:"mr-2"},{default:(0,a.w)(function(){return[(0,a.a)(i.Q,{modelValue:P.value,"onUpdate:modelValue":o[1]||(o[1]=function(e){return P.value=e}),inline:!1},{default:(0,a.w)(function(){return[(0,a.a)(i.S,{value:"manual",label:(0,a.E)(n.t)("3592")},null,8,["label"]),(0,a.a)(i.S,{value:"polyline",class:"mt-2",label:(0,a.E)(n.t)("3593")},null,8,["label"]),(0,a.a)(i.S,{value:"block",class:"mt-2",label:(0,a.E)(n.t)("3594")},null,8,["label"])]}),_:1},8,["modelValue"])]}),_:1},8,["title"]),(0,a.a)(n.X,{title:(0,a.E)(n.t)("3737")},{default:(0,a.w)(function(){return[(0,a.a)(i.j,{modelValue:V.value,"onUpdate:modelValue":o[2]||(o[2]=function(e){return V.value=e}),label:(0,a.E)(n.t)("3738"),disabled:"manual"===P.value},null,8,["modelValue","label","disabled"]),(0,a.a)(i.v,{modelValue:M.value,"onUpdate:modelValue":o[3]||(o[3]=function(e){return M.value=e}),class:"mt-2",items:(0,a.E)(n.aA)(),disabled:"block"!==P.value,clearable:""},{prepend:(0,a.w)(function(){return[(0,a.q)((0,a.t)((0,a.E)(n.t)("3739"))+": ",1)]}),append:(0,a.w)(function(){return[(0,a.a)(n.Y,{text:(0,a.E)(n.t)("3740"),onClick:O},null,8,["text"])]}),_:1},8,["modelValue","items","disabled"]),(0,a.a)(i.v,{class:"mt-2",modelValue:z.value,"onUpdate:modelValue":o[4]||(o[4]=function(e){return z.value=e}),items:U.value,disabled:"manual"===P.value,clearable:""},{prepend:(0,a.w)(function(){return[(0,a.q)((0,a.t)((0,a.E)(n.t)("3741"))+": ",1)]}),append:(0,a.w)(function(){return[(0,a.a)(n.Y,{text:(0,a.E)(n.t)("3742"),onClick:j},null,8,["text"])]}),_:1},8,["modelValue","items","disabled"])]}),_:1},8,["title"])]),(0,a.a)(n.X,{title:(0,a.E)(n.t)("3597"),class:"mt-2",style:{"min-height":"420px"}},{default:(0,a.w)(function(){return[(0,a.l)("div",d,[(0,a.l)("div",v,[(0,a.a)(i.a7,{class:"ml-4",modelValue:r.value,"onUpdate:modelValue":o[5]||(o[5]=function(e){return r.value=e}),label:r.value?(0,a.E)(n.t)("3743"):(0,a.E)(n.t)("3744"),density:"compact",color:"primary","hide-details":""},null,8,["modelValue","label"]),(0,a.l)("div",x,[(0,a.a)(n.a3,{small:"",onClick:E,disabled:0===_.value.length||!r.value},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(_.value.some(function(e){return!e.selected})?(0,a.E)(n.t)("1871"):(0,a.E)(n.t)("3745")),1)]}),_:1},8,["disabled"]),((0,a.o)(),(0,a.c)(a.F,null,(0,a.d)(l,function(e,t){return(0,a.a)(n.a3,{small:"",disabled:!(_.value.filter(function(e){return e.selected}).length>0),key:t,class:"ml-1",onClick:e.fun},{default:(0,a.w)(function(){return[(0,a.q)((0,a.t)(e.name),1)]}),_:2},1032,["disabled","onClick"])}),64))])]),(0,a.a)(i.f,{class:"mb-2"}),(0,a.z)(((0,a.o)(),(0,a.c)("div",b,[((0,a.o)(!0),(0,a.c)(a.F,null,(0,a.d)(_.value,function(e,t){return(0,a.o)(),(0,a.c)("div",{key:t,class:(0,a.p)(["cut-box-container ma-2",{"selected-box":e.selected}])},[(0,a.l)("div",{class:"cut-box bg-black",style:(0,a.n)({backgroundImage:"url(".concat(e.imgBase64,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}),onClick:function(e){return r.value&&function(e){if(r.value){var t=_.value[e];t.selected=!t.selected,g.value=!1}}(t)}},[(0,a.l)("div",{class:(0,a.p)(["cut-box-status",["ready"===e.exportStatus?"status-ready":"exporting"===e.exportStatus?"status-exporting":"success"===e.exportStatus?"status-success":"status-error"]])},[r.value?((0,a.o)(),(0,a.m)(i.j,{key:0,style:{"--v-selection-control-size":"24px","margin-left":"2px","margin-top":"1.5px"},modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},color:"primary",onClick:o[6]||(o[6]=(0,a.y)(function(){},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])):((0,a.o)(),(0,a.c)(a.F,{key:1},["ready"===e.exportStatus?((0,a.o)(),(0,a.m)(i.a,{key:0,size:"small"},{default:(0,a.w)(function(){return o[8]||(o[8]=[(0,a.q)("pending")])}),_:1})):"exporting"===e.exportStatus?((0,a.o)(),(0,a.m)(i.G,{key:1,indeterminate:"",size:"16",width:"2",color:"white"})):"success"===e.exportStatus?((0,a.o)(),(0,a.m)(i.a,{key:2,color:"success",size:"small"},{default:(0,a.w)(function(){return o[9]||(o[9]=[(0,a.q)("class:iconfont gou")])}),_:1})):(0,a.s)("",!0)],64))],2),(0,a.l)("div",h,[(0,a.a)(i.b,{text:(0,a.E)(n.t)("205"),location:"top"},{activator:(0,a.w)(function(e){var r=e.props;return[(0,a.a)(i.V,(0,a.v)({ref_for:!0},r,{icon:"",variant:"outlined",color:"error",class:"delete-btn",onClick:function(e){return function(e){_.value.splice(e,1),g.value=!1}(t)}}),{default:(0,a.w)(function(){return[(0,a.a)(i.a,{size:"14"},{default:(0,a.w)(function(){return o[10]||(o[10]=[(0,a.q)("cha")])}),_:1})]}),_:2},1040,["onClick"])]}),_:2},1032,["text"]),(0,a.a)(i.b,{text:"ready"===e.exportStatus?(0,a.E)(n.t)("3598"):"exporting"===e.exportStatus?(0,a.E)(n.t)("3599"):"success"===e.exportStatus?(0,a.E)(n.t)("3600"):(0,a.E)(n.t)("3601"),location:"top"},{activator:(0,a.w)(function(r){var n=r.props;return[(0,a.a)(i.V,(0,a.v)({ref_for:!0},n,{icon:"",variant:"outlined",color:"success"===e.exportStatus?"success":"error"===e.exportStatus?"warning":"primary",class:"export-btn",disabled:"exporting"===e.exportStatus,loading:"exporting"===e.exportStatus,onClick:function(e){return T(t)}}),{default:(0,a.w)(function(){return[(0,a.a)(i.a,{size:"14"},{default:(0,a.w)(function(){return o[11]||(o[11]=[(0,a.q)("lingcunweiDWG")])}),_:1})]}),_:2},1040,["color","disabled","loading","onClick"])]}),_:2},1032,["text"])]),(0,a.l)("div",y,[(0,a.a)(i.b,{text:(0,a.E)(n.t)("3746"),location:"top"},{activator:(0,a.w)(function(e){var r=e.props;return[(0,a.a)(i.V,(0,a.v)({ref_for:!0},r,{icon:"",variant:"outlined",color:"info",class:"jump-btn",onClick:function(e){return function(e){var t=_.value[e];if(t){var r=parseFloat(t.param.bd_pt1_x),a=parseFloat(t.param.bd_pt1_y),o=parseFloat(t.param.bd_pt2_x),c=parseFloat(t.param.bd_pt2_y),i=Math.abs(o-r),s=Math.abs(c-a),l=.2,f=r-i*l,p=a-s*l,d=o+i*l,v=c+s*l;(0,n.aE)(!1);var x=u.M.getCurrentMxCAD();x.zoomW(new u.q(f,p),new u.q(d,v));var b=x.mxdraw.getTempMarkDraw();b.clear();var m=new THREE.Vector3(r,a,0),h=new THREE.Vector3(o,a,0),y=new THREE.Vector3(o,c,0),w=new THREE.Vector3(r,c,0),k=u.I.createLines([m,h,y,w,m],16711680);b.drawEntity(k),x.updateDisplay(),setTimeout(function(){(0,n.h)().warning((0,n.t)("4317")),document.addEventListener("click",function(){b.clear(),(0,n.aE)(!0)},{once:!0})})}}(t)}}),{default:(0,a.w)(function(){return[(0,a.a)(i.a,{size:"14"},{default:(0,a.w)(function(){return o[12]||(o[12]=[(0,a.q)("chuangkousuofang")])}),_:1})]}),_:2},1040,["onClick"])]}),_:2},1032,["text"])])],12,m),e.fileName?((0,a.o)(),(0,a.c)("div",w,(0,a.t)(e.fileName),1)):(0,a.s)("",!0)],2)}),128)),(0,a.l)("div",k,[(0,a.a)(i.b,{text:(0,a.E)(n.t)("3602"),location:"top"},{activator:(0,a.w)(function(e){var t=e.props;return[(0,a.a)(i.V,(0,a.v)({class:"add-btn"},t,{variant:"outlined",color:"primary",onClick:G}),{default:(0,a.w)(function(){return[(0,a.a)(i.a,{size:"36"},{default:(0,a.w)(function(){return o[13]||(o[13]=[(0,a.q)("class:iconfont plus")])}),_:1})]}),_:2},1040)]}),_:1},8,["text"])])])),[[c,g.value]])])]}),_:1},8,["title"])]}),_:1},8,["title","modelValue"])}}}),_=(0,n.O)(g,[["__scopeId","data-v-0be22789"]])}}]);
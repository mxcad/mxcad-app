"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[147],{4147:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(2898),a=n(9091),u=n(8285),i=n(2164),o=(0,r.f)(""),s=(0,r.f)(0),l=a.bU.isShow,c=a.bU.showDialog,f=a.bU.confirm,p=a.bU.onReveal,d=a.bU.onConfirm;p(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e.text&&(o.value=e.text),"number"==typeof e.angle&&(s.value=(0,a.v)(THREE.MathUtils.radToDeg(e.angle),2))});var x=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,r,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.i).setMessage((0,a.t)("2105")+":"),t.setCursorType(u.a1.kCross),e.next=1,t.go();case 1:if(n=e.sent){e.next=2;break}return e.abrupt("return");case 2:return(r=new u.t).setMessage((0,a.t)("2106")+":"),e.next=3,r.go();case 3:if(null!==(i=e.sent)){e.next=4;break}return e.abrupt("return");case 4:return o=d(function(e){var t=new u.m;t.textString=e.text,t.position=new u.q(n),t.alignmentPoint=t.position,t.height=i,t.rotation=e.angle,u.M.getCurrentMxCAD().drawEntity(t),u.M.getCurrentMxCAD().updateDisplay(),s()}),s=o.off,e.next=5,c(!0,{text:"测试"});case 5:s();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,r,i,o,s,l,f;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.O).AddMcDbEntityTypes("TEXT,MTEXT,CUSTOMENTITY"),(n=new u.W).setFilter(t),n.setMessage((0,a.t)("2107")),e.next=1,n.go();case 1:if((r=e.sent).isValid()){e.next=2;break}return e.abrupt("return");case 2:if(i=r.getMcDbEntity()){e.next=3;break}return e.abrupt("return");case 3:if(!(i instanceof u.m)){e.next=5;break}return o=i.textString,s=i.rotation,l=d(function(e){i.textString=e.text,i.rotation=e.angle,u.M.getCurrentMxCAD().updateDisplay(),f()}),f=l.off,e.next=4,c(!0,{text:o,angle:s});case 4:f(),e.next=6;break;case 5:(i instanceof u.k||i instanceof u.F)&&(0,a.bV)(r,n.pickPoint());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,a.b)("Mx_EditText",v),(0,a.b)("_DrawText",function(){x()});var b={class:"px-3"},g={class:"px-2"},m={class:""},w={class:""};const k=(0,r.e)({__name:"index",setup:function(e){(0,r.i)(l,function(e){e||(o.value="",s.value=0)});var t=function(){f({text:o.value,angle:THREE.MathUtils.degToRad(s.value)}),o.value=""},n=[{name:"确定",fun:function(){t()},primary:!0},{name:"关闭",fun:function(){return c(!1)}}],u={esc:function(){return c(!1)},enter:function(){t()}};return function(e,t){return(0,r.o)(),(0,r.m)(a.U,{title:e.t("227"),"max-width":"480",modelValue:(0,r.E)(l),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,r.R)(l)?l.value=e:null}),footerBtnList:n,persistent:"",keys:u},{default:(0,r.w)(function(){return[(0,r.l)("div",b,[(0,r.a)(a.X,{title:e.t("2109")},{default:(0,r.w)(function(){return[(0,r.l)("div",g,[(0,r.a)(i.aa,{class:"mt-1",modelValue:(0,r.E)(o),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,r.R)(o)?o.value=e:null}),autofocus:"",rows:"3","no-resize":""},{prepend:(0,r.w)(function(){return[(0,r.l)("span",m,(0,r.t)(e.t("2039"))+":",1)]}),_:1},8,["modelValue"]),(0,r.a)(i.i,{class:"mt-1 w-50",modelValue:(0,r.E)(s),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,r.R)(s)?s.value=e:null}),type:"number"},{prepend:(0,r.w)(function(){return[(0,r.l)("span",w,(0,r.t)(e.t("1931"))+":",1)]}),_:1},8,["modelValue"])])]}),_:1},8,["title"])])]}),_:1},8,["title","modelValue"])}}})}}]);
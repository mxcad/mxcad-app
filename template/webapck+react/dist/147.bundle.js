"use strict";(self.webpackChunkwebapck_react=self.webpackChunkwebapck_react||[]).push([[147],{4147:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(8741),r=n(8159),u=(0,a.aq)(""),i=(0,a.aq)(0),o=a.dP.isShow,s=a.dP.showDialog,c=a.dP.confirm,l=a.dP.onReveal,f=a.dP.onConfirm;l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e.text&&(u.value=e.text),"number"==typeof e.angle&&(i.value=(0,a.X)(THREE.MathUtils.radToDeg(e.angle),2))});var d=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,u,i,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new a.j).setMessage((0,a.t)("2105")+":"),t.setCursorType(r.h.kCross),e.next=1,t.go();case 1:if(n=e.sent){e.next=2;break}return e.abrupt("return");case 2:return(u=new a.z).setMessage((0,a.t)("2106")+":"),e.next=3,u.go();case 3:if(null!==(i=e.sent)){e.next=4;break}return e.abrupt("return");case 4:return o=f(function(e){var t=new a.a6;t.textString=e.text,t.position=new a.e(n),t.alignmentPoint=t.position,t.height=i,t.rotation=e.angle,a.M.getCurrentMxCAD().drawEntity(t),a.M.getCurrentMxCAD().updateDisplay(),c()}),c=o.off,e.next=5,s(!0,{text:"测试"});case 5:c();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,a._)(a.a.mark(function e(){var t,n,r,u,i,o,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new a.v).AddMcDbEntityTypes("TEXT,MTEXT,CUSTOMENTITY"),(n=new a.l).setFilter(t),n.setMessage((0,a.t)("2107")),e.next=1,n.go();case 1:if((r=e.sent).isValid()){e.next=2;break}return e.abrupt("return");case 2:if(u=r.getMcDbEntity()){e.next=3;break}return e.abrupt("return");case 3:if(!(u instanceof a.a6)){e.next=5;break}return i=u.textString,o=u.rotation,c=f(function(e){u.textString=e.text,u.rotation=e.angle,a.M.getCurrentMxCAD().updateDisplay(),l()}),l=c.off,e.next=4,s(!0,{text:i,angle:o});case 4:l(),e.next=6;break;case 5:(u instanceof a.ah||u instanceof a.dQ)&&(0,a.dR)(r,n.pickPoint());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,a.d)("Mx_EditText",p),(0,a.d)("_DrawText",function(){d()});var x={class:"px-3"},v={class:"px-2"},g={class:""},m={class:""};const w=(0,a.at)({__name:"index",setup:function(e){(0,a.au)(o,function(e){e||(u.value="",i.value=0)});var t=function(){c({text:u.value,angle:THREE.MathUtils.degToRad(i.value)}),u.value=""},n=[{name:"确定",fun:function(){t()},primary:!0},{name:"关闭",fun:function(){return s(!1)}}],r={esc:function(){return s(!1)},enter:function(){t()}};return function(e,t){return(0,a.aw)(),(0,a.ax)(a.aY,{title:e.t("227"),"max-width":"480",modelValue:(0,a.ay)(o),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,a.aK)(o)?o.value=e:null}),footerBtnList:n,persistent:"",keys:r},{default:(0,a.aG)(function(){return[(0,a.aB)("div",x,[(0,a.aC)(a.b1,{title:e.t("2109")},{default:(0,a.aG)(function(){return[(0,a.aB)("div",v,[(0,a.aC)(a.dK,{class:"mt-1",modelValue:(0,a.ay)(u),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.aK)(u)?u.value=e:null}),autofocus:"",rows:"3","no-resize":""},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",g,(0,a.aF)(e.t("2039"))+":",1)]}),_:1},8,["modelValue"]),(0,a.aC)(a.aM,{class:"mt-1 w-50",modelValue:(0,a.ay)(i),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,a.aK)(i)?i.value=e:null}),type:"number"},{prepend:(0,a.aG)(function(){return[(0,a.aB)("span",m,(0,a.aF)(e.t("1931"))+":",1)]}),_:1},8,["modelValue"])])]}),_:1},8,["title"])])]}),_:1},8,["title","modelValue"])}}})}}]);
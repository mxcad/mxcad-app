var mp=Object.defineProperty,bp=Object.defineProperties;var yp=Object.getOwnPropertyDescriptors;var ls=Object.getOwnPropertySymbols;var wp=Object.prototype.hasOwnProperty,xp=Object.prototype.propertyIsEnumerable;var cs=(b,lt)=>{if(lt=Symbol[b])return lt;throw Error("Symbol."+b+" is not defined")};var hs=(b,lt,w)=>lt in b?mp(b,lt,{enumerable:!0,configurable:!0,writable:!0,value:w}):b[lt]=w,We=(b,lt)=>{for(var w in lt||(lt={}))wp.call(lt,w)&&hs(b,w,lt[w]);if(ls)for(var w of ls(lt))xp.call(lt,w)&&hs(b,w,lt[w]);return b},gn=(b,lt)=>bp(b,yp(lt));var ot=(b,lt,w)=>new Promise((dt,Qe)=>{var Te=Be=>{try{Ge(w.next(Be))}catch(Fe){Qe(Fe)}},$e=Be=>{try{Ge(w.throw(Be))}catch(Fe){Qe(Fe)}},Ge=Be=>Be.done?dt(Be.value):Promise.resolve(Be.value).then(Te,$e);Ge((w=w.apply(b,lt)).next())}),ti=function(b,lt){this[0]=b,this[1]=lt},ds=(b,lt,w)=>{var dt=($e,Ge,Be,Fe)=>{try{var Jn=w[$e](Ge),Ln=(Ge=Jn.value)instanceof ti,ri=Jn.done;Promise.resolve(Ln?Ge[0]:Ge).then(yt=>Ln?dt($e==="return"?$e:"next",Ge[1]?{done:yt.done,value:yt.value}:yt,Be,Fe):Be({value:yt,done:ri})).catch(yt=>dt("throw",yt,Be,Fe))}catch(yt){Fe(yt)}},Qe=$e=>Te[$e]=Ge=>new Promise((Be,Fe)=>dt($e,Ge,Be,Fe)),Te={};return w=w.apply(b,lt),Te[Symbol.asyncIterator]=()=>Te,Qe("next"),Qe("throw"),Qe("return"),Te};var ei=(b,lt,w)=>(lt=b[cs("asyncIterator")])?lt.call(b):(b=b[cs("iterator")](),lt={},w=(dt,Qe)=>(Qe=b[dt])&&(lt[dt]=Te=>new Promise(($e,Ge,Be)=>(Te=Qe.call(b,Te),Be=Te.done,Promise.resolve(Te.value).then(Fe=>$e({value:Fe,done:Be}),Ge)))),w("next"),w("return"),lt);(function(b,lt,w,dt){"use strict";var Qe=document.createElement("style");Qe.textContent=`@charset "UTF-8";.body[data-v-413a219e]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:9999}.dialog[data-v-413a219e]{border:8px;box-shadow:-20px 20px 35px 1px #0a31562e;position:absolute;top:calc(50% - 212px);left:calc(50% - 165px);color:rgb(var(--v-theme-on-dialog-card))!important;background-color:rgb(var(--v-theme-dialog-card))!important;--v-theme-overlay-multiplier: var(--v-theme-dialog-card-overlay-multiplier);overflow:auto}.dialog .header[data-v-413a219e]{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;padding:4px 0}.dialog .header img[data-v-413a219e]{width:24px;height:24px;margin-left:4px;margin-right:8px}.dialog .header .close[data-v-413a219e]{background:none;border:none;cursor:pointer;display:flex;width:16px;text-decoration:none;height:16px;margin-right:8px}.dialog .content[data-v-413a219e]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:2px 20px;margin:4px;border-radius:4px}.dialog .content .icon[data-v-413a219e]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.dialog .content .graphName[data-v-413a219e]{display:flex;align-items:center}.dialog .content .graphName input[data-v-413a219e]{width:180px;padding:2px;border-radius:4px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg))!important}.dialog .content .title[data-v-413a219e]{color:rgb(var(--v-theme-on-dialog-card-text))!important;border-bottom:1px solid #ccc;margin:10px 0;opacity:.6}.dialog .content .btn[data-v-413a219e]{padding:0 14px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));height:30px;display:flex;align-items:center;pointer-events:none;opacity:.6;height:28px;border:1.5px solid transparent}.dialog .content .radio[data-v-413a219e]{font-size:var(--mx-font-size)}.dialog .content .radio label[data-v-413a219e]{height:20px;display:flex;align-items:center}input[type=radio][data-v-413a219e]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-413a219e]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin-right:5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-413a219e]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-413a219e]{padding:0 14px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));height:30px;display:flex;align-items:center;border:1.5px solid transparent}.btn_normal[data-v-413a219e]:hover{background-color:rgb(var(--v-theme-btn-hover));border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}.btn_begin[data-v-413a219e]{background-color:#039be5}.btn_begin[data-v-413a219e]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}.compareList[data-v-bdfba492]{background-color:rgb(var(--v-theme-prominent));position:fixed;z-index:9999;top:150px;left:50%;translate:-50%;display:flex;align-items:center;justify-content:space-between;border-radius:5px;padding:5px;font-size:var(--mx-font-size)}.compareList .icon[data-v-bdfba492]{fill:#89cbfa;height:1.8em;width:1.8em}.modal[data-v-bdfba492]{position:absolute;padding:10px;top:55px;left:-45px;background-color:rgb(var(--v-theme-prominent))}.fcb[data-v-bdfba492]{display:flex;align-items:center;justify-content:space-between;margin-top:10px;margin-right:30px}.camList[data-v-bdfba492]{display:flex;align-items:center;justify-content:space-around;border-bottom:1px solid #ccc;margin-top:15px;padding-right:10px}.camList .btn[data-v-bdfba492]{padding:2px 4px;border:1px solid #ccc;border-bottom:0px;width:50px;margin:0 5px}.listBox[data-v-bdfba492]{max-height:300px;overflow-y:auto}.listBox ul[data-v-bdfba492]{list-style:none;display:block}.listBox ul li[data-v-bdfba492]{padding:5px 5px 5px 0;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(204,204,204,.7);background-color:rgb(var(--v-theme-prominent))}.listBox ul li[data-v-bdfba492]:hover{background-color:rgb(var(--v-theme-btn-hover))}.content[data-v-81f6d164]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-81f6d164]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-81f6d164]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-81f6d164]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-81f6d164]{font-size:var(--mx-font-size)}.content .radio label[data-v-81f6d164]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-81f6d164]{position:relative;width:180px}.content .custom-select select[data-v-81f6d164]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-81f6d164]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-81f6d164]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-81f6d164]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-81f6d164]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-81f6d164]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-81f6d164]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-81f6d164]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-81f6d164]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-81f6d164]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-81f6d164]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-81f6d164]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-53ce0cdf]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-53ce0cdf]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-53ce0cdf]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-53ce0cdf]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-53ce0cdf]{font-size:var(--mx-font-size)}.content .radio label[data-v-53ce0cdf]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-53ce0cdf]{position:relative;width:180px}.content .custom-select select[data-v-53ce0cdf]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-53ce0cdf]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-53ce0cdf]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-53ce0cdf]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-53ce0cdf]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-53ce0cdf]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-53ce0cdf]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-53ce0cdf]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-53ce0cdf]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-53ce0cdf]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-53ce0cdf]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-53ce0cdf]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-c25c71a1]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-c25c71a1]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-c25c71a1]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-c25c71a1]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-c25c71a1]{font-size:var(--mx-font-size)}.content .radio label[data-v-c25c71a1]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-c25c71a1]{position:relative;width:180px}.content .custom-select select[data-v-c25c71a1]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-c25c71a1]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-c25c71a1]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-c25c71a1]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-c25c71a1]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-c25c71a1]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-c25c71a1]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-c25c71a1]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-c25c71a1]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-c25c71a1]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-c25c71a1]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-c25c71a1]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-ee07efc7]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-ee07efc7]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-ee07efc7]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-ee07efc7]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-ee07efc7]{font-size:var(--mx-font-size)}.content .radio label[data-v-ee07efc7]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-ee07efc7]{position:relative;width:180px}.content .custom-select select[data-v-ee07efc7]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-ee07efc7]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-ee07efc7]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-ee07efc7]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-ee07efc7]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-ee07efc7]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-ee07efc7]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-ee07efc7]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-ee07efc7]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-ee07efc7]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-ee07efc7]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-ee07efc7]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-6d0eb01a]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-6d0eb01a]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-6d0eb01a]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-6d0eb01a]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-6d0eb01a]{font-size:var(--mx-font-size)}.content .radio label[data-v-6d0eb01a]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-6d0eb01a]{position:relative;width:180px}.content .custom-select select[data-v-6d0eb01a]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-6d0eb01a]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-6d0eb01a]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-6d0eb01a]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-6d0eb01a]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-6d0eb01a]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-6d0eb01a]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-6d0eb01a]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-6d0eb01a]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-6d0eb01a]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-6d0eb01a]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-6d0eb01a]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-e68a364b]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-e68a364b]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-e68a364b]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-e68a364b]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-e68a364b]{font-size:var(--mx-font-size)}.content .radio label[data-v-e68a364b]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-e68a364b]{position:relative;width:180px}.content .custom-select select[data-v-e68a364b]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-e68a364b]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-e68a364b]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-e68a364b]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-e68a364b]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-e68a364b]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-e68a364b]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-e68a364b]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-e68a364b]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-e68a364b]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-e68a364b]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-e68a364b]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-13be2da8]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-13be2da8]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-13be2da8]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-13be2da8]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-13be2da8]{font-size:var(--mx-font-size)}.content .radio label[data-v-13be2da8]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-13be2da8]{position:relative;width:180px}.content .custom-select select[data-v-13be2da8]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-13be2da8]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-13be2da8]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-13be2da8]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-13be2da8]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-13be2da8]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-13be2da8]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-13be2da8]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-13be2da8]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-13be2da8]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-13be2da8]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-13be2da8]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-ead6580a]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-ead6580a]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-ead6580a]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-ead6580a]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-ead6580a]{font-size:var(--mx-font-size)}.content .radio label[data-v-ead6580a]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-ead6580a]{position:relative;width:180px}.content .custom-select select[data-v-ead6580a]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-ead6580a]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-ead6580a]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-ead6580a]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-ead6580a]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-ead6580a]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-ead6580a]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-ead6580a]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-ead6580a]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-ead6580a]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-ead6580a]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-ead6580a]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.content[data-v-4771787e]{--v-theme-overlay-multiplier: var(--v-theme-dialog-card-text-overlay-multiplier);background-color:rgb(var(--v-theme-dialog-card-text))!important;color:rgb(var(--v-theme-on-dialog-card-text))!important;font-size:var(--mx-font-size);padding:5px 20px;margin:4px;border-radius:4px;overflow:auto;max-height:350px}.content .icon[data-v-4771787e]{width:16px;height:16px;font-weight:700;vertical-align:-.15em;overflow:hidden}.content .inputBox[data-v-4771787e]{display:flex;align-items:center;margin-bottom:10px}.content .inputBox input[data-v-4771787e]{width:180px;outline:none;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));font-size:var(--mx-font-size);min-height:20px;flex-wrap:unset}.content .radio[data-v-4771787e]{font-size:var(--mx-font-size)}.content .radio label[data-v-4771787e]{height:20px;display:flex;align-items:center}.content .custom-select[data-v-4771787e]{position:relative;width:180px}.content .custom-select select[data-v-4771787e]{width:100%;padding:2px;font-size:var(--mx-font-size);border-radius:2px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));outline:none}.content .custom-select select:focus option[data-v-4771787e]:checked{background-color:rgb(var(--v-theme-btn-hover))}.content .custom-select .select-arrow[data-v-4771787e]{position:absolute;top:50%;right:5px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgb(var(--v-theme-on-dialog-card-text))}input[type=radio][data-v-4771787e]{height:15px;width:15px;margin-right:10px;display:none}input[type=radio]+label[data-v-4771787e]:before{content:" ";display:inline-block;vertical-align:middle;width:14px;height:14px;margin:0 5px;border-radius:50%;border:1px solid rgb(var(--v-theme-on-dialog-card))!important;line-height:22px;box-sizing:border-box}input[type=radio]:checked+label[data-v-4771787e]:before{background-color:rgb(var(--v-theme-on-dialog-card))!important;background-clip:content-box;padding:2px}.btn_normal[data-v-4771787e]{padding:0 8px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;height:28px;min-width:76px;display:flex;align-items:center;justify-content:center;border:1.5px solid transparent;background-color:#039be5}.btn_normal[data-v-4771787e]:hover{background-color:#039be599;border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}input[type=checkbox][data-v-4771787e]{width:13px;height:13px;margin-right:5px;border-radius:2px;appearance:none;outline:none;border:1px solid rgb(var(--v-theme-on-undertint-bg));box-sizing:border-box}input[type=checkbox][data-v-4771787e]:checked{background-color:rgb(var(--v-theme-on-undertint-bg));border-color:rgb(var(--v-theme-on-undertint-bg));position:relative}input[type=checkbox][data-v-4771787e]:checked:after{content:"✔";color:rgb(var(--v-theme-dialog-card-text));font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}textarea[data-v-4771787e]{width:100%;height:60px;border:1px solid rgba(204,204,204,.6);border-radius:4px;overflow-y:auto;outline:none;padding:5px}.btn[data-v-4771787e]{padding:0 20px;font-size:var(--mx-font-size);border-radius:4px;color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));height:25px;display:flex;align-items:center;border:1.5px solid transparent;margin-left:15px}.btn[data-v-4771787e]:hover{background-color:rgb(var(--v-theme-btn-hover));border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}.btn_back[data-v-4771787e]{color:rgb(var(--v-theme-on-undertint-bg))!important;background-color:rgb(var(--v-theme-undertint-bg));border:1.5px solid transparent}.btn_back[data-v-4771787e]:hover{background-color:rgb(var(--v-theme-btn-hover));border:1.5px solid rgba(0,0,0,var(--v-border-opacity))}table[data-v-4771787e]{border-collapse:collapse;margin:10px 10px 0;background-color:rgb(var(--v-theme-undertint-bg))}th[data-v-4771787e],td[data-v-4771787e]{border:1px solid rgb(var(--v-theme-on-undertint-bg))!important;padding:4px;vertical-align:middle;line-height:20px;height:20px;text-align:center;font-size:var(--mx-font-size)}th input[data-v-4771787e],td input[data-v-4771787e]{height:20px;line-height:20px;vertical-align:middle;padding:0 10px;text-align:center;width:80px;outline:none}.options[data-v-4771787e]{height:100%;width:100px;display:flex;justify-content:space-around}.options span[data-v-4771787e]{text-decoration:underline;cursor:pointer}.options span[data-v-4771787e]:hover{color:#178fe6}.body[data-v-fa083ec2]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:9999}.dialog[data-v-fa083ec2]{border:8px;box-shadow:-20px 20px 35px 1px #0a31562e;position:absolute;top:calc(50% - 212px);left:calc(50% - 165px);color:rgb(var(--v-theme-on-dialog-card))!important;background-color:rgb(var(--v-theme-dialog-card))!important;--v-theme-overlay-multiplier: var(--v-theme-dialog-card-overlay-multiplier);overflow:auto}.dialog .header[data-v-fa083ec2]{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;padding:4px 0}.dialog .header img[data-v-fa083ec2]{width:24px;height:24px;margin-left:4px;margin-right:8px}.dialog .header .close[data-v-fa083ec2]{background:none;border:none;cursor:pointer;display:flex;width:16px;text-decoration:none;height:16px;margin-right:8px}.button-grid[data-v-7312f313]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:5px}.extools-btn[data-v-7312f313]{width:100%;min-width:0}[data-v-7312f313] .v-btn .v-btn__content{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;width:100%}.color-box[data-v-3abb1e2e]{width:80px;height:20px;border:1px solid #ccc;border-radius:2px;display:inline-block;vertical-align:middle}.mx-attribute-table[data-v-3abb1e2e]{border-collapse:collapse}.mx-attribute-table th[data-v-3abb1e2e],.mx-attribute-table td[data-v-3abb1e2e]{border:1px solid #ccc}th[data-v-ddf9066b],td[data-v-ddf9066b]{text-align:center;vertical-align:middle;line-height:30px}td[data-v-ddf9066b]{padding:0 5px}.color-box[data-v-ddf9066b]{width:80px;height:20px;border:1px solid #ccc;border-radius:2px;display:inline-block;vertical-align:middle}.delete-btn[data-v-ddf9066b]{text-decoration:underline;cursor:pointer}.delete-btn[data-v-ddf9066b]:hover{color:#89cbfa}.table-container[data-v-ddf9066b]{height:300px;overflow-y:auto}thead th[data-v-ddf9066b]{position:sticky;background-color:rgb(var(--v-theme-dialog-card));top:0;z-index:1}tbody tr[data-v-ddf9066b]:hover{background-color:#cccccc4d}.static[data-v-2c43af00]{border:1px solid rgba(204,204,204,.5);padding:10px;position:relative}.static .static-title[data-v-2c43af00]{position:absolute;top:-10px;left:10px;background-color:rgb(var(--v-theme-dialog-card-text))}.color-box[data-v-2c43af00]{width:20px;height:20px;border-radius:4px;border:1px solid #ccc;display:inline-block}.summary-box[data-v-2c43af00]{background-color:rgb(var(--v-theme-prominent));border-radius:4px;padding:8px 12px;border:1px solid rgba(204,204,204,.6)}.selected-row[data-v-2c43af00]{background:#e3f2fd!important}.filter-options[data-v-2c43af00]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:30px;margin-top:10px}.text-no-wrap[data-v-2c43af00]{border-top:1px solid rgba(204,204,204,.5)}.exportBtn[data-v-2c43af00]{position:absolute;right:0;bottom:-35px}[data-v-2c43af00] .v-data-table-header__content{justify-content:center}[data-v-2c43af00] .v-table.v-table--fixed-header>.v-table__wrapper>table>thead>tr>th{height:30px}[data-v-2c43af00] .v-tab.v-tab.v-btn,[data-v-2c43af00] .v-tabs--density-compact{height:30px}.checkedTr[data-v-2c43af00]{background-color:#89cbfa80}.filterBox[data-v-2c43af00]{max-height:200px;overflow:auto;width:100%;padding:10px}.custom-ellipsis[data-v-2c43af00]{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:125px}.activeTab[data-v-2c43af00]{background-color:#89cbfa80}.color-box[data-v-0022e465]{width:80px;height:20px;border:1px solid #ccc;border-radius:2px;display:inline-block;vertical-align:middle}.static[data-v-0022e465]{border:1px solid rgba(204,204,204,.5);padding:10px;position:relative;margin-top:20px}.static .static-title[data-v-0022e465]{position:absolute;top:-10px;left:10px;background-color:rgb(var(--v-theme-dialog-card-text))}.fc[data-v-0022e465]{display:flex;align-items:center}[data-v-0022e465] .v-selection-control-group--inline{flex-direction:column}[data-v-0022e465] .v-tab.v-tab.v-btn{height:25px;min-width:20px;border:1px solid #ccc}[data-v-0022e465] .v-tabs--density-compact{height:25px}.activeTab[data-v-0022e465]{background-color:#89cbfa80}.save_btn[data-v-0022e465]{position:absolute;bottom:-35px;right:10px}.contents[data-v-0458f2f1]{padding:5px;position:relative}.static[data-v-0458f2f1]{border:1px solid rgba(204,204,204,.5);padding:10px;position:relative;margin-top:20px}.static .static-title[data-v-0458f2f1]{position:absolute;top:-10px;left:10px;background-color:rgb(var(--v-theme-dialog-card-text))}.base-options[data-v-0458f2f1]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:25px;margin-top:5px}.footerBtn[data-v-0458f2f1]{display:flex;position:absolute;bottom:-35px;right:10px}.color_box[data-v-0458f2f1]{height:15px;width:15px;margin-left:45px}.contents[data-v-b94ec293]{padding:5px;position:relative}.contents .static[data-v-b94ec293]{border:1px solid rgba(204,204,204,.5);padding:10px;position:relative;margin-top:20px}.contents .static .static-title[data-v-b94ec293]{position:absolute;top:-10px;left:10px;background-color:rgb(var(--v-theme-dialog-card-text))}.contents .footerBtn[data-v-b94ec293]{display:flex;position:absolute;bottom:-35px;right:10px}.fc[data-v-b94ec293]{display:flex;justify-content:center;align-items:center}.table-container[data-v-41401896]{max-height:300px;min-height:150px;overflow-y:auto;border:1px solid #ccc;border-radius:4px;margin-top:10px}.table-container .current-row[data-v-41401896]{background-color:#89cbfa80}.static[data-v-41401896]{border:1px solid rgba(204,204,204,.5);padding:10px;position:relative;margin-top:20px}.static .static-title[data-v-41401896]{position:absolute;top:-10px;left:10px;background-color:rgb(var(--v-theme-dialog-card-text))}thead th[data-v-41401896]{position:sticky;background-color:rgb(var(--v-theme-dialog-card));top:0;z-index:1;border-bottom:1px solid #ccc}tbody tr[data-v-41401896]:hover{background-color:#cccccc4d}th[data-v-41401896],td[data-v-41401896]{text-align:center;vertical-align:middle;line-height:30px}td[data-v-41401896]{padding:0 5px}.contents[data-v-41401896]{position:relative}.contents .tips[data-v-41401896]{position:absolute;left:0;bottom:-30px}table[data-v-dd40058c]{width:calc(100% - 20px);border-collapse:collapse;margin:10px 10px 0}th[data-v-dd40058c],td[data-v-dd40058c]{border:1px solid #ddd;padding:4px;vertical-align:middle;line-height:20px;height:20px;text-align:center;font-size:var(--mx-font-size)}.noDataBox[data-v-dd40058c]{display:flex;justify-content:center;align-items:center;height:200px;width:calc(100% - 20px);margin:0 10px 10px;border:1px solid #ddd;border-top:none}.options[data-v-dd40058c]{height:100%;width:100%;display:flex;justify-content:space-around}.options span[data-v-dd40058c]{text-decoration:underline;cursor:pointer}.options span[data-v-dd40058c]:hover{color:#89cbfa}
`,document.head.appendChild(Qe);var Te=typeof document!="undefined"?document.currentScript:null;const $e="modulepreload",Ge=function(D,o){return D[0]==="."?new URL(D,o).href:D},Be={},Fe=function(o,t,c){return o()};class Jn{constructor(){this.objectCount=0,this.dTol=lt.MxFun.viewCoordLong2Cad(.5),this.objectsDetails={},this.graphBoxsPos=[],this.patternList={},this.getBlkMidPt=o=>{const{minPt:t,maxPt:c}=o.getBoundingBox();return{position:t.clone().addvec(c.sub(t).normalize().mult(c.distanceTo(t)/2)),minPt:t,maxPt:c}},this.getBugle=(o,t)=>{const c=o.getPointAtDist(t/2).val;return{bugle:w.MxCADUtility.calcBulge(o.getPointAtDist(0).val,c,o.getPointAtDist(t).val).val,midPt:c}},this.getPlDetails=o=>{const t=o.numVerts(),c=[],u=[];let a,r;for(let e=0;e<t;e++)if(e<t-1){const n=o.getPointAt(e).val,d=o.getPointAt(e+1).val,l=o.getDistAtPoint(d).val-o.getDistAtPoint(n).val,h=o.getBulgeAt(e);c.push(Number(l.toFixed(6))),u.push(Number(h.toFixed(6))),e===0&&(a=n),e===t-2&&(r=d)}const i=r.sub(a),s=a.clone().addvec(r.sub(a).normalize().mult(r.distanceTo(a)/2));return{lengthArr:c,bugleArr:u,vertNum:t,vec:i,point:s}},this.comparisonPhysical=(o,t,c,u)=>{const a=Object.keys(this.selectObjects);if(!a)return;let r=0;if(a.includes("McDbLine")){let i=o.McDbLine;const s=this.objectsDetails.McDbLine;for(let e=0;e<s.length;e++){const n=s[e];let d=n.entity.clone();d.move(this.formPt,this.toPt),d.rotate(this.toPt,u);const l=[];if(i.filter((p,g)=>{if(Math.abs(n.length-p.getLength().val)<this.dTol){let f=p.startPoint.distanceTo(d.startPoint)<this.dTolPt&&p.endPoint.distanceTo(d.endPoint)<this.dTolPt,m=p.startPoint.distanceTo(d.endPoint)<this.dTolPt&&p.endPoint.distanceTo(d.startPoint)<this.dTolPt;return(f||m)&&l.push(g),f||m}}).length>0)r+=1,i.splice(l[0],1),i=[...i];else break}}if(a.includes("McDbArc")){let i=o.McDbArc;const s=this.objectsDetails.McDbArc;for(let e=0;e<s.length;e++){const n=s[e];let d=n.entity.clone();d.move(this.formPt,this.toPt),d.rotate(this.toPt,u);const l=d.getPointAtDist(0).val,h=d.getPointAtDist(n.length).val,p=[];if(i.filter((f,m)=>{const y=f.getLength().val,{bugle:v}=this.getBugle(f,y);if(Math.abs(n.length-f.getLength().val)<this.dTol&&Math.abs(v-n.bugle)<this.dTol){const C=f.getPointAtDist(0).val,S=f.getPointAtDist(y).val;let I=l.distanceTo(C)<this.dTolPt&&h.distanceTo(S)<this.dTolPt,z=l.distanceTo(S)<this.dTolPt&&h.distanceTo(C)<this.dTolPt;return(I||z)&&p.push(m),I||z}}).length>0)r+=1,i.splice(p[0],1),i=[...i];else break}}if(a.includes("McDbCircle")){let i=o.McDbCircle;const s=this.objectsDetails.McDbCircle;for(let e=0;e<s.length;e++){let d=s[e].entity.clone();d.move(this.formPt,this.toPt),d.rotate(this.toPt,u);const l=d.center,h=d.radius,p=[];if(i.filter((f,m)=>{const y=f.center,v=f.radius,C=Math.abs(v-h)<this.dTol&&l.distanceTo(y)<this.dTolPt;return C&&p.push(m),C}).length>0)r+=1,i.splice(p[0],1),i=[...i];else break}}if(a.includes("McDbBlockReference")){let i=o.McDbBlockReference;const s=this.objectsDetails.McDbBlockReference;for(let e=0;e<s.length;e++){let d=s[e].entity.clone();d.move(this.formPt,this.toPt),d.rotate(this.toPt,u);const l=d.blockName,{minPt:h,maxPt:p}=this.getBlkMidPt(d),g=[];if(i.filter((m,y)=>{if(m.blockName===l){if(this.classNames.length===1)return g.push(y),!0;{const{minPt:C,maxPt:S}=this.getBlkMidPt(m);let I=h.distanceTo(C)<this.dTolPt&&p.distanceTo(S)<this.dTolPt;return I&&g.push(y),I}}}).length>0)r+=1,i.splice(g[0],1),i=[...i];else return}}if(a.includes("McDbPolyline")){let i=o.McDbPolyline;const s=this.objectsDetails.McDbPolyline;for(let e=0;e<s.length;e++){const n=s[e];let d=n.entity.clone();d.move(this.formPt,this.toPt),d.rotate(this.toPt,u);const{lengthArr:l,bugleArr:h,vertNum:p}=this.getPlDetails(d),g=[];if(i.filter((m,y)=>{const v=m.getLength().val;if(Math.abs(v-n.length)<this.dTol&&d.isClosed===d.isClosed){const{lengthArr:C,bugleArr:S,vertNum:I}=this.getPlDetails(m),z=S.map(G=>G===0?G:-G),V=l.toString()===C.toString()&&h.toString()===S.toString();let L=!1;if(V||(L=l.toString()===[...C].reverse().toString()&&h.toString()===[...z].reverse().toString()),(V||L)&&p===I){let G=0;for(let H=0;H<p;H++){const A=d.getPointAt(H).val,N=d.getWidthsAt(H),E=L?m.getPointAt(p-1-H).val:m.getPointAt(H).val,x=L?m.getWidthsAt(p-1-H):m.getWidthsAt(H);if(A.distanceTo(E)<this.dTolPt&&N.val1===x.val1&&N.val2===x.val2)G+=1;else if(p===2&&H===0){const _=m.getPointAt(0).val,P=m.getPointAt(1).val,M=m.getWidthsAt(0);d.getPointAt(1).val.distanceTo(P)<this.dTolPt&&A.distanceTo(_)<this.dTolPt&&N.val1===M.val2&&N.val2===M.val1&&(G+=2)}}return G===p&&g.push(y),G===p}}}).length>0)r+=1,i.splice(g[0],1),i=[...i];else break}}if(r===this.objectCount){const i=c.clone().addvec(t.clone().sub(c).normalize().mult(c.distanceTo(t)/2));this.graphBoxsPos.filter(e=>i.distanceTo(e)<this.dTolPt).length||this.graphBoxsPos.push(i)}this.patternList.graphBoxsPos=[...this.graphBoxsPos]},this.identificationBBox=(o,t,c)=>{const u=new w.MxCADSelectionSet;u.crossingSelect(o.x,o.y,t.x,t.y);const a={};u.forEach(i=>{const s=i.getMcDbEntity();a[s.objectName]||(a[s.objectName]=[]),a[s.objectName].push(s)}),this.classNames.filter(i=>a[i]&&this.selectObjects[i].length<=a[i].length).length===this.classNames.length&&this.comparisonPhysical(a,t,o,c)}}setSelectset(o){if(!(o!=null&&o.count()))return;const t=w.MxCpp.getCurrentMxCAD(),{maxPt:c,minPt:u}=t.getDatabase().currentSpace.getBoundingBox(),a=t.getDatabase().currentSpace.getMinMaxDrawOrder(),r=lt.MxFun.screenCoordLong2Doc(Math.abs(c.x-u.x));u.x-=r,u.y-=r,c.x+=r,c.y+=r;let i=new w.McGePoint3dArray;i.append(u),i.append(new w.McGePoint3d(u.x,c.y,0)),i.append(new w.McGePoint3d(c.x,c.y,0)),i.append(new w.McGePoint3d(c.x,u.y,0)),this.objectCount=o.count();let s=new w.McDbWipeout;s.setVertices(i);const e=t.drawEntity(s),n=e.getMcDbEntity();n.drawOrder=a.maxDrawOrder+1,this.selectObjects={};const d=[];o.forEach(m=>{const y=m.getMcDbEntity();if(this.selectObjects[y.objectName]||(this.selectObjects[y.objectName]=[]),this.selectObjects[y.objectName].push(y),y.objectName==="McDbLine")this.objectsDetails.McDbLine||(this.objectsDetails.McDbLine=[]),this.objectsDetails.McDbLine.push({entity:y,length:y.getLength().val});else if(y.objectName==="McDbArc"){this.objectsDetails.McDbArc||(this.objectsDetails.McDbArc=[]);const S=y.getLength().val,{bugle:I}=this.getBugle(y,S);this.objectsDetails.McDbArc.push({entity:y,length:S,bugle:I})}else if(y.objectName==="McDbCircle"){this.objectsDetails.McDbCircle||(this.objectsDetails.McDbCircle=[]);const S=y.radius;this.objectsDetails.McDbCircle.push({entity:y,radius:S})}else if(y.objectName==="McDbBlockReference"){this.objectsDetails.McDbBlockReference||(this.objectsDetails.McDbBlockReference=[]);const S=y.blockName;this.objectsDetails.McDbBlockReference.push({entity:y,blkName:S})}else if(y.objectName==="McDbPolyline"){this.objectsDetails.McDbPolyline||(this.objectsDetails.McDbPolyline=[]);const S=y.getLength().val;this.objectsDetails.McDbPolyline.push({entity:y,length:S})}d.push({obj:y,drawOrder:y.drawOrder}),y.drawOrder=n.drawOrder+1;const{maxPt:v,minPt:C}=y.getBoundingBox();!this.pt1||!this.pt2?(this.pt1=C,this.pt2=v):(C.x<this.pt1.x&&(this.pt1.x=C.x),C.y<this.pt1.y&&(this.pt1.y=C.y),v.x>this.pt2.x&&(this.pt2.x=v.x),v.y>this.pt2.y&&(this.pt2.y=v.y))}),this.classNames=Object.keys(this.selectObjects),this.pt3=new w.McGePoint3d(this.pt1.x,this.pt2.y),this.pt4=new w.McGePoint3d(this.pt2.x,this.pt1.y),this.pl=new w.McDbPolyline,this.pl.addVertexAt(this.pt1),this.pl.addVertexAt(this.pt3),this.pl.addVertexAt(this.pt2),this.pl.addVertexAt(this.pt4),this.pl.isClosed=!0;const l=lt.MxFun.screenCoordLong2Doc(10);this.pt1.x-=l,this.pt1.y-=l,this.pt2.x+=l,this.pt2.y+=l;let h=Math.abs(this.pt1.x-this.pt2.x),p=Math.abs(this.pt1.y-this.pt2.y);if(h<1||p<1)return;let g=200,f=140;return new Promise((m,y)=>{lt.MxFun.getCurrentDraw().createCanvasImageData(v=>{this.patternImgUrl=v,d.forEach(C=>{C.obj.drawOrder=C.drawOrder}),e.erase(),m(v)},{width:g,height:f,range_pt1:this.pt1.toVector3(),range_pt2:this.pt2.toVector3()})})}identifyGraphics(o,t){this.patternList.patternImgUrl=this.patternImgUrl,this.graphBoxsPos.length=0;const c=w.MxCpp.getCurrentMxCAD();if(this.dTolPt=c.mxdraw.viewCoordLong2Cad(.5),!this.classNames)return;const u=this.classNames.map(i=>this.selectObjects[i].length),a=u.findIndex(i=>i===Math.min(...u)),r=this.classNames[a];if(r==="McDbBlockReference"){const i=this.selectObjects.McDbBlockReference[0].clone(),s=i.blockName,{position:e}=this.getBlkMidPt(i);this.formPt=e;const n=i.rotation,d=new w.MxCADResbuf([w.DxfCode.kEntityType,"INSERT"]),l=new w.MxCADSelectionSet;o&&t?l.crossingSelect(o.x,o.y,t.x,t.y,d):l.allSelect(d);const h=[];l.forEach(p=>{const g=p.getMcDbEntity().clone();if(s===g.blockName){const f=g.rotation,m=n>=0?f-n:n-f,{position:y,minPt:v,maxPt:C}=this.getBlkMidPt(g);if(this.classNames.length===1)this.toPt=y,this.identificationBBox(v,C,0);else{const S=this.pl.clone();S.move(this.formPt,y),S.rotate(y,m);let I=[],z=[];for(let G=0;G<S.numVerts();G++){const H=S.getPointAt(G).val;I.push(H.x),z.push(H.y)}const V=new w.McGePoint3d(Math.min(...I)-1,Math.min(...z)-1),L=new w.McGePoint3d(Math.max(...I)+1,Math.max(...z)+1);h.filter(G=>{let H=V.distanceTo(G.pt1)<this.dTolPt&&L.distanceTo(G.pt2)<this.dTolPt,A=V.distanceTo(G.pt2)<this.dTolPt&&L.distanceTo(G.pt1)<this.dTolPt;return H||A}).length||(h.push({pt1:V,pt2:L}),this.toPt=y,this.identificationBBox(V,L,m))}}})}else if(r==="McDbArc"){const i=this.selectObjects.McDbArc[0].clone(),s=i.getLength().val,{bugle:e,midPt:n}=this.getBugle(i,s),l=i.center.sub(n),h=new w.MxCADResbuf([w.DxfCode.kEntityType,"ARC"]),p=new w.MxCADSelectionSet;o&&t?p.crossingSelect(o.x,o.y,t.x,t.y,h):p.allSelect(h);const g=[];p.forEach(f=>{const m=f.getMcDbEntity().clone(),y=m.getLength().val,{bugle:v,midPt:C}=this.getBugle(m,y);if(Math.abs(y-s)<this.dTol&&Math.abs(v-e)<this.dTol){const z=m.center.sub(C).angleTo2(l,w.McGeVector3d.kNegateZAxis),V=this.pl.clone();V.move(n,C),V.rotate(C,z);let L=[],U=[];for(let N=0;N<V.numVerts();N++){const E=V.getPointAt(N).val;L.push(E.x),U.push(E.y)}const G=new w.McGePoint3d(Math.min(...L)-1,Math.min(...U)-1),H=new w.McGePoint3d(Math.max(...L)+1,Math.max(...U)+1);g.filter(N=>{let E=G.distanceTo(N.pt1)<this.dTolPt&&H.distanceTo(N.pt2)<this.dTolPt,x=G.distanceTo(N.pt2)<this.dTolPt&&H.distanceTo(N.pt1)<this.dTolPt,_=C.distanceTo(N.midPt)<this.dTolPt;return(E||x)&&_}).length||(g.push({pt1:G,pt2:H,midPt:C}),this.toPt=C,this.formPt=n,this.identificationBBox(G,H,z))}})}else if(r==="McDbLine"){const i=this.selectObjects.McDbLine[0].clone(),s=i.getLength().val,e=i.endPoint.sub(i.startPoint),n=new w.MxCADResbuf([w.DxfCode.kEntityType,"LINE"]),d=new w.MxCADSelectionSet;o&&t?d.crossingSelect(o.x,o.y,t.x,t.y,n):d.allSelect(n);const l=[];d.forEach(p=>{const g=p.getMcDbEntity().clone(),f=g.getLength().val;Math.abs(f-s)<this.dTol&&l.push(g)});const h=[];l.length>0&&l.forEach(p=>{const g=[p.startPoint,p.endPoint];g.forEach((f,m)=>{const y=i.clone();y.move(i.startPoint,f);const C=g[1-m].sub(f).angleTo2(e,w.McGeVector3d.kNegateZAxis);y.rotate(f,C);const S=y.endPoint,I=this.pl.clone();I.move(i.startPoint,f),I.rotate(f,C);const z=I.getPointAt(0).val,V=I.getPointAt(1).val,L=z.sub(y.startPoint),U=V.sub(y.startPoint);if(S.distanceTo(g[1-m])<this.dTolPt&&L.isEqualTo(z.sub(f))&&U.isEqualTo(V.sub(f))){let G=[],H=[];for(let x=0;x<I.numVerts();x++){const _=I.getPointAt(x).val;G.push(_.x),H.push(_.y)}const A=new w.McGePoint3d(Math.min(...G)-1,Math.min(...H)-1),N=new w.McGePoint3d(Math.max(...G)+1,Math.max(...H)+1);h.filter(x=>{let _=A.distanceTo(x.pt1)<this.dTolPt&&N.distanceTo(x.pt2)<this.dTolPt,P=A.distanceTo(x.pt2)<this.dTolPt&&N.distanceTo(x.pt1)<this.dTolPt;return _||P}).length||(h.push({pt1:A,pt2:N}),this.toPt=f,this.formPt=i.startPoint,this.identificationBBox(A,N,C))}})})}else if(r==="McDbCircle"){const i=this.selectObjects.McDbCircle[0].clone(),s=i.radius,e=new w.MxCADResbuf([w.DxfCode.kEntityType,"CIRCLE"]),n=new w.MxCADSelectionSet;o&&t?n.crossingSelect(o.x,o.y,t.x,t.y,e):n.allSelect(e),n.forEach(d=>{const l=d.getMcDbEntity().clone(),h=l.radius;if(Math.abs(h-s)<this.dTol){const p=l.center;this.toPt=p,this.formPt=i.center;const g=this.pl.clone();g.move(this.formPt,this.toPt);let f=[],m=[];for(let C=0;C<g.numVerts();C++){const S=g.getPointAt(C).val;f.push(S.x),m.push(S.y)}const y=new w.McGePoint3d(Math.min(...f)-1,Math.min(...m)-1),v=new w.McGePoint3d(Math.max(...f)+1,Math.max(...m)+1);this.identificationBBox(y,v,0)}})}else if(r==="McDbPolyline"){const i=this.selectObjects.McDbPolyline[0].clone(),s=i.getLength().val,{lengthArr:e,bugleArr:n,vertNum:d,vec:l,point:h}=this.getPlDetails(i),p=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]),g=new w.MxCADSelectionSet;o&&t?g.crossingSelect(o.x,o.y,t.x,t.y,p):g.allSelect(p);const f=[];g.forEach(m=>{const y=m.getMcDbEntity().clone(),v=y.getLength().val;if(Math.abs(v-s)<this.dTol&&y.isClosed===i.isClosed){const{lengthArr:C,bugleArr:S,vertNum:I,vec:z,point:V}=this.getPlDetails(y),L=S.map(N=>N===0?N:-N),U=e.toString()===C.toString()&&n.toString()===S.toString();let G=!1;U||(G=e.toString()===[...C].reverse().toString()&&n.toString()===[...L].reverse().toString());const H=d===I,A=e.toString()===C.toString()&&n.toString()===[...L].reverse().toString();if((U||G||A)&&H){const N=i.clone(),E=l.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),_=(G?z.negate():z).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis)-E;N.move(h,V),N.rotate(V,_),N.trueColor=new w.McCmColor(255,0,0);let P=0;for(let M=0;M<d;M++){const k=N.getPointAt(M).val,R=N.getWidthsAt(M),F=G?y.getPointAt(d-1-M).val:y.getPointAt(M).val,q=G?y.getWidthsAt(d-1-M):y.getWidthsAt(M);if(k.distanceTo(F)<this.dTolPt&&R.val1===q.val1&&R.val2===q.val2)P+=1;else if(d===2&&M===0){const X=y.getPointAt(0).val,J=y.getPointAt(1).val,j=N.getPointAt(1).val,K=y.getWidthsAt(0);j.distanceTo(J)<this.dTolPt&&k.distanceTo(X)<this.dTolPt&&R.val1===K.val2&&R.val2===K.val1&&(P+=2)}}if(P===d){const M=this.pl.clone();M.move(h,V),M.rotate(V,_);let k=[],R=[];for(let J=0;J<M.numVerts();J++){const j=M.getPointAt(J).val;k.push(j.x),R.push(j.y)}const F=new w.McGePoint3d(Math.min(...k)-1,Math.min(...R)-1),q=new w.McGePoint3d(Math.max(...k)+1,Math.max(...R)+1);f.filter(J=>{let j=F.distanceTo(J.pt1)<this.dTolPt&&q.distanceTo(J.pt2)<this.dTolPt,K=F.distanceTo(J.pt2)<this.dTolPt&&q.distanceTo(J.pt1)<this.dTolPt;return j||K}).length||(f.push({pt1:F,pt2:q}),this.toPt=V,this.formPt=h,this.identificationBBox(F,q,_))}}}})}return this.patternList}}var Ln=Object.defineProperty,ri=(D,o,t)=>o in D?Ln(D,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):D[o]=t,yt=(D,o)=>Ln(D,"name",{value:o,configurable:!0}),tn=(D=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(D,{get:(o,t)=>(typeof require<"u"?require:o)[t]}):D)(function(D){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')}),Pe=(D,o,t)=>ri(D,typeof o!="symbol"?o+"":o,t),Qn,Ti=(Qn=class{constructor(D){this._listeners=new Map,this._lastMessage={},this.options=Object.assign({ignoreError:!1},D)}get listeners(){return this._listeners}on(){let D=arguments[0],o=arguments[1],t=arguments[2],{objectify:c=!0,count:u=-1}=Object.assign({},t);this._listeners.has(D)||this._listeners.set(D,new Map);let a=++Qn.listenerSeqId,r=this._listeners.get(D);return r==null||r.set(a,[o,u]),this._emitRetainEvent(D,a,r),c?{off:yt(()=>{r==null||r.delete(a),(r==null?void 0:r.size)==0&&this._listeners.delete(D)},"off")}:a}onAny(D,o){return this.on("*",D,o)}_emitRetainEvent(D,o,t){D in this._lastMessage&&this._executeListener(o,t,this._lastMessage[D])}once(D,o,t){return this.on(D,o,Object.assign({},t,{count:1}))}_forEachListeners(D){let o=!1;for(let[t,c]of this._listeners.entries()){if(o)break;for(let[u,[a,r]]of c.entries()){if(o)break;o=D({event:t,listenerId:u,listener:a,count:r,eventListeners:c})===!1}}}_forEachEventListeners(D,o){let t=!1,c=[[D,this._listeners.get(D)]];for(let[u,a]of c)if(a)for(let[r,[i,s]]of a){if(t)break;t=o({event:u,listenerId:r,listener:i,count:s,eventListeners:a})===!1}}off(){if(arguments.length==1){if(typeof arguments[0]=="number")this._forEachListeners(({listenerId:D,eventListeners:o,event:t})=>{var c;if(D==arguments[0])return o.delete(D),((c=this._listeners.get(t))==null?void 0:c.size)==0&&this._listeners.delete(t),!1});else if(typeof arguments[0]=="function"){let D=arguments[0];this._forEachListeners(({listenerId:o,listener:t,eventListeners:c,event:u})=>{var a;t==D&&(c.delete(o),((a=this._listeners.get(u))==null?void 0:a.size)==0&&this._listeners.delete(u))})}}else arguments.length==2&&typeof arguments[0]=="string"&&typeof arguments[1]=="function"&&this._forEachEventListeners(arguments[0],({event:D,listenerId:o,listener:t,eventListeners:c})=>{var u;D==arguments[0]&&t==arguments[1]&&(c.delete(o),((u=this._listeners.get(D))==null?void 0:u.size)==0&&this._listeners.delete(D))})}waitFor(D,o=0){return new Promise((t,c)=>{let u,a=!1,r;o>0&&(u=setTimeout(()=>{a=!0,this.off(r),c(new Error("Timeout"))},o)),r=this.once(D,i=>{a||(clearTimeout(u),t(i))})})}offAll(D){D?this._listeners.delete(D):this._listeners.clear()}_executeListener(D,o,t){if(!o)return;let c=o.get(D);if(c)try{return c[0](t)}catch(u){if(!this.options.ignoreError)throw u}finally{c[1]>-1&&(c[1]=c[1]-1,c[1]==0&&o.delete(D))}}_executeListeners(D,o,t){let c=[];return this._forEachEventListeners(D,({event:u,listenerId:a,eventListeners:r})=>{c.push(this._executeListener(a,r,o)),typeof t=="function"&&t(a),r.size==0&&this._listeners.delete(u)}),c}emit(D,o,t){return t&&(this._lastMessage[D]=o),this._executeListeners(D,o)}emitAsync(D,o,t){return ot(this,null,function*(){return yield Promise.allSettled(this.emit(D,o,t))})}},yt(Qn,"l"),Qn);Ti.listenerSeqId=0;var Ni=Ti;(D=>typeof tn<"u"?tn:typeof Proxy<"u"?new Proxy(D,{get:yt((o,t)=>(typeof tn<"u"?tn:o)[t],"get")}):D)(function(D){if(typeof tn<"u")return tn.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')});function Vi(){return Date.now().toString()+parseInt(String(Math.random()*1e3))}yt(Vi,"getId");function $n(D,o=!1){if(typeof D=="number")return!0;if(typeof D!="string"||o)return!1;try{if(D.includes(".")){let t=parseFloat(D);return D.endsWith(".")?!isNaN(t)&&String(t).length===D.length-1:!isNaN(t)&&String(t).length===D.length}else{let t=parseInt(D);return!isNaN(t)&&String(t).length===D.length}}catch(t){return!1}}yt($n,"r");function tr(D){return $n(D)}yt(tr,"isMessageId");function Bi(D){return D&&typeof D=="object"&&D.__VoerkaI18nScope__}yt(Bi,"isI18nScope");function Ri(D){return ot(this,null,function*(){let o=yield D.call(this);return o&&"__esModule"in o||Symbol.toStringTag in o?o.default:o})}yt(Ri,"loadAsyncModule");function Ii(D){return D&&typeof D.get=="function"&&typeof D.set=="function"&&typeof D.remove=="function"}yt(Ii,"isStorage");function Li(D){return ot(this,null,function*(){return(yield Promise.allSettled(D)).map(o=>o.status==="fulfilled"?o.value:o.reason)})}yt(Li,"execAsyncs");function ii(){try{return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}catch(D){return!1}}yt(ii,"isBrowser");var oi=class ni extends Ni{constructor(o){if(super(),Pe(this,"__VoerkaI18nManager__",!0),Pe(this,"_scopes",[]),Pe(this,"_appScope"),ni.instance)return ni.instance;if(!o)throw new Error("create VoerkaI18nManager failed, appScope is required");this._registerAppScope(o),this._registerScopes(),this._loadPlugins(),ni.instance=this,globalThis.VoerkaI18n=this}get debug(){return this.scope.debug}get logger(){return this.scope.logger}get scopes(){return this._scopes}get activeLanguage(){return this._appScope.activeLanguage}get defaultLanguage(){return this._appScope.defaultLanguage}get loader(){return this._appScope.loader}get storage(){return this.scope.storage}get languages(){return this.scope.languages}get scope(){return this._appScope}_registerScopes(){let o=globalThis.__VoerkaI18nScopes__;o&&Array.isArray(o)&&o.forEach(t=>this.register(t)),delete globalThis.__VoerkaI18nScopes__}getScope(o){return this._scopes.find(t=>t.id===o)}_loadPlugins(){let o=globalThis.__VoerkaI18nPlugins__;o&&Array.isArray(o)&&o.forEach(t=>t(this)),delete globalThis.__VoerkaI18nPlugins__}registerPlugin(o){typeof o=="function"&&o(this)}_registerAppScope(o){this._scopes.push(o),this._appScope=o,this.logger.debug("VoerkaI18nScope<"+o.id+"> is registered as appScope"),this.emitAsync("init",()=>this._appScope.activeLanguage,!0)}register(o){if(!Bi(o))throw new Error("register scope failed, invalid scope");this._scopes.push(o),o.bind(this),this.logger.debug(`VoerkaI18nScope<${o.id}> is registered`)}change(o){return ot(this,null,function*(){yield this._refreshScopes(o);let t=this._appScope.activeLanguage;return this.scope.saveLanguage(),this.emit("change",t,!0),this.logger.info("language changed to: "+t),t})}_refreshScopes(o){return ot(this,null,function*(){let t=this._scopes.map(c=>c.refresh(o));yield Li(t)})}refresh(){return ot(this,null,function*(){return yield this._refreshScopes(this.activeLanguage)})}ready(o,t){return this.waitFor("ready",t).then(c=>{o&&o.call(this,c)})}clearPatchedMessages(){this._scopes.forEach(o=>o.clearPatchedMessages())}hasLanguage(o){return this.languages.findIndex(t=>t.name==o)!=-1}clearLanguage(){this.scope.clearLanguage()}saveLanguage(){this.scope.saveLanguage()}restoreLanguage(){this.scope.restoreLanguage()}};yt(oi,"VoerkaI18nManager"),Pe(oi,"instance");var ji=oi,fs={get(D){if(globalThis.localStorage)return globalThis.localStorage.getItem(D)},set(D,o){globalThis.localStorage&&globalThis.localStorage.setItem(D,o)},remove(D){globalThis.localStorage&&globalThis.localStorage.removeItem(D)}},ps=[{name:"zh",title:"中文",default:!0,active:!0},{name:"en",title:"英文"}],zi=yt((D,o,t=[])=>{let c=Object.getOwnPropertyDescriptors(o);for(let u of t)delete c[u];Object.defineProperties(D,c)},"copyProps"),_n=yt((D,o=[D])=>{let t=Object.getPrototypeOf(D);return t===null?o:_n(t,[...o,t])},"protoChain"),gs=yt((...D)=>{if(D.length===0)return;let o,t=D.map(c=>_n(c));for(;t.every(c=>c.length>0);){let c=t.map(a=>a.pop()),u=c[0];if(c.every(a=>a===u))o=u;else break}return o},"nearestCommonProto"),Oi=yt((D,o,t=[])=>{var c;let u=(c=gs(...D))!==null&&c!==void 0?c:Object.prototype,a=Object.create(u),r=_n(u);for(let i of D){let s=_n(i);for(let e=s.length-1;e>=0;e--){let n=s[e];r.indexOf(n)===-1&&(zi(a,n,["constructor",...t]),r.push(n))}}return a.constructor=o,a},"hardMixProtos"),si=yt(D=>D.filter((o,t)=>D.indexOf(o)==t),"unique"),er=yt((D,o)=>{let t=o.map(a=>_n(a)),c=0,u=!0;for(;u;){u=!1;for(let a=o.length-1;a>=0;a--){let r=t[a][c];if(r!=null&&(u=!0,Object.getOwnPropertyDescriptor(r,D)!=null))return t[a][0]}c++}},"getIngredientWithProp"),ms=yt((D,o=Object.prototype)=>new Proxy({},{getPrototypeOf(){return o},setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor(t,c){return Object.getOwnPropertyDescriptor(er(c,D)||{},c)},defineProperty(){throw new Error("Cannot define new properties on Proxies created by ts-mixer")},has(t,c){return er(c,D)!==void 0||o[c]!==void 0},get(t,c){return(er(c,D)||o)[c]},set(t,c,u){let a=er(c,D);if(a===void 0)throw new Error("Cannot set new properties on Proxies created by ts-mixer");return a[c]=u,!0},deleteProperty(){throw new Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys(){return D.map(Object.getOwnPropertyNames).reduce((t,c)=>c.concat(t.filter(u=>c.indexOf(u)<0)))}}),"proxyMix");yt((D,o)=>ms([...D,{constructor:o}]),"softMixProtos");var Fi=new WeakMap,bs=yt(D=>Fi.get(D),"getMixinsForClass"),ys=yt((D,o)=>Fi.set(D,o),"registerMixins"),Ui=yt((D,o)=>{var t,c;let u=si([...Object.getOwnPropertyNames(D),...Object.getOwnPropertyNames(o)]),a={};for(let r of u)a[r]=si([...(t=D==null?void 0:D[r])!==null&&t!==void 0?t:[],...(c=o==null?void 0:o[r])!==null&&c!==void 0?c:[]]);return a},"mergeObjectsOfDecorators"),Hi=yt((D,o)=>{var t,c,u,a;return{property:Ui((t=D==null?void 0:D.property)!==null&&t!==void 0?t:{},(c=o==null?void 0:o.property)!==null&&c!==void 0?c:{}),method:Ui((u=D==null?void 0:D.method)!==null&&u!==void 0?u:{},(a=o==null?void 0:o.method)!==null&&a!==void 0?a:{})}},"mergePropertyAndMethodDecorators"),Wi=yt((D,o)=>{var t,c,u,a,r,i;return{class:si([...(t=D==null?void 0:D.class)!==null&&t!==void 0?t:[],...(c=o==null?void 0:o.class)!==null&&c!==void 0?c:[]]),static:Hi((u=D==null?void 0:D.static)!==null&&u!==void 0?u:{},(a=o==null?void 0:o.static)!==null&&a!==void 0?a:{}),instance:Hi((r=D==null?void 0:D.instance)!==null&&r!==void 0?r:{},(i=o==null?void 0:o.instance)!==null&&i!==void 0?i:{})}},"mergeDecorators"),ai=new Map,ws=yt((...D)=>{var o;let t=new Set,c=new Set([...D]);for(;c.size>0;)for(let u of c){let a=_n(u.prototype).map(s=>s.constructor),r=(o=bs(u))!==null&&o!==void 0?o:[],i=[...a,...r].filter(s=>!t.has(s));for(let s of i)c.add(s);t.add(u),c.delete(u)}return[...t]},"findAllConstituentClasses"),xs=yt((...D)=>{let o=ws(...D).map(t=>ai.get(t)).filter(t=>!!t);return o.length==0?{}:o.length==1?o[0]:o.reduce((t,c)=>Wi(t,c))},"deepDecoratorSearch");yt((...D)=>{let o=D.map(t=>vs(t));return o.length===0?{}:o.length===1?o[0]:o.reduce((t,c)=>Wi(t,c))},"directDecoratorSearch");var vs=yt(D=>{let o=ai.get(D);return o||(o={},ai.set(D,o)),o},"getDecoratorsForClass");function Gi(...D){var o,t,c;let u=D.map(i=>i.prototype);function a(...i){for(let s of D)zi(this,new s(...i))}yt(a,"MixedClass"),a.prototype=Oi(u,a),Object.setPrototypeOf(a,Oi(D,null,["prototype"]));let r=a;{let i=xs(...D);for(let s of(o=i==null?void 0:i.class)!==null&&o!==void 0?o:[]){let e=s(r);e&&(r=e)}qi((t=i==null?void 0:i.static)!==null&&t!==void 0?t:{},r),qi((c=i==null?void 0:i.instance)!==null&&c!==void 0?c:{},r.prototype)}return ys(r,D),r}yt(Gi,"Mixin");var qi=yt((D,o)=>{let t=D.property,c=D.method;if(t)for(let u in t)for(let a of t[u])a(o,u);if(c)for(let u in c)for(let a of c[u])a(o,u,Object.getOwnPropertyDescriptor(o,u))},"applyPropAndMethodDecorators"),Xi=class{constructor(){Pe(this,"_eventEmitter")}_getEventEmitter(){return this.attached?this.manager:(this._eventEmitter||(this._eventEmitter=new Ni),this._eventEmitter)}on(o,t){return this._getEventEmitter().on(o,t)}once(o,t){return this._getEventEmitter().once(o,t)}off(o,t){return this._getEventEmitter().off(o,t)}waitFor(o,t){return this._getEventEmitter().waitFor(o,t)}emit(o,t,c){return ot(this,null,function*(){return yield this._getEventEmitter().emitAsync(o,t,c)})}};yt(Xi,"EventEmitterMixin");var _s=Xi;function nn(D){return D&&typeof D=="function"}yt(nn,"t");function mn(D){if(typeof D!="object"||D===null)return!1;var o=Object.getPrototypeOf(D);if(o===null)return!0;for(var t=o;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return o===t}yt(mn,"o");var li,Ms=(li=class extends Error{},yt(li,"m"),li),Ps=0;function Ki(D,o={timeout:0}){let t=!1,c=!1,u=!1,a,r,i=0,s,e=++Ps,n=yt(function(){clearTimeout(i),t=!1,c=!1,u=!1,s=new Promise((l,h)=>{a=l,r=h})},"g");n();function d(l=0,h){return ot(this,null,function*(){if(typeof D=="function"&&D()){t=!0;return}return(t||c)&&n(),l>0&&(i=setTimeout(()=>{t=!0;try{h instanceof Error?r(h):a(h)}catch(p){}},l)),u=!0,s})}return yt(d,"o"),d.id=e,d.resolve=l=>{if(clearTimeout(i),!!u&&!(t||c)){if(typeof D=="function"&&D())if(D())a(l);else return;else a(l);t=!0}},d.reject=l=>{clearTimeout(i),u&&(t||c||(r(typeof l=="string"?new Error(l):l instanceof Error?l:new Error),c=!0))},d.destroy=()=>{clearTimeout(i),u&&r(new Ms),t=!1,u=!1,c=!1,s=null},d.reset=n,d.isResolved=()=>t,d.isRejected=()=>c,d.isPending=()=>u,d}yt(Ki,"p");var Yi=class{constructor(){Pe(this,"_patching")}_getPatchKey(o){return`voerkai18n_${this.id}_${o}_patched_messages`}clearPatchedMessages(o){if(this.storage){let t=o?[o]:this.languages.map(c=>c.name);for(let c of t)this.storage.remove(this._getPatchKey(c))}}_patch(o){return ot(this,null,function*(){var t;this._patching=Ki(),o||(o=this.activeLanguage),this._restorePatchedMessages(this.activeMessages,o);try{if(nn(this.loader)){let c=yield this._loadMessagesFromLoader(o);mn(c)&&(Object.assign(this._activeMessages,c),this._setPatchedMessages(c,o),this.emit("patched",{language:o,scope:this.id}))}}catch(c){this.logger.warn(`从远程加载语言补丁包<${o}>时出错: ${c.stack}(scope=${this.id})`)}finally{(t=this._patching)==null||t.resolve(),this._patching=void 0}})}_restorePatchedMessages(o,t){let c=this._getPatchedMessages(t);mn(c)&&(Object.assign(o,c),this.emit("restore",{language:t,scope:this.id}),this.logger.debug(`成功恢复补丁语言包<${t}>(scope=${this.id})`))}_setPatchedMessages(o,t){if(!(!this.attached&&!this.storage))try{this.storage&&this.storage.set(this._getPatchKey(t),JSON.stringify(o))}catch(c){this.logger.error(`保存语言包补丁(${t})时出错: ${c.stack}(scope=${this.id})`)}}_getPatchedMessages(o){try{return this.storage&&this.options.cachePatch?this.storage.get(this._getPatchKey(o)):{}}catch(t){return this.logger.error(`读取语言包补丁(${o})时出错:${t.stack}(scope=${this.id})`),{}}}};yt(Yi,"PatchMessageMixin");var Cs=Yi,Es=yt((D,o,t)=>new Promise((c,u)=>{var a=yt(s=>{try{i(t.next(s))}catch(e){u(e)}},"f"),r=yt(s=>{try{i(t.throw(s))}catch(e){u(e)}},"d"),i=yt(s=>s.done?c(s.value):Promise.resolve(s.value).then(a,r),"u");i((t=t.apply(D,o)).next())}),"j"),ci,Ds=(ci=class extends Error{},yt(ci,"b"),ci),As=0;function Zi(D,o={timeout:0}){let t=!1,c=!1,u=!1,a,r,i=0,s,e=++As,n=yt(function(){clearTimeout(i),t=!1,c=!1,u=!1,s=new Promise((l,h)=>{a=l,r=h})},"m");n();function d(){return Es(this,arguments,function*(l=o.timeout,h){if(typeof D=="function"&&D()){t=!0;return}return(t||c)&&n(),l>0&&(i=setTimeout(()=>{t=!0;try{h instanceof Error?r(h):a(h)}catch(p){}},l)),u=!0,s})}return yt(d,"c"),d.id=e,d.resolve=l=>{if(clearTimeout(i),!!u&&!(t||c)){if(typeof D=="function"&&D())if(D())a(l);else return;else a(l);t=!0}},d.reject=l=>{clearTimeout(i),u&&(t||c||(r(typeof l=="string"?new Error(l):l instanceof Error?l:new Error),c=!0))},d.destroy=()=>{clearTimeout(i),u&&r(new Ds),t=!1,u=!1,c=!1,s=null},d.reset=n,d.isResolved=()=>t,d.isRejected=()=>c,d.isPending=()=>u,d}yt(Zi,"R");var Ji=class extends Error{};yt(Ji,"VoerkaI18nError");var jn=Ji,ks=class extends jn{};yt(ks,"VoerkaI18nInvalidLanguageError");var Ss=class extends jn{};yt(Ss,"VoerkaI18nOnlyOneAppScopeError");var Ts=class extends jn{};yt(Ts,"VoerkaI18nChangeLanguageError");var Qi=class extends jn{};yt(Qi,"VoerkaI18nLoadLanguageError");var $i=Qi,to=class{constructor(){Pe(this,"_refreshSignal")}refresh(o,t){return ot(this,null,function*(){this._refreshSignal||(this._refreshSignal=Zi()),o||(o=this.activeLanguage);let c=o,u,{patch:a,fallback:r}=Object.assign({fallback:!1,patch:!0},t);try{u=yield this._loadLanguageMessages(o),this._activeMessages=u,u&&!u.$remote&&a&&(yield this._patch(o))}catch(i){if(i&&i instanceof jn){let s=this.getFallbackLanguage(o);s&&s!==o&&(c=yield this.refresh(s,{patch:a,fallback:!0}))}}finally{r||(this._activeLanguage=c,(typeof this.messages[c]=="function"||!(c in this.messages))&&(this.messages[c]=this._activeMessages),this._activeParagraphs=this.paragraphs[c],this._refreshSignal.resolve(),this._refreshSignal=void 0,yield this.emit("scope/change",c,!0))}return this._setLanguageAttr(),c})}_loadLanguageMessages(o){return ot(this,null,function*(){this.logger.debug(`准备加载语言包:${o}`);let t=this.messages[o],c;if(mn(t))c=t;else if(nn(t))try{c=yield Ri.call(this,t)}catch(u){this.logger.error(`加载异步语言包<${o}>失败:${u.message}`),c=void 0}if(!c&&nn(this.loader))try{let u=yield this._loadMessagesFromLoader(o);mn(u)?c=Object.assign({$remote:!0},this.messages[this.defaultLanguage],u):this.logger.error(`错误的语言包<${o}>数据:${u}`)}catch(u){throw new $i(u.message)}if(!mn(c))throw new $i(o);return c})}_loadMessagesFromLoader(o){return ot(this,null,function*(){if(nn(this.loader))return yield this.loader.call(this,o,this)})}ready(){let o=typeof arguments[0]=="function"?arguments[0]:void 0,t=typeof arguments[0]=="number"?arguments[0]:arguments[1];if(typeof o=="function")this.manager.ready(o,t);else return new Promise(c=>{this.manager.ready(c,t)})}changing(o){return ot(this,null,function*(){var t,c;!this._refreshSignal&&!this._patching||(yield Promise.all([(t=this._refreshSignal)==null?void 0:t.call(this,o),(c=this._patching)==null?void 0:c.call(this,o)]))})}};yt(to,"ChangeLanguageMixin");var Ns=to,Vs={warn:console.warn,error:console.error,info:console.info,debug:console.debug};function eo(D){let o,t=[],c=yt((u,...a)=>{let r=a.join(" ");if(o){if(!o.debug)return;o.emit("log",{level:u,message:r})}else if(o=globalThis.VoerkaI18n,o&&o instanceof ji)if(o.debug){t.push([u,r]);let i=yt((s,e)=>{D?D(s,e):Vs[s](e)},"log");o.on("log",({level:s,message:e})=>i(s,e)),t.forEach(([s,e])=>i(s,e))}else t.splice(0,t.length);else t.push([u,r])},"logOutput");return{warn:yt((...u)=>c("warn",...u),"warn"),error:yt((...u)=>c("error",...u),"error"),info:yt((...u)=>c("info",...u),"info"),debug:yt((...u)=>c("debug",...u),"debug")}}yt(eo,"createLogger");var Bs=class extends Error{constructor(o){super(`Formatters of language<${o}> is not loaded,try to call load()`)}};yt(Bs,"FormattersNotLoadedError");var no=class{constructor(o){Pe(this,"_formatters",[]),Pe(this,"_scope"),this._scope=o,this._formatters=o==null?void 0:o.options.formatters,this._registerFormatters()}get scope(){return this._scope}get formatters(){return this._formatters}_registerFormatters(){this._formatters&&this._formatters.forEach(o=>{Array.isArray(o)?this.register.apply(this,o):this.register.apply(this,[o])})}_addFormatter(o){try{if(this.scope.interpolator.addFilter(o),o){let t=this.scope.manager.scope;t.id!==this.scope.id&&t.interpolator.addFilter(o)}}catch(t){this.scope.logger.error(`fail while register formatter<${o.name}>：${t.stack}`)}}register(o,t,c){let u=this.scope,a=o.next;o.next=function(r,i,s){let e=s.getConfig;return s.getConfig=()=>Object.assign({},c,t==null?void 0:t[u.activeLanguage],e(o.name)),a.call(this,r,i,s)},this._addFormatter(o)}};yt(no,"VoerkaI18nFormatterManager");var Rs=no;function ro(D){return D&&typeof D=="object"&&D.__VoerkaI18nManager__}yt(ro,"isI18nManger");var io=class{getLanguage(o){let t=this.languages.findIndex(c=>c.name==o);if(t!==-1)return this.languages[t]}getFallbackLanguage(o){let t=this.getLanguage(o);return t&&t.fallback||this.options.fallback||this._defaultLanguage}hasLanguage(o){return this.languages.findIndex(t=>t.name==o)!=-1}};yt(io,"LanguageMixin");var Is=io,oo=class{_getPluraMessage(o,t){try{return Array.isArray(o)?o.length>t?o[t]:o[o.length-1]:o}catch(c){return Array.isArray(o)?o[0]:o}}_getPluraValue(o){let t=null,c=[];if(mn(o)){let u=o;for(let[a,r]of Object.entries(u)){if(nn(r))try{u[a]=r()}catch(s){u[a]=r}let i=typeof u[a]=="number";(t==null&&i||a.startsWith("$")&&i)&&(t=u[a])}c=[u]}else Array.isArray(o)?c=o.map(u=>{try{u=nn(u)?u():u,$n(u)&&!t&&(t=parseInt(u))}catch(a){return String(u)}return u}):o!==void 0&&(t=$n(o)?parseInt(o):0,c=[o]);return[t,c]}_getTranslateComponent(){if(!this._translateComponent){let o=this.options.component||this.appScope.options.component;typeof o=="function"?this._translateComponent=o.call(this,this):(this._translateComponent=()=>{},this.logger.warn("No translate component builder configured"))}return this._translateComponent}_getTranslateTransformer(){if(!this._translateTransformer){let o=this.options.transform||this.appScope.options.transform;typeof o=="function"&&(this._translateTransformer=o.call(this,this))}return this._translateTransformer}_getActiveMessages(o){return typeof this.messages[o]=="function"?(this.logger.warn(`When the t function specifies the language <${o}> , only synchronized language packs can be used`),this.activeMessages):this.messages[o]}translate(o,t,c){if(typeof o!="string")return this.logger.debug(`failed to translate message:${o},it is not a string`),"";let u=(c==null?void 0:c.language)||this.activeLanguage,a=this._getActiveMessages(u);o=o.replace(/\n/g,"\\n");let r=o;if(typeof o!="string")return o;let i=t===void 0?[]:nn(t)?t():t;try{if(tr(o))r=a[o]||o;else{let n=this.idMap[o];r=a[n]||a[o]||o}let[s,e]=this._getPluraValue(i);Array.isArray(r)&&r.length>0&&(s!==null?r=this._getPluraMessage(r,s):r=r[0]),i.length,r=this.interpolator.replace(r,...e),this._translateTransformer&&(c!=null&&c.transform)&&(r=this._translateTransformer(r,e,c))}catch(s){this.logger.error(`翻译失败：${s.stack}`)}return r}};yt(oo,"TranslateMixin");var Ls=oo,so=class{_getStorage(){let o=this.storage;return Ii(o)?o:void 0}_getStorageKey(){return this.options.storageKey.replace("{scope}",this.id)}restoreLanguage(){let o=this._getStorage();if(o){let t=this._getStorageKey(),c=o.get(t);if(!c||!this.hasLanguage(c))return;this._activeLanguage=c,this.logger.debug(`从存储<${t}>中恢复保存的语言：${c}`)}}saveLanguage(){let o=this._getStorage();if(o){if(!this._activeLanguage)return;let t=this._getStorageKey();o.set(t,this.activeLanguage),this.logger.debug(`当前语言已保存到存储${t}=${this.activeLanguage}`)}}clearLanguage(){let o=this._getStorage();o&&o.remove(this._getStorageKey())}};yt(so,"RestoreMixin");var js=so,zs=Object.defineProperty,ao=Object.getOwnPropertySymbols,Os=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,lo=yt((D,o,t)=>o in D?zs(D,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):D[o]=t,"R"),co=yt((D,o)=>{for(var t in o||(o={}))Os.call(o,t)&&lo(D,t,o[t]);if(ao)for(var t of ao(o))Fs.call(o,t)&&lo(D,t,o[t]);return D},"b"),Mn=(D=>typeof tn<"u"?tn:typeof Proxy<"u"?new Proxy(D,{get:yt((o,t)=>(typeof tn<"u"?tn:o)[t],"get")}):D)(function(D){if(typeof tn<"u")return tn.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')}),bn={Abort:Symbol("Abort"),Throw:Symbol("Throw"),Ignore:Symbol("Ignore")},hi,Pn=(hi=class extends Error{constructor(D){super(),this.value=D}},yt(hi,"a"),hi),di,yn=(di=class extends Pn{},yt(di,"p"),di),ui,nr=(ui=class extends Pn{},yt(ui,"x"),ui),fi,pi=(fi=class extends Pn{},yt(fi,"g"),fi),Us={name:"error",priority:"before",args:["operate","value"],default:{operate:"ignore"},next(D,o,t){let c=o.operate.toLowerCase(),u=o.value;return t.onError=(a,r,i,s)=>{if(!(a instanceof Error)||a instanceof Pn)throw a;if(c=="throw")throw u?new Error(u):a;if(c=="abort")throw new yn(u);if(c=="ignore")throw new nr(u);return r},D}},Hs={name:"empty",priority:"before",args:["operate","value"],default:{operate:"abort",value:""},next(D,o,t){let c=o.operate.toLowerCase(),u=o.value;return t.onEmpty=()=>{if(c=="throw")throw new pi;if(c=="abort")throw new yn(u);if(c=="ignore")throw new nr;return c},D}};function zn(D,...o){if(o.length===0)return D;let t=o.map((c,u)=>{let a=Object.entries(c||{});return a.some(([r,i])=>i===void 0)?a.reduce((r,[i,s])=>(s!==void 0&&(r[i]=s),r),{}):c});return Object.assign(D,...t)}yt(zn,"F"),(D=>typeof Mn<"u"?Mn:typeof Proxy<"u"?new Proxy(D,{get:yt((o,t)=>(typeof Mn<"u"?Mn:o)[t],"get")}):D)(function(D){if(typeof Mn<"u")return Mn.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')});function gi(D){if(typeof D!="object"||D===null)return!1;var o=Object.getPrototypeOf(D);if(o===null)return!0;for(var t=o;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return o===t}yt(gi,"y");function ho(D){return D&&typeof D=="function"}yt(ho,"v");function mi(D,o,t){if(typeof o=="string"){let c=0,u;for(;(u=D.indexOf(o,c))>-1;){let a=typeof t=="function"?t(o):t,r=D.length;D=D.substring(0,u)+a+D.substring(u+o.length),c=u+a.length+D.length-r}}else{let c;if(!o.global||!o.multiline)throw new Error("The search parameter must be enabled '/gm' option");for(;(c=o.exec(D))!==null;){c.index===o.lastIndex&&o.lastIndex++;let u=D.length,a=c[0].length,r=typeof t=="function"?t(c[0],...c):t;D=D.substring(0,c.index)+r+D.substring(c.index+a),o.lastIndex+=D.length-u}}return D}yt(mi,"w"),String.prototype.replaceAll||(String.prototype.replaceAll=function(D,o){return mi(this,D,o)});function On(D){return D.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}yt(On,"m");function uo(D,o=!1){if(typeof D=="number")return!0;if(typeof D!="string"||o)return!1;try{if(D.includes(".")){let t=parseFloat(D);return D.endsWith(".")?!isNaN(t)&&String(t).length===D.length-1:!isNaN(t)&&String(t).length===D.length}else{let t=parseInt(D);return!isNaN(t)&&String(t).length===D.length}}catch(t){return!1}}yt(uo,"C");var Ws=/\n/gm,Gs=/(["'])(.*?)(\1)/gm,qs=/([\s\[\,\{])(\w+)(\s*\:)/gm;function fo(D,o){try{return JSON.parse(D,(c,u)=>o?o(c,u):u)}catch(c){}let t=D.replace(Ws,(c,u,a)=>{let r=a.slice(0,u).trim(),i=a.slice(u+1).trim();return!/,$/.test(r)&&!/[\[\{\}]$/.test(r)&&!/^\}/.test(i)?`,
`:`
`});return t=t.replaceAll(Gs,(c,u,a)=>`"${encodeURI(a)}"`),t=t.replaceAll(qs,(c,u,a,r)=>`${u}"${a}"${r}`),t=t.replaceAll("，",",").replaceAll("“",'"').replaceAll("”",'"'),JSON.parse(t,(c,u)=>(typeof u=="string"&&(u=decodeURI(u)),u))}yt(fo,"V");function po(D,o="{",t="}"){let c=0,u=0;for(;c<D.length;){let a=D.slice(c,c+o.length),r=D.slice(c,c+t.length);if(a==o){u++,D=D.substring(0,c+o.length)+`${u}%`+D.substring(c+o.length),c+=o.length+String(u).length+1;continue}if(r==t){u>0&&(D=D.substring(0,c)+`%${u}`+D.substring(c)),c+=t.length+String(u).length+1,u--;continue}c++}return D}yt(po,"J");function go(D,...o){return o.length==0&&(o.push(["{","}"]),o.push(["[","]"])),o.forEach(t=>{D.includes(t[0])&&D.includes(t[1])&&(D=po(D,...t))}),D}yt(go,"H");function mo(D,o,t){return[[o,new RegExp(On(o)+"\\d+%")],[t,new RegExp("%\\d+"+On(t))]].forEach(([c,u])=>{let a;for(;(a=u.exec(D))!==null;)a.index===u.lastIndex&&u.lastIndex++,D=D.replace(u,c)}),D}yt(mo,"G");function rr(D,...o){return o.length==0&&(o.push(["{","}"]),o.push(["[","]"])),o.forEach(([t,c])=>{D.includes(t)&&D.includes(c)&&(D=mo(D,t,c))}),D}yt(rr,"E");function bo(D){return D?D.trim().substring(1).trim().split("|").map(o=>o.trim()).map(o=>{if(o=="")return null;let t=o.indexOf("("),c=o.lastIndexOf(")");if(t!==-1&&c!==-1){let u=o.substring(t+1,c).trim(),a=wo(u);return[o.substring(0,t),a]}else return[o,[]]}).filter(o=>Array.isArray(o)):[]}yt(bo,"M");function yo(...D){D.length==0&&(D.push(["{","}"]),D.push(["[","]"]));let o=D.map(([t,c])=>`(${On(t)}1%.*?%1${On(c)})`);return Xs.replace("__TAG_REGEXP__",o.length>0?o.join("|")+"|":"")}yt(yo,"z");var Xs=String.raw`((([\'\"])(.*?)\3))|__TAG_REGEXP__([\d]+\.?[\d]?)|((true|false|null)(?=[,\b\s]))|([\w\.]+)|((?<=,)\s*(?=,))(?<=\s*[,\)]?\s*)`;function wo(D){let o=[],t;D=go(D);try{let c=new RegExp(yo(),"g");for(;(t=c.exec(D))!==null;){t.index===c.lastIndex&&c.lastIndex++;let u=t[0];if(u.trim()=="")u=void 0;else if(u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"'))u=u.substring(1,u.length-1),u=rr(u);else if(u.startsWith("{")&&u.endsWith("}")||u.startsWith("[")&&u.endsWith("]"))try{u=rr(u),u=fo(u)}catch(a){}else["true","false","null"].includes(u)?u=JSON.parse(u):uo(u)?u=parseFloat(u):u=rr(String(u));o.push(u)}}catch(c){}return o}yt(wo,"U");var Ks=new RegExp("(?<!\\\\)\\{([\\S]+\\s)?\\s*(\\w+)?((\\s*\\|\\s*\\w*(\\(.*?\\)){0,1}\\s*)*)\\s*(\\s[\\S]+)?\\}","gm");function bi(D,o,t={}){let c=D,u,a=Object.assign({replaceAll:!0},t),r=Ks;for(r.lastIndex=0;(u=r.exec(c))!==null;){u.index===r.lastIndex&&r.lastIndex++;let i=u[2]||"",s=(u[1]||"").trim(),e=(u[6]||"").trim(),n=c.length,d=bo(u[3]||"");if(ho(o)){let l=o(i,s,e,d,u[0]);a.replaceAll?c=mi(c,u[0],l):c=c.replace(u[0],l),r.lastIndex+=c.length-n}}return c}yt(bi,"O");function yi(D,o){let t=o.value;if(D.length>0){let c=Po.call(this,D,o);for(let u of c)try{t=u.call(this,t)}catch(a){if(a instanceof pi)throw a;if(a instanceof Pn){if(a.value!=null&&(t=a.value),a instanceof yn)break}else throw a}}return this.options.isEmpty(t)||(t=`${o.prefix}${t}${o.suffix}`),t}yt(yi,"I");function xo(D,o,t,c){if(!this.options.isEmpty(D))return D;let u=c.onEmpty||t.onEmpty||this.options.onEmpty;if(typeof u!="function")return D;let a=u.call(this,D,o,c);throw a instanceof Error?a:a==bn.Abort?new yn:a==bn.Ignore?new nr:a==bn.Throw?new pi:new yn(a)}yt(xo,"K");function vo(D,o,t,c,u){let a=u.onError||c.onError||this.options.onError;if(typeof a!="function")return o;let r=a.call(this,D,o,t,u);throw r instanceof Error?r:r==bn.Abort?new yn:r==bn.Ignore?new nr:r==bn.Throw?D:new yn(r)}yt(vo,"Q");function _o(D,o,t){var c;let u=Object.assign({},typeof D.default=="function"?D.default():D.default);return o.length==1&&gi(o[0])?zn(u,o[0]):D.args&&((c=D.args)==null?void 0:c.length)>0&&D.args.forEach((a,r)=>{o[r]!==void 0&&(u[a]=o[r])}),a=>{let r;try{t.args=o,r=D.next.call(this,a,u,t),r=xo.call(this,r,u,D,t)}catch(i){if(i.filter=D.name,i instanceof Pn)throw i;return this.log(`当执行过滤器器<${t.match}:${D.name}>时出错:${i.stack}`),vo.call(this,i,a,u,D,t)}return String(r)}}yt(_o,"Y");function Mo(D){let o=[],t=D.map(([c,u])=>[this.getFilter.call(this,c),u]).filter(([c])=>c!=null);return t=t.reduce((c,[u,a])=>(u&&(u.priority=="before"?c.unshift([u,a]):u.priority=="after"?o.push([u,a]):c.push([u,a])),c),[]),t.concat(o)}yt(Mo,"Z");function Po(D,o){let t=Mo.call(this,D),c=[];for(let[u,a]of t)c.push(_o.call(this,u,a,o));return c}yt(Po,"ee");var wi,Ys=(wi=class{constructor(D){this.options=zn({log:console.log,filters:{},missing:"default",filterContext:{}},D),this.addDefaultHandlers(),this.addBuildinFilters(),this.normalizeFilters()}get filters(){return this.options.filters}addDefaultHandlers(){this.options.onError=()=>bn.Ignore,this.options.onEmpty=()=>"",this.options.isEmpty=D=>D===null||D===""}addFilter(D){if(!D.name)throw new Error("Filter name cannot be empty");if(typeof D.next!="function")throw new Error("The filter must provide a next function");return D=zn({priority:"normal"},D),this.filters[D.name]=D}removeFilter(D){delete this.filters[D]}getFilter(D){var o;if(D in this.options.filters)return this.options.filters[D];{let t=(o=this.options.getFilter)==null?void 0:o.call(this,D);return typeof t=="function"?{name:D,next:t}:D in String.prototype?{name:D,next:yt((c,u,a)=>c[D](...a.args),"next")}:t}}addBuildinFilters(){this.addFilter(Us),this.addFilter(Hs)}normalizeFilters(){Object.entries(this.options.filters).forEach(([D,o])=>{let t=zn({name:D,priority:"normal",args:null,next:yt(c=>c,"next")},typeof o=="function"?{filter:o}:o);this.options.filters[D]=t})}getMissingValue(D,o){let t=this.options.missing;if(t=="default")return"";if(t=="ignore")return o;if(typeof t=="function")return t.call(this,D)}replace(D,...o){if(o.length===0)return D;if(o.length===1&&typeof o[0]=="function"&&(o[0]=o[0].call(this)),o.length===1&&gi(o[0])){let t=o[0];return bi.call(this,D,(c,u,a,r,i)=>{let s=c in t?t[c]:this.getMissingValue(c,i);return typeof s=="function"&&(s=s.call(this)),yi.call(this,r,co({name:c,value:s,prefix:u,suffix:a,template:D,match:i,args:[]},this.options.filterContext))})}else{let t=o.length===1&&Array.isArray(o[0])?[...o[0]]:o,c=0;return bi.call(this,D,(u,a,r,i,s)=>{let e=t.length>c?t[c++]:this.getMissingValue(c,s);return typeof e=="function"&&(e=e.call(this)),yi.call(this,i,co({name:u,value:e,prefix:a,suffix:r,template:D,match:s,args:[]},this.options.filterContext))},{replaceAll:!1})}}log(D,...o){this.options.debug&&this.options.log(D,...o)}},yt(wi,"$"),wi);function Co(D,o,t){let{defaultValue:c,delimiter:u,matched:a}=Object.assign({delimiter:"."},t);if(!D||typeof o!="string")return c;if(!o)return D;let r=o.split(u),i=D,s,e;try{for(let n of r)if(i instanceof Map||i instanceof WeakMap){if(!i.has(n))return c;s=i,e=n,i=i.get(n)}else if(i instanceof Set){let d=parseInt(n,10);if(d>=i.size)return c;s=i,e=d,i=[...i][d]}else if(i&&typeof i=="object"&&n in i)s=i,e=Array.isArray(i)?parseInt(n):n,i=i[n];else return c}catch(n){return c}return typeof a=="function"&&a({value:i,parent:s,indexOrKey:e}),i}yt(Co,"u");var Eo=class{constructor(){Pe(this,"_flexVars")}_initInterpolators(){this._flexVars=new Ys({filterContext:{getConfig:yt(o=>{let t=this.activeMessages.$config||{};return o?Co(t,o):t},"getConfig"),scope:this}})}};yt(Eo,"InterpolatorMixin");var Zs=Eo;function Do(D,...o){if(o.length===0)return D;let t=o.map((c,u)=>{let a=Object.entries(c||{});return a.some(([r,i])=>i===void 0)?a.reduce((r,[i,s])=>(s!==void 0&&(r[i]=s),r),{}):c});return Object.assign(D,...t)}yt(Do,"u");var xi=class us extends Gi(_s,Cs,Ns,Is,Ls,Zs,js){constructor(o){super(),Pe(this,"__VoerkaI18nScope__",!0),Pe(this,"_options"),Pe(this,"_manager"),Pe(this,"_formatterManager",null),Pe(this,"_logger"),Pe(this,"_defaultLanguage","zh-CN"),Pe(this,"_activeLanguage","zh-CN"),Pe(this,"_activeMessages",{}),Pe(this,"_patchedMessages",{}),Pe(this,"_translateComponent"),Pe(this,"_translateTransformer"),Pe(this,"_activeParagraphs",{}),Pe(this,"$id",++us.idSeq),this._options=Do({id:Vi(),library:!1,debug:!1,injectLangAttr:!0,languages:[],messages:{},paragraphs:{},idMap:{},formatters:[],attached:!0,storageKey:"language",cachePatch:!0},o),this._init()}get id(){return this._options.id}get options(){return this._options}get attached(){return this._options.attached}get debug(){return this._options.debug}get library(){return this._options.library}get formatters(){return this._formatterManager}get defaultLanguage(){return this._defaultLanguage}get defaultMessages(){return this.messages[this.defaultLanguage]}get messages(){return this._options.messages}get paragraphs(){return this._options.paragraphs}get idMap(){return this._options.idMap}get languages(){return this._options.languages}get manager(){return this._manager}get appScope(){return this._manager.scope}get interpolator(){return this._flexVars}get logger(){return this._logger}get t(){return this.translate.bind(this)}get Translate(){return this._getTranslateComponent()}get activeMessages(){return this._activeMessages}get activeParagraphs(){return this._activeParagraphs}get activeLanguage(){return this._activeLanguage}get storage(){return this.getScopeOption("storage")}get loader(){return this.getScopeOption("loader")}get $t(){return(o,t,c)=>(this._getTranslateTransformer(),c||(c={}),c.transform=!0,this.translate(o,t,c))}getScopeOption(o){let t=this._options;return this.attached?t[o]||(this.library?this._manager[o]:void 0):t[o]}_initOptions(){if(!Array.isArray(this.languages))this.logger.warn("[VoerkaI18n] invalid language settings, will use default language settings."),this._options.languages=Object.assign([],ps);else if(this.languages.length==0)throw new Error("[VoerkaI18n] must provide valid language settings.");let o,t;this.languages.forEach(u=>{u.default&&(t=u.name),u.active&&(o=u.name)});let c=this._options.messages;if(t in c||(t=Object.keys(c)[0]),o in c||(o=t),!(t in c))throw new Error("[VoerkaI18n] invalid language configuration, must provide valid default and active languages.");if(this._activeLanguage=o,this._defaultLanguage=t,!this._options.library&&!this._options.storage&&(this._options.storage=fs),nn(this.messages[this._defaultLanguage]))throw new Error("[VoerkaI18n] default language pack must be static content, can't use async load way.");this._activeMessages=this.messages[this._activeLanguage],this._activeParagraphs=this.paragraphs[this._activeLanguage]}_init(){this._logger=eo(this._options.log),this._initOptions(),this.library||this.restoreLanguage(),this._initInterpolators(),this.registerToManager(),this._formatterManager=new Rs(this)}bind(o){this._manager=o,this._manager.once("init",this._initRefresh.bind(this))}_initRefresh(o){if(this.library)this.refresh(o&&o());else{let t=[];(this._defaultLanguage!==this._activeLanguage||nn(this.activeMessages))&&t.push(this.refresh(void 0,{patch:!1})),t.push(this._patch()),Promise.all(t).then(()=>{this.emit("ready",this.activeLanguage,!0),this._setLanguageAttr()})}}registerToManager(){if(!this.attached)return;let o=!this.options.library;o&&(globalThis.VoerkaI18n&&globalThis.VoerkaI18n.scope&&ii()&&console.warn("Only can have one i18nScope with library=false"),this._manager=new ji(this));let t=globalThis.VoerkaI18n;t&&ro(t)?o?this._initRefresh():t.register(this):(globalThis.__VoerkaI18nScopes__||(globalThis.__VoerkaI18nScopes__=[]),globalThis.__VoerkaI18nScopes__.push(this))}change(o){return ot(this,null,function*(){let t=this.activeLanguage;return this.attached?t=yield this._manager.change(o):t=yield this.refresh(o),t})}_setLanguageAttr(){if(!(this.library||!ii()))try{let o=this._options.injectLangAttr;if(!o)return;let t=o===!0?document.body:document.body.querySelector(o);t&&t.setAttribute("lang",this.activeLanguage)}catch(o){}}getRawMessage(o){if(tr(o)){if(o in this.defaultMessages)return this.defaultMessages[o]}else return o}getMessageId(o){if(tr(o))return o;if(o in this.idMap)return this.idMap[o]}};yt(xi,"VoerkaI18nScope"),Pe(xi,"idSeq",0);var Js=xi;function Qs(D,o,t){return c=>{let u=D.next;return D.next=function(a,r,i){let s=i.getConfig;return i.getConfig=()=>Object.assign({},t,o==null?void 0:o[c.activeLanguage],s(D.name)),u.call(this,a,r,i)},D}}yt(Qs,"createFormatter");function $s(D){let o=globalThis.VoerkaI18n;o?o.registerPlugin(D):(globalThis.__VoerkaI18nPlugins__||(globalThis.__VoerkaI18nPlugins__=[]),globalThis.__VoerkaI18nPlugins__.push(D))}yt($s,"definePlugin");const ta={get(D){if(globalThis.localStorage)return globalThis.localStorage.getItem(D)},set(D,o){globalThis.localStorage&&globalThis.localStorage.setItem(D,o)},remove(D){globalThis.localStorage&&globalThis.localStorage.removeItem(D)}};var ea=Object.defineProperty,ze=(D,o)=>ea(D,"name",{value:o,configurable:!0}),Cn=(D=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(D,{get:(o,t)=>(typeof require!="undefined"?require:o)[t]}):D)(function(D){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')});function Ao(D,o=!1){if(typeof D=="number")return!0;if(typeof D!="string"||o)return!1;try{if(D.includes(".")){let t=parseFloat(D);return D.endsWith(".")?!isNaN(t)&&String(t).length===D.length-1:!isNaN(t)&&String(t).length===D.length}else{let t=parseInt(D);return!isNaN(t)&&String(t).length===D.length}}catch(t){return!1}}ze(Ao,"r"),(D=>typeof Cn<"u"?Cn:typeof Proxy<"u"?new Proxy(D,{get:ze((o,t)=>(typeof Cn<"u"?Cn:o)[t],"get")}):D)(function(D){if(typeof Cn<"u")return Cn.apply(this,arguments);throw Error('Dynamic require of "'+D+'" is not supported')});function ko(D,o=3){let t=new RegExp(String.raw`(?!^)(?=(\d{${o}})+$)`,"g"),c=D.replace(t,",");return c.startsWith(",")&&(c=c.substring(1)),c.endsWith(",")&&(c=c.substring(0,c.length-2)),c}ze(ko,"addSplitChars");function vi(D,o){let{symbol:t="",division:c=3,prefix:u="",precision:a=-1,suffix:r="",unit:i=0,radix:s=3,units:e=[],format:n="{symbol}{value}{unit}"}=o,[d,l]=String(D).split(".");i>0&&s>0&&(d.length<s*i&&(d=Array.from({length:s*i-d.length+1}).fill(0).join("")+d),l=d.substring(Number(d),d.length-s*i)+l,d=d.substring(0,d.length-s*i),d==""&&(d="0"));let h=[];h.push(ko(d,c)),l&&Ao(a)&&a!=0&&(a==0||(a==-1?h.push(`.${l}`):a>0&&(a<0?l=String(parseFloat(`0.${l}`)):l=String(parseFloat(`0.${l}`).toFixed(a)).split(".")[1],h.push(`.${l}`))));const p=e[i]||"";return n.replace("{value}",h.join("")).replace("{symbol}",t).replace("{prefix}",u).replace("{suffix}",r).replace("{unit}",p)}ze(vi,"toCurrency");var na=[{name:"currency",args:["format","unit","precision","prefix","suffix","division","symbol","radix"],next(D,o,t){const c=t.getConfig(),u=Object.assign({},c,o);return u.format in u&&(u.format=u[u.format]),u.unit=parseInt(String(u.unit))||0,u.unit>u.units.length-1&&(u.unit=u.units.length-1),u.unit<0&&(u.unit=0),u.unit>0&&u.precision==2&&(u.precision=-1),vi(D,u)}},{"en-US":{units:[""," thousands"," millions"," billions"," trillions"],radix:3,symbol:"$",prefix:"USD",suffix:"",division:3,precision:2},"zh-CN":{units:["","万","亿","万亿","万万亿"],radix:4,symbol:"￥",prefix:"RMB",suffix:"元",division:4,precision:2}},{default:"{symbol}{value}{unit}",long:"{prefix} {symbol}{value}{unit}{suffix}",short:"{symbol}{value}{unit}",custom:"{prefix} {symbol}{value}{unit}{suffix}",format:"default"}],ra=[{name:"number",args:["precision","division"],next(D,o,t){const c=t.getConfig();return vi(D,Object.assign({},c,o))}},{"en-US":{division:3},"zh-CN":{division:4}}];function cn(D){return D instanceof Date?D:new Date(D)}ze(cn,"toDate");var ia=[{name:"timeSlots",args:["upper"],default:{upper:!0},next(D,o,t){const c=t.getConfig(),u=cn(D).getHours(),a=!!o.upper;let r=c.slots.findIndex(i=>u<i);return r===-1&&(r=c.upperCases.length-1),a?c.upperCases[r]:c.lowerCases[r]}},{"en-US":{slots:[12],lowerCases:["am","pm"],upperCases:["AM","PM"]},"zh-CN":{slots:[5,8,11,13,18],lowerCases:["凌晨","早上","上午","中午","下午","晚上"],upperCases:["凌晨","早上","上午","中午","下午","晚上"]}}];function _i(D,...o){if(o.length===0)return D;let t=o.map((c,u)=>{let a=Object.entries(c||{});return a.some(([r,i])=>i===void 0)?a.reduce((r,[i,s])=>(s!==void 0&&(r[i]=s),r),{}):c});return Object.assign(D,...t)}ze(_i,"u");var ir={en:{month:{long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},weekday:{long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tues","Wed","Thur","Fri","Sat"]}},cn:{month:{long:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},weekday:{long:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],short:["周日","周一","周二","周三","周四","周五","周六"]}}},So={en:{slots:[12],names:["AM","PM"]},cn:{slots:[6,9,11,13,18],names:["凌晨","早上","上午","中午","下午","晚上"]}},oa="YYYY-MM-DD HH:mm:ss";function Mi(D){D<0&&D>23&&(D=0);let o=[0,...So[this.language].slots,24].findIndex(t=>t>D)-1;return So[this.language].names[o]}ze(Mi,"h");function Pi(D,o,t){let c=_i({language:"cn"},t),u=D instanceof Date?D:new Date(D||Date.now()),a=u.getHours(),r=String(a).padStart(2,"0"),i=a>12?a-12:a,s=String(i).padStart(2,"0"),e=String(u.getMinutes()),n=String(u.getSeconds()),d=String(u.getMilliseconds()),l=String(u.getFullYear()),h=u.getMonth(),p=u.getDay(),g=String(u.getDate()),f=[["HH",r],["H",a],["hh",s],["h",i],["mm",e.padStart(2,"0")],["m",e],["ss",n.padStart(2,"0")],["s",n],["SSS",d.padStart(3,"0")],["A",a>12?"PM":"AM"],["a",a>12?"pm":"am"],["t",Mi.call(c,a)],["T",Mi.call(c,a)],["YYYY",l],["yyyy",l],["YY",l.substring(2)],["MMM",ir[c.language].month.short[h]],["MM",String(h+1).padStart(2,"0")],["M",h+1],["DD",g.padStart(2,"0")],["D",g],["d",p],["dd",ir[c.language].weekday.short[p]],["ddd",ir[c.language].weekday.short[p]],["dddd",ir[c.language].weekday.long[p]]],m=o||oa;return f.forEach(([y,v])=>m=m.replaceAll(y,v)),m}ze(Pi,"H");function To(D,o,t){if(typeof o=="string"){let c=0,u;for(;(u=D.indexOf(o,c))>-1;){let a=typeof t=="function"?t(o):t,r=D.length;D=D.substring(0,u)+a+D.substring(u+o.length),c=u+a.length+D.length-r}}else{let c;if(!o.global||!o.multiline)throw new Error("The search parameter must be enabled '/gm' option");for(;(c=o.exec(D))!==null;){c.index===o.lastIndex&&o.lastIndex++;let u=D.length,a=c[0].length,r=typeof t=="function"?t(c[0],...c):t;D=D.substring(0,c.index)+r+D.substring(c.index+a),o.lastIndex+=D.length-u}}return D}ze(To,"s"),String.prototype.replaceAll||(String.prototype.replaceAll=function(D,o){return To(this,D,o)});var No={local:ze(D=>D.toLocaleString(),"local"),iso:ze(D=>D.toISOString(),"iso"),utc:ze(D=>D.toUTCString(),"utc"),gmt:ze(D=>D.toGMTString(),"gmt")},sa=[{global:!0,name:"date",args:["format"],next(D,o,t){const c=t.getConfig(),u=cn(D);let a=o.format||c.format;if(a in No)return No[a](u);if(a in c&&(a=c[a],typeof a=="function"))return a(u);if(typeof a=="string")return Pi(u,a)}},{"en-US":{long:"YYYY/MM/DD HH:mm:ss",short:"YYYY/MM/DD"},"zh-CN":{long:"YYYY年M月D日 HH点mm分ss秒",short:"YYYY年M月D日"}},{format:"local"}],Vo={local:ze(D=>D.toLocaleTimeString(),"local"),timestamp:ze(D=>D.getTime(),"timestamp")},aa=[{name:"time",args:["format"],next(D,o,t){const c=t.getConfig(),u=cn(D);let a=o.format||c.format;if(a in Vo)return Vo[a](u);if(a in c&&(a=c[a],typeof a=="function"))return a(u);if(typeof a=="string")return Pi(u,a)}},{"en-US":{long:"HH:mm:ss"},"zh-CN":{long:"HH点mm分ss秒"}},{format:"local",short:"HH:mm:ss"}],la=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ca=["周日","周一","周二","周三","周四","周五","周六"],ha=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],da=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],ua=[{name:"weekday",args:["format"],next(D,o,t){const c=t.getConfig(),u=cn(D).getDay(),a=o.format||"long";if(typeof a=="string"&&a in c){const r=c[a];return typeof r=="function"?r(u):r[u]}return u}},{"en-US":{long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tues","Wed","Thur","Fri","Sat"]},"zh-CN":{long:la,short:ca}},{format:"long"}],fa=[{name:"month",args:["format"],next(D,o,t){const c=t.getConfig(),u=cn(D).getMonth()+1,a=o.format||c.format;if(typeof a=="string"&&a in c){const r=c[a];return typeof r=="function"?r(u):r[u-1]}return u}},{"en-US":{long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]},"zh-CN":{long:ha,short:da}},{format:"long"}],pa=[{name:"quarter",args:["format"],next(D,o,t){const c=t.getConfig(),u=cn(D).getMonth()+1,a=Math.floor(u%3==0?u/3:u/3+1)-1,r=o.format||c.format;if(typeof r=="string"&&r in c){const i=c[r];return typeof i=="function"?i(a):i[a]}return a}},{"en-US":{long:["First Quarter","Second Quarter","Third Quarter","Fourth Quarter"]},"zh-CN":{long:["一季度","二季度","三季度","四季度"]}},{format:"short",short:["Q1","Q2","Q3","Q4"]}],Fn=[1e3,6e4,36e5,864e5,6048e5,2592e6,31536e6,Number.MAX_SAFE_INTEGER];function Bo(D,o,t){let{units:c,now:u,before:a,after:r}=_i({units:["秒","分钟","小时","天","周","个月","年"],now:"刚刚",before:"{value}{unit}前",after:"{value}{unit}后"},t),i=typeof D=="number"?new Date(D).getTime():D.getTime(),s=(o instanceof Date?o:typeof o=="number"?new Date(o):new Date).getTime(),e=i-s,n=Fn.findIndex(d=>Math.abs(e)<d)-1;if(n<0&&(n=0),n>Fn.length-1&&(n=Fn.length-1),e<1e3&&e>-1e3)return u;if(e<=-1e3){let d=parseInt(String(Math.abs(e)/Fn[n]));return a.replace("{value}",d).replace("{unit}",c[n])}else{let d=parseInt(String(Math.abs(e)/Fn[n]));return r.replace("{value}",d).replace("{unit}",c[n])}}ze(Bo,"b");var ga=[{name:"relativeTime",args:["base"],default:ze(()=>({base:new Date}),"default"),next(D,o,t){const c=t.getConfig(),u=o.base||new Date;return Bo(cn(D),u,c)}},{"en-US":{units:["seconds","minutes","hours","days","weeks","months","years"],now:"Just now",before:"{value} {unit} ago",after:"after {value} {unit}"},"zh-CN":{units:["秒","分钟","小时","天","周","个月","年"],now:"刚刚",before:"{value}{unit}前",after:"{value}{unit}后"}}],ma=[na,ra,ia,sa,aa,ua,fa,pa,ga];const ba=(D,o)=>ot(this,null,function*(){return yield(yield fetch(MxPluginContext.getLoaderLanguageUrl(D,o))).json()}),ya={"zh-CN":{},"en-US":{},"ko-KR":{}},wa={图形识别列表:911,箭头引注:912,引出标注:913,做法标注:914,索引符号:915,索引图名:916,剖切符号:917,标高标注:918,图名标注:919,绘制轴线:920,DWG比对:921,区别:922,个:923,实体名称:924,实体位置:925,已修改:926,已删除:927,已添加:928,上标文字:929,下标文字:930,"对齐方式：":931,"箭头样式：":932,确定:933,在线端:934,齐线中:935,齐线端:936,始端:937,中间:938,末端:939,箭头:940,半箭头:941,点:942,十字:943,无:944,"包含相同对象的组已经存在。仍要创建新的组":945,是:946,否:947,未命名组已创建:948,组:949,已创建:950,选择对象:951,名称:952,说明:953,输入编组名:954,查询:955,请输入要列出的编码组名:956,定义的编组:957,"*无效*":958,编组:959,已经存在:960,输入编组说明:961,"未选择对象，未创建编组":962,选择组:963,"组 ":964," 已分解":965,"编组 ":966," 未定义":967,"对象是多个组的成员<接受>":968,接受:969,下一个:970,已分解:971,对象不是组成员:972,输入选项:973,添加对象:974,删除对象:975,重命名:976,选择要添加到编组的对象:977,"添加对象成功！":978,选择要从编组中删除的对象:979,"对象不是组内元素，无法删除":980,输入组的新名称:981,修改组名成功:982,输入组的名称:983," 不存在":984,请选择目标组:985,对象编组:986,创建组:987,解除编组:988,编辑组:989,编组管理器:990,扩展工具:991,"颜色(C)":992,"图层(L)":993,"线型(Y)":994,"线型比例(I)":995,"线宽(W)":996,"透明度(R)":997,"厚度(T)":998,"打印样式(S)":999,"标注(D)":1e3,"文字(X)":1001,"图案填充(H)":1002,"多段线(P)":1003,"视口(V)":1004,"表格(B)":1005,"材质(M)":1006,"阴影显示(O)":1007,"多重引线(U)":1008,特性匹配:1009,请选择源对象:1010,随层:1011,随块:1012,缺省:1013,"当前激活的设置：":1014,选择目标对象:1015,特性设置:1016,测量:1017,对齐:1018,线性:1019,面积:1020,矩形面积:1021,坐标标注:1022,设置标注比例:1023,弧长:1024,点到直线的距离:1025,连续测量:1026,查看分段长度:1027,修改标注属性:1028,"面积(含弧线)":1029,测量填充面积:1030,测量圆:1031,半径标注:1032,测量角度:1033,显隐标注:1034,清除标注:1035,标注分类管理:1036,测量统计:1037,标注设置:1038,等分:1039,请选择面积的第一个点:1040,请选择下一个点:1041,请选择面积标注的位置:1042,请选择矩形的角点1:1043,请选择矩形的角点2:1044,请设置面积标注的位置:1045,请选择目标坐标点:1046,请指定标注位置:1047,请选择一条已知直线的起点:1048,请选择已知直线的终点:1049,输入实际尺寸:1050,请选择一条弧线:1051,请指定尺寸线位置:1052,请选择一个测量点:1053,请选择一条直线:1054,请设置尺寸线的位置:1055,请选择一个圆对象:1056,请指定文字位置:1057,请选择直线的端点或弧线:1058,"请选择连续的线段！":1059,请指定文字的位置:1060,"请选择一个连续测量的标注，右键退出":1061,请选择第二条直线:1062,请设置角度标注的位置:1063,请选择对齐标注的开始点:1064,请选择对齐标注的结束点:1065,请选择对齐标注的位置:1066,请选择线性标注的开始点:1067,请选择线性标注的结束点:1068,请选择线性标注的位置:1069,请选择圆弧或圆:1070,请选择半径标注的位置:1071,请选择填充区域:1072,请选择一个或多个测量标注:1073,修改标注设置:1074,请选择测量标注或框选删除标注的范围:1075,序号:1076,数量:1077,操作:1078,详情:1079,删除:1080,暂无数据:1081,坐标:1082,查看:1083,请设置指北针位置:1084,请设置指北针方向:1085,编组标识:1086,"编组名:":1087,"说明:":1088,查找名称:1089,亮显:1090,包含未命名的:1091,创建编组:1092,新建:1093,可选择的:1094,未命名的:1095,修改编组:1096,添加:1097,重排:1098,分解:1099,"删除位置:":1100,"输入对象的新位置编号:":1101,"对象数目:":1102,重排序:1103,逆序:1104,下一组:1105,上一组:1106,编组名:1107,拾取编组的成员:1108,未选择任何对象:1109,不是编组成员:1110,编组成员列表:1111,编组名无效:1112,编组名重复:1113,"编组创建成功！":1114,无法删除:1115,选择添加的对象:1116,无法添加:1117,编组说明已更新:1118,取消:1119,编组排序:1120,"对象：":1121,对象顺序已反转:1122,无法从该位置删除:1123,无法从该位置插入:1124,编组已重新排序:1125,"无法重排！请重新设置！":1126,请输入审批意见:1127,指定云线框起始点:1128,指定云线框终止点:1129,指定审图标注点:1130,"指定第一个角点:":1131,"指定第二个角点:":1132,"指定标注点:":1133,"指定序号位置:":1134,请选择目标块对象:1135,请输入新块名:1136,选择需要修改基点的块:1137,设置基点:1138,选择需要修改颜色的块:1139,"输入颜色索引(0~256)":1140,请选择源块:1141,"选择要刷的目标块:":1142,选择连接方式:1143,手动逐个连线:1144,自动批量连线:1145,请选择连线的块:1146,设置中心线长度:1147,"选择要旋转的目标块:":1148,设置旋转角度:1149,请设置缩放比例:1150,"请设置选择范围:":1151,请选择目标块:1152,请设置统计范围:1153," 请输入星形顶点数：":1154," 指定星形中心点:":1155,"请设置星形的内半径:":1156," 指定星形的外半径:":1157," 请输入凹凸线宽度<5>":1158," 请输入凹凸线高度<10>":1159,请点击确定起始点:1160,请点击确定终点:1161," 请输入锯齿线宽度<5>":1162," 请输入锯齿线高度<10>":1163," 请输入矩形宽度<5>":1164," 请输入矩形高度<10>":1165,请点击确定矩形中心:1166," 请输入管径<10>":1167," 请输入长出管口长度<5>":1168,请点击确定起点:1169,指定剖管线起点:1170,指定剖管线终点:1171,选择剖管线圆弧方向:1172,左边:1173,右边:1174,选择模式:1175,直线焊缝:1176,弧线焊缝:1177," 请输入焊缝半径<5>":1178,指定起点:1179,指定圆弧的第二个点:1180,指定圆弧的端点:1181,"请输入宽度<25>":1182,"请输入高度<15>":1183,"请输入楼梯级数<10>":1184,"请确定圆心位置 ":1185,请输入圆半径:1186," 请输入保温棉宽度<5>":1187," 请输入保温棉高度<10>":1188,请点击下一个点:1189,请选择第一条线:1190,请选择第二条线:1191,请选择终点:1192,请选择目标矩形:1193,设置指北针中心点:1194,设置指北针半径:1195,选择提示框指向:1196," 指定消息框第一点:":1197," 指定消息框第二点:":1198," 设置消息框指向:":1199,请设置圆心:1200,请设置齿轮圆心:1201,请设置齿轮半径:1202," 请设置中心线长度10>":1203,请选择第一个圆:1204,请选择第二个圆:1205,请设置矩形左上角点:1206,请设置矩形右下角点:1207,请设置圆角半径:1208,请选择多边形起点:1209,请选择多边形顶点:1210,请输入表格提取精度:1211,选择提取范围第一个角点:1212,选择提取范围第二个角点:1213,"未识别到有效表格!":1214,"选择对象:":1215,指定基点:1216,"指定第二个点 ":1217,阵列:1218,退出:1219,放弃:1220,"输入要进行阵列的项目数 ":1221,选择圆弧对象:1222,"选择复制旋转对象:":1223,"请指定目标点 ":1224,请指定旋转角度:1225,选择要转成多边形的对象:1226,设置多边形边数:1227," 输入选项":1228,内接于圆:1229,外切于圆:1230,选择要修改颜色的对象:1231,输入颜色索引:1232,隐藏:1233,隐藏未选:1234,全部显示:1235,选择目标的对象:1236," 请选择角度复制对象":1237," 请输入角度复制数量":1238," 请输入角度复制的基点":1239," 请输入复制角度":1240,请选择顶点对象:1241,请选择复制对象:1242,请确定复制基点:1243,请选择参考曲线:1244,选择打断对象:1245,指定偏移对象:1246,请输入偏移距离:1247,"指定伸缩对象(选择直线、多段线、圆弧)":1248,伸缩至:1249,选择要修改线型比例的对象:1250,请输入线型比例:1251,请输入阵列间距:1252,请选择圆弧:1253,选择排列对象:1254,指定排列基点:1255,"选择目标多段线:":1256,"请输入圆角半径<5>":1257,请选择线对象:1258,选择等分模式:1259,定距等分:1260,定数等分:1261,偏移等分:1262,复制等分:1263,请选择偏移等分对象:1264,请选择复制等分对象:1265,请选择需要等分的线段:1266,请设置等分距离:1267,请设置等分的数量:1268,请设置偏移距离:1269,请指定偏移点:1270,请指定复制基点:1271,请指定复制等分数量:1272,请指定复制等分端点:1273,"请选择需要矩形缩放的实体:":1274,请指定矩形的角点1:1275,请指定矩形角点2:1276,请选择放大中心点:1277,请选择放大范围:1278,请设置放大倍数:1279,请选择放大插入点:1280,请选择一条需要打断的曲线:1281,请在曲线上选取打断点:1282,请输入阵列数量:1283,是否开启旋转:1284,"请选择需要阵列的图形:":1285,请选择阵列中心点:1286,"请选择闭合多边形！":1287,请选择第一个点:1288,请选择第二个点:1289,请选择第一个闭合多边形:1290,请选择第二个闭合多边形:1291,请选择两个闭合多边形:1292,"两个多边形没有重合边！":1293,请选择目标多边形:1294,请选择多边形需要添加顶点的边:1295,请设置添加的顶点位置:1296,请选择多边形需要删除的顶点:1297,请选择多边形需要拉伸的边:1298,请指定拉伸位置:1299,请设置图框位置:1300,插入图框:1301,"请选择目标对齐线对象(选择直线)":1302,请选择目标文字对象:1303,选择文字对象:1304,请设置字高:1305,请设置字宽:1306,请选择源文字:1307,请选择目标文字:1308,请选择第一个文字:1309,请选择第二个文字:1310,请选择需要对齐的文字:1311,请选择对齐方式:1312,左:1313,中:1314,右:1315,请选择对齐基点:1316,请选择需要反转的文字:1317,请选择需要去空格的文字:1318,请选择文字对象:1319,"请输入下划线宽度 ":1320,"请设置下划线距离 ":1321,"请设置下划线延长距离 ":1322,"请选择操作选项 ":1323,大写:1324,小写:1325,句首大写:1326,请选择数字对象:1327,"请选择文字插入点 ":1328,"选择要查找的范围:":1329,"请选择查找模式 ":1330,等于:1331,包含:1332,前缀为:1333,后缀为:1334,"请输入关键字 ":1335,"选择要操作的范围:":1336,选择操作方式:1337,选择操作位置:1338,前缀:1339,后缀:1340,请输入内容:1341,"请选择文本 ":1342,"请选择圆弧 ":1343,请输入门的宽度:1344,"请选择插入方式<E>":1345,任意位置:1346,中心位置:1347,请选择门的位置:1348,请设置标准窗的长度:1349,请选择窗的位置:1350,指定轴线起点:1351,指定轴线终点或输入长度:1352,点击指定轴网位置:1353,"轴线样式：":1354,清空:1355,个数:1356,间距:1357,添加标注:1358,文字大小:1359,箭头大小:1360,添加编号:1361,圆框半径:1362,返回:1363,单条轴线:1364,轴线网格:1365,上边:1366,下边:1367,请设置墙体宽度:1368,请设置墙体起点:1369,请设置墙体长度:1370,"请选择绘制房间类型<C>":1371,内部尺寸:1372,外部尺寸:1373,中心尺寸:1374,请设置房间角点1:1375,请设置房间角点2:1376,点取墙上的第一个点:1377,点取墙上的第二个点:1378,"请设置墙洞宽<30>":1379,"请设置墙洞插入位置<A>":1380,中间位置:1381,点击确定墙洞插入位置:1382,图形识别:1383,图形:1384,请输入图形名称:1385,图形名称不能为空:1386,重新选择图形:1387,查找范围:1388,整张图纸:1389,区域查找:1390,区域选择:1391,开始识别:1392,请选择识图范围:1393,请点击左键或拉框选择需要识别的图形:1394,指定箭头起点:1395,"指定下一点或终点，右键完成":1396,请设置对称轴起点:1397,请设置对称轴结束点:1398,请点取标高点:1399,点取标高方向:1400,请点取下一点:1401,"标注位置设置：":1402,"文字位置设置：":1403,"精度单位设置：":1404,自由标注:1405,对齐标注:1406,文字齐始端:1407,文字齐线端:1408,"国家规范（0.000）":1409,自定义设置:1410,请指定标注的第一个点:1411,请指定引线的位置:1412,请指定文字基线的位置:1413,"指定其他标注点，右键完成":1414,"固定角度：":1415,请设置折断数:1416,请设置断线起点:1417,请设置断线结束点:1418,请指定索引图名的位置:1419,索引编号:1420,"比例：":1421,请指定索引节点的位置:1422,请指定转折点的位置:1423,请指定文字索引号位置:1424,索引图号:1425,"索引样式：":1426,添加索引范围:1427,居中:1428,指向索引:1429,剖切索引:1430,请指定图名标注位置:1431,"标注样式：":1432,图名文字:1433,"显示比例：":1434,连续标注:1435,国标标注:1436,传统标注:1437,请指定标注的第一点的位置:1438,请指定文字基线长度:1439,"指定原点的位置，右键完成":1440,添加圆点:1441,文字在线端:1442,文字在线上:1443,请指定第一个剖切点:1444,请指定第二个剖切点:1445,请指定剖视方向:1446,剖切编号:1447,"剖面图号：":1448,"剖切样式：":1449,"标注位置：":1450,"标注方向：":1451,正交剖面:1452,断面剖切:1453,两端:1454,沿剖切位置线:1455,沿剖视方向线:1456,标注颜色:1457,"未分类标注颜色：":1458,"提示:这里只修改未分类标注的默认颜色，如果需要修改分类标注的颜色，可以在标注分类管理界面里修改":1459,文字高度:1460,自动:1461,手动设置:1462,在屏幕中指定:1463,"(以上设置修改后，对新添加的标注生效)":1464,显示与精度设置:1465,按实际数值显示:1466,"图纸单位为mm,":1467,数值按照:1468,显示:1469,"显示精度：":1470,保存:1471,长度:1472,"请选择一条线段的起始点，取线长作为文字的高度":1473,新建分类:1474,当前分类:1475,全部隐藏:1476,查找分类名称:1477,请输入要查找的分类名称:1478,"点击表格项可以修改分类的名称和颜色，也可以设置当前分类":1479,"是否需要将该分类下所有标注的颜色一起修改成分类的新颜色？":1480,提示:1481,一起修改:1482,不需要:1483,颜色:1484,当前:1485,"这个分类是当前分类，不能被删除，您可以将其它分类设置为当前分类后，再重新操作!":1486,"该分类下有标注，不能被删除，您可以将标注移动到其它分类后，再重新操作!":1487,"是当前分类，无法设置隐藏，其它分类已隐藏":1488,"这个分类是当前分类，不能被隐藏，您可以将其它分类设置为当前分类后，再重新操作!":1489,修改工具:1490,多重复制:1491,弧转圆:1492,复制旋转:1493,圆转多边:1494,改颜色:1495,圆弧切角:1496,临时隐藏:1497,角度复制:1498,顶点复制:1499,交点打断:1500,双向偏移:1501,伸缩:1502,改圆大小:1503,线型比例:1504,按弧阵列:1505,pl圆角:1506,pl线反向:1507,矩形缩放:1508,打断:1509,环形阵列:1510,切割多边形:1511,合并多边形:1512,多边形加顶点:1513,多边形删顶点:1514,拉伸多边形单边:1515,文字工具:1516,按线对齐:1517,改字高:1518,改字宽:1519,刷内容:1520,换内容:1521,左右对齐:1522,上下对齐:1523,文字反转:1524,去空格:1525,文字加框:1526,下划线:1527,图名线:1528,大小写:1529,数字求和:1530,选特定字:1531,前后缀:1532,连接文字:1533,文字竖向:1534,按弧对齐:1535,标注工具:1536,审图标注:1537,矩形批注:1538,序号标注:1539,局部放大:1540,块工具:1541,改块名:1542,刷块:1543,块连线:1544,块中心线:1545,改块基点:1546,改块颜色:1547,多块旋转:1548,多块缩放:1549,刷块角度:1550,按块选择:1551,按块全选:1552,统计单块:1553,修改块图层:1554,绘图工具:1555,Mx_Extool_DrawStart:1556,星形:1557,Mx_Extool_ConcavoVex:1558,凹凸线:1559,Mx_Extool_ZigzagLine:1560,锯齿线:1561,Mx_Extool_CenterRect:1562,中心矩形:1563,Mx_Extool_RREC:1564,圆角矩形:1565,Mx_Extool_CCLine:1566,圆中心线:1567,Mx_Extool_Piping:1568,管道:1569,Mx_Extool_CutPipeline:1570,剖管符:1571,Mx_Extool_WelLine:1572,焊缝线:1573,Mx_Extool_PerpLine:1574,中垂线:1575,Mx_Extool_StairLine:1576,楼梯:1577,Mx_Extool_SolidCircle:1578,实心圆:1579,Mx_Extool_CottonInsulation:1580,保温棉:1581,Mx_Extool_CenterLine:1582,中心线:1583,Mx_Extool_DoHole:1584,开洞:1585,Mx_Extool_Compass:1586,指北针:1587,Mx_Extool_MassegeBox:1588,提示框:1589,Mx_Extool_ConcentricCircles:1590,同心圆:1591,Mx_Extool_Gear:1592,齿轮:1593,Mx_Extool_BlkCenterLine:1594,Mx_Extool_RoundCutPublicLine:1595,圆切公线:1596,Mx_Extool_DrawPolygon:1597,绘任意多边形:1598,图框方向:1599,横向图框:1600,纵向图框:1601,附加项:1602,加入标题栏:1603,加入会签栏:1604,图框尺寸:1605,"标 准：":1606,自定义:1607,"长度：":1608,"宽度：":1609,尺寸比例:1610,基本特性:1611,特殊特性:1612,分类:1613,比例:1614,统计范围:1615,所有标注:1616,手动选择标注:1617,选择标注:1618,清空选择:1619,按标注颜色进行过滤:1620,打开颜色选择框:1621,按标注分类进行过滤:1622,打开分类选择框:1623,"总计：":1624,复制统计结果:1625,"总长度：":1626,"总面积：":1627,"总周长：":1628,导出表格到Excel:1629,表格中没有带:1630,的标注:1631,无法选择标注:1632,进行过滤:1633,全选:1634,全不选:1635,周长:1636,"请点选或框选标注，右键结束选择":1637,选择颜色分类:1638,选择标注分类:1639,"输入两点之间实际尺寸来设置标注比例:":1640},xa=void 0,va=void 0,_a={languages:[{name:"zh-CN",title:"中文",active:!0,default:!0},{name:"en-US",title:"英语"},{name:"ko-KR",title:"韩语"},{name:"zh-TW",title:"繁体中文"}],library:!0,debug:!1},Ma={"zh-CN":{911:"图形识别列表",912:"箭头引注",913:"引出标注",914:"做法标注",915:"索引符号",916:"索引图名",917:"剖切符号",918:"标高标注",919:"图名标注",920:"绘制轴线",921:"DWG比对",922:"区别",923:"个",924:"实体名称",925:"实体位置",926:"已修改",927:"已删除",928:"已添加",929:"上标文字",930:"下标文字",931:"对齐方式：",932:"箭头样式：",933:"确定",934:"在线端",935:"齐线中",936:"齐线端",937:"始端",938:"中间",939:"末端",940:"箭头",941:"半箭头",942:"点",943:"十字",944:"无",945:"包含相同对象的组已经存在。仍要创建新的组",946:"是",947:"否",948:"未命名组已创建",949:"组",950:"已创建",951:"选择对象",952:"名称",953:"说明",954:"输入编组名",955:"查询",956:"请输入要列出的编码组名",957:"定义的编组",958:"*无效*",959:"编组",960:"已经存在",961:"输入编组说明",962:"未选择对象，未创建编组",963:"选择组",964:"组 ",965:" 已分解",966:"编组 ",967:" 未定义",968:"对象是多个组的成员<接受>",969:"接受",970:"下一个",971:"已分解",972:"对象不是组成员",973:"输入选项",974:"添加对象",975:"删除对象",976:"重命名",977:"选择要添加到编组的对象",978:"添加对象成功！",979:"选择要从编组中删除的对象",980:"对象不是组内元素，无法删除",981:"输入组的新名称",982:"修改组名成功",983:"输入组的名称",984:" 不存在",985:"请选择目标组",986:"对象编组",987:"创建组",988:"解除编组",989:"编辑组",990:"编组管理器",991:"扩展工具",992:"颜色(C)",993:"图层(L)",994:"线型(Y)",995:"线型比例(I)",996:"线宽(W)",997:"透明度(R)",998:"厚度(T)",999:"打印样式(S)",1e3:"标注(D)",1001:"文字(X)",1002:"图案填充(H)",1003:"多段线(P)",1004:"视口(V)",1005:"表格(B)",1006:"材质(M)",1007:"阴影显示(O)",1008:"多重引线(U)",1009:"特性匹配",1010:"请选择源对象",1011:"随层",1012:"随块",1013:"缺省",1014:"当前激活的设置：",1015:"选择目标对象",1016:"特性设置",1017:"测量",1018:"对齐",1019:"线性",1020:"面积",1021:"矩形面积",1022:"坐标标注",1023:"设置标注比例",1024:"弧长",1025:"点到直线的距离",1026:"连续测量",1027:"查看分段长度",1028:"修改标注属性",1029:"面积(含弧线)",1030:"测量填充面积",1031:"测量圆",1032:"半径标注",1033:"测量角度",1034:"显隐标注",1035:"清除标注",1036:"标注分类管理",1037:"测量统计",1038:"标注设置",1039:"等分",1040:"请选择面积的第一个点",1041:"请选择下一个点",1042:"请选择面积标注的位置",1043:"请选择矩形的角点1",1044:"请选择矩形的角点2",1045:"请设置面积标注的位置",1046:"请选择目标坐标点",1047:"请指定标注位置",1048:"请选择一条已知直线的起点",1049:"请选择已知直线的终点",1050:"输入实际尺寸",1051:"请选择一条弧线",1052:"请指定尺寸线位置",1053:"请选择一个测量点",1054:"请选择一条直线",1055:"请设置尺寸线的位置",1056:"请选择一个圆对象",1057:"请指定文字位置",1058:"请选择直线的端点或弧线",1059:"请选择连续的线段！",1060:"请指定文字的位置",1061:"请选择一个连续测量的标注，右键退出",1062:"请选择第二条直线",1063:"请设置角度标注的位置",1064:"请选择对齐标注的开始点",1065:"请选择对齐标注的结束点",1066:"请选择对齐标注的位置",1067:"请选择线性标注的开始点",1068:"请选择线性标注的结束点",1069:"请选择线性标注的位置",1070:"请选择圆弧或圆",1071:"请选择半径标注的位置",1072:"请选择填充区域",1073:"请选择一个或多个测量标注",1074:"修改标注设置",1075:"请选择测量标注或框选删除标注的范围",1076:"序号",1077:"数量",1078:"操作",1079:"详情",1080:"删除",1081:"暂无数据",1082:"坐标",1083:"查看",1084:"请设置指北针位置",1085:"请设置指北针方向",1086:"编组标识",1087:"编组名:",1088:"说明:",1089:"查找名称",1090:"亮显",1091:"包含未命名的",1092:"创建编组",1093:"新建",1094:"可选择的",1095:"未命名的",1096:"修改编组",1097:"添加",1098:"重排",1099:"分解",1100:"删除位置:",1101:"输入对象的新位置编号:",1102:"对象数目:",1103:"重排序",1104:"逆序",1105:"下一组",1106:"上一组",1107:"编组名",1108:"拾取编组的成员",1109:"未选择任何对象",1110:"不是编组成员",1111:"编组成员列表",1112:"编组名无效",1113:"编组名重复",1114:"编组创建成功！",1115:"无法删除",1116:"选择添加的对象",1117:"无法添加",1118:"编组说明已更新",1119:"取消",1120:"编组排序",1121:"对象：",1122:"对象顺序已反转",1123:"无法从该位置删除",1124:"无法从该位置插入",1125:"编组已重新排序",1126:"无法重排！请重新设置！",1127:"请输入审批意见",1128:"指定云线框起始点",1129:"指定云线框终止点",1130:"指定审图标注点",1131:"指定第一个角点:",1132:"指定第二个角点:",1133:"指定标注点:",1134:"指定序号位置:",1135:"请选择目标块对象",1136:"请输入新块名",1137:"选择需要修改基点的块",1138:"设置基点",1139:"选择需要修改颜色的块",1140:"输入颜色索引(0~256)",1141:"请选择源块",1142:"选择要刷的目标块:",1143:"选择连接方式",1144:"手动逐个连线",1145:"自动批量连线",1146:"请选择连线的块",1147:"设置中心线长度",1148:"选择要旋转的目标块:",1149:"设置旋转角度",1150:"请设置缩放比例",1151:"请设置选择范围:",1152:"请选择目标块",1153:"请设置统计范围",1154:" 请输入星形顶点数：",1155:" 指定星形中心点:",1156:"请设置星形的内半径:",1157:" 指定星形的外半径:",1158:" 请输入凹凸线宽度<5>",1159:" 请输入凹凸线高度<10>",1160:"请点击确定起始点",1161:"请点击确定终点",1162:" 请输入锯齿线宽度<5>",1163:" 请输入锯齿线高度<10>",1164:" 请输入矩形宽度<5>",1165:" 请输入矩形高度<10>",1166:"请点击确定矩形中心",1167:" 请输入管径<10>",1168:" 请输入长出管口长度<5>",1169:"请点击确定起点",1170:"指定剖管线起点",1171:"指定剖管线终点",1172:"选择剖管线圆弧方向",1173:"左边",1174:"右边",1175:"选择模式",1176:"直线焊缝",1177:"弧线焊缝",1178:" 请输入焊缝半径<5>",1179:"指定起点",1180:"指定圆弧的第二个点",1181:"指定圆弧的端点",1182:"请输入宽度<25>",1183:"请输入高度<15>",1184:"请输入楼梯级数<10>",1185:"请确定圆心位置 ",1186:"请输入圆半径",1187:" 请输入保温棉宽度<5>",1188:" 请输入保温棉高度<10>",1189:"请点击下一个点",1190:"请选择第一条线",1191:"请选择第二条线",1192:"请选择终点",1193:"请选择目标矩形",1194:"设置指北针中心点",1195:"设置指北针半径",1196:"选择提示框指向",1197:" 指定消息框第一点:",1198:" 指定消息框第二点:",1199:" 设置消息框指向:",1200:"请设置圆心",1201:"请设置齿轮圆心",1202:"请设置齿轮半径",1203:" 请设置中心线长度10>",1204:"请选择第一个圆",1205:"请选择第二个圆",1206:"请设置矩形左上角点",1207:"请设置矩形右下角点",1208:"请设置圆角半径",1209:"请选择多边形起点",1210:"请选择多边形顶点",1211:"请输入表格提取精度",1212:"选择提取范围第一个角点",1213:"选择提取范围第二个角点",1214:"未识别到有效表格!",1215:"选择对象:",1216:"指定基点",1217:"指定第二个点 ",1218:"阵列",1219:"退出",1220:"放弃",1221:"输入要进行阵列的项目数 ",1222:"选择圆弧对象",1223:"选择复制旋转对象:",1224:"请指定目标点 ",1225:"请指定旋转角度",1226:"选择要转成多边形的对象",1227:"设置多边形边数",1228:" 输入选项",1229:"内接于圆",1230:"外切于圆",1231:"选择要修改颜色的对象",1232:"输入颜色索引",1233:"隐藏",1234:"隐藏未选",1235:"全部显示",1236:"选择目标的对象",1237:" 请选择角度复制对象",1238:" 请输入角度复制数量",1239:" 请输入角度复制的基点",1240:" 请输入复制角度",1241:"请选择顶点对象",1242:"请选择复制对象",1243:"请确定复制基点",1244:"请选择参考曲线",1245:"选择打断对象",1246:"指定偏移对象",1247:"请输入偏移距离",1248:"指定伸缩对象(选择直线、多段线、圆弧)",1249:"伸缩至",1250:"选择要修改线型比例的对象",1251:"请输入线型比例",1252:"请输入阵列间距",1253:"请选择圆弧",1254:"选择排列对象",1255:"指定排列基点",1256:"选择目标多段线:",1257:"请输入圆角半径<5>",1258:"请选择线对象",1259:"选择等分模式",1260:"定距等分",1261:"定数等分",1262:"偏移等分",1263:"复制等分",1264:"请选择偏移等分对象",1265:"请选择复制等分对象",1266:"请选择需要等分的线段",1267:"请设置等分距离",1268:"请设置等分的数量",1269:"请设置偏移距离",1270:"请指定偏移点",1271:"请指定复制基点",1272:"请指定复制等分数量",1273:"请指定复制等分端点",1274:"请选择需要矩形缩放的实体:",1275:"请指定矩形的角点1",1276:"请指定矩形角点2",1277:"请选择放大中心点",1278:"请选择放大范围",1279:"请设置放大倍数",1280:"请选择放大插入点",1281:"请选择一条需要打断的曲线",1282:"请在曲线上选取打断点",1283:"请输入阵列数量",1284:"是否开启旋转",1285:"请选择需要阵列的图形:",1286:"请选择阵列中心点",1287:"请选择闭合多边形！",1288:"请选择第一个点",1289:"请选择第二个点",1290:"请选择第一个闭合多边形",1291:"请选择第二个闭合多边形",1292:"请选择两个闭合多边形",1293:"两个多边形没有重合边！",1294:"请选择目标多边形",1295:"请选择多边形需要添加顶点的边",1296:"请设置添加的顶点位置",1297:"请选择多边形需要删除的顶点",1298:"请选择多边形需要拉伸的边",1299:"请指定拉伸位置",1300:"请设置图框位置",1301:"插入图框",1302:"请选择目标对齐线对象(选择直线)",1303:"请选择目标文字对象",1304:"选择文字对象",1305:"请设置字高",1306:"请设置字宽",1307:"请选择源文字",1308:"请选择目标文字",1309:"请选择第一个文字",1310:"请选择第二个文字",1311:"请选择需要对齐的文字",1312:"请选择对齐方式",1313:"左",1314:"中",1315:"右",1316:"请选择对齐基点",1317:"请选择需要反转的文字",1318:"请选择需要去空格的文字",1319:"请选择文字对象",1320:"请输入下划线宽度 ",1321:"请设置下划线距离 ",1322:"请设置下划线延长距离 ",1323:"请选择操作选项 ",1324:"大写",1325:"小写",1326:"句首大写",1327:"请选择数字对象",1328:"请选择文字插入点 ",1329:"选择要查找的范围:",1330:"请选择查找模式 ",1331:"等于",1332:"包含",1333:"前缀为",1334:"后缀为",1335:"请输入关键字 ",1336:"选择要操作的范围:",1337:"选择操作方式",1338:"选择操作位置",1339:"前缀",1340:"后缀",1341:"请输入内容",1342:"请选择文本 ",1343:"请选择圆弧 ",1344:"请输入门的宽度",1345:"请选择插入方式<E>",1346:"任意位置",1347:"中心位置",1348:"请选择门的位置",1349:"请设置标准窗的长度",1350:"请选择窗的位置",1351:"指定轴线起点",1352:"指定轴线终点或输入长度",1353:"点击指定轴网位置",1354:"轴线样式：",1355:"清空",1356:"个数",1357:"间距",1358:"添加标注",1359:"文字大小",1360:"箭头大小",1361:"添加编号",1362:"圆框半径",1363:"返回",1364:"单条轴线",1365:"轴线网格",1366:"上边",1367:"下边",1368:"请设置墙体宽度",1369:"请设置墙体起点",1370:"请设置墙体长度",1371:"请选择绘制房间类型<C>",1372:"内部尺寸",1373:"外部尺寸",1374:"中心尺寸",1375:"请设置房间角点1",1376:"请设置房间角点2",1377:"点取墙上的第一个点",1378:"点取墙上的第二个点",1379:"请设置墙洞宽<30>",1380:"请设置墙洞插入位置<A>",1381:"中间位置",1382:"点击确定墙洞插入位置",1383:"图形识别",1384:"图形",1385:"请输入图形名称",1386:"图形名称不能为空",1387:"重新选择图形",1388:"查找范围",1389:"整张图纸",1390:"区域查找",1391:"区域选择",1392:"开始识别",1393:"请选择识图范围",1394:"请点击左键或拉框选择需要识别的图形",1395:"指定箭头起点",1396:"指定下一点或终点，右键完成",1397:"请设置对称轴起点",1398:"请设置对称轴结束点",1399:"请点取标高点",1400:"点取标高方向",1401:"请点取下一点",1402:"标注位置设置：",1403:"文字位置设置：",1404:"精度单位设置：",1405:"自由标注",1406:"对齐标注",1407:"文字齐始端",1408:"文字齐线端",1409:"国家规范（0.000）",1410:"自定义设置",1411:"请指定标注的第一个点",1412:"请指定引线的位置",1413:"请指定文字基线的位置",1414:"指定其他标注点，右键完成",1415:"固定角度：",1416:"请设置折断数",1417:"请设置断线起点",1418:"请设置断线结束点",1419:"请指定索引图名的位置",1420:"索引编号",1421:"比例：",1422:"请指定索引节点的位置",1423:"请指定转折点的位置",1424:"请指定文字索引号位置",1425:"索引图号",1426:"索引样式：",1427:"添加索引范围",1428:"居中",1429:"指向索引",1430:"剖切索引",1431:"请指定图名标注位置",1432:"标注样式：",1433:"图名文字",1434:"显示比例：",1435:"连续标注",1436:"国标标注",1437:"传统标注",1438:"请指定标注的第一点的位置",1439:"请指定文字基线长度",1440:"指定原点的位置，右键完成",1441:"添加圆点",1442:"文字在线端",1443:"文字在线上",1444:"请指定第一个剖切点",1445:"请指定第二个剖切点",1446:"请指定剖视方向",1447:"剖切编号",1448:"剖面图号：",1449:"剖切样式：",1450:"标注位置：",1451:"标注方向：",1452:"正交剖面",1453:"断面剖切",1454:"两端",1455:"沿剖切位置线",1456:"沿剖视方向线",1457:"标注颜色",1458:"未分类标注颜色：",1459:"提示:这里只修改未分类标注的默认颜色，如果需要修改分类标注的颜色，可以在标注分类管理界面里修改",1460:"文字高度",1461:"自动",1462:"手动设置",1463:"在屏幕中指定",1464:"(以上设置修改后，对新添加的标注生效)",1465:"显示与精度设置",1466:"按实际数值显示",1467:"图纸单位为mm,",1468:"数值按照",1469:"显示",1470:"显示精度：",1471:"保存",1472:"长度",1473:"请选择一条线段的起始点，取线长作为文字的高度",1474:"新建分类",1475:"当前分类",1476:"全部隐藏",1477:"查找分类名称",1478:"请输入要查找的分类名称",1479:"点击表格项可以修改分类的名称和颜色，也可以设置当前分类",1480:"是否需要将该分类下所有标注的颜色一起修改成分类的新颜色？",1481:"提示",1482:"一起修改",1483:"不需要",1484:"颜色",1485:"当前",1486:"这个分类是当前分类，不能被删除，您可以将其它分类设置为当前分类后，再重新操作!",1487:"该分类下有标注，不能被删除，您可以将标注移动到其它分类后，再重新操作!",1488:"是当前分类，无法设置隐藏，其它分类已隐藏",1489:"这个分类是当前分类，不能被隐藏，您可以将其它分类设置为当前分类后，再重新操作!",1490:"修改工具",1491:"多重复制",1492:"弧转圆",1493:"复制旋转",1494:"圆转多边",1495:"改颜色",1496:"圆弧切角",1497:"临时隐藏",1498:"角度复制",1499:"顶点复制",1500:"交点打断",1501:"双向偏移",1502:"伸缩",1503:"改圆大小",1504:"线型比例",1505:"按弧阵列",1506:"pl圆角",1507:"pl线反向",1508:"矩形缩放",1509:"打断",1510:"环形阵列",1511:"切割多边形",1512:"合并多边形",1513:"多边形加顶点",1514:"多边形删顶点",1515:"拉伸多边形单边",1516:"文字工具",1517:"按线对齐",1518:"改字高",1519:"改字宽",1520:"刷内容",1521:"换内容",1522:"左右对齐",1523:"上下对齐",1524:"文字反转",1525:"去空格",1526:"文字加框",1527:"下划线",1528:"图名线",1529:"大小写",1530:"数字求和",1531:"选特定字",1532:"前后缀",1533:"连接文字",1534:"文字竖向",1535:"按弧对齐",1536:"标注工具",1537:"审图标注",1538:"矩形批注",1539:"序号标注",1540:"局部放大",1541:"块工具",1542:"改块名",1543:"刷块",1544:"块连线",1545:"块中心线",1546:"改块基点",1547:"改块颜色",1548:"多块旋转",1549:"多块缩放",1550:"刷块角度",1551:"按块选择",1552:"按块全选",1553:"统计单块",1554:"修改块图层",1555:"绘图工具",1556:"Mx_Extool_DrawStart",1557:"星形",1558:"Mx_Extool_ConcavoVex",1559:"凹凸线",1560:"Mx_Extool_ZigzagLine",1561:"锯齿线",1562:"Mx_Extool_CenterRect",1563:"中心矩形",1564:"Mx_Extool_RREC",1565:"圆角矩形",1566:"Mx_Extool_CCLine",1567:"圆中心线",1568:"Mx_Extool_Piping",1569:"管道",1570:"Mx_Extool_CutPipeline",1571:"剖管符",1572:"Mx_Extool_WelLine",1573:"焊缝线",1574:"Mx_Extool_PerpLine",1575:"中垂线",1576:"Mx_Extool_StairLine",1577:"楼梯",1578:"Mx_Extool_SolidCircle",1579:"实心圆",1580:"Mx_Extool_CottonInsulation",1581:"保温棉",1582:"Mx_Extool_CenterLine",1583:"中心线",1584:"Mx_Extool_DoHole",1585:"开洞",1586:"Mx_Extool_Compass",1587:"指北针",1588:"Mx_Extool_MassegeBox",1589:"提示框",1590:"Mx_Extool_ConcentricCircles",1591:"同心圆",1592:"Mx_Extool_Gear",1593:"齿轮",1594:"Mx_Extool_BlkCenterLine",1595:"Mx_Extool_RoundCutPublicLine",1596:"圆切公线",1597:"Mx_Extool_DrawPolygon",1598:"绘任意多边形",1599:"图框方向",1600:"横向图框",1601:"纵向图框",1602:"附加项",1603:"加入标题栏",1604:"加入会签栏",1605:"图框尺寸",1606:"标 准：",1607:"自定义",1608:"长度：",1609:"宽度：",1610:"尺寸比例",1611:"基本特性",1612:"特殊特性",1613:"分类",1614:"比例",1615:"统计范围",1616:"所有标注",1617:"手动选择标注",1618:"选择标注",1619:"清空选择",1620:"按标注颜色进行过滤",1621:"打开颜色选择框",1622:"按标注分类进行过滤",1623:"打开分类选择框",1624:"总计：",1625:"复制统计结果",1626:"总长度：",1627:"总面积：",1628:"总周长：",1629:"导出表格到Excel",1630:"表格中没有带",1631:"的标注",1632:"无法选择标注",1633:"进行过滤",1634:"全选",1635:"全不选",1636:"周长",1637:"请点选或框选标注，右键结束选择",1638:"选择颜色分类",1639:"选择标注分类",1640:"输入两点之间实际尺寸来设置标注比例:"},"en-US":()=>Fe(()=>Promise.resolve().then(()=>$0),void 0,Te&&Te.src||new URL("index.js",document.baseURI).href),"ko-KR":()=>Fe(()=>Promise.resolve().then(()=>tp),void 0,Te&&Te.src||new URL("index.js",document.baseURI).href),"zh-TW":()=>Fe(()=>Promise.resolve().then(()=>ep),void 0,Te&&Te.src||new URL("index.js",document.baseURI).href)},on=new Js(We({id:"pluginIdentifyPattern__1_0_0",idMap:wa,formatters:ma,storage:ta,messages:Ma,paragraphs:ya,component:xa,loader:ba,transform:va},_a)),Gt=on.t;on.$t,on.Translate;const Ro=b.ref();on.on("change",D=>{Ro.value=D});const O=(D,...o)=>(Ro.value,on.t(D,...o)),En=b.ref(!1),Ci=b.ref(null),Re=b.reactive([]);let or;const Io=()=>ot(this,null,function*(){document.addEventListener("contextmenu",function(t){t.preventDefault()});const D=new w.MxCADSelectionSet,o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LINE,ARC,CIRCLE,LWPOLYLINE,INSERT"]);(yield D.userSelect(`${O("请点击左键或拉框选择需要识别的图形")}:`,o))&&D.count()!=0&&(or=new Jn,Ci.value=yield or.setSelectset(D),Ci.value&&(En.value=!0))}),Pa=D=>(b.pushScopeId("data-v-413a219e"),D=D(),b.popScopeId(),D),Ca={class:"body"},Ea={class:"header"},Da={style:{display:"flex","align-items":"center"}},Aa=["src"],ka=[Pa(()=>b.createElementVNode("svg",{"aria-hidden":"true",fill:"rgb(var(--v-theme-on-dialog-card-text))"},[b.createElementVNode("use",{"xlink:href":"#icon-cha"})],-1))],Sa={class:"content"},Ta={class:"title"},Na={class:"graphName"},Va={key:0,style:{color:"red","padding-left":"100px"}},Ba={style:{"margin-top":"10px"}},Ra={style:{width:"100%",display:"flex","justify-content":"center"}},Ia=["src"],La={style:{width:"100%",display:"flex","justify-content":"flex-end","margin-top":"10px"}},ja={class:"title"},za={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Oa={class:"radio"},Fa={for:"all"},Ua={class:"radio"},Ha={for:"react"},Wa={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},Ga=b.defineComponent({__name:"patternDialog",setup(D){const{callCommand:o,useLoading:t,utils:c}=MxPluginContext,{showLoading:u,hideLoading:a}=t(),r=b.ref(""),i=b.ref("all"),s=b.ref(!1);b.watch(En,(C,S)=>{C===!0&&!r.value&&(r.value=`Temp${Re.length+1}`)});const e=()=>{En.value=!1,r.value="",i.value="all",d.value=!1},n=b.ref(null),d=b.ref(!1),l=C=>{const S=n.value,I=C.clientX-S.offsetLeft,z=C.clientY-S.offsetTop,V=L=>{s.value||(S.style.left=L.clientX-I+"px",S.style.top=L.clientY-z+"px")};document.addEventListener("mousemove",V),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",V)})},{store:h}=MxPluginContext,{setCommandFocus:p}=h.useFocus(),g=()=>{e(),Io()};let f,m;const y=()=>ot(this,null,function*(){if(i.value!=="all"&&i.value==="react"){En.value=!1;const C=new w.MxCADUiPrPoint;for(C.setMessage(`${O("请选择识图范围")}`);f=yield C.go(),!f;);let S=new lt.MxDbRect;S.pt1=f.toVector3();const I=new w.MxCADUiPrPoint;for(I.setMessage(`${O("请选择识图范围")}`);I.setUserDraw((z,V)=>{S.pt2=z.toVector3(),S.setColor(new THREE.Color(7396243)),V.drawCustomEntity(S)}),m=yield I.go(),!m;);En.value=!0}}),v=()=>{if(r.value){u();let C;i.value==="react"&&f&&m?C=or.identifyGraphics(f,m):C=or.identifyGraphics(),C&&a(),Re.push(We({name:r.value},C))}else{d.value=!0;return}e(),o("Mx_PatternList")};return(C,S)=>b.withDirectives((b.openBlock(),b.createElementBlock("div",Ca,[b.createElementVNode("div",{class:"dialog",onMousedown:l,ref_key:"dialog",ref:n},[b.createElementVNode("div",Ea,[b.createElementVNode("div",Da,[b.createElementVNode("img",{src:b.unref(c).getLogoImgSrc(),alt:""},null,8,Aa),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("图形识别")),1)]),b.createElementVNode("a",{href:"#!",onClick:e,role:"button",class:"close","aria-label":"close this modal"},ka)]),b.createElementVNode("div",Sa,[b.createElementVNode("p",Ta,b.toDisplayString(b.unref(O)("图形")),1),b.createElementVNode("div",Na,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("请输入图形名称")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=I=>r.value=I),onFocus:S[1]||(S[1]=()=>{b.unref(p)(!1),s.value=!0}),onBlur:S[2]||(S[2]=()=>{b.unref(p)(!0),d.value=!1,s.value=!1}),style:b.normalizeStyle(d.value?"border:1px solid red":"")},null,36),[[b.vModelText,r.value]])]),d.value?(b.openBlock(),b.createElementBlock("p",Va,b.toDisplayString(`${b.unref(O)("图形名称不能为空")}!`),1)):b.createCommentVNode("",!0),b.createElementVNode("div",Ba,[b.createElementVNode("div",Ra,[b.createElementVNode("img",{src:b.unref(Ci),alt:"graph",style:{width:"70%"}},null,8,Ia)]),b.createElementVNode("div",La,[b.createElementVNode("button",{class:"btn_normal",onClick:g},b.toDisplayString(b.unref(O)("重新选择图形")),1)])]),b.createElementVNode("p",ja,b.toDisplayString(b.unref(O)("查找范围")),1),b.createElementVNode("div",za,[b.createElementVNode("div",Oa,[b.withDirectives(b.createElementVNode("input",{type:"radio",id:"all","onUpdate:modelValue":S[3]||(S[3]=I=>i.value=I),value:"all"},null,512),[[b.vModelRadio,i.value]]),b.createElementVNode("label",Fa,b.toDisplayString(b.unref(O)("整张图纸")),1)]),b.createElementVNode("div",Ua,[b.withDirectives(b.createElementVNode("input",{type:"radio",id:"react","onUpdate:modelValue":S[4]||(S[4]=I=>i.value=I),value:"react"},null,512),[[b.vModelRadio,i.value]]),b.createElementVNode("label",Ha,b.toDisplayString(b.unref(O)("区域查找")),1)]),b.createElementVNode("button",{class:b.normalizeClass(i.value==="react"?"btn_normal":"btn"),onClick:y},b.toDisplayString(b.unref(O)("区域选择")),3)]),b.createElementVNode("div",Wa,[b.createElementVNode("button",{class:"btn_normal btn_begin",onClick:v,style:{margin:"15px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("开始识别")),1)])])],544)],512)),[[b.vShow,b.unref(En)]])}}),Jp="",_e=(D,o)=>{const t=D.__vccOpts||D;for(const[c,u]of o)t[c]=u;return t},qa=_e(Ga,[["__scopeId","data-v-413a219e"],["__file","patternDialog.vue"]]),hn=D=>(b.pushScopeId("data-v-bdfba492"),D=D(),b.popScopeId(),D),Xa={key:0,class:"compareList"},Ka=hn(()=>b.createElementVNode("svg",{class:"icon","aria-hidden":"true"},[b.createElementVNode("use",{"xlink:href":"#icon-shezhi"})],-1)),Ya=[hn(()=>b.createElementVNode("use",{"xlink:href":"#icon-dengpao"},null,-1))],Za=[hn(()=>b.createElementVNode("use",{"xlink:href":"#icon-dengpao1"},null,-1))],Ja=[hn(()=>b.createElementVNode("use",{"xlink:href":"#icon-duigou"},null,-1))],Qa={style:{display:"flex","justify-content":"space-between","align-items":"center"}},$a=[hn(()=>b.createElementVNode("use",{"xlink:href":"#icon-guding"},null,-1))],tl=[hn(()=>b.createElementVNode("use",{"xlink:href":"#icon-guding1"},null,-1))],el=hn(()=>b.createElementVNode("svg",{class:"icon","aria-hidden":"true"},[b.createElementVNode("use",{"xlink:href":"#icon-dengpao1"})],-1)),nl={style:{display:"flex",width:"60%"}},rl={class:"camList"},il=["onClick"],ol={class:"listBox"},sl={key:0},al={style:{position:"sticky",top:"0px","z-index":"10"}},ll=["onClick"],cl=hn(()=>b.createElementVNode("div",{style:{width:"10px"}},null,-1)),hl=b.defineComponent({__name:"compareDwg",emits:["update-path"],setup(D,{emit:o}){const t=b.ref(!0),c=b.ref(!1),u=o,a=b.ref(!0),r=b.ref(2),i=b.reactive([]),s=b.ref(null);b.watch(()=>Nn.value,(g,f)=>{if(f){const m=w.MxCpp.getCurrentMxCAD();m.mxdraw.makeCurrent(),m.loadDwgBackground(f,y=>{m.getBackgroundEntity().clearAll()})}g&&(i.length=0,d(g))},{immediate:!0});const e=b.computed(()=>i.filter(f=>f.type===r.value)[0].arr),n=()=>{const g=w.MxCpp.getCurrentMxCAD(),f=lt.MxFun.getCurrentDraw();g.mxdraw.makeCurrent(),g.loadDwgBackground(Nn.value,m=>{g.getBackgroundEntity().clearAll(),u("update-path","")}),f.getTempMarkDraw().clear(),Yn.value=!1,a.value=!0};function d(g){return ot(this,null,function*(){const f=g.replace("dwgmxweb","dwg.mxweb"),m=w.MxCpp.getCurrentMxCAD();m.mxdraw.makeCurrent(),m.loadDwgBackground(f,y=>ot(this,null,function*(){let v=m.getBackgroundEntity();v.setShow(f,!1);let C=v.getBackgroundDatabase(f);if(C==null)return;let S=new w.MxCompare;if(S.do(C)){let I=S.getResult();console.log("比对结果：",JSON.stringify(I)),v.setShow(f,!0),i.push({type:2,name:O("已修改"),arr:[]},{type:3,name:O("已删除"),arr:[]},{type:4,name:O("已添加"),arr:[]}),I.forEach(z=>{const V=z.id.getMcDbEntity();z.name=V.objectName,z.type===2?i[0].arr.push(z):z.type===3?i[1].arr.push(z):z.type===4&&i[2].arr.push(z)}),Yn.value=!0}}),53962434921)})}const l=g=>{const f=s.value;if(c.value)return;const m=g.clientX-f.offsetLeft,y=g.clientY-f.offsetTop,v=C=>{f.style.left=C.clientX-m+"px",f.style.top=C.clientY-y+"px"};document.addEventListener("mousemove",v),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",v)})},h=()=>{a.value=!a.value;const g=w.MxCpp.getCurrentMxCAD();g.mxdraw.makeCurrent(),g.loadDwgBackground(Nn.value,f=>{g.getBackgroundEntity().setShow(Nn.value,a.value)})},p=g=>{const f=lt.MxFun.getCurrentDraw(),m=w.MxCpp.getCurrentMxCAD();f.getTempMarkDraw().clear(),f.getTempMarkDraw().drawCircleMark(g.pos.toVector3(),f.viewCoordLong2Cad(50),16711680),f.updateDisplay(),m.zoomCenter(g.pos.x,g.pos.y)};return(g,f)=>b.unref(Yn)?(b.openBlock(),b.createElementBlock("div",Xa,[b.createElementVNode("div",{style:{display:"flex","align-items":"center","justify-content":"center",cursor:"pointer","margin-right":"10px"},onClick:f[0]||(f[0]=m=>t.value=!t.value)},[Ka,b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("DWG比对")),1)]),a.value===!1?(b.openBlock(),b.createElementBlock("svg",{key:0,class:"icon","aria-hidden":"true",onClick:f[1]||(f[1]=()=>h()),style:{cursor:"pointer","margin-right":"10px"}},Ya)):(b.openBlock(),b.createElementBlock("svg",{key:1,class:"icon","aria-hidden":"true",onClick:f[2]||(f[2]=()=>h()),style:{cursor:"pointer","margin-right":"10px"}},Za)),(b.openBlock(),b.createElementBlock("svg",{class:"icon","aria-hidden":"true",onClick:n,style:{cursor:"pointer"}},Ja)),b.withDirectives(b.createElementVNode("div",{class:"modal",ref_key:"modal",ref:s,onMousedown:l},[b.createElementVNode("div",Qa,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("区别")),1),c.value?(b.openBlock(),b.createElementBlock("svg",{key:0,class:"icon","aria-hidden":"true",onClick:f[3]||(f[3]=m=>c.value=!1),style:{cursor:"pointer"}},$a)):(b.openBlock(),b.createElementBlock("svg",{key:1,class:"icon","aria-hidden":"true",onClick:f[4]||(f[4]=m=>c.value=!0),style:{cursor:"pointer"}},tl))]),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(i,(m,y)=>(b.openBlock(),b.createElementBlock("div",{class:"fcb",key:m.id},[el,b.createElementVNode("span",nl,b.toDisplayString(m.name)+"("+b.toDisplayString(m.arr.length)+" "+b.toDisplayString(b.unref(O)("个"))+")",1)]))),128)),b.createElementVNode("div",rl,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(i,m=>(b.openBlock(),b.createElementBlock("button",{class:"btn",key:m.type,style:b.normalizeStyle(r.value===m.type?"background-color:rgb(var(--v-theme-btn-hover))":""),onClick:y=>r.value=m.type},b.toDisplayString(m.name),13,il))),128))]),b.createElementVNode("div",ol,[i.length>0?(b.openBlock(),b.createElementBlock("ul",sl,[b.createElementVNode("li",al,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("实体名称")),1),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("实体位置")),1)]),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(e.value,m=>(b.openBlock(),b.createElementBlock("li",{key:m.id,onClick:y=>p(m)},[b.createElementVNode("span",null,b.toDisplayString(m.name),1),cl,b.createElementVNode("div",null,[b.createElementVNode("p",null,"X:"+b.toDisplayString(m.pos.x.toFixed(4)),1),b.createElementVNode("p",null,"Y:"+b.toDisplayString(m.pos.y.toFixed(4)),1)])],8,ll))),128))])):b.createCommentVNode("",!0)])],544),[[b.vShow,t.value]])])):b.createCommentVNode("",!0)}}),r2="",dl=_e(hl,[["__scopeId","data-v-bdfba492"],["__file","compareDwg.vue"]]);class sr extends w.McDbCustomEntity{constructor(o){super(o),this.points=[],this.exportLinePos=new w.McGePoint3d,this.textBasePos=new w.McGePoint3d,this.positionArr=[],this.height=0,this._textUp="",this._textDown="",this._arrowType=ke.arrow,this._alginType=ue.start,this.arrowLength=0,this._alignAngle=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new sr(o)}getTypeName(){return"McDbTestExportAnnotation"}set textHeight(o){this.height=o}get textHeight(){return this.height}set textUp(o){this._textUp=o}get textUp(){return this._textUp}set textDown(o){this._textDown=o}get textDown(){return this._textDown}set arrowType(o){this._arrowType=o}get arrowType(){return this._arrowType}set alginType(o){this._alginType=o}get alginType(){return this._alginType}set alignAngle(o){this._alignAngle=o}get alignAngle(){return this._alignAngle}dwgInFields(o){return this.points=o.readPoints("points").val,this.positionArr=o.readPoints("positionArr").val,this.exportLinePos=o.readPoint("exportLinePos").val,this.textBasePos=o.readPoint("textBasePos").val,this._textDown=o.readString("textDown").val,this._textUp=o.readString("textUp").val,this._arrowType=o.readLong("arrowType").val,this._alginType=o.readLong("alginType").val,this.arrowLength=o.readLong("arrowLength").val,this._alignAngle=o.readLong("alignAngle").val,this.height=o.readDouble("height").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoints("points",this.points),o.writePoints("positionArr",this.positionArr),o.writePoint("textBasePos",this.textBasePos),o.writePoint("exportLinePos",this.exportLinePos),o.writeString("textDown",this._textDown),o.writeString("textUp",this._textUp),o.writeLong("arrowType",this._arrowType),o.writeLong("alginType",this._alginType),o.writeLong("arrowLength",this.arrowLength),o.writeLong("alignAngle",this._alignAngle),o.writeDouble("height",this.height),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=this.points.length;o<a&&(this.points[o].x+=t,this.points[o].y+=c,this.points[o].z+=u),o===a&&(this.exportLinePos.x+=t,this.exportLinePos.y+=c,this.exportLinePos.z+=u,this.textBasePos.x+=t,this.textBasePos.y+=c,this.textBasePos.z+=u),o>a&&(this.textBasePos.x+=t)}getGripPoints(){let o=new w.McGePoint3dArray;return this.points.forEach(t=>{o.append(t)}),o.append(this.exportLinePos),o.append(this.textBasePos),o}drawArrow(o){const t=o,c=this.exportLinePos;if(this._arrowType===ke.arrow||this._arrowType===ke.halfArrow){const u=c.sub(t).normalize().mult(this.arrowLength),a=t.clone().addvec(u),r=u.clone().rotateBy(Math.PI/2).normalize().mult(this.arrowLength/8),i=a.clone().addvec(r),s=a.clone().subvec(r),e=new w.McDbHatch;return this._arrowType===ke.arrow?e.appendLoop(new w.McGePoint3dArray([t,i,s])):e.appendLoop(new w.McGePoint3dArray([t,i,a])),[e]}else if(this._arrowType===ke.point){const u=new w.McDbHatch;return u.appendCircleLoop(t.x,t.y,this.arrowLength/3),[u]}else if(this._arrowType===ke.cross){const u=t.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(this.arrowLength/2)),a=t.clone().subvec(w.McGeVector3d.kXAxis.normalize().mult(this.arrowLength/2)),r=t.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(this.arrowLength/2)),i=t.clone().subvec(w.McGeVector3d.kYAxis.normalize().mult(this.arrowLength/2)),s=new w.McDbLine(u,a),e=new w.McDbLine(r,i);return[s,e]}}drawText(){this.height||(this.height=this.arrowLength*(2/3));const o=[],t=new w.McDbText;t.height=this.height,t.textString=this._textUp,t.horizontalMode=w.McDb.TextHorzMode.kTextLeft;const c=new w.McDbMText;c.contents=this._textDown,c.textHeight=this.height,c.attachment=w.McDb.AttachmentPoint.kTopLeft;let u,a;this.exportLinePos.x<this.textBasePos.x?(u=this.exportLinePos.clone(),a=this.textBasePos.clone()):(a=this.exportLinePos.clone(),u=this.textBasePos.clone());const r=a.sub(u).normalize().mult(this.height/2),i=r.clone().rotateBy(Math.PI/2).normalize().mult(this.height/2);if(this._alginType===ue.start)this.positionArr[1]=u.clone().addvec(r).subvec(i),this.positionArr[0]=u.clone().addvec(r).addvec(i);else if(this._alginType===ue.middle){const s=u.distanceTo(a),e=u.clone().addvec(r.normalize().mult(s/2));this.positionArr[1]=e.clone().subvec(i),this.positionArr[0]=e.clone().addvec(i)}else this._alginType===ue.end&&(this.positionArr[1]=a.clone().subvec(i),this.positionArr[0]=a.clone().addvec(i),t.horizontalMode=w.McDb.TextHorzMode.kTextRight,c.attachment=w.McDb.AttachmentPoint.kTopRight);return t.position=t.alignmentPoint=this.positionArr[0],c.location=this.positionArr[1],o.push(t),o.push(c),o}getFixedAnglePt(o,t){const u=t.sub(o).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),a=360/this._alignAngle;let r=null,i=0;for(let d=0;d<a;d++){const l=Math.abs(this._alignAngle*d-u*180/Math.PI);r?r>l&&(r=l,i=this._alignAngle*d):(r=l,i=this._alignAngle*d)}const s=o.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(100).rotateBy(i*Math.PI/180));return new w.McDbLine(o,s).getClosestPointTo(t,!0).val}worldDraw(o){const t=[];this.arrowLength||(this.arrowLength=lt.MxFun.viewCoordLong2Cad(20)),this._alignAngle&&this.points.length===1&&(this.exportLinePos=this.getFixedAnglePt(this.points[0],this.exportLinePos)),this.points.forEach(u=>{this._arrowType!==ke.none&&this.drawArrow(u).forEach(i=>{o.drawEntity(i),t.push(i)});const a=new w.McDbLine(this.exportLinePos,u);o.drawEntity(a),t.push(a)}),this.textBasePos=new w.McGePoint3d(this.textBasePos.x,this.exportLinePos.y);const c=new w.McDbLine(this.exportLinePos,this.textBasePos);o.drawEntity(c),t.push(c),this.drawText().forEach(u=>{o.drawEntity(u),t.push(u)}),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}addVertex(o){if(this.assertWrite(),this.points.push(o),this.points.length>1&&this.exportLinePos&&this.alignAngle){const t=this.getFixedAnglePt(this.exportLinePos,o);this.points[this.points.length-1]=t}}getPoints(){return this.points}setExportLinePos(o){this.exportLinePos=o.clone()}getExportLinePos(){return this.exportLinePos}setTextBasePos(o){this.textBasePos=new w.McGePoint3d(o.x,this.exportLinePos.y)}getTextBasePos(){return this.textBasePos}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function ul(D,o,t,c,u){return ot(this,null,function*(){const a=new sr;a.textUp=D,a.textDown=o,a.arrowType=t,a.alginType=c,u&&(a.alignAngle=u);const r=new w.MxCADUiPrPoint;r.setMessage(`
${O("请指定标注的第一个点")}:`);const i=yield r.go();if(!i)return;a.addVertex(i);const s=new w.MxCADUiPrPoint;s.setMessage(`
${O("请指定引线的位置")}:`),s.setUserDraw((h,p)=>{const g=a.clone();g.setExportLinePos(h),g.setTextBasePos(new w.McGePoint3d(h.x+lt.MxFun.viewCoordLong2Cad(50),h.y)),p.drawMcDbEntity(g)});const e=yield s.go();if(!e)return;a.setExportLinePos(e);const n=new w.MxCADUiPrPoint;n.setMessage(`
${O("请指定文字基线的位置")}:`),n.setUserDraw((h,p)=>{const g=a.clone();g.setTextBasePos(h),p.drawMcDbEntity(g)});const d=yield n.go();if(!d)return;for(a.setTextBasePos(d);;){const h=new w.MxCADUiPrPoint;h.setMessage(`
${O("指定其他标注点，右键完成")}:`),h.setUserDraw((g,f)=>{const m=a.clone();m.addVertex(g),f.drawMcDbEntity(m)});const p=yield h.go();if(!p)break;a.addVertex(p)}w.MxCpp.getCurrentMxCAD().drawEntity(a)})}var ar=(D=>(D[D.textEnd=0]="textEnd",D[D.textUp=1]="textUp",D))(ar||{});class lr extends w.McDbCustomEntity{constructor(o){super(o),this.points=[],this._labelPos=new w.McGePoint3d,this._textBasePos=new w.McGePoint3d,this._textEndPos=new w.McGePoint3d,this.textPosition=new w.McGePoint3d,this._textContent="",this._textAlignment=0,this.height=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new lr(o)}getTypeName(){return"McDbTestPracticeLabeling"}set textHeight(o){this.height=o}get textHeight(){return this.height}set labelPos(o){this._labelPos=o.clone()}get labelPos(){return this._labelPos}set textBasePos(o){this._textBasePos=o.clone()}get textBasePos(){return this._textBasePos}set textEndPos(o){this._textEndPos=new w.McGePoint3d(o.x,this._textBasePos.y),this.setTextPos()}get textEndPos(){return this._textEndPos}set textAlignment(o){this._textAlignment=o}get textAlignment(){return this._textAlignment}set textContent(o){this._textContent=o}get textContent(){return this._textContent}dwgInFields(o){return this.points=o.readPoints("points").val,this._textEndPos=o.readPoint("textEndPos").val,this._textBasePos=o.readPoint("textBasePos").val,this._labelPos=o.readPoint("labelPos").val,this.height=o.readDouble("height").val,this._textAlignment=o.readLong("textAlignment").val,this._textContent=o.readString("textContent").val,this.textPosition=o.readPoint("textPosition").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoints("points",this.points),o.writePoint("textEndPos",this._textEndPos),o.writePoint("textBasePos",this._textBasePos),o.writePoint("labelPos",this._labelPos),o.writePoint("textPosition",this.textPosition),o.writeLong("textAlignment",this._textAlignment),o.writeString("textContent",this._textContent),o.writeDouble("height",this.height),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o<this.points.length){this.points[o].x+=t,this.points[o].y+=c,this.points[o].z+=u;const a=new w.McDbLine(this._labelPos,this._textBasePos);this.points[o]=a.getClosestPointTo(this.points[o],!1).val}if(o===this.points.length&&(this._labelPos.x+=t,this._labelPos.y+=c,this._labelPos.z+=u),o===this.points.length+1){const a=[];this.points.forEach(r=>{a.push(this._textBasePos.distanceTo(r))}),this._textBasePos.x+=t,this._textBasePos.y+=c,this._textBasePos.z+=u,this._textEndPos.x+=t,this._textEndPos.y+=c,this._textEndPos.z+=u,this.textPosition.x+=t,this.textPosition.y+=c,this.textPosition.z+=u,this.points.forEach((r,i)=>{const s=this._labelPos.sub(this._textBasePos).normalize();let e=this._textBasePos.clone().addvec(s.mult(a[i]));a[i]>this._labelPos.distanceTo(this._textBasePos)&&(e=this._labelPos.clone()),r.x=e.x,r.y=e.y,r.z=e.z})}o===this.points.length+2&&(this._textEndPos.x+=t,this.setTextPos()),o===this.points.length+3&&(this._textEndPos.x<this._textBasePos.x?this.textPosition.x+t>this._textBasePos.x?this.textPosition.x=this._textBasePos.x:this.textPosition.x+=t:this.textPosition.x+t<this._textBasePos.x?this.textPosition.x=this._textBasePos.x:this.textPosition.x+=t)}getGripPoints(){let o=new w.McGePoint3dArray;return this.points.length>0&&this.points.forEach(t=>{o.append(t)}),o.append(this._labelPos),o.append(this._textBasePos),o.append(this._textEndPos),o.append(this.textPosition),o}worldDraw(o){const t=[],c=new w.McDbPolyline;c.addVertexAt(this._labelPos),c.addVertexAt(this._textBasePos),c.addVertexAt(this._textEndPos),o.drawEntity(c),t.push(c);const u=new w.McDbText;u.textString=this._textContent,u.height=this.height,this._textEndPos.x<this._textBasePos.x?u.horizontalMode=w.McDb.TextHorzMode.kTextRight:u.horizontalMode=w.McDb.TextHorzMode.kTextLeft,u.position=u.alignmentPoint=this.textPosition,o.drawEntity(u),t.push(u),this.points.length>0&&this.points.forEach(a=>{const r=new w.McDbHatch;r.appendCircleLoop(a.x,a.y,this.height/3),o.drawEntity(r),t.push(r)}),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}addVertex(o){this.assertWrite(),this.points.push(o)}getPoints(){return this.points}setTextPos(){this.height||(this.height=lt.MxFun.viewCoordLong2Cad(20));let o=1;this._textEndPos.x<this._textBasePos.x&&(o=-1),this._textAlignment===0?this.textPosition=new w.McGePoint3d(this._textEndPos.x+this.height/2*o,this._textEndPos.y-this.height/2):this._textAlignment===1&&(this.textPosition=new w.McGePoint3d(this._textBasePos.x+this.height/2*o,this._textBasePos.y+this.height/3))}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function fl(D,o,t){return ot(this,null,function*(){const c=new lr;c.textContent=D,c.textAlignment=o;const u=new w.MxCADUiPrPoint;u.setMessage(`
${O("请指定标注的第一点的位置")}:`);const a=yield u.go();if(!a)return;c.labelPos=a;const r=new w.MxCADUiPrPoint;r.setMessage(`
${O("请指定文字基线的位置")}:`),r.setUserDraw((d,l)=>{const h=c.clone();h.textBasePos=d,h.textEndPos=new w.McGePoint3d(d.x+lt.MxFun.viewCoordLong2Cad(30),d.y),l.drawMcDbEntity(h)});const i=yield r.go();if(!i)return;c.textBasePos=i;const s=new w.MxCADUiPrPoint;s.setMessage(`
${O("请指定文字基线长度")}:`),s.setUserDraw((d,l)=>{const h=c.clone();h.textEndPos=d,l.drawMcDbEntity(h)});const e=yield s.go();if(!e)return;if(c.textEndPos=e,t){c.addVertex(a);const d=new w.McDbLine(a,i);for(;;){const l=new w.MxCADUiPrPoint;l.setMessage(`
${O("指定原点的位置，右键完成")}:`),l.setUserDraw((g,f)=>{const m=c.clone(),y=d.getClosestPointTo(g,!1).val;m.addVertex(y),f.drawMcDbEntity(m)});const h=yield l.go();if(!h)break;const p=d.getClosestPointTo(h,!1).val;c.addVertex(p)}}w.MxCpp.getCurrentMxCAD().drawEntity(c)})}var Un=(D=>(D[D.Directed=0]="Directed",D[D.Cutting=1]="Cutting",D))(Un||{});class cr extends w.McDbCustomEntity{constructor(o){super(o),this._indexNodePos=new w.McGePoint3d,this._turninPointPos=new w.McGePoint3d,this._indexNumPos=new w.McGePoint3d,this.lineStart=new w.McGePoint3d,this.lineEnd=new w.McGePoint3d,this.textPosArr=[],this._textUp="",this._textDown="",this._indexRadius=0,this._indexDrawNumber="",this._indexNumber="",this._fixedAngle=0,this._indexAreaRadius=0,this._textAlignment=ue.start,this._indexStyle=0,this.height=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new cr(o)}getTypeName(){return"McDbTestIndexSymbol"}set textHeight(o){this.height=o}get textHeight(){return this.height}set indexNodePos(o){this._indexNodePos=o.clone()}get indexNodePos(){return this._indexNodePos}set turninPointPos(o){if(this._fixedAngle&&this._indexStyle===0){const t=this.getFixedAnglePt(this._indexNodePos,o);this._turninPointPos=t.clone()}else this._turninPointPos=o.clone();this._indexStyle===1&&this.getCutLinePos()}get turninPointPos(){return this._turninPointPos}set indexNumPos(o){this._indexNumPos=new w.McGePoint3d(o.x,this._turninPointPos.y)}get indexNumPos(){return this._indexNumPos}set indexRadius(o){this._indexRadius=o}get indexRadius(){return this._indexRadius}set textAlignment(o){this._textAlignment=o}get textAlignment(){return this._textAlignment}set textUp(o){this._textUp=o}set textDown(o){this._textDown=o}get textUp(){return this._textUp}get textextDowntUp(){return this._textDown}set indexDrawNumber(o){this._indexDrawNumber=o}get indexDrawNumber(){return this._indexDrawNumber}set indexNumber(o){this._indexNumber=o}get indexNumber(){return this._indexNumber}set fixedAngle(o){this._fixedAngle=o}get fixedAngle(){return this._fixedAngle}set indexAreaRadius(o){this._indexAreaRadius=o}get indexAreaRadius(){return this._indexAreaRadius}set indexStyle(o){this._indexStyle=o}get indexStyle(){return this._indexStyle}dwgInFields(o){return this.textPosArr=o.readPoints("textPosArr").val,this._indexNumPos=o.readPoint("indexNumPos").val,this._turninPointPos=o.readPoint("turninPointPos").val,this._indexNodePos=o.readPoint("indexNodePos").val,this.lineEnd=o.readPoint("lineEnd").val,this.lineStart=o.readPoint("lineStart").val,this.height=o.readDouble("height").val,this._indexRadius=o.readDouble("indexRadius").val,this._fixedAngle=o.readDouble("fixedAngle").val,this._indexAreaRadius=o.readDouble("indexAreaRadius").val,this._textAlignment=o.readLong("textAlignment").val,this._indexStyle=o.readLong("indexStyle").val,this._textUp=o.readString("textUp").val,this._textDown=o.readString("textDown").val,this._indexDrawNumber=o.readString("indexDrawNumber").val,this._indexNumber=o.readString("indexNumber").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoints("textPosArr",this.textPosArr),o.writePoint("indexNumPos",this._indexNumPos),o.writePoint("turninPointPos",this._turninPointPos),o.writePoint("indexNodePos",this._indexNodePos),o.writePoint("lineStart",this.lineStart),o.writePoint("lineEnd",this.lineEnd),o.writeLong("textAlignment",this._textAlignment),o.writeLong("indexStyle",this._indexStyle),o.writeString("textDown",this._textDown),o.writeString("textUp",this._textUp),o.writeDouble("height",this.height),o.writeDouble("indexAreaRadius",this._indexAreaRadius),o.writeDouble("fixedAngle",this._fixedAngle),o.writeDouble("indexRadius",this._indexRadius),o.writeString("indexDrawNumber",this._indexDrawNumber),o.writeString("indexNumber",this._indexNumber),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this._indexNodePos.x+=t,this._indexNodePos.y+=c,this._indexNodePos.z+=u,this.getCutLinePos();else if(o===1)this._turninPointPos.x+=t,this._turninPointPos.y+=c,this._turninPointPos.z+=u,this._indexNumPos.x+=t,this._indexNumPos.y+=c,this._indexNumPos.z+=u,this.getCutLinePos();else if(o===2)this._indexNumPos.x+=t;else if(o===3){const r=new w.McDbLine(this._indexNodePos,this._turninPointPos).getClosestPointTo(this.lineStart,!1).val,i=this.lineStart.sub(r).mult(2);this.lineStart.subvec(i),this.lineEnd.subvec(i)}else if(o===4){const a=this.lineEnd.clone();a.x+=t,a.y+=c,a.z+=u;const i=new w.McDbLine(this.lineStart,this.lineEnd).getClosestPointTo(a,!0).val,e=this._turninPointPos.sub(this._indexNodePos).normalize().mult(this._indexRadius),n=this.lineStart.clone().addvec(e);this.lineEnd.x>this.lineStart.x&&i.x>n.x||this.lineEnd.x<this.lineStart.x&&i.x<n.x?this.lineEnd=i:this.lineEnd=n}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this._indexNodePos),o.append(this._turninPointPos),o.append(this._indexNumPos),this._indexStyle===1&&(o.append(this.lineStart),o.append(this.lineEnd)),o}worldDraw(o){const t=[];let c=this._indexNodePos.clone();const u=this._turninPointPos.sub(this._indexNodePos).normalize();if(this._indexAreaRadius&&this.indexStyle===0){const i=new w.McDbCircle(this._indexNodePos.x,this._indexNodePos.y,this._indexNodePos.z,this.indexAreaRadius);if(o.drawEntity(i),t.push(i),this._indexNodePos.distanceTo(this._turninPointPos)>this._indexAreaRadius){const e=u.mult(this._indexAreaRadius);c.addvec(e)}}const a=new w.McDbPolyline;a.addVertexAt(c),a.addVertexAt(this._turninPointPos),a.addVertexAt(this._indexNumPos),o.drawEntity(a),t.push(a);const r=this.drawText();if(r&&r.forEach(i=>{(this._textAlignment===ue.start&&this._turninPointPos.x>this._indexNumPos.x||this._textAlignment===ue.end&&this._turninPointPos.x<this._indexNumPos.x)&&(i.horizontalMode=w.McDb.TextHorzMode.kTextRight),o.drawEntity(i),t.push(i)}),this.drawIndexIcon().forEach(i=>{o.drawEntity(i),t.push(i)}),this._indexStyle===1){const i=new w.McDbPolyline;i.addVertexAt(this.lineEnd),i.addVertexAt(this.lineStart),i.constantWidth=this.height/4,o.drawEntity(i),t.push(i)}this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null;o.forEach(a=>{const r=t.drawEntity(a),i=r.getMcDbEntity();if(!i)return;const{minPt:s,maxPt:e,ret:n}=i.getBoundingBox();c||(c=s.clone()),u||(u=e.clone()),s.x<c.x&&(c.x=s.x),s.y<c.y&&(c.y=s.y),e.x>u.x&&(u.x=e.x),e.y>u.y&&(u.y=e.y),r.erase()}),c&&u&&(this.maxPt=u,this.minPt=c)}drawIndexIcon(){let o=1;this._turninPointPos.x>this._indexNumPos.x&&(o=-1);const t=new w.McGePoint3d(this._indexNumPos.x+this._indexRadius*o,this._indexNumPos.y),c=new w.McDbCircle;c.radius=this._indexRadius,c.center=t;const u=new w.McDbLine(this._indexNumPos,new w.McGePoint3d(this._indexNumPos.x+2*this._indexRadius*o,this._indexNumPos.y)),a=new w.McDbText;a.height=this.height*(5/4),a.textString=this._indexNumber.toString(),a.horizontalMode=w.McDb.TextHorzMode.kTextCenter,a.position=a.alignmentPoint=new w.McGePoint3d(t.x,t.y+this.height/4);const r=w.MxCpp.getCurrentMxCAD().drawEntity(a),{minPt:i,maxPt:s}=r.getMcDbEntity().getBoundingBox();r.erase(),a.widthFactor=this._indexRadius*(2/3)/(s.x-i.x);const e=new w.McDbText;e.height=this.height*(5/4),e.textString=this._indexDrawNumber,e.horizontalMode=w.McDb.TextHorzMode.kTextCenter,e.position=e.alignmentPoint=new w.McGePoint3d(t.x,t.y-this.height*(5/4));const n=w.MxCpp.getCurrentMxCAD().drawEntity(e),{minPt:d,maxPt:l}=n.getMcDbEntity().getBoundingBox();return n.erase(),e.widthFactor=this._indexRadius*(2/3)/(l.x-d.x),[c,u,a,e]}drawText(){if(this.setTextPos(),this.textPosArr.length>0){const o=new w.McDbText;o.height=this.height,o.horizontalMode=w.McDb.TextHorzMode.kTextLeft;const t=o.clone();t.textString=this._textUp,t.position=t.alignmentPoint=this.textPosArr[0];const c=o.clone();return c.textString=this._textDown,c.position=c.alignmentPoint=this.textPosArr[1],[t,c]}else return null}setTextPos(){this.height||(this.height=lt.MxFun.viewCoordLong2Cad(15)),this._indexRadius||(this._indexRadius=this.height*2);let o=1;if(this._turninPointPos.x>this._indexNumPos.x&&(o=-1),this._textAlignment===ue.start){const t=new w.McGePoint3d(this._turninPointPos.x+this.height/2*o,this._turninPointPos.y+this.height/2),c=new w.McGePoint3d(this._turninPointPos.x+this.height/2*o,this._turninPointPos.y-this.height*(3/2));this.textPosArr=[t,c]}else if(this._textAlignment===ue.middle){const t=this._turninPointPos.x-(this._turninPointPos.x-this._indexNumPos.x)/2,c=new w.McGePoint3d(t,this._turninPointPos.y+this.height/2),u=new w.McGePoint3d(t,this._turninPointPos.y-this.height*(3/2));this.textPosArr=[c,u]}else if(this._textAlignment===ue.end){const t=new w.McGePoint3d(this._indexNumPos.x,this._indexNumPos.y+this.height/2),c=new w.McGePoint3d(this._indexNumPos.x,this._indexNumPos.y-this.height*(3/2));this.textPosArr=[t,c]}}getFixedAnglePt(o,t){const u=t.sub(o).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),a=360/this._fixedAngle;let r=null,i=0;for(let d=0;d<a;d++){const l=Math.abs(this._fixedAngle*d-u*180/Math.PI);r?r>l&&(r=l,i=this._fixedAngle*d):(r=l,i=this._fixedAngle*d)}const s=o.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(100).rotateBy(i*Math.PI/180));return new w.McDbLine(o,s).getClosestPointTo(t,!0).val}getCutLinePos(){const o=this._turninPointPos.sub(this._indexNodePos).normalize();let t=this.lineEnd.distanceTo(this.lineStart);t||(t=this._indexRadius?this._indexRadius:lt.MxFun.viewCoordLong2Cad(15)*2);const c=o.mult(t),u=this._indexNodePos.clone().addvec(c);let a=this.height?this.height/2:lt.MxFun.viewCoordLong2Cad(15)/2;const r=this._indexNodePos.clone().subvec(o.perpVector().mult(a)),i=new w.McDbLine(this._indexNodePos,u);i.move(this._indexNodePos,r),this.lineStart=i.startPoint,this.lineEnd=i.endPoint}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function pl(D,o,t,c,u,a,r){return ot(this,null,function*(){const i=new cr;i.textUp=o[0],i.textDown=o[1],i.textAlignment=t,i.indexDrawNumber=c,i.indexNumber=u,i.fixedAngle=a,i.indexStyle=D;const s=new w.MxCADUiPrPoint;s.setMessage(`
${O("请指定索引节点的位置")}:`);const e=yield s.go();if(!e)return;if(i.indexNodePos=e,r&&D===0){const g=new w.MxCADUiPrDist;g.setMessage("请指定节点范围"),g.setBasePt(e),g.setUserDraw((m,y)=>{const v=m.distanceTo(e),C=new w.McDbCircle(e.x,e.y,e.z,v);y.drawMcDbEntity(C)});const f=yield g.go();if(!f)return;i.indexAreaRadius=f}const n=new w.MxCADUiPrPoint;n.setMessage(`
${O("请指定转折点的位置")}:`),n.setUserDraw((g,f)=>{const m=i.clone();m.turninPointPos=g,m.indexNumPos=new w.McGePoint3d(g.x+lt.MxFun.viewCoordLong2Cad(30),g.y),f.drawMcDbEntity(m)});const d=yield n.go();if(!d)return;i.turninPointPos=d;const l=new w.MxCADUiPrPoint;l.setMessage(`
${O("请指定文字索引号位置")}:`),l.setUserDraw((g,f)=>{const m=i.clone();m.indexNumPos=g,f.drawMcDbEntity(m)});const h=yield l.go();if(!h)return;i.indexNumPos=h,w.MxCpp.getCurrentMxCAD().drawEntity(i)})}class hr extends w.McDbCustomEntity{constructor(o){super(o),this._indexRadius=lt.MxFun.screenCoordLong2Doc(30),this._indexDrawNumber="",this._indexNumber="",this.height=this._indexRadius/2,this._indexPos=new w.McGePoint3d,this.scalePos=new w.McGePoint3d,this._scale=!1,this._scaleValue="",this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new hr(o)}getTypeName(){return"McDbTestIndexImgName"}set textHeight(o){this.height=o}get textHeight(){return this.height}set indexPos(o){this._indexPos=o.clone(),this.scalePos=new w.McGePoint3d(this._indexPos.x+this._indexRadius,this._indexPos.y-this._indexRadius)}get indexPos(){return this._indexPos}set indexRadius(o){this._indexRadius=o}get indexRadius(){return this._indexRadius}set indexDrawNumber(o){this._indexDrawNumber=o}get indexDrawNumber(){return this._indexDrawNumber}set indexNumber(o){this._indexNumber=o}get indexNumber(){return this._indexNumber}set scaleValue(o){this._scaleValue=o}get scaleValue(){return this._scaleValue}set scale(o){this._scale=o}get scale(){return this._scale}dwgInFields(o){return this._indexPos=o.readPoint("indexPos").val,this.scalePos=o.readPoint("scalePos").val,this.height=o.readDouble("height").val,this._indexRadius=o.readDouble("indexRadius").val,this._indexDrawNumber=o.readString("indexDrawNumber").val,this._indexNumber=o.readString("indexNumber").val,this._scaleValue=o.readString("scaleValue").val,this.scale=o.readLong("scale").val==1,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("indexPos",this._indexPos),o.writePoint("scalePos",this.scalePos),o.writeDouble("height",this.height),o.writeDouble("indexRadius",this._indexRadius),o.writeString("indexDrawNumber",this._indexDrawNumber),o.writeString("indexNumber",this._indexNumber),o.writeString("scaleValue",this._scaleValue),o.writeLong("scale",this._scale?1:0),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this._indexPos.x+=t,this._indexPos.y+=c,this._indexPos.z+=u,this._scale&&(this.scalePos.x+=t,this.scalePos.y+=c,this.scalePos.z+=u)):o===1&&(this.scalePos.x+=t,this.scalePos.y+=c,this.scalePos.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this._indexPos),this._scale&&o.append(this.scalePos),o}worldDraw(o){const t=[];if(this.drawIndexIcon().forEach(c=>{o.drawEntity(c),t.push(c)}),this._scale){const c=new w.McDbText;c.height=this.height,c.textString=this._scaleValue,c.horizontalMode=w.McDb.TextHorzMode.kTextLeft,c.position=c.alignmentPoint=this.scalePos,o.drawEntity(c),t.push(c)}this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}drawIndexIcon(){const o=this._indexPos,t=new w.McDbCircle;t.radius=this._indexRadius,t.center=o;const c=new w.McDbLine(o.clone().addvec(w.McGeVector3d.kXAxis.clone().mult(this._indexRadius)),o.clone().subvec(w.McGeVector3d.kXAxis.clone().mult(this._indexRadius))),u=new w.McDbText;u.height=this.height*(5/4),u.textString=this._indexNumber.toString(),u.horizontalMode=w.McDb.TextHorzMode.kTextCenter,u.position=u.alignmentPoint=new w.McGePoint3d(o.x,o.y+this.height/4);const a=w.MxCpp.getCurrentMxCAD().drawEntity(u),{minPt:r,maxPt:i}=a.getMcDbEntity().getBoundingBox();a.erase(),u.widthFactor=this._indexRadius*(2/3)/(i.x-r.x);const s=new w.McDbText;s.height=this.height*(5/4),s.textString=this._indexDrawNumber,s.horizontalMode=w.McDb.TextHorzMode.kTextCenter,s.position=s.alignmentPoint=new w.McGePoint3d(o.x,o.y-this.height*(5/4));const e=w.MxCpp.getCurrentMxCAD().drawEntity(s),{minPt:n,maxPt:d}=e.getMcDbEntity().getBoundingBox();return e.erase(),s.widthFactor=this._indexRadius*(2/3)/(d.x-n.x),[t,c,u,s]}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function gl(D,o,t,c){return ot(this,null,function*(){const u=new hr;u.indexDrawNumber=D,u.indexNumber=o,u.scale=t,u.scaleValue=c;const a=new w.MxCADUiPrPoint;a.setMessage(`
${O("请指定索引图名的位置")}:`);const r=yield a.go();if(!r)return;u.indexPos=r,w.MxCpp.getCurrentMxCAD().drawEntity(u)})}var dr=(D=>(D[D.crossSection=0]="crossSection",D[D.sectionCutting=1]="sectionCutting",D))(dr||{}),Hn=(D=>(D[D.bothEnds=0]="bothEnds",D[D.start=1]="start",D[D.end=2]="end",D))(Hn||{}),ur=(D=>(D[D.sectionLine=0]="sectionLine",D[D.positionLine=1]="positionLine",D))(ur||{});class fr extends w.McDbCustomEntity{constructor(o){super(o),this._startPoint=new w.McGePoint3d,this.startPos=new w.McGePoint3d,this._startPos=new w.McGePoint3d,this._endPoint=new w.McGePoint3d,this.endPos=new w.McGePoint3d,this._endPos=new w.McGePoint3d,this._sectionDirection=!1,this._isShowSec=!1,this._markPos=0,this._markDirect=0,this._cutNum="",this.sliceLength=0,this.height=0,this._cutStyle=0,this._secNum="",this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new fr(o)}getTypeName(){return"McDbTestSliceSymbol"}set textHeight(o){this.height=o}get textHeight(){return this.height}set startPoint(o){this._startPoint=o.clone()}get startPoint(){return this._startPoint}set endPoint(o){this._endPoint=o.clone(),this.sliceLength||(this.sliceLength=lt.MxFun.screenCoordLong2Doc(30)),this.height||(this.height=this.sliceLength/2),this.getTextPos()}get endPoint(){return this._endPoint}set sectionDirection(o){this._sectionDirection=o,this.getTextPos()}get sectionDirection(){return this._sectionDirection}set isShowSec(o){this._isShowSec=o,this.getTextPos()}get isShowSec(){return this._isShowSec}set cutNum(o){this._cutNum=o}get cutNum(){return this._cutNum}set secNum(o){this._secNum=o}get secNum(){return this._secNum}set cutStyle(o){this._cutStyle=o}get cutStyle(){return this._cutStyle}set markPos(o){this._markPos=o}get markPos(){return this._markPos}set markDirect(o){this._markDirect=o}get markDirect(){return this._markDirect}dwgInFields(o){return this._startPoint=o.readPoint("startPoint").val,this.startPos=o.readPoint("startPos").val,this._startPos=o.readPoint("_startPos").val,this._endPoint=o.readPoint("endPoint").val,this.endPos=o.readPoint("endPos").val,this._endPos=o.readPoint("_endPos").val,this.height=o.readDouble("height").val,this._cutStyle=o.readLong("cutStyle").val,this._markDirect=o.readLong("markDirect").val,this._markPos=o.readLong("markPos").val,this.sliceLength=o.readDouble("sliceLength").val,this._cutNum=o.readString("cutNum").val,this._secNum=o.readString("secNum").val,this._sectionDirection=o.readLong("sectionDirection").val===1,this._isShowSec=o.readLong("isShowSec").val===1,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("startPoint",this._startPoint),o.writePoint("startPos",this.startPos),o.writePoint("_startPos",this._startPos),o.writePoint("endPoint",this._endPoint),o.writePoint("endPos",this.endPos),o.writePoint("_endPos",this._endPos),o.writeLong("sectionDirection",this._sectionDirection?1:0),o.writeLong("isShowSec",this._isShowSec?1:0),o.writeLong("cutStyle",this._cutStyle),o.writeLong("markPos",this._markPos),o.writeLong("markDirect",this._markDirect),o.writeLong("cutStyle",this._cutStyle),o.writeString("cutNum",this._cutNum),o.writeString("secNum",this._secNum),o.writeDouble("height",this.height),o.writeDouble("sliceLength",this.sliceLength),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=new w.McDbLine(this._startPoint,this._endPoint),r=this.endPoint.sub(this.startPoint);if(this.endPoint.x<this.startPoint.x&&r.negate(),o===0){if(this._startPoint.x+=t,this._startPoint.y+=c,this._startPoint.z+=u,this._startPoint=a.getClosestPointTo(this._startPoint,!0).val,this._startPoint.x>this._endPoint.x){const s=this.startPoint.clone();this._startPoint=this.endPoint.clone(),this.endPoint=s.clone()}this.getTextPos()}if(o===1){if(this._endPoint.x+=t,this._endPoint.y+=c,this._endPoint.z+=u,this._endPoint=a.getClosestPointTo(this._endPoint,!0).val,this._startPoint.x>this._endPoint.x){const s=this.startPoint.clone();this._startPoint=this.endPoint.clone(),this.endPoint=s.clone()}this.getTextPos()}else if(o===2){const s=r.angleTo2(this.startPos.sub(this.startPoint),w.McGeVector3d.kNegateZAxis);this.startPos.x+=t,this.startPos.y+=c,this.startPos.z+=u;const e=r.angleTo2(this.startPos.sub(this.startPoint),w.McGeVector3d.kNegateZAxis),n=a.getClosestPointTo(this.endPos,!0).val;s-Math.PI<0!=e-Math.PI<0&&(this._sectionDirection=!this._sectionDirection,this.endPos.addvec(this.endPos.sub(n).negate().mult(2)))}else if(o===3){const s=r.angleTo2(this.endPos.sub(this.endPoint),w.McGeVector3d.kNegateZAxis);this.endPos.x+=t,this.endPos.y+=c,this.endPos.z+=u;const e=r.angleTo2(this.endPos.sub(this.endPoint),w.McGeVector3d.kNegateZAxis),n=a.getClosestPointTo(this.startPos,!0).val;s-Math.PI<0!=e-Math.PI<0&&(this._sectionDirection=!this._sectionDirection,this.startPos.addvec(this.startPos.sub(n).negate().mult(2)))}const i=this.getGripPoints().length();this._isShowSec&&((this._markPos===0&&o===i-2||this._markPos===1&&o===i-1)&&(this._startPos.x+=t,this._startPos.y+=c,this._startPos.z+=u),(this._markPos===0&&o===i-1||this._markPos===2&&o===i-1)&&(this._endPos.x+=t,this._endPos.y+=c,this._endPos.z+=u))}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this._startPoint),o.append(this._endPoint),o.append(this.startPos),o.append(this.endPos),this._isShowSec&&((this._markPos===0||this._markPos===1)&&o.append(this._startPos),(this._markPos===0||this._markPos===2)&&o.append(this._endPos)),o}drawSliceIcon(){const o=[],{startPoint:t,endPoint:c}=this.getDirection(),u=c.sub(t).normalize();[t,c].forEach((i,s)=>{s===1&&u.negate();const e=i.clone().addvec(u.clone().mult(this.sliceLength)),n=s===0?u.clone().perpVector().mult(this.sliceLength/2):u.negate().clone().perpVector().mult(this.sliceLength/2);this._sectionDirection&&n.negate();const d=i.clone().subvec(n),l=new w.McDbPolyline,h=this.sliceLength/10;l.addVertexAt(e,0,h,h),l.addVertexAt(i,0,h,h),this._cutStyle===0&&l.addVertexAt(d,0,h,h);const p=new w.McDbText;p.textString=this._cutNum,p.height=this.height;const g=w.McGeVector3d.kYAxis.clone().mult(this.height/2);p.position=p.alignmentPoint=s===0?this.startPos.clone().subvec(g):this.endPos.clone().subvec(g),p.horizontalMode=w.McDb.TextHorzMode.kTextCenter,o.push(p,l)});const r=new w.McDbText;if(r.textString=this._secNum,r.height=this.height*(3/4),r.horizontalMode=w.McDb.TextHorzMode.kTextCenter,w.McGeVector3d.kYAxis.clone().mult(this.height/2),this._isShowSec){if(this._markPos===0||this._markPos===2){const i=r.clone();i.position=i.alignmentPoint=this._endPos.clone();const s=u.angleTo2(w.McGeVector3d.kYAxis);this._markDirect===1&&i.rotate(this._endPos,s),o.push(i)}if(this._markPos===0||this._markPos===1){const i=r.clone();i.position=i.alignmentPoint=this._startPos.clone();const s=u.angleTo2(w.McGeVector3d.kYAxis);this._markDirect===1&&i.rotate(this._startPos,s),o.push(i)}}return o}getTextPos(){const{startPoint:o,endPoint:t}=this.getDirection(),c=t.sub(o).normalize();[o,t].forEach((a,r)=>{r===1&&c.negate();const i=r===0?c.clone().perpVector().mult(this.sliceLength/2):c.negate().clone().perpVector().mult(this.sliceLength/2);this._sectionDirection&&i.negate();let s=new w.McGePoint3d;if(this._cutStyle===0?s=a.clone().subvec(i.clone().normalize().mult(this.height*2)):this._cutStyle===1&&(s=a.clone().subvec(i.clone().normalize().mult(this.height))),r===0?this.startPos=s:this.endPos=s,this._isShowSec){const e=a.clone().subvec(i),n=this.getDrawTextPos(c,e,r,a);r===0?this._startPos=n:this._endPos=n}})}getDirection(){let o,t;return this._startPoint.x<this._endPoint.x?(o=this._startPoint.clone(),t=this._endPoint.clone()):(o=this._endPoint.clone(),t=this._startPoint.clone()),{startPoint:o,endPoint:t}}getDrawTextPos(o,t,c,u){const a=o.clone().perpVector().normalize();this._sectionDirection&&a.negate();let r=new w.McGePoint3d;if(c===0)return this._markDirect===1?this._cutStyle===0?r=t.clone().subvec(o.clone().mult(this.height)):this._cutStyle===1&&(r=u.clone().addvec(a.mult(this.height*(1/3))),r.addvec(o.clone().mult(this.height*(1/3)))):this._markDirect===0&&(r=u.clone().addvec(o.clone().mult(this.sliceLength)),r.addvec(a.clone().mult(this.height))),r;if(c===1)return this._markDirect===1?this._cutStyle===0?r=t.clone().addvec(o.clone().normalize().mult(this.height*(1/3))):this._cutStyle===1&&(r=u.clone().addvec(a.mult(this.height*(1/3))),r.subvec(o.clone().mult(this.height))):this._markDirect===0&&(r=u.clone().addvec(o.clone().negate().mult(this.sliceLength)),r.addvec(a.clone().mult(this.height))),r}worldDraw(o){const t=[];this.drawSliceIcon().forEach(c=>{o.drawEntity(c),t.push(c)}),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function ml(D,o,t,c,u,a){return ot(this,null,function*(){const r=new fr;r.cutStyle=o,r.cutNum=D,r.isShowSec=t,r.markPos=c,r.markDirect=u,r.secNum=a;const i=new w.MxCADUiPrPoint;i.setMessage(`
${O("请指定第一个剖切点")}:`);const s=yield i.go();if(!s)return;r.startPoint=s;const e=new w.MxCADUiPrPoint;e.setMessage(`
${O("请指定第二个剖切点")}:`),e.setUserDraw((g,f)=>{const m=r.clone();m.endPoint=g,f.drawMcDbEntity(m)});const n=yield e.go();if(!n)return;r.endPoint=n;const d=new w.MxCADUiPrPoint;d.setMessage(`
${O("请指定剖视方向")}:`),d.setUserDraw((g,f)=>{const m=r.clone();(g.x-s.x)*(n.y-s.y)-(g.y-s.y)*(n.x-s.x)<0&&(m.sectionDirection=!m.sectionDirection),n.x<s.x&&(m.sectionDirection=!m.sectionDirection),f.drawMcDbEntity(m)});const l=yield d.go();if(!l)return;(l.x-s.x)*(n.y-s.y)-(l.y-s.y)*(n.x-s.x)<0&&(r.sectionDirection=!r.sectionDirection),n.x<s.x&&(r.sectionDirection=!r.sectionDirection),w.MxCpp.getCurrentMxCAD().drawEntity(r)})}var pr=(D=>(D[D.start=0]="start",D[D.end=1]="end",D))(pr||{}),gr=(D=>(D[D.freeLabeling=0]="freeLabeling",D[D.alignmentMark=1]="alignmentMark",D))(gr||{});class mr extends w.McDbCustomEntity{constructor(o){super(o),this.markPoint=new w.McGePoint3d,this.directPt=new w.McGePoint3d,this.endPt=new w.McGePoint3d,this.height=0,this._precisionVal=3,this._initialHeight=0,this.markHeight="0",this._quadrant=0,this._textPos=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new mr(o)}getTypeName(){return"McDbTestElevationMark"}set precisionVal(o){this._precisionVal=o}get precisionVal(){return this._precisionVal}set initialHeight(o){this._initialHeight=o}get initialHeight(){return this._initialHeight}set textPos(o){this._textPos=o}get textPos(){return this._textPos}set quadrant(o){this._quadrant=o}get quadrant(){return this._quadrant}dwgOutFields(o){return o.writePoint("markPoint",this.markPoint),o.writePoint("directPt",this.directPt),o.writePoint("endPt",this.endPt),o.writeDouble("height",this.height),o.writeDouble("height",this.height),o.writeDouble("initialHeight",this._initialHeight),o.writeLong("precisionVal",this._precisionVal),o.writeLong("quadrant",this._quadrant),o.writeLong("textPos",this._textPos),o.writeString("markHeight",this.markHeight),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}dwgInFields(o){return this.markPoint=o.readPoint("markPoint").val,this.directPt=o.readPoint("directPt").val,this.endPt=o.readPoint("endPt").val,this.height=o.readDouble("height").val,this._initialHeight=o.readDouble("initialHeight").val,this.markHeight=o.readString("markHeight").val,this._precisionVal=o.readLong("precisionVal").val,this._textPos=o.readLong("textPos").val,this._quadrant=o.readLong("quadrant").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this.markPoint.x+=t,this.markPoint.y+=c,this.markPoint.z+=u,this.directPt.x+=t,this.directPt.y+=c,this.directPt.z+=u,this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u;else if(o===1){const a=this.directPt.clone();a.x+=t,a.y+=c,a.z+=u,this.countQuadrant(a)}else if(o===2){const a=this.endPt.clone(),r=this.endPt.sub(this.directPt).normalize().mult(2*this.height),i=this.directPt.clone().addvec(r),s=a.x+t;this._quadrant===1||this._quadrant===4?s>i.x?this.endPt.x+=t:this.endPt.x=i.x:(this._quadrant===2||this._quadrant===3)&&(s<i.x?this.endPt.x+=t:this.endPt.x=i.x)}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.markPoint),o.append(this.directPt),o.append(this.endPt),o}worldDraw(o){const t=[],c=new w.McDbText;c.height=this.height,c.textString=this.markHeight,this._textPos===0?c.position=c.alignmentPoint=this._quadrant===3||this._quadrant===4?this.endPt.clone().subvec(w.McGeVector3d.kYAxis.clone().mult(this.height*(5/4))):this.endPt.clone().addvec(w.McGeVector3d.kYAxis.clone().mult(1/4*this.height)):c.position=c.alignmentPoint=this._quadrant===3||this._quadrant===4?this.directPt.clone().subvec(w.McGeVector3d.kYAxis.clone().mult(this.height*(5/4))):this.directPt.clone().addvec(w.McGeVector3d.kYAxis.clone().mult(1/4*this.height));const u=w.McGeVector3d.kXAxis.clone().mult(this.height*2);let a;this._quadrant===1||this._quadrant===4?(a=this.directPt.clone().addvec(u),this._textPos===0?c.horizontalMode=w.McDb.TextHorzMode.kTextRight:this._textPos===1&&(c.horizontalMode=w.McDb.TextHorzMode.kTextLeft)):(a=this.directPt.clone().subvec(u),this._textPos===0?c.horizontalMode=w.McDb.TextHorzMode.kTextLeft:this._textPos===1&&(c.horizontalMode=w.McDb.TextHorzMode.kTextRight));const r=new w.McDbPolyline;r.addVertexAt(a),r.addVertexAt(this.markPoint),r.addVertexAt(this.directPt),r.addVertexAt(this.endPt),o.drawEntity(r),o.drawEntity(c),t.push(r),t.push(c),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}countQuadrant(o){const t=w.McGeVector3d.kYAxis.clone().mult(this.height),c=w.McGeVector3d.kXAxis.clone().mult(this.height);if(o&&(o.y>this.markPoint.y?o.x>this.markPoint.x?this._quadrant=1:this._quadrant=2:o.x>this.markPoint.x?this._quadrant=4:this._quadrant=3),this._quadrant===1||this._quadrant===2){const n=this.markPoint.clone().addvec(t);this._quadrant===1?this.directPt=n.clone().subvec(c):this.directPt=n.clone().addvec(c)}if(this._quadrant===3||this._quadrant===4){const n=this.markPoint.clone().subvec(t);this._quadrant===4?this.directPt=n.clone().subvec(c):this.directPt=n.clone().addvec(c)}const u=new w.McDbText;u.height=this.height,u.textString=this.markHeight;const a=w.MxCpp.getCurrentMxCAD().drawEntity(u),{minPt:r,maxPt:i}=a.getMcDbEntity().getBoundingBox();a.erase();const s=i.x-r.x+this.height*(7/2),e=w.McGeVector3d.kXAxis.clone().mult(s);this._quadrant===1||this._quadrant===4?this.endPt=this.directPt.clone().addvec(e):this.endPt=this.directPt.clone().subvec(e)}setMarkPoint(o){this.markPoint=o.clone(),this.height||(this.height=lt.MxFun.screenCoordLong2Doc(15)),this.markHeight=(this.markPoint.y-this._initialHeight).toFixed(this._precisionVal),this._quadrant?this.countQuadrant():this.countQuadrant(this.markPoint)}getMarkPoint(){return this.markPoint}setDirectPt(o){this.countQuadrant(o)}getDirectPt(){return this.directPt}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function bl(D,o,t){return ot(this,null,function*(){let c=new w.McGePoint3d;const u=new mr;u.precisionVal=D,u.textPos=t;const a=new w.MxCADUiPrPoint;a.setMessage(O("请点取标高点")+":"),a.setUserDraw((l,h)=>{const p=u.clone();p.initialHeight=l.y,p.setMarkPoint(l),h.drawMcDbEntity(p)});const r=yield a.go();if(!r)return;c=r.clone(),u.initialHeight=r.y,u.setMarkPoint(r);const i=new w.MxCADUiPrPoint;i.setMessage(O("点取标高方向")+":"),i.setUserDraw((l,h)=>{const p=u.clone();p.setDirectPt(l),h.drawMcDbEntity(p)});const s=yield i.go();if(!s)return;u.setDirectPt(s);const e=w.MxCpp.getCurrentMxCAD();e.drawEntity(u);const n=new w.McDbLine(r.x,0,0,r.x,r.y,r.z);let d=new w.McGePoint3d;for(;;){const l=new w.MxCADUiPrPoint;l.setMessage(O("请点取下一点")+":"),l.setUserDraw((g,f)=>{const m=u.clone();o===1?d=n.getClosestPointTo(g,!0).val:d=g.clone(),m.setMarkPoint(d),f.drawMcDbEntity(m);const y=new w.McDbLine(c.x,c.y,c.z,d.x,d.y,d.z);f.drawMcDbEntity(y)});const h=yield l.go();if(!h)return;c=h.clone();const p=u.clone();p.setMarkPoint(d),e.drawEntity(p)}})}var br=(D=>(D[D.NationalMarking=0]="NationalMarking",D[D.TraditionalMarking=1]="TraditionalMarking",D))(br||{});class yr extends w.McDbCustomEntity{constructor(o){super(o),this._textName="",this.height=0,this._markPos=new w.McGePoint3d,this.scalePos=new w.McGePoint3d,this._scale=!1,this._scaleValue="",this._markStyle=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new yr(o)}getTypeName(){return"McDbTestMapTitleMark"}set textHeight(o){this.height=o}get textHeight(){return this.height}set markStyle(o){this._markStyle=o}get markStyle(){return this._markStyle}set markPos(o){this._markPos=o.clone(),this.height||(this.height=lt.MxFun.screenCoordLong2Doc(15));const{minPt:t,maxPt:c}=this.getTextLength();this.scalePos=new w.McGePoint3d(c.x,t.y).addvec(w.McGeVector3d.kXAxis.clone().mult(this.height*(2/3)))}get markPos(){return this._markPos}set textName(o){this._textName=o;const{minPt:t,maxPt:c}=this.getTextLength();this.scalePos=new w.McGePoint3d(c.x,t.y).addvec(w.McGeVector3d.kXAxis.clone().mult(this.height*(2/3)))}get textName(){return this._textName}set scaleValue(o){this._scaleValue=o}get scaleValue(){return this._scaleValue}set scale(o){this._scale=o}get scale(){return this._scale}dwgInFields(o){return this._markPos=o.readPoint("markPos").val,this.scalePos=o.readPoint("scalePos").val,this.height=o.readDouble("height").val,this._textName=o.readString("textName").val,this._scaleValue=o.readString("scaleValue").val,this.scale=o.readLong("scale").val==1,this._markStyle=o.readLong("markStyle").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("markPos",this._markPos),o.writePoint("scalePos",this.scalePos),o.writeDouble("height",this.height),o.writeString("textName",this._textName),o.writeString("scaleValue",this._scaleValue),o.writeLong("scale",this._scale?1:0),o.writeLong("markStyle",this._markStyle),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this._markPos.x+=t,this._markPos.y+=c,this._markPos.z+=u,this.scalePos.x+=t,this.scalePos.y+=c,this.scalePos.z+=u;else if(o===1){const a=new w.McDbLine(this.scalePos.x,this.scalePos.y,this.scalePos.z,this.markPos.x,this.markPos.y,this.markPos.z),r=this.scalePos.clone();r.x+=t,r.y+=c,r.z+=u,this.scalePos=a.getClosestPointTo(r,!0).val}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this._markPos),this._scale&&o.append(this.scalePos),o}worldDraw(o){const t=[],{minPt:c,maxPt:u,text:a}=this.getTextLength();o.drawEntity(a),t.push(a);let r;if(r=new w.McGePoint3d(u.x,c.y),this._scale){const h=new w.McDbText;h.height=this.height*(2/3),h.textString=this._scaleValue,h.position=h.alignmentPoint=this.scalePos,h.horizontalMode=w.McDb.TextHorzMode.kTextLeft;const p=w.MxCpp.getCurrentMxCAD().drawEntity(h),{minPt:g,maxPt:f}=p.getMcDbEntity().getBoundingBox();p.erase(),this._markStyle===1&&(r=new w.McGePoint3d(f.x,c.y)),o.drawEntity(h),t.push(h)}const i=w.McGeVector3d.kYAxis.clone().negate().mult(this.height/4),s=this._markPos.clone().addvec(i),e=this.height/5,n=c.clone(),d=new w.McDbPolyline;d.addVertexAt(n,0,e,e),d.addVertexAt(r,0,e,e),d.move(this._markPos,s),d.isClosed=!0,o.drawEntity(d),t.push(d);const l=new w.McDbLine(n.x,n.y,n.z,r.x,r.y,r.z);l.move(this._markPos,s.clone().addvec(i.clone())),o.drawEntity(l),t.push(l),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}getTextLength(){const o=new w.McDbText;o.height=this.height,o.textString=this._textName,o.position=o.alignmentPoint=this._markPos,o.horizontalMode=w.McDb.TextHorzMode.kTextCenter;const t=w.MxCpp.getCurrentMxCAD().drawEntity(o),{minPt:c,maxPt:u}=t.getMcDbEntity().getBoundingBox();return t.erase(),{minPt:c,maxPt:u,text:o}}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function yl(D,o,t,c){return ot(this,null,function*(){const u=new yr;u.textName=D,u.scale=o,u.scaleValue=t,u.markStyle=c;const a=new w.MxCADUiPrPoint;a.setMessage(`
${O("请指定图名标注位置")}:`),a.setUserDraw((s,e)=>{const n=u.clone();n.markPos=s,e.drawMcDbEntity(n)});const r=yield a.go();if(!r)return;u.markPos=r,w.MxCpp.getCurrentMxCAD().drawEntity(u)})}class wr extends w.McDbCustomEntity{constructor(o){super(o),this.startPoint=new w.McGePoint3d,this.endPoint=new w.McGePoint3d,this._breakWidth=0,this._breakCount=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new wr(o)}getTypeName(){return"McDbTestFractureLine"}set breakWidth(o){this._breakWidth=o}get breakWidth(){return this._breakWidth}set breakCount(o){this._breakCount=o}get breakCount(){return this._breakCount}dwgInFields(o){return this.startPoint=o.readPoint("startPoint").val,this.endPoint=o.readPoint("endPoint").val,this._breakWidth=o.readDouble("breakWidth").val,this._breakCount=o.readLong("breakCount").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("startPoint",this.startPoint),o.writePoint("endPoint",this.endPoint),o.writeDouble("breakWidth",this._breakWidth),o.writeLong("breakCount",this._breakCount),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.startPoint.x+=t,this.startPoint.y+=c,this.startPoint.z+=u):o===1&&(this.endPoint.x+=t,this.endPoint.y+=c,this.endPoint.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPoint),o.append(this.endPoint),o}worldDraw(o){const t=[];this._breakWidth||(this.breakWidth=lt.MxFun.screenCoordLong2Doc(30));const c=this.getBreakPoint(),u=new w.McDbPolyline;u.addVertexAt(this.startPoint),c.length>0&&c.forEach(a=>{u.addVertexAt(a)}),u.addVertexAt(this.endPoint),o.drawEntity(u),t.push(u),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setStartPoint(o){this.startPoint=o.clone()}getStartPoint(){return this.startPoint}setEndPoint(o){this.endPoint=o.clone()}getEndPoint(){return this.endPoint}getBreakPoint(){let o=[];const t=this.endPoint.sub(this.startPoint).normalize(),c=this.endPoint.distanceTo(this.startPoint),u=Math.floor(c/this._breakWidth);let a=this._breakCount;if(u<1)return[];u<this._breakCount&&(a=u);const r=c/a;for(let i=1;i<=a;i++){const s=this.startPoint.clone().addvec(t.clone().mult(c/a*i-r/2)),e=s.clone().subvec(t.clone().mult(this._breakWidth/2)),n=e.clone().addvec(t.clone().mult(this._breakWidth/4)).addvec(t.clone().perpVector().mult(this._breakWidth*(2/3))),d=s.clone().addvec(t.clone().mult(this._breakWidth/2)),l=d.clone().subvec(t.clone().mult(this._breakWidth/4)).subvec(t.clone().perpVector().mult(this._breakWidth*(2/3)));o.push(e,n,l,d)}return o}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function wl(){return ot(this,null,function*(){const D=new wr,o=new w.MxCADUiPrInt;o.setMessage(`
${O("请设置折断数")}:`);let t=yield o.go();(!t||t<1)&&(t=1),D.breakCount=t;const c=new w.MxCADUiPrPoint;c.setMessage(`
${O("请设置断线起点")}:`);const u=yield c.go();if(!u)return;D.setStartPoint(u);const a=new w.MxCADUiPrPoint;a.setMessage(`
${O("请设置断线结束点")}:`),a.setUserDraw((i,s)=>{const e=D.clone();e.setEndPoint(i),s.drawMcDbEntity(e)});const r=yield a.go();r&&(D.setEndPoint(r),w.MxCpp.getCurrentMxCAD().drawEntity(D))})}class xr extends w.McDbCustomEntity{constructor(o){super(o),this.startPoint=new w.McGePoint3d,this.endPoint=new w.McGePoint3d,this.midPt=new w.McGePoint3d,this.movePt=new w.McGePoint3d,this.tPoint=new w.McGePoint3d,this._axisLength=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new xr(o)}getTypeName(){return"McDbTestAxisOfSymmetry"}dwgInFields(o){return this.startPoint=o.readPoint("startPoint").val,this.endPoint=o.readPoint("endPoint").val,this.midPt=o.readPoint("midPt").val,this.movePt=o.readPoint("movePt").val,this.tPoint=o.readPoint("tPoint").val,this._axisLength=o.readDouble("axisLength").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("startPoint",this.startPoint),o.writePoint("endPoint",this.endPoint),o.writePoint("midPt",this.midPt),o.writePoint("movePt",this.movePt),o.writePoint("tPoint",this.tPoint),o.writeDouble("axisLength",this._axisLength),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){var s,e;this.assertWrite();const a=this.startPoint.distanceTo(this.midPt),r=this.movePt.distanceTo(this.midPt),i=this.midPt.distanceTo(this.tPoint);if(o===0)this.startPoint.x+=t,this.startPoint.y+=c,this.startPoint.z+=u,this.getMovePoints(a,r,i);else if(o===1)this.endPoint.x+=t,this.endPoint.y+=c,this.endPoint.z+=u,this.getMovePoints(a,r,i);else if(o===2){const n=this.midPt.clone();n.x+=t,n.y+=c,n.z+=u;const d=new w.McDbLine(this.startPoint,this.endPoint),l=d.getClosestPointTo(n,!1),h=((s=d.getLength())==null?void 0:s.val)/2-this.midPt.distanceTo(this.movePt);if(l.val&&this.startPoint.distanceTo(l.val)<=h){const p=l.val.x-this.midPt.x,g=l.val.y-this.midPt.y,f=l.val.z-this.midPt.z;this.midPt=l.val,this.movePt.x+=p,this.movePt.y+=g,this.movePt.z+=f,this.tPoint.x+=p,this.tPoint.y+=g,this.tPoint.z+=f}}else if(o===3){const n=this.movePt.clone();n.x+=t,n.y+=c,n.z+=u;const d=new w.McDbLine(this.startPoint,this.endPoint),l=d.getClosestPointTo(n,!1);((e=l.val)==null?void 0:e.distanceTo(this.startPoint))<=d.getLength().val/2&&(this.movePt=l.val)}else if(o===4){const n=this.tPoint.clone();n.x+=t,n.y+=c,n.z+=u;const l=new w.McDbLine(this.midPt,this.tPoint).getClosestPointTo(n,!0);this.tPoint=l.val}}getMovePoints(o,t,c){let u,a;if(this.startPoint.x<this.endPoint.x?(u=this.startPoint.clone(),a=this.endPoint.clone()):(u=this.endPoint.clone(),a=this.startPoint.clone()),this.endPoint.distanceTo(this.startPoint)<(o+t)*2){const i=this.endPoint.sub(this.startPoint).normalize();a=this.startPoint.addvec(i.clone().mult((o+t)*2))}const r=a.sub(u).normalize();this.midPt=u.clone().addvec(r.clone().mult(o)),this.movePt=this.midPt.clone().addvec(r.clone().mult(t)),this.tPoint=this.midPt.clone().addvec(r.clone().perpVector().mult(c)),this.endPoint=a,this.startPoint=u}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPoint),o.append(this.endPoint),o.append(this.midPt),o.append(this.movePt),o.append(this.tPoint),o}worldDraw(o){const t=[];this._axisLength||(this._axisLength=lt.MxFun.screenCoordLong2Doc(10)),this.drawAxiosIcon().forEach(u=>{o.drawEntity(u),t.push(u)});const c=new w.McDbPolyline;c.addVertexAt(this.startPoint),c.addVertexAt(this.endPoint),o.drawEntity(c),t.push(c),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}drawAxiosIcon(){let o,t;this.startPoint.x<this.endPoint.x?(o=this.startPoint.clone(),t=this.endPoint.clone()):(o=this.endPoint.clone(),t=this.startPoint.clone()),this.midPt.distanceTo(this.movePt)==0&&this.getMovePoints(this._axisLength/2,this._axisLength*(5/8),this._axisLength);const c=this.midPt.clone().addvec(this.midPt.sub(this.tPoint)),u=new w.McDbLine(this.tPoint,c),a=u.clone();a.move(this.midPt,this.movePt);const r=t.clone().subvec(this.midPt.sub(o)),i=u.clone(),s=a.clone();return i.move(this.movePt,r),s.move(this.movePt,r),[u,a,i,s]}setStartPoint(o){this.startPoint=o.clone()}getStartPoint(){return this.startPoint}setEndPoint(o){this.endPoint=o.clone()}getEndPoint(){return this.endPoint}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function xl(){return ot(this,null,function*(){const D=new xr,o=new w.MxCADUiPrPoint;o.setMessage(`
${O("请设置对称轴起点")}:`);const t=yield o.go();if(!t)return;D.setStartPoint(t);const c=new w.MxCADUiPrPoint;c.setMessage(`
${O("请设置对称轴结束点")}:`),c.setUserDraw((a,r)=>{const i=D.clone();i.setEndPoint(a),r.drawMcDbEntity(i)});const u=yield c.go();u&&(D.setEndPoint(u),w.MxCpp.getCurrentMxCAD().drawEntity(D))})}class vr extends w.McDbCustomEntity{constructor(o){super(o),this.compassPos=new w.McGePoint3d,this.pointerPt=new w.McGePoint3d(this.compassPos.x,this.compassPos.y+this.campassRadius),this._campassRadius=lt.MxFun.screenCoordLong2Doc(20),this.height=this._campassRadius/4,this.textPos=new w.McGePoint3d,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new vr(o)}getTypeName(){return"McDbTestCompass"}set campassRadius(o){this._campassRadius=o}get campassRadius(){return this._campassRadius}dwgInFields(o){return this.compassPos=o.readPoint("compassPos").val,this.pointerPt=o.readPoint("pointerPt").val,this.textPos=o.readPoint("textPos").val,this._campassRadius=o.readDouble("campassRadius").val,this.height=o.readDouble("height").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("pointerPt",this.pointerPt),o.writePoint("compassPos",this.compassPos),o.writePoint("textPos",this.textPos),o.writeDouble("campassRadius",this._campassRadius),o.writeDouble("height",this.height),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=this.pointerPt.sub(this.compassPos),r=new w.McDbCircle(this.compassPos.x,this.compassPos.y,this.compassPos.y,this._campassRadius);if(o===0){this.pointerPt.x+=t,this.pointerPt.y+=c,this.pointerPt.z+=u,this.pointerPt=r.getClosestPointTo(this.pointerPt,!1).val;const i=this.pointerPt.sub(this.compassPos),s=this.textPos.sub(this.compassPos);s.rotateBy(i.angleTo2(a,w.McGeVector3d.kNegateZAxis)),this.textPos=this.compassPos.clone().addvec(s)}else o===1?(this.compassPos.x+=t,this.compassPos.y+=c,this.compassPos.z+=u,this.textPos.x+=t,this.textPos.y+=c,this.textPos.z+=u,this.pointerPt.x+=t,this.pointerPt.y+=c,this.pointerPt.z+=u):o===2&&(this.textPos.x+=t,this.textPos.y+=c,this.textPos.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.pointerPt),o.append(this.compassPos),o.append(this.textPos),o}worldDraw(o){const t=[],c=new w.McDbCircle(this.compassPos.x,this.compassPos.y,this.compassPos.z,this.campassRadius);o.drawEntity(c),t.push(c);const u=this.pointerPt.sub(this.compassPos).normalize().mult(this._campassRadius),a=this.compassPos.clone().subvec(u.rotateBy(Math.PI*(1/36))),r=this.compassPos.clone().subvec(u.rotateBy(Math.PI*2*(35/36))),i=new w.McDbHatch;i.appendLoop(new w.McGePoint3dArray([a,r,this.pointerPt])),o.drawEntity(i),t.push(i);const s=new w.McDbText;s.textString="北",s.height=this.height,s.horizontalMode=w.McDb.TextHorzMode.kTextCenter,s.position=s.alignmentPoint=this.textPos,o.drawEntity(s),t.push(s),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setCompassPos(o){this.compassPos=o.clone()}getCompassPos(){return this.compassPos}setPointerPt(o){const t=new w.McDbCircle(this.compassPos.x,this.compassPos.y,this.compassPos.z,this._campassRadius);this.pointerPt=t.getClosestPointTo(o,!1).val;const c=this.pointerPt.sub(this.compassPos).normalize();this.textPos=this.pointerPt.clone().addvec(c.mult(this._campassRadius/4))}getPointerPt(){return this.pointerPt}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function vl(){return ot(this,null,function*(){const D=new vr,o=new w.MxCADUiPrPoint;o.setMessage(`
${O("请设置指北针位置")}:`);const t=yield o.go();if(!t)return;D.setCompassPos(t);const c=new w.MxCADUiPrPoint;c.setBasePt(t),c.setMessage(`
${O("请设置指北针方向")}:`),c.setUserDraw((a,r)=>{const i=D.clone();i.setPointerPt(a),r.drawMcDbEntity(i);const s=new w.McDbLine(t.x,t.y,t.z,a.x,a.y,a.z);r.drawMcDbEntity(s)});let u=yield c.go();u||(u=t.clone().addvec(w.McGeVector3d.kYAxis.clone().mult(D.campassRadius))),D.setPointerPt(u),w.MxCpp.getCurrentMxCAD().drawEntity(D)})}var Dn=(D=>(D[D.SingleAxis=0]="SingleAxis",D[D.AxisGrid=1]="AxisGrid",D))(Dn||{});function Lo(){return ot(this,null,function*(){for(;;){const D=new w.MxCADUiPrPoint;D.setMessage(`
${O("指定轴线起点")}:`);const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrDist;t.setBasePt(o),t.setMessage(`
${O("指定轴线终点或输入长度")}:`);const c=new w.McDbLine(o,new w.McGePoint3d(o.x+1,o.y,0)),u=new w.McDbLine(o,new w.McGePoint3d(o.x,o.y+1,0));let a=new w.McGePoint3d;const r=w.MxCpp.getCurrentMxCAD();t.setUserDraw((l,h)=>{const p=c.getClosestPointTo(l,!0).val,g=u.getClosestPointTo(l,!0).val;let f;const m=o.distanceTo(l);if(p.distanceTo(l)>g.distanceTo(l)){const C=g.sub(o).normalize().mult(m);f=o.clone().addvec(C)}else{const C=p.sub(o).normalize().mult(m);f=o.clone().addvec(C)}const y=new w.McDbLine(o,f);let v=r.database.getLinetypeTable().get("DASHED");y.linetypeId=v,y.linetypeScale=lt.MxFun.screenCoordLong2Doc(.1),h.setColor(16776960),h.drawMcDbEntity(y),a=f});const i=yield t.go();if(!i)return;const s=a.sub(o).normalize().mult(i),e=o.clone().addvec(s),n=new w.McDbLine(o,e);n.trueColor=new w.McCmColor(255,0,0);const d=r.getDatabase().getLayerTable();if(d.has("A-AXIS_轴线"))n.layerId=d.get("A-AXIS_轴线");else{const l=r.addLayer("A-AXIS_轴线");n.layerId=l}w.MxCpp.getCurrentMxCAD().drawEntity(n)}})}class _l{constructor(){this.leftPoints=[],this.rightPoints=[],this.upPoints=[],this.downPoints=[],this.dataArr=[],this.isAddLabel=!0,this.isAddId=!0,this.dataInfo={fontSizel:.15,arrawSize:.1,fontSizeI:35,radius:35},this.point=new w.McGePoint3d(0,0,0),this.len=lt.MxFun.screenCoordLong2Doc(20)}getAxiosLine(o,t){this.leftPoints.length=this.rightPoints.length=this.upPoints.length=this.downPoints.length=0;const c=[],u=[];let a=[],r=[];for(let S=0;S<4;S++){let I=0;const z=JSON.parse(JSON.stringify(t));t[S].forEach((V,L)=>{if(V.num>1){const U=[];for(let G=0;G<V.num;G++)U.push({num:1,interval:V.interval});z[S].splice(L,1,...U)}}),t[S]=z[S],t[S]=t[S].filter(V=>{if(V.interval>0)return I+=V.interval*V.num,V.relativeDist=I,S===0||S===1?a.push(I):r.push(I),!0}),u.push(I)}const i=Math.max(u[0],u[1]),s=Math.max(u[2],u[3]),e=w.McGeVector3d.kXAxis.clone(),n=o.clone().addvec(e.clone().mult(s)),d=o.clone().subvec(e.clone().mult(this.len)),l=new w.McDbLine(n.clone().addvec(e.clone().mult(this.len)),d);c.push(l);const h=w.McGeVector3d.kYAxis.clone(),p=o.clone().addvec(h.clone().mult(i)),g=o.clone().subvec(h.clone().mult(this.len)),f=new w.McDbLine(p.clone().addvec(h.clone().mult(this.len)),g);c.push(f);const m=l.clone();m.move(o,p),c.push(m);const y=f.clone();y.move(o,n),c.push(y);const v=Array.from(new Set(a)).length,C=Array.from(new Set(r)).length;return this.leftPoints.push({point:o,index:String.fromCharCode(64+1)},{point:p,index:String.fromCharCode(64+v+1)}),this.downPoints.push({point:o,index:1},{point:n,index:C+1}),this.rightPoints.push({point:n,index:String.fromCharCode(64+1)},{point:new w.McGePoint3d(n.x,p.y),index:String.fromCharCode(64+v+1)}),this.upPoints.push({point:p,index:1},{point:new w.McGePoint3d(n.x,p.y),index:C+1}),a=Array.from(new Set(a)).sort((S,I)=>S-I),a.forEach((S,I)=>{const z=w.McGeVector3d.kYAxis.clone(),V=w.McGeVector3d.kXAxis.clone(),L=t[0].filter(G=>G.relativeDist===S),U=t[1].filter(G=>G.relativeDist===S);if(L.length>0&&S!=i){const G=o.clone().addvec(z.clone().mult(S)),H=G.clone().addvec(V.clone().mult(s-this.len/2)),A=G.clone().subvec(V.clone().mult(this.len)),N=new w.McDbLine(H,A);c.push(N),this.leftPoints.splice(this.leftPoints.length-1,0,{point:G,index:String.fromCharCode(64+I+2)})}if(U.length>0&&S!=i){const G=n.clone().addvec(z.clone().mult(S)),H=G.clone().addvec(V.clone().mult(this.len)),A=G.clone().subvec(V.clone().mult(s-this.len/2)),N=new w.McDbLine(H,A);c.push(N),this.rightPoints.splice(this.rightPoints.length-1,0,{point:G,index:String.fromCharCode(64+I+2)})}}),r=Array.from(new Set(r)).sort((S,I)=>S-I),r.forEach((S,I)=>{const z=w.McGeVector3d.kYAxis.clone(),V=w.McGeVector3d.kXAxis.clone(),L=t[2].filter(G=>G.relativeDist===S),U=t[3].filter(G=>G.relativeDist===S);if(L.length>0&&S!=s){const G=p.clone().addvec(V.clone().mult(S)),H=G.clone().addvec(z.clone().mult(this.len)),A=G.clone().subvec(z.clone().mult(i-this.len/2)),N=new w.McDbLine(H,A);c.push(N),this.upPoints.splice(this.upPoints.length-1,0,{point:G,index:I+2})}if(U.length>0&&S!=s){const G=o.clone().addvec(V.clone().mult(S)),H=G.clone().addvec(z.clone().mult(i-this.len/2)),A=G.clone().subvec(z.clone().mult(this.len)),N=new w.McDbLine(H,A);c.push(N),this.downPoints.splice(this.downPoints.length-1,0,{point:G,index:I+2})}}),c}drawLabel(){const o=[this.leftPoints.map(c=>c.point),this.rightPoints.map(c=>c.point),this.upPoints.map(c=>c.point),this.downPoints.map(c=>c.point)];if(!o.length)return[];const t=[];return o.forEach((c,u)=>{let a;switch(u){case 0:a=w.McGeVector3d.kXAxis.clone().negate().mult(this.len);break;case 1:a=w.McGeVector3d.kXAxis.clone().mult(this.len);break;case 2:a=w.McGeVector3d.kYAxis.clone().mult(this.len);break;case 3:a=w.McGeVector3d.kYAxis.clone().negate().mult(this.len);break}const r=(i,s,e)=>{if(i.distanceTo(s)===0)return!1;const n=new w.McDbAlignedDimension,d=i.clone().addvec(a),l=s.clone().addvec(a);n.xLine1Point=d,n.xLine2Point=l;const h=new w.McGePoint3d((d.x+l.x)/2,(d.y+l.y)/2);return n.dimLinePoint=e===0?h.addvec(a.clone().normalize().mult(4/3*this.len)):h.addvec(a.clone().normalize().mult(2/3*this.len)),n.textAttachment=w.McDb.AttachmentPoint.kTopCenter,n};c.forEach((i,s)=>{if(s>0&&c.length>2){const n=r(c[s-1],i,s);n&&t.push(n)}const e=c[0].distanceTo(c[c.length-1]);if(s===0&&e>0){const n=r(c[0],c[c.length-1],s);n&&t.push(n)}})}),t}drawId(o,t){const c=[],u=[this.leftPoints,this.rightPoints,this.upPoints,this.downPoints],a=(r,i,s)=>{if(!r.length)return[];r.forEach(e=>{const n=e.point.clone().addvec(i.clone().mult(4*this.len)),d=n.clone().addvec(i.clone().mult(t)),l=new w.McDbCircle(d.x,d.y,d.z,t),h=new w.McDbLine(e.point.clone().addvec(i.clone().mult(this.len)),n),p=new w.McDbText;p.textString=e.index,p.height=o,s===0?p.position=p.alignmentPoint=d.addvec(i.clone().perpVector().mult(p.height*(2/5))):s===1?p.position=p.alignmentPoint=d.subvec(i.clone().perpVector().mult(p.height*(2/5))):s===2?p.position=p.alignmentPoint=d.subvec(i.clone().mult(p.height*(2/5))):s===3&&(p.position=p.alignmentPoint=d.addvec(i.clone().mult(p.height*(2/5)))),p.horizontalMode=w.McDb.TextHorzMode.kTextCenter,c.push(l,h,p)})};return u.forEach((r,i)=>{let s;switch(i){case 0:s=w.McGeVector3d.kXAxis.clone().negate();break;case 1:s=w.McGeVector3d.kXAxis.clone();break;case 2:s=w.McGeVector3d.kYAxis.clone();break;case 3:s=w.McGeVector3d.kYAxis.clone().negate();break}a(r,s,i)}),c}drawAxisGrid(){const o=w.MxCpp.getCurrentMxCAD(),t=o.getDatabase().getCurrentlyLayerName(),c=o.getDatabase().getLayerTable();c.has("A-AXIS_轴线")||o.addLayer("A-AXIS_轴线"),o.drawLayer="A-AXIS_轴线",this.getAxiosLine(this.point,this.dataArr).forEach(u=>{u.trueColor=new w.McCmColor(255,0,0),o.drawEntity(u)}),c.has("PUB_DIM尺寸")||o.addLayer("PUB_DIM尺寸"),o.drawLayer="PUB_DIM尺寸",this.isAddLabel&&this.drawLabel().forEach(u=>{const a=o.drawDimStyle,r=`MyDimStyle-${this.dataInfo.fontSizel}-${this.dataInfo.arrawSize}`;o.addDimStyle(r,`41,${this.dataInfo.arrawSize},141,0.09,40,200,140,${this.dataInfo.fontSizel},145,-0.00001`,"77,0,271,0,178,3,176,3,177,3","",""),o.drawDimStyle=r;const i=u.xLine1Point,s=u.xLine2Point,e=u.dimLinePoint,n=o.drawDimAligned(i.x,i.y,s.x,s.y,e.x,e.y);n.getMcDbEntity().trueColor=new w.McCmColor(255,0,0),o.updateDisplay(),o.drawDimStyle=a}),this.isAddId&&this.drawId(this.dataInfo.fontSizeI,this.dataInfo.radius).forEach(u=>{u.trueColor=new w.McCmColor(0,255,0),o.drawEntity(u)}),o.drawLayer=t}}function Ml(D,o,t,c){return ot(this,null,function*(){const u=JSON.parse(JSON.stringify(D)),a=new _l;a.dataArr=u,a.isAddId=t,a.isAddLabel=o,a.dataInfo=c;const r=new w.MxCADUiPrPoint;r.setMessage(`
${O("点击指定轴网位置")}:`),r.setUserDraw((s,e)=>{a.len=lt.MxFun.screenCoordLong2Doc(20),a.getAxiosLine(s,u).forEach(n=>{e.drawMcDbEntity(n)})});const i=yield r.go();i&&(a.point=i,a.drawAxisGrid())})}const wn=(D,o,t,c)=>{const u=D.clone(),a=o.clone();D.x>o.x&&(D=a,o=u);const r=new w.McDbPolyline,i=o.sub(D).normalize().perpVector();let s=D.clone().addvec(i.clone().mult(t/2)),e=D.clone().addvec(i.clone().negate().mult(t/2)),n=o.clone().addvec(i.clone().negate().mult(t/2)),d=o.clone().addvec(i.clone().mult(t/2));const l={pt1Arr:[],pt2Arr:[],pt3Arr:[],pt4Arr:[]};if(c&&c.length>0){c.forEach(p=>{const g=p.distanceTo(D),f=p.distanceTo(o);if(g<f){const m=p.distanceTo(s),y=p.distanceTo(e);m<y?l.pt1Arr.push(p):l.pt2Arr.push(p)}else{const m=p.distanceTo(n),y=p.distanceTo(d);m<y?l.pt3Arr.push(p):l.pt4Arr.push(p)}});for(let p=0;p<4;p++)if(l[`pt${p+1}Arr`].length!==0){let g=null,f=new w.McGePoint3d;switch(p+1){case 1:f=d;break;case 2:f=n;break;case 3:f=e;break;case 4:f=s;break}l[`pt${p+1}Arr`].forEach(m=>{const y=m.distanceTo(f);if(!g||y<g)switch(g=y,p+1){case 1:s=m;break;case 2:e=m;break;case 3:n=m;break;case 4:d=m;break}})}}else r.addVertexAt(s),r.addVertexAt(e),r.addVertexAt(n),r.addVertexAt(d);r.isClosed=!0;const h=new w.McDbLine(D,o);return{pl:r,line:h,pt1:s,pt2:e,pt3:n,pt4:d}};class _r extends w.McDbCustomEntity{constructor(o){super(o),this.startPoint=new w.McGePoint3d,this._oldEndPoint=new w.McGePoint3d,this._oldStartPoint=new w.McGePoint3d,this.endPoint=new w.McGePoint3d,this._wallWidth=30,this._breakPoints=[],this._turnPoints=[],this._insterPoints=[],this.breakPtsCount=[],this._doorHandles=[],this.centerPoint=new w.McGePoint3d,this.oldCenterPoint=new w.McGePoint3d,this.doorBreakPoints=[],this.doorBreakPtsCount=[],this.doorInsterPoints=[],this.dol=1e-5,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new _r(o)}getTypeName(){return"McDbTestWall"}set wallWidth(o){this._wallWidth=o}get wallWidth(){return this._wallWidth}set breakPoints(o){this._breakPoints=o}get breakPoints(){return this._breakPoints}set turnPoints(o){this._turnPoints=o}get turnPoints(){return this._turnPoints}set insterPoints(o){this._insterPoints=o}get insterPoints(){return this._insterPoints}set breakPtsCounts(o){this.breakPtsCount=o}get breakPtsCounts(){return this.breakPtsCount}get oldStartPoint(){return this._oldStartPoint}get oldEndPoint(){return this._oldEndPoint}get doorHandles(){return this._doorHandles}set doorHandles(o){this._doorHandles=o,this.countDoorData()}get wallOldCenterPoint(){return this.oldCenterPoint}get wallCenterPoint(){return this.centerPoint}dwgInFields(o){this.startPoint=o.readPoint("startPoint").val,this.endPoint=o.readPoint("endPoint").val,this.centerPoint=o.readPoint("centerPoint").val,this._oldEndPoint=o.readPoint("oldEndPoint").val,this._oldStartPoint=o.readPoint("oldStartPoint").val,this.oldCenterPoint=o.readPoint("oldCenterPoint").val,this._breakPoints=o.readPoints("breakPoint").val,this._insterPoints=o.readPoints("insterPoints").val,this._turnPoints=o.readPoints("turnPoint").val,this._wallWidth=o.readDouble("wallWidth").val,this.doorBreakPoints=o.readPoints("doorBreakPoints").val,this.doorInsterPoints=o.readPoints("doorInsterPoints").val,this.dol=o.readDouble("dol").val;const t=o.readString("breakPtsCount").val;t&&(this.breakPtsCount=t.split(",").map(Number));const c=o.readString("doorBreakPtsCount").val;c&&(this.doorBreakPtsCount=c.split(",").map(Number));const u=o.readString("doorHandles").val;return u&&(this._doorHandles=u.split(",")),this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return this.startPoint.distanceTo(this.endPoint)>1e-5&&(this.centerPoint=this.startPoint.clone().addvec(this.endPoint.sub(this.startPoint).mult(1/2))),o.writePoint("endPoint",this.endPoint),o.writePoint("startPoint",this.startPoint),o.writePoint("centerPoint",this.centerPoint),o.writePoint("oldStartPoint",this._oldStartPoint),o.writePoint("oldEndPoint",this._oldEndPoint),o.writePoint("oldCenterPoint",this.oldCenterPoint),o.writePoints("breakPoint",this._breakPoints),o.writePoints("insterPoints",this._insterPoints),o.writePoints("turnPoint",this._turnPoints),o.writeDouble("wallWidth",this._wallWidth),o.writePoints("doorBreakPoints",this.doorBreakPoints),o.writePoints("doorInsterPoints",this.doorInsterPoints),o.writeDouble("dol",this.dol),this.breakPtsCount.length>0&&o.writeString("breakPtsCount",this.breakPtsCount.join(",")),this.doorBreakPtsCount.length>0&&o.writeString("doorBreakPtsCount",this.doorBreakPtsCount.join(",")),this._doorHandles.length>0&&o.writeString("doorHandles",this.doorHandles.join(",")),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=new w.McDbLine(this.startPoint,this.endPoint);if(this.oldCenterPoint=this.centerPoint.clone(),o===0){if(this._oldStartPoint=this.startPoint.clone(),this.startPoint.x+=t,this.startPoint.y+=c,this.startPoint.z+=u,this._doorHandles.length>0){const r=a.getClosestPointTo(this.startPoint,!0).val;this.startPoint=r.clone()}}else if(o===1){if(this._oldEndPoint=this.endPoint.clone(),this.endPoint.x+=t,this.endPoint.y+=c,this.endPoint.z+=u,this._doorHandles.length>0){const r=a.getClosestPointTo(this.endPoint,!0).val;this.endPoint=r.clone()}}else o===2&&(this.endPoint.x+=t,this.endPoint.y+=c,this.endPoint.z+=u,this.startPoint.x+=t,this.startPoint.y+=c,this.startPoint.z+=u);this.centerPoint=this.startPoint.clone().addvec(this.endPoint.sub(this.startPoint).mult(1/2))}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPoint),o.append(this.endPoint),o.append(this.centerPoint),o}worldDraw(o){const t=[],c=[...this._breakPoints],u=[...this.breakPtsCount],a=[...this._insterPoints];if(this._doorHandles.length>0&&(c.push(...this.doorBreakPoints),u.push(...this.doorBreakPtsCount),a.push(...this.doorInsterPoints),this.doorBreakPoints.length>0)){const l=[],h=[];this.doorBreakPoints.forEach((p,g)=>{if(g%2===0){if(l.push(p),l.length===2){const f=new w.McDbLine(l[0],l[1]);o.drawEntity(f),t.push(f),l.length=0}}else if(h.push(p),h.length===2){const f=new w.McDbLine(h[0],h[1]);o.drawEntity(f),t.push(f),h.length=0}})}const{pl:r,pt1:i,pt2:s,pt3:e,pt4:n}=wn(this.startPoint.clone(),this.endPoint.clone(),this._wallWidth,this._turnPoints);if(this.turnPoints.length>0||c.length>0){const l=[],h=new w.McDbLine(i,n),p=new w.McDbLine(s,e);l.push(p,h);const g=i.distanceTo(s),f=n.distanceTo(e);if(g-this._wallWidth<1e-5){const m=new w.McDbLine(s,i);this._turnPoints.length>0?this._turnPoints.filter(v=>s.distanceTo(v)<this.dol||i.distanceTo(v)<this.dol).length===0&&l.push(m):l.push(m)}if(f-this._wallWidth<1e-5){const m=new w.McDbLine(e,n);this._turnPoints.length>0?this._turnPoints.filter(v=>e.distanceTo(v)<this.dol||n.distanceTo(v)<this.dol).length===0&&l.push(m):l.push(m)}if(c.length>0){let m=0;const y=[],v=[];u.forEach(C=>{m+=C;const S=new w.McDbPolyline;if(m>0){const I=c.filter((z,V)=>V<m&&V>=m-C);I.forEach(z=>{S.addVertexAt(z)}),v.push(I)}y.push(S)}),l.forEach(C=>{const S=[],I=[],z=[];if(v.forEach(V=>{const L=V.filter(U=>C.getClosestPointTo(U,!1).val.distanceTo(U)<this.dol);L.length>0&&(I.push(...L),L.length%2===0?L.forEach((U,G)=>{if(G%2==0){const H=new w.McDbPolyline;H.addVertexAt(U),H.addVertexAt(L[G+1]),S.push(H)}}):z.push(...L))}),I.length>0)C.splitCurves(I).forEach(V=>{const L=V.clone(),U=L.startPoint.clone().addvec(L.endPoint.sub(L.startPoint).mult(1/2)),G=I.filter(A=>L.startPoint.distanceTo(A)<this.dol),H=I.filter(A=>L.endPoint.distanceTo(A)<this.dol);if(G.length===0||H.length===0)if(z.length===0)o.drawEntity(L),t.push(L);else{const A=z.filter(N=>L.getDistAtPoint(N).ret);A.length===0?(o.drawEntity(L),t.push(L)):A.forEach(N=>{y.length>0&&y.filter((x,_)=>{const P=x.numVerts();if(P===2)return this.countLineToPl(x,_,N,U,a);{let M=!1;for(let k=0;k<P;k++)if(k%2==0){const R=new w.McDbPolyline;R.addVertexAt(x.getPointAt(k).val),R.addVertexAt(x.getPointAt(k+1).val),this.countLineToPl(R,_,N,U,a)&&(M=!0)}return M}}).length===A.length&&(o.drawEntity(L),t.push(L))})}G.length!==0&&H.length!==0&&S.filter(N=>N.getClosestPointTo(U,!1).val.distanceTo(U)<this.dol).length===0&&(o.drawEntity(L),t.push(L))});else{const V=C.getLength().val;if(Math.abs(V-this._wallWidth)<this.dol){const L=C.getPointAtDist(C.getLength().val/2).val,U=a.map(E=>E.distanceTo(L)),G=U.findIndex(E=>E===Math.min(...U)),H=y[G],A=a[G];if(C.getClosestPointTo(A,!0).val.distanceTo(A)>this.dol){const x=H.getClosestPointTo(A,!0).val.distanceTo(A);if(C.getClosestPointTo(A,!0).val.distanceTo(A)>x)o.drawEntity(C),t.push(C);else{const P=L.sub(A),M=H.numVerts();if(M===2){const k=H.getPointAt(0).val.sub(H.getPointAt(1).val),R=Number((P.angleTo1(k)*(180/Math.PI)).toFixed(4));(R===0||R===180)&&(o.drawEntity(C),t.push(C))}else{let k=0;for(let R=0;R<M;R++)if(R%2==0){const F=new w.McDbPolyline;F.addVertexAt(H.getPointAt(R).val),F.addVertexAt(H.getPointAt(R+1).val),F.trueColor=new w.McCmColor(255,0,0);const q=F.getPointAt(0).val.sub(F.getPointAt(1).val),X=Number((P.angleTo1(q)*(180/Math.PI)).toFixed(4));(X===0||X===180)&&(k+=1)}k===M/2&&(o.drawEntity(C),t.push(C))}}}}else o.drawEntity(C),t.push(C)}})}else l.forEach((m,y)=>{if(y<2)o.drawEntity(m),t.push(m);else{const v=m.getLength().val,C=this._turnPoints.filter(S=>S.distanceTo(m.startPoint)<this.dol||S.distanceTo(m.endPoint)<this.dol);Math.abs(v-this._wallWidth)<this.dol&&C.length===0&&(o.drawEntity(m),t.push(m))}})}!c.length&&!this.turnPoints.length&&(o.drawEntity(r),t.push(r));const d=new w.McDbLine(this.startPoint,this.endPoint);o.drawOsnapEntity(d),this.getBox(t)}getBox(o){w.MxCpp.getCurrentMxCAD();let t,c=null;o.forEach(u=>{const{minPt:a,maxPt:r,ret:i}=u.getBoundingBox();t||(t=a.clone()),c||(c=r.clone()),a.x<t.x&&(t.x=a.x),a.y<t.y&&(t.y=a.y),r.x>c.x&&(c.x=r.x),r.y>c.y&&(c.y=r.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}countLineToPl(o,t,c,u,a){const r=o.getPointAt(0).val.distanceTo(c),i=o.getPointAt(1).val.distanceTo(c),s=a[t];if(r<this.dol||i<this.dol){const e=o.getClosestPointTo(s,!0).val,n=s.sub(e),d=u.sub(e);let l=n.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),h=d.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);const p=Math.abs(l-h);return Number((p*(180/Math.PI)).toFixed(4))>=90&&Number((p*(180/Math.PI)).toFixed(4))<=270}else return!1}countDoorData(){if(this.doorBreakPoints.length=this.doorBreakPtsCount.length=this.doorInsterPoints.length=0,this._doorHandles.length>0){const o=w.MxCpp.getCurrentMxCAD().getDatabase();this._doorHandles.forEach(t=>{const a=o.handleToIdIndex(t).getMcDbEntity().clone(),r=this.endPoint.sub(this.startPoint).normalize(),i=a.getPosition().clone().addvec(r.clone().mult(a.width/2)),s=a.getPosition().clone().addvec(r.clone().negate().mult(a.width/2)),e=new w.McDbLine(this.startPoint,this.endPoint),n=e.getClosestPointTo(i,!1).val,d=e.getClosestPointTo(s,!1).val;if(n.distanceTo(i)<this.dol&&d.distanceTo(s)<this.dol){const{pl:l}=wn(i,s,this._wallWidth);if(this._turnPoints.filter(p=>{const g=l.getClosestPointTo(p);return g.ret?g.val.distanceTo(p)<this.dol:!1}).length===0){const p=r.clone().perpVector(),g=i.clone().addvec(p.clone().mult(this._wallWidth/2)),f=s.clone().addvec(p.clone().mult(this._wallWidth/2)),m=i.clone().addvec(p.clone().negate().mult(this._wallWidth/2)),y=s.clone().addvec(p.clone().negate().mult(this._wallWidth/2));this.doorBreakPoints.push(g,f,m,y),this.doorBreakPtsCount.push(4),this.doorInsterPoints.push(a.getPosition())}else this._doorHandles.splice(this._doorHandles.indexOf(a.getHandle()),1),a.wallHandle=""}else this._doorHandles.splice(this._doorHandles.indexOf(a.getHandle()),1),a.wallHandle=""})}}setStartPoint(o){this.startPoint=o.clone(),this._oldStartPoint=o.clone()}getStartPoint(){return this.startPoint}setEndPoint(o){this.endPoint=o.clone(),this._oldEndPoint=o.clone()}getEndPoint(){return this.endPoint.clone()}addBreakPoints(o){this.breakPoints.push(...o)}addInsterPoints(o){this._insterPoints.push(...o)}addBreakPtsCount(o){o.length>0&&this.breakPtsCount.push(...o)}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}class An{constructor(){this.startPoint=new w.McGePoint3d,this.endPoint=new w.McGePoint3d,this.wallWidth=10,this.pointArr=[],this.turnPointArr=[],this.insterPointArr=[],this.breakPtsCount=[],this.doorHandles=[],this.dol=1e-5}getIntersectingWalls(o,t,c){this.startPoint=o.clone(),this.endPoint=t.clone(),this.wallWidth=c;const u=[],{pt1:a,pt3:r,line:i}=wn(o,t,c),s=i.getLength().val;let e=new w.MxCADResbuf;e.AddString("CUSTOMENTITY",5020);const n=new w.MxCADSelectionSet;return n.crossingSelect(a.x-s,a.y-s,r.x+s,r.y+s,e),n.count()!==0&&n.forEach(d=>{d.getMcDbEntity().getTypeName()==="McDbTestWall"&&u.push(d)}),u}drawWall(o,t,c){const u=this.getIntersectingWalls(o,t,c);this.dealingWithWalls(u);const a=this.draw();if(this.doorHandles.length>0){const r=w.MxCpp.getCurrentMxCAD().getDatabase();this.doorHandles.forEach(i=>{var n;const e=r.handleToIdIndex(i).getMcDbEntity();e.wallHandle=(n=a.getMcDbEntity())==null?void 0:n.getHandle()})}return w.MxCpp.getCurrentMxCAD().updateDisplay(),a}isAngleBetween(o,t,c){let u,a;return t-c>0?(u=c,a=t):(u=t,a=c),a-u>Math.PI?o<=u||o>=a:o>=u&&o<=a}dealingWithWalls(o){const{pl:t,pt1:c,pt2:u,pt3:a,pt4:r,line:i}=wn(this.startPoint,this.endPoint,this.wallWidth);if(o.length!=0){const s=[];o.forEach(e=>{const n=e.getMcDbEntity();if(n.getTypeName()==="McDbTestWall"){const d=n.clone(),{pl:l,pt1:h,pt2:p,pt3:g,pt4:f,line:m}=wn(d.getStartPoint(),d.getEndPoint(),d.wallWidth),y=[];l.IntersectWith(t,w.McDb.Intersect.kOnBothOperands).forEach(v=>y.push(v)),y.length>0&&s.push({id:e,wall:d,pl:l,pt1:h,pt2:p,pt3:g,pt4:f,line:m,pointArr:y})}}),s.length!=0&&s.forEach(e=>{const{id:n,wall:d,pl:l,pt1:h,pt2:p,pt3:g,pt4:f,line:m,pointArr:y}=e,v=i.IntersectWith(m,w.McDb.Intersect.kExtendBoth);if(v.length()>0){const C=v.at(0);this.insterPointArr.push(C);const S=C.distanceTo(m.startPoint),I=C.distanceTo(m.endPoint),z=C.distanceTo(i.startPoint),V=C.distanceTo(i.endPoint);let L,U;z<V?L=i.endPoint.sub(C).normalize():L=i.startPoint.sub(C).normalize(),S<I?U=m.endPoint.sub(C).normalize():U=m.startPoint.sub(C).normalize();const G=L.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),H=U.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);if((S<=d.wallWidth/2||I<=d.wallWidth/2)&&(z<=this.wallWidth/2||V<=this.wallWidth/2)){const A=[],N=new w.McDbLine(c,r),E=new w.McDbLine(u,a),x=new w.McDbLine(h,f),_=new w.McDbLine(p,g);let P,M;c.distanceTo(C)<r.distanceTo(C)?P=c.clone():P=r.clone(),u.distanceTo(C)<a.distanceTo(C)?M=u.clone():M=a.clone();const k=N.IntersectWith(x,w.McDb.Intersect.kExtendBoth),R=N.IntersectWith(_,w.McDb.Intersect.kExtendBoth),F=E.IntersectWith(x,w.McDb.Intersect.kExtendBoth),q=E.IntersectWith(_,w.McDb.Intersect.kExtendBoth),X=k.length()>0?k.at(0):P,J=R.length()>0?R.at(0):P,j=F.length()>0?F.at(0):M,K=q.length()>0?q.at(0):M,B=[X,J,j,K],T=B.filter(Y=>{const Z=Y.sub(C).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);return this.isAngleBetween(Z,G,H)});if(T.length){A.push(T[0]);const Y=T[0],Q=B.filter(Z=>{const tt=Z.sub(C),rt=Y.sub(C),st=tt.angleTo2(rt,w.McGeVector3d.kNegateZAxis);return Math.abs(st-Math.PI)<this.dol});Q.length&&A.push(Q[0])}this.turnPointArr.push(...A),this.breakPtsCount.push(0);const W=d.clone();W.turnPoints=[...W.turnPoints,...A],W.addInsterPoints([C]),W.addBreakPtsCount([0]),w.MxCpp.getCurrentMxCAD().drawEntity(W),n.erase()}else{this.pointArr.push(...y),this.breakPtsCount.push(y.length);const A=d.clone();A.addBreakPoints(y),A.addInsterPoints([C]),A.addBreakPtsCount([y.length]),w.MxCpp.getCurrentMxCAD().drawEntity(A),n.erase()}}})}}draw(){const o=w.MxCpp.getCurrentMxCAD(),t=new _r;return t.setEndPoint(this.endPoint),t.setStartPoint(this.startPoint),t.wallWidth=this.wallWidth,t.doorHandles=this.doorHandles,this.pointArr&&this.pointArr.length&&t.addBreakPoints(this.pointArr),t.turnPoints=this.turnPointArr?this.turnPointArr:[],this.insterPointArr&&this.insterPointArr.length&&t.addInsterPoints(this.insterPointArr),this.breakPtsCount&&this.breakPtsCount.length&&t.addBreakPtsCount(this.breakPtsCount),o.drawEntity(t)}updateWall(o,t){const c=o.getMcDbEntity();if(c.objectName==="McDbCustomEntity"&&c.getTypeName()==="McDbTestWall"){const u=c.clone();if(u.doorHandles.length>0){this.doorHandles=[...u.doorHandles];const r=u.wallCenterPoint.sub(u.wallOldCenterPoint),i=u.getEndPoint().sub(u.getStartPoint()),s=r.angleTo1(i),e=w.MxCpp.getCurrentMxCAD().getDatabase();this.doorHandles.forEach(n=>{const l=e.handleToIdIndex(n).getMcDbEntity();if(this.doorHandles.includes(l==null?void 0:l.getHandle())&&Number(s.toFixed(5))>0&&Number(s.toFixed(5))<Number(Math.PI.toFixed(5))){const h=l,p=new w.McGeMatrix3d;p.setToTranslation(r),h.transformBy(p),h.assertObjectModification(!0)}})}this.getIntersectingWalls(c.oldStartPoint,c.oldEndPoint,c.wallWidth).forEach(r=>{const i=r.getMcDbEntity();i.breakPoints=i.breakPoints.filter(e=>u.breakPoints.filter(d=>d.distanceTo(e)<this.dol).length===0),i.turnPoints=i.turnPoints.filter(e=>u.turnPoints.filter(d=>d.distanceTo(e)<this.dol).length===0);const s=[];i.insterPoints=i.insterPoints.filter((e,n)=>{if(u.insterPoints.filter(l=>l.distanceTo(e)<this.dol).length===0)return s.push(n),!0}),i.breakPtsCounts=i.breakPtsCounts.filter((e,n)=>s.includes(n)),i.assertObjectModification(!0)}),t&&(o.erase(),setTimeout(()=>{this.drawWall(c.getStartPoint(),c.getEndPoint(),c.wallWidth)},0))}else return}}function Mr(D,o,t){return new Promise((c,u)=>{try{const r=new An().drawWall(D,o,t);c(r)}catch(a){u(a)}})}function Pl(){return ot(this,null,function*(){const D=new w.MxCADUiPrDist;D.setMessage(`
${O("请设置墙体宽度")}:`);let o=yield D.go();for(o||(o=30);;){const t=new w.MxCADUiPrPoint;t.setMessage(`
${O("请设置墙体起点")}:`);const c=yield t.go();if(!c)break;const u=new w.MxCADUiPrDist;u.setBasePt(c),u.setMessage(`
${O("请设置墙体长度")}:`);let a=new w.McGePoint3d;u.setUserDraw((n,d)=>{const l=c.sub(n).normalize().perpVector().mult(o/2),h=new w.McDbLine(c.clone().addvec(l),n.clone().addvec(l));d.setColor(255),d.drawMcDbEntity(h);const p=new w.McDbLine(c.clone().addvec(l.clone().negate()),n.clone().addvec(l.clone().negate()));d.setColor(16711680),d.drawMcDbEntity(p),a=n.clone()});const r=yield u.go();if(!r)break;const i=a.sub(c).normalize().mult(r),s=c.clone().addvec(i);new An().drawWall(c,s,o)}})}function Cl(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage(`
${O("请选择绘制房间类型<C>")}`),D.setKeyWords(`[${O("内部尺寸")}(I)/${O("外部尺寸")}(O)/${O("中心尺寸")}(C)]`);let o=yield D.go();o||(o="C");const t=new w.MxCADUiPrDist;t.setMessage(`
${O("请设置墙体宽度")}`);let c=yield t.go();c||(c=30);const u=new w.MxCADUiPrPoint;u.setMessage(`
${O("请设置房间角点1")}`);const a=yield u.go();if(!a)return;const r=new w.MxCADUiPrPoint;r.setMessage(`
${O("请设置房间角点2")}`),r.setUserDraw((d,l)=>{const h=new w.McDbPolyline;h.isClosed=!0,h.addVertexAt(a),h.addVertexAt(new w.McGePoint3d(d.x,a.y)),h.addVertexAt(d),h.addVertexAt(new w.McGePoint3d(a.x,d.y)),l.drawMcDbEntity(h);const p=new w.McDbLine(a,d);l.drawMcDbEntity(p)});const i=yield r.go();if(!i)return;const s=new w.McDbPolyline;s.addVertexAt(a),s.addVertexAt(new w.McGePoint3d(i.x,a.y)),s.addVertexAt(i),s.addVertexAt(new w.McGePoint3d(a.x,i.y));const e=a.clone().addvec(i.sub(a).mult(1/2));let n=[];o.toLocaleUpperCase()==="O"?s.offsetCurves(c/2,e).forEach(d=>{n.length=0;const l=d.clone();for(let h=0;h<l.numVerts();h++)n.push(l.getPointAt(h).val)}):o.toLocaleUpperCase()==="I"?s.offsetCurves(c/2,e.clone().addvec(w.McGeVector3d.kYAxis.clone().mult(a.distanceTo(i)))).forEach(d=>{n.length=0;const l=d.clone();for(let h=0;h<l.numVerts();h++)n.push(l.getPointAt(h).val)}):o.toLocaleUpperCase()==="C"&&(n=[a,new w.McGePoint3d(i.x,a.y),i,new w.McGePoint3d(a.x,i.y)]);for(let d=0;d<n.length;d++){let l=n[d],h=n[d+1];d===n.length-1&&(h=n[0]),setTimeout(()=>{new An().drawWall(l,h,c)},20*(d+1))}})}function El(){return ot(this,null,function*(){let D,o,t;for(;;){const u=new w.MxCADUiPrPoint;if(u.setMessage(`${O("点取墙上的第一个点")}`),o=yield u.go(),!o)break;const a=new w.MxCADResbuf;if(a.AddString("CUSTOMENTITY",5020),t=w.MxCADUtility.findEntAtPoint(o.x,o.y,o.z,-1,a),t.id){const r=t.getMcDbEntity();if(r.getTypeName()==="McDbTestWall"){D=r.clone();break}}}if(D){const{pl:u,line:a}=wn(D.getStartPoint(),D.getEndPoint(),D.wallWidth),r=u.getClosestPointTo(o,!1).val,i=new w.MxCADUiPrPoint;i.setMessage(`${O("点取墙上的第二个点")}`),i.setUserDraw((p,g)=>{const f=new w.McDbLine(p.x,p.y,p.z,r.x,r.y,r.z);g.setColor(16711680),g.drawMcDbEntity(f)});const s=yield i.go();if(!s)return;const e=a.getClosestPointTo(o,!1).val,n=a.getClosestPointTo(s,!1).val,d=e.distanceTo(a.startPoint),l=n.distanceTo(a.startPoint);t.erase(),d<l?(d>1e-4&&(yield Mr(a.endPoint,n,D.wallWidth)),yield Mr(a.startPoint,e,D.wallWidth)):(l>1e-4&&(yield Mr(a.endPoint,e,D.wallWidth)),yield Mr(a.startPoint,n,D.wallWidth)),new An().updateWall(t,!1)}})}class Pr extends w.McDbCustomEntity{constructor(o){super(o),this.holePosition=new w.McGePoint3d,this.holeWidth=0,this.holeHeight=0,this.wallPoints=[],this.startPoint=new w.McGePoint3d,this.endPoint=new w.McGePoint3d,this.centerPt=new w.McGePoint3d,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Pr(o)}getTypeName(){return"McDbTestHoleInTheWall"}set wallHoleWidth(o){this.holeWidth=o}get wallHoleWidth(){return this.holeWidth}set wallHoleHeight(o){this.holeHeight=o}get wallHoleHeight(){return this.holeHeight}dwgInFields(o){return this.startPoint=o.readPoint("startPoint").val,this.endPoint=o.readPoint("endPoint").val,this.centerPt=o.readPoint("centerPt").val,this.wallPoints=o.readPoints("wallPoints").val,this.wallHoleHeight=o.readDouble("wallHoleHeight").val,this.wallHoleWidth=o.readDouble("wallHoleWidth").val,this.holePosition=o.readPoint("holePosition").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("startPoint",this.startPoint),o.writePoint("endPoint",this.endPoint),o.writePoint("centerPt",this.centerPt),o.writePoint("holePosition",this.holePosition),o.writePoints("wallPoints",this.wallPoints),o.writeDouble("wallHoleWidth",this.wallHoleWidth),o.writeDouble("wallHoleHeight",this.wallHoleHeight),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=new w.McDbLine(this.wallPoints[0],this.wallPoints[1]),r=this.startPoint.clone(),i=this.endPoint.clone(),s=this.centerPt.clone();if(o===0){r.x+=t,r.y+=c,r.z+=u;const e=a.getClosestPointTo(r,!1).val;this.startPoint=e.clone(),this.centerPt=this.startPoint.clone().addvec(this.endPoint.sub(this.startPoint).mult(1/2))}else if(o===1){i.x+=t,i.y+=c,i.z+=u;const e=a.getClosestPointTo(i,!1).val;this.endPoint=e.clone(),this.centerPt=this.startPoint.clone().addvec(this.endPoint.sub(this.startPoint).mult(1/2))}else if(o===2){const e=this.startPoint.distanceTo(this.endPoint);s.x+=t,s.y+=c,s.z+=u;const n=a.getClosestPointTo(s,!1).val,d=this.startPoint.sub(this.endPoint).normalize().mult(e/2),l=n.clone().addvec(d),h=n.clone().subvec(d),p=a.getDistAtPoint(l),g=a.getDistAtPoint(h);p.val&&g.val&&(this.centerPt=n.clone(),this.startPoint=l.clone(),this.endPoint=h.clone())}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPoint),o.append(this.endPoint),o.append(this.centerPt),o}worldDraw(o){const t=[],{pl:c}=wn(this.startPoint,this.endPoint,this.holeHeight),u=new w.McDbLine(this.wallPoints[0],this.wallPoints[1]),a=u.getDistAtPoint(this.startPoint),r=u.getDistAtPoint(this.endPoint);a.val&&r.val&&(o.drawEntity(c),t.push(c)),this.getBox(t)}getBox(o){w.MxCpp.getCurrentMxCAD();let t,c=null;o.forEach(u=>{const{minPt:a,maxPt:r,ret:i}=u.getBoundingBox();t||(t=a.clone()),c||(c=r.clone()),a.x<t.x&&(t.x=a.x),a.y<t.y&&(t.y=a.y),r.x>c.x&&(c.x=r.x),r.y>c.y&&(c.y=r.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}setHolePosition(o){this.holePosition=o.clone();const c=new w.McDbLine(this.wallPoints[0],this.wallPoints[1]).getClosestPointTo(o,!1).val,u=this.wallPoints[0].sub(c).normalize().mult(this.holeWidth/2);this.startPoint=c.clone().addvec(u),this.endPoint=c.clone().addvec(u.negate()),this.centerPt=this.startPoint.clone().addvec(this.endPoint.sub(this.startPoint).mult(1/2))}getHolePosition(){return this.holePosition}setWallPoints(o){this.wallPoints=o.map(t=>t.clone())}getWallPoints(){return this.wallPoints.map(o=>o.clone())}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Dl(){return ot(this,null,function*(){const D=new w.MxCADUiPrDist;D.setMessage(`${O("请设置墙洞宽<30>")}`);let o=yield D.go();o||(o=30);const t=new w.MxCADUiPrKeyWord;t.setMessage(`
${O("请设置墙洞插入位置<A>")}`),t.setKeyWords(`[${O("任意位置")}(A)/${O("中间位置")}(M)]`);let c=yield t.go();c||(c="A");const u=s=>{const e=new w.MxCADResbuf;e.AddString("CUSTOMENTITY",5020);const n=w.MxCADUtility.findEntAtPoint(s.x,s.y,s.z,-1,e);if(n.id){const d=n.getMcDbEntity();if(d.getTypeName()==="McDbTestWall")return{wall:d.clone()}}else return{wall:null}};let a,r;const i=new Pr;for(;;){const s=new w.MxCADUiPrPoint;if(s.setMessage(`
${O("点击确定墙洞插入位置")}`),s.setUserDraw((e,n)=>{const{wall:d}=u(e);if(d){if(r=d.clone(),i.setWallPoints([r.getStartPoint(),r.getEndPoint()]),i.wallHoleWidth=o,i.wallHoleHeight=r.wallWidth,c.toLocaleUpperCase()==="M"){const l=r.getStartPoint().clone().addvec(r.getEndPoint().sub(r.getStartPoint()).mult(.5));i.setHolePosition(l)}else c.toLocaleUpperCase()==="A"&&i.setHolePosition(e);n.setColor(255),n.drawMcDbEntity(i)}}),a=yield s.go(),!a)break;break}r&&(i.trueColor=new w.McCmColor(0,255,255),w.MxCpp.getCurrentMxCAD().drawEntity(i))})}function Cr(D,o,t){let c=[],u=0,a=!1;const r=1e-5,i=D.clone().addvec(w.McGeVector3d.kXAxis.clone().mult(o)),s=D.clone().addvec(w.McGeVector3d.kXAxis.clone().negate().mult(o)),e=new w.McDbLine(i,s);e.rotate(D,Math.PI/4);const n=new w.MxCADResbuf;n.AddString("CUSTOMENTITY",5020);const d=new w.MxCADSelectionSet;return d.crossingSelect(e.startPoint.x,e.startPoint.y,e.endPoint.x,e.endPoint.y,n),d.count()>0&&d.forEach(l=>{const h=l.getMcDbEntity();if(h.getTypeName()==="McDbTestWall"){const p=h.clone(),g=p.getStartPoint(),f=p.getEndPoint(),m=new w.McDbLine(g,f),y=m.getClosestPointTo(D,!1).val,v=g.sub(f).normalize().mult(o/2),C=y.clone().addvec(v),S=y.clone().addvec(v.negate()),I=m.getClosestPointTo(C,!1).val,z=m.getClosestPointTo(S,!1).val;if(I.distanceTo(C)<r&&z.distanceTo(S)<r&&y.distanceTo(D)<p.wallWidth/2)if(p.insterPoints.filter(L=>new w.McDbLine(C,S).getClosestPointTo(L,!1).val.distanceTo(L)<r).length===0){const L=i.sub(s),U=v.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),G=L.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);u=U-G,c.push(l),t==="E"||!t?D=y.clone():t==="M"&&(D=m.getPointAtDist(m.getLength().val/2).val)}else a=!0}}),{wallArr:c,angle:u,position:D,isRed:a}}class Er extends w.McDbCustomEntity{constructor(o){super(o),this.startPt=new w.McGePoint3d,this.endPt=new w.McGePoint3d,this.doorPosition=new w.McGePoint3d,this.directPt=new w.McGePoint3d,this.quadrant=3,this._doorAngle=0,this._wallHandle="",this._entityHandle="",this._oldWallHandle="",this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Er(o)}getTypeName(){return"McDbTestSingleDoor"}set width(o){this._doorWidth=o}get width(){return this._doorWidth}set doorAngle(o){this._doorAngle=o}get doorAngle(){return this._doorAngle}set wallHandle(o){this._wallHandle=o}get wallHandle(){return this._wallHandle}set entityHandle(o){this._entityHandle=o}get entityHandle(){return this._entityHandle}set oldWallHandle(o){this._oldWallHandle=o}get oldWallHandle(){return this._oldWallHandle}dwgInFields(o){return this.startPt=o.readPoint("satrtPt").val,this.endPt=o.readPoint("endPt").val,this.doorPosition=o.readPoint("doorPosition").val,this.directPt=o.readPoint("directPt").val,this._doorWidth=o.readDouble("doorWidth").val,this.quadrant=o.readLong("quadrant").val,this._doorAngle=o.readDouble("doorAngle").val,this._wallHandle=o.readString("wallHandle").val,this._entityHandle=o.readString("entityHandle").val,this._oldWallHandle=o.readString("oldWallHandle").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("satrtPt",this.startPt),o.writePoint("endPt",this.endPt),o.writePoint("doorPosition",this.doorPosition),o.writePoint("directPt",this.directPt),o.writeDouble("doorWidth",this._doorWidth),o.writeLong("quadrant",this.quadrant),o.writeDouble("doorAngle",this._doorAngle),o.writeString("wallHandle",this._wallHandle),o.writeString("entityHandle",this._entityHandle),o.writeString("oldWallHandle",this._oldWallHandle),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u,this.doorPosition=this.startPt.clone().addvec(this.endPt.sub(this.startPt).mult(.5)),this.getQuadrant();else if(o===1)this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u,this.doorPosition=this.startPt.clone().addvec(this.endPt.sub(this.startPt).mult(.5)),this.getQuadrant();else if(o===2)this.doorPosition.x+=t,this.doorPosition.y+=c,this.doorPosition.z+=u,this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u,this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u,this.directPt.x+=t,this.directPt.y+=c,this.directPt.z+=u;else if(o===3){const a=this.endPt.sub(this.startPt),r=this.directPt.clone();r.x+=t,r.y+=c,r.z+=u;const s=r.sub(this.doorPosition).angleTo2(a,w.McGeVector3d.kNegateZAxis);0<s&&s<Math.PI/2?this.quadrant=1:Math.PI/2<=s&&s<Math.PI?this.quadrant=2:Math.PI<=s&&s<Math.PI*3/2?this.quadrant=3:this.quadrant=4,this.getQuadrant()}if(this._doorWidth=this.startPt.distanceTo(this.endPt),this._oldWallHandle=this._wallHandle,o!==3){const{wallArr:a,angle:r,position:i}=Cr(this.doorPosition,this._doorWidth);if(a.length>0){this._doorAngle=r,this.doorPosition=i;const s=w.McGeVector3d.kXAxis.clone().rotateBy(this._doorAngle);this.resetPoint(s,this._doorWidth);const n=a[0].getMcDbEntity();this._wallHandle=n.getHandle()}else this._wallHandle=""}}resetPoint(o,t){this.startPt=this.doorPosition.clone().subvec(o.clone().mult(t/2)),this.endPt=this.doorPosition.clone().addvec(o.clone().mult(t/2)),this.directPt=this.startPt.clone().addvec(o.clone().mult(t/5)).subvec(o.clone().perpVector().mult(t/3)),this.quadrant=3}getQuadrant(){const t=this.endPt.sub(this.startPt).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),c=this.startPt.distanceTo(this.endPt);let u,a,r;this.quadrant===1?(r=this.endPt.clone(),u=w.McGeVector3d.kXAxis.clone().negate().mult(c/5),a=w.McGeVector3d.kYAxis.clone().mult(c/3)):this.quadrant===2?(r=this.startPt.clone(),u=w.McGeVector3d.kXAxis.clone().mult(c/5),a=w.McGeVector3d.kYAxis.clone().mult(c/3)):this.quadrant===3?(r=this.startPt.clone(),u=w.McGeVector3d.kXAxis.clone().mult(c/5),a=w.McGeVector3d.kYAxis.clone().negate().mult(c/3)):this.quadrant===4&&(r=this.endPt.clone(),u=w.McGeVector3d.kXAxis.clone().negate().mult(c/5),a=w.McGeVector3d.kYAxis.clone().negate().mult(c/3)),this.directPt=r.clone().addvec(u.rotateBy(t)).addvec(a.rotateBy(t))}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPt),o.append(this.endPt),o.append(this.doorPosition),o.append(this.directPt),o}worldDraw(o){const t=[],c=this.directPt.distanceTo(this.startPt),u=this.directPt.distanceTo(this.endPt),a=this.startPt.distanceTo(this.endPt);let r,i;c<u?(r=this.startPt.clone(),i=this.endPt.clone()):(r=this.endPt.clone(),i=this.startPt.clone());const s=i.sub(r),e=new w.McDbArc;e.setCenter(r.x,r.y,r.z),e.radius=a;let n,d,l,h,p;this.quadrant===1?(n=Math.PI/2,d=Math.PI,l=w.McGeVector3d.kYAxis.clone().mult(a),h=w.McGeVector3d.kXAxis.clone().negate().mult(a/10),p=s.angleTo2(w.McGeVector3d.kXAxis.clone().negate(),w.McGeVector3d.kNegateZAxis)):this.quadrant===2?(d=Math.PI/2,n=0,l=w.McGeVector3d.kYAxis.clone().mult(a),h=w.McGeVector3d.kXAxis.clone().mult(a/10),p=s.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis)):this.quadrant===3?(n=Math.PI*(3/2),d=0,l=w.McGeVector3d.kYAxis.clone().negate().mult(a),h=w.McGeVector3d.kXAxis.clone().mult(a/10),p=s.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis)):this.quadrant===4&&(d=Math.PI*(3/2),n=Math.PI,l=w.McGeVector3d.kYAxis.clone().negate().mult(a),h=w.McGeVector3d.kXAxis.clone().negate().mult(a/10),p=s.angleTo2(w.McGeVector3d.kXAxis.clone().negate(),w.McGeVector3d.kNegateZAxis)),e.startAngle=n,e.endAngle=d,e.rotate(r,p),o.drawEntity(e),t.push(e);const g=new w.McDbPolyline;g.addVertexAt(r.clone().addvec(l)),g.addVertexAt(r),g.addVertexAt(r.clone().addvec(h)),g.addVertexAt(r.clone().addvec(l).addvec(h)),g.rotate(r,p),o.drawEntity(g),t.push(g),this.getBox(t)}getBox(o){w.MxCpp.getCurrentMxCAD();let t,c=null;o.forEach(u=>{const{minPt:a,maxPt:r,ret:i}=u.getBoundingBox();t||(t=a.clone()),c||(c=r.clone()),a.x<t.x&&(t.x=a.x),a.y<t.y&&(t.y=a.y),r.x>c.x&&(c.x=r.x),r.y>c.y&&(c.y=r.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}setPosition(o){this.doorPosition=o.clone();let t;this._doorAngle===0?t=w.McGeVector3d.kXAxis.clone():t=w.McGeVector3d.kXAxis.clone().rotateBy(this._doorAngle),this.resetPoint(t,this._doorWidth)}getPosition(){return this.doorPosition}transformBy(o){return this.startPt.transformBy(o),this.endPt.transformBy(o),this.doorPosition.transformBy(o),this.directPt.transformBy(o),!0}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Al(){return ot(this,null,function*(){const D=new w.MxCADUiPrDist;D.setMessage(`${O("请输入门的宽度")}`);let o=yield D.go();o||(o=30);const t=new Er;t.width=o;const c=new w.MxCADUiPrKeyWord;c.setMessage(`${O("请选择插入方式<E>")}`),c.setKeyWords(`[${O("任意位置")}(E)/${O("中心位置")}(M)]`);let u=yield c.go();u||(u="E");const a=new w.MxCADUiPrPoint;a.setMessage(`${O("请选择门的位置")}`);let r=[];if(a.setUserDraw((s,e)=>{const{isRed:n,angle:d,position:l,wallArr:h}=Cr(s,o,u);t.setPosition(l),r=h,n?(e.setColor(16711680),e.drawMcDbEntity(t)):(e.setColor(65535),t.doorAngle=d,e.drawMcDbEntity(t))}),!!(yield a.go()))if(r.length>0){const e=r[0].getMcDbEntity(),d=w.MxCpp.getCurrentMxCAD().drawEntity(t).getMcDbEntity(),l=d.getHandle();e.doorHandles=[...e.doorHandles,l],e.assertObjectModification(!0),d.wallHandle=e.getHandle(),d.entityHandle=l}else{const e=w.MxCpp.getCurrentMxCAD().drawEntity(t).getMcDbEntity(),n=e.getHandle();e.entityHandle=n}})}class Dr extends w.McDbCustomEntity{constructor(o){super(o),this.startPt=new w.McGePoint3d,this.endPt=new w.McGePoint3d,this.windowPosition=new w.McGePoint3d,this._windowWidth=30,this._windowAngle=0,this._windowLength=0,this._wallHandle="",this._entityHandle="",this._oldWallHandle="",this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Dr(o)}getTypeName(){return"McDbTestStandardWindow"}set windowWidth(o){this._windowWidth=o}get windowWidth(){return this._windowWidth}set windowAngle(o){this._windowAngle=o,this.resetPoint()}get windowrAngle(){return this._windowAngle}set width(o){this._windowLength=o}get width(){return this._windowLength}get wallHandle(){return this._wallHandle}set wallHandle(o){this._wallHandle=o}get entityHandle(){return this._entityHandle}set entityHandle(o){this._entityHandle=o}get oldWallHandle(){return this._oldWallHandle}set oldWallHandle(o){this._oldWallHandle=o}dwgInFields(o){return this.startPt=o.readPoint("satrtPt").val,this.endPt=o.readPoint("endPt").val,this.windowPosition=o.readPoint("windowPosition").val,this._windowWidth=o.readDouble("windowWidth").val,this._windowAngle=o.readDouble("windowAngle").val,this._windowLength=o.readDouble("windowLength").val,this._wallHandle=o.readString("wallHandle").val,this._entityHandle=o.readString("entityHandle").val,this._oldWallHandle=o.readString("oldWallHandle").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("satrtPt",this.startPt),o.writePoint("endPt",this.endPt),o.writePoint("windowPosition",this.windowPosition),o.writeDouble("windowWidth",this._windowWidth),o.writeDouble("windowAngle",this._windowAngle),o.writeDouble("windowLength",this._windowLength),o.writeString("wallHandle",this._wallHandle),o.writeString("entityHandle",this._entityHandle),o.writeString("oldWallHandle",this._oldWallHandle),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u):o===1?(this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u):o===2&&(this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u,this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u),this._windowLength=this.startPt.distanceTo(this.endPt),this.windowPosition=this.startPt.clone().addvec(this.endPt.sub(this.startPt).mult(1/2));const{wallArr:a,angle:r,position:i}=Cr(this.windowPosition,this._windowLength);if(this._oldWallHandle=this._wallHandle,a.length>0){this._windowAngle=r,this.windowPosition=i,this.resetPoint();const e=a[0].getMcDbEntity();this._windowWidth=e.wallWidth,this._wallHandle=e.getHandle()}else this._wallHandle=""}resetPoint(){const o=w.McGeVector3d.kXAxis.clone().rotateBy(this._windowAngle);this.startPt=this.windowPosition.clone().addvec(o.clone().mult(this._windowLength/2)),this.endPt=this.windowPosition.clone().addvec(o.clone().negate().mult(this._windowLength/2))}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPt),o.append(this.endPt),o.append(this.windowPosition),o}worldDraw(o){const t=[],c=this.endPt.sub(this.startPt).normalize().perpVector(),u=this.startPt.clone().addvec(c.clone().mult(this._windowWidth/2)),a=this.endPt.clone().addvec(c.clone().mult(this._windowWidth/2)),r=this.endPt.clone().addvec(c.clone().negate().mult(this._windowWidth/2)),i=this.startPt.clone().addvec(c.clone().negate().mult(this._windowWidth/2)),s=new w.McDbPolyline;s.isClosed=!0,s.addVertexAt(u),s.addVertexAt(a),s.addVertexAt(r),s.addVertexAt(i),o.drawEntity(s),t.push(s);const e=new w.McDbLine(this.startPt,this.endPt),n=e.clone();n.move(this.windowPosition,this.windowPosition.clone().addvec(c.clone().mult(this._windowWidth/6)));const d=e.clone();d.move(this.windowPosition,this.windowPosition.clone().addvec(c.clone().negate().mult(this._windowWidth/6))),o.drawEntity(n),o.drawEntity(d),t.push(n),t.push(d),this.getBox(t)}getBox(o){w.MxCpp.getCurrentMxCAD();let t,c=null;o.forEach(u=>{const{minPt:a,maxPt:r,ret:i}=u.getBoundingBox();t||(t=a.clone()),c||(c=r.clone()),a.x<t.x&&(t.x=a.x),a.y<t.y&&(t.y=a.y),r.x>c.x&&(c.x=r.x),r.y>c.y&&(c.y=r.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}setPosition(o){this.windowPosition=o.clone(),this.resetPoint()}getPosition(){return this.windowPosition}transformBy(o){return this.startPt.transformBy(o),this.endPt.transformBy(o),this.windowPosition.transformBy(o),!0}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function kl(){return ot(this,null,function*(){const D=new w.MxCADUiPrDist;D.setMessage(`${O("请设置标准窗的长度")}`);let o=yield D.go();o||(o=30);const t=new Dr;t.width=o;const c=new w.MxCADUiPrKeyWord;c.setMessage(`${O("请选择插入方式<E>")}`),c.setKeyWords(`[${O("任意位置")}(E)/${O("中心位置")}(M)]`);let u=yield c.go();u||(u="E");const a=new w.MxCADUiPrPoint;a.setMessage(`${O("请选择窗的位置")}`);let r=[];if(a.setUserDraw((s,e)=>{const{isRed:n,angle:d,position:l,wallArr:h}=Cr(s,o,u);if(t.setPosition(l),h.length>0){r=h;const p=h[0].getMcDbEntity();t.windowWidth=p.wallWidth}n?(e.setColor(16711680),e.drawMcDbEntity(t)):(e.setColor(65535),t.windowAngle=d,e.drawMcDbEntity(t))}),!!(yield a.go()))if(r.length>0){const e=r[0].getMcDbEntity(),d=w.MxCpp.getCurrentMxCAD().drawEntity(t).getMcDbEntity(),l=d.getHandle();e.doorHandles=[...e.doorHandles,l],e.assertObjectModification(!0),d.wallHandle=e.getHandle(),d.entityHandle=l}else{const e=w.MxCpp.getCurrentMxCAD().drawEntity(t).getMcDbEntity(),n=e.getHandle();e.entityHandle=n}})}function Sl(){const{useLoading:D}=MxPluginContext,{showLoading:o,hideLoading:t}=D(),c=w.MxCpp.getCurrentMxCAD(),u=new URL(""+new URL("./plugins/pluginIdentifyPattern/assets/户型图-c679b52c.mxweb",new URL(window.location.href)),self.location).href;o(),c.openWebFile(u,()=>{c.zoomAll(),t()})}new _r().rxInit(),new Pr().rxInit(),new Er().rxInit(),new Dr().rxInit(),MxPluginContext.addCommand("HZZ",()=>Lo()),MxPluginContext.addCommand("HZQ",()=>Pl()),MxPluginContext.addCommand("HZFJ",()=>Cl()),MxPluginContext.addCommand("DDQT",()=>El()),MxPluginContext.addCommand("WQD",()=>Dl()),MxPluginContext.addCommand("DKM",()=>Al()),MxPluginContext.addCommand("BZC",()=>kl()),MxPluginContext.addCommand("Mx_PlanView",()=>Sl());const kn=w.MxCpp.getCurrentMxCAD();kn.mxdraw.on("objectGripEdit",D=>{D.forEach(o=>{const t=new w.McObjectId(o.id,o.type==="mxcad"?w.McObjectIdType.kMxCAD:w.McObjectIdType.kMxDraw);if(t.isErase())return;const c=t.getMcDbEntity();if(c&&c.objectName==="McDbCustomEntity"){const u=c.getTypeName();if(u==="McDbTestWall")new An().updateWall(t,!0),kn.clearMxCurrentSelect();else if(u==="McDbTestSingleDoor"||u==="McDbTestStandardWindow"){const a=c;let r=null,i=null;const s=w.MxCpp.getCurrentMxCAD().getDatabase();a.wallHandle&&(r=s.handleToIdIndex(a.wallHandle).getMcDbEntity()),a.oldWallHandle&&(i=s.handleToIdIndex(a.oldWallHandle).getMcDbEntity()),a.wallHandle===a.oldWallHandle?r&&i&&(r.countDoorData(),r.assertObjectModification(!0)):(r&&(r.doorHandles=[...r.doorHandles,a.entityHandle],r.assertObjectModification(!0)),i&&(i.doorHandles=i.doorHandles.filter(e=>e!==a.entityHandle),i.assertObjectModification(!0)))}kn.updateDisplay()}})});const Ar=[],kr=[];kn.on("selectChange",D=>{D.length>0?(kr.length=0,Ar.length=0,D.forEach(o=>{const t=o.getMcDbEntity();t&&t.objectName==="McDbCustomEntity"&&(t.getTypeName()==="McDbTestWall"?Ar.push(o):(t.getTypeName()==="McDbTestSingleDoor"||t.getTypeName()==="McDbTestStandardWindow")&&kr.push(o))})):setTimeout(()=>{Ar.length>0&&(Ar.forEach(o=>{o.isErase()&&new An().updateWall(o,!1)}),kn.updateDisplay()),kr.length>0&&(kr.forEach(o=>{if(o.isErase()){const t=o.getMcDbEntity();let c=null;const u=w.MxCpp.getCurrentMxCAD().getDatabase();t.wallHandle&&(c=u.handleToIdIndex(t.wallHandle).getMcDbEntity(),c.doorHandles=c.doorHandles.filter(a=>a!==t.entityHandle),c.assertObjectModification(!0))}}),kn.updateDisplay())},0)});var ke=(D=>(D[D.arrow=0]="arrow",D[D.halfArrow=1]="halfArrow",D[D.point=2]="point",D[D.cross=3]="cross",D[D.none=4]="none",D))(ke||{}),ue=(D=>(D[D.start=0]="start",D[D.middle=1]="middle",D[D.end=2]="end",D))(ue||{});setTimeout(()=>{new Sr().rxInit()},0),new sr().rxInit(),new lr().rxInit(),new cr().rxInit(),new wr().rxInit(),new fr().rxInit(),new mr().rxInit(),new hr().rxInit(),new yr().rxInit(),MxPluginContext.addCommand("JZDX",()=>wl()),new xr().rxInit(),MxPluginContext.addCommand("HDCZ",()=>xl()),new vr().rxInit(),MxPluginContext.addCommand("HZBZ",()=>vl());class Sr extends w.McDbCustomEntity{constructor(o){super(o),this.points=[],this.positionArr=[],this.height=0,this._textUp="",this._textDown="",this._arrowType=ke.arrow,this._alginType=ue.start,this.arrowLength=0,this.angle=0,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Sr(o)}getTypeName(){return"McDbTestArrowCitation"}set textHeight(o){this.height=o}get textHeight(){return this.height}set textUp(o){this._textUp=o}get textUp(){return this._textUp}set textDown(o){this._textDown=o}get textDown(){return this._textDown}set arrowType(o){this._arrowType=o}get arrowType(){return this._arrowType}set alginType(o){this._alginType=o}get alginType(){return this._alginType}dwgInFields(o){return this.points=o.readPoints("points").val,this.positionArr=o.readPoints("positionArr").val,this._textDown=o.readString("textDown").val,this._textUp=o.readString("textUp").val,this._arrowType=o.readLong("arrowType").val,this._alginType=o.readLong("alginType").val,this.arrowLength=o.readLong("arrowLength").val,this.angle=o.readDouble("angle").val,this.height=o.readDouble("height").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoints("points",this.points),o.writePoints("positionArr",this.positionArr),o.writeString("textDown",this._textDown),o.writeString("textUp",this._textUp),o.writeLong("arrowType",this._arrowType),o.writeLong("alginType",this._alginType),o.writeLong("arrowLength",this.arrowLength),o.writeDouble("angle",this.angle),o.writeDouble("height",this.height),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite();const a=this.points.length;o<=a-1&&(this.points[o].x+=t,this.points[o].y+=c,this.points[o].z+=u),o===a-1&&(this.positionArr.forEach(r=>{r.x+=t,r.y+=c,r.z+=u}),this.reCountData()),o>a-1&&this.positionArr.forEach((r,i)=>{o-a===i&&(r.x+=t,r.y+=c,r.z+=u)})}getGripPoints(){let o=new w.McGePoint3dArray;return this.points.forEach(t=>{o.append(t)}),this.positionArr.forEach(t=>{o.append(t)}),o}drawArrow(){const o=this.points[0],t=this.points[1];if(this._arrowType===ke.arrow||this._arrowType===ke.halfArrow){const c=t.sub(o).normalize().mult(this.arrowLength),u=o.clone().addvec(c),a=c.clone().rotateBy(Math.PI/2).normalize().mult(this.arrowLength/8),r=u.clone().addvec(a),i=u.clone().subvec(a),s=new w.McDbHatch;return this._arrowType===ke.arrow?s.appendLoop(new w.McGePoint3dArray([o,r,i])):s.appendLoop(new w.McGePoint3dArray([o,r,u])),[s]}else if(this._arrowType===ke.point){const c=new w.McDbHatch;return c.appendCircleLoop(o.x,o.y,this.arrowLength/3),[c]}else if(this._arrowType===ke.cross){const c=o.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(this.arrowLength/2)),u=o.clone().subvec(w.McGeVector3d.kXAxis.normalize().mult(this.arrowLength/2)),a=o.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(this.arrowLength/2)),r=o.clone().subvec(w.McGeVector3d.kYAxis.normalize().mult(this.arrowLength/2)),i=new w.McDbLine(c,u),s=new w.McDbLine(a,r);return[i,s]}}drawText(){const o=[],t=new w.McDbText;if(t.height=this.height,t.textString=this._textUp,t.position=t.alignmentPoint=this.positionArr[0],t.horizontalMode=w.McDb.TextHorzMode.kTextLeft,t.rotate(this.positionArr[0],this.angle),this._alginType===ue.middle||this._alginType===ue.end){const c=new w.McDbMText;c.contents=this._textDown,c.location=this.positionArr[1],c.textHeight=this.height,c.attachment=w.McDb.AttachmentPoint.kTopCenter,c.rotate(this.positionArr[1],this.angle),this._alginType===ue.middle&&(t.horizontalMode=w.McDb.TextHorzMode.kTextMid),this._alginType===ue.end&&(c.attachment=w.McDb.AttachmentPoint.kTopLeft),this._textDown&&o.push(c)}return this._textUp&&o.push(t),o}worldDraw(o){const t=[],c=new w.McDbPolyline;this.points.forEach(u=>{c.addVertexAt(u)}),o.drawEntity(c),t.push(c),this._arrowType!==ke.none&&this.points.length>1&&this.drawArrow().forEach(a=>{o.drawEntity(a),t.push(a)}),this.points.length>1&&this.drawText().forEach(a=>{o.drawEntity(a),t.push(a)}),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}reCountData(){const o=this.points.length;if(o>1){const t=this.points[o-2],c=this.points[o-1];this.arrowLength||(this.arrowLength=lt.MxFun.viewCoordLong2Cad(20)),this.height||(this.height=this.arrowLength*(2/3));const u=c.sub(t).normalize().mult(this.height/2),a=u.clone().rotateBy(Math.PI/2).normalize().mult(this.height/2);if(this.angle=u.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),Math.PI*(3/2)>this.angle&&this.angle>Math.PI/2&&(this.angle+=Math.PI,a.negate()),this._alginType===ue.start){const r=c.clone().addvec(u).subvec(a);this.positionArr[0]=r}else if(this._alginType===ue.middle){const r=t.distanceTo(c),i=t.clone().addvec(u.normalize().mult(r/2));this.positionArr[1]=i.clone().subvec(a),this.positionArr[0]=i.clone().addvec(a)}else this._alginType===ue.end&&(this.positionArr[1]=c.clone().addvec(u).subvec(a),this.positionArr[0]=c.clone().addvec(u).addvec(a))}}addVertex(o){this.assertWrite(),this.points.push(o),this.reCountData()}getPoints(){return this.points}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Tl(D,o,t,c){return ot(this,null,function*(){const u=new Sr;u.textUp=D,u.textDown=o,u.arrowType=t,u.alginType=c;const a=new w.MxCADUiPrPoint;a.setMessage(`
${O("指定箭头起点")}:`);const r=yield a.go();if(!r)return;for(u.addVertex(r);;){const s=new w.MxCADUiPrPoint;s.setMessage(`
${O("指定下一点或终点，右键完成")}:`),s.setUserDraw((n,d)=>{const l=u.clone();l.addVertex(n),d.drawMcDbEntity(l)});const e=yield s.go();if(!e)break;u.addVertex(e)}w.MxCpp.getCurrentMxCAD().drawEntity(u)})}const Nl=D=>(b.pushScopeId("data-v-81f6d164"),D=D(),b.popScopeId(),D),Vl={class:"content"},Bl={class:"inputBox"},Rl={class:"inputBox"},Il=["readonly"],Ll={style:{display:"flex","justify-content":"space-between","align-items":"center"}},jl=["id","value"],zl=["for"],Ol={style:{display:"flex","align-items":"center","margin-top":"10px"}},Fl={class:"custom-select"},Ul=["value"],Hl=Nl(()=>b.createElementVNode("div",{class:"select-arrow"},null,-1)),Wl={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},Gl=b.defineComponent({__name:"AnnotationForm",props:{componentName:String},emits:["submitData"],setup(D,{emit:o}){const t=D,c=b.reactive({textUp:"上",textDown:"下",alginType:ue.start,arrowType:ke.arrow,isCheckAA:!1,alignAngle:30}),{store:u}=MxPluginContext,{setCommandFocus:a}=u.useFocus(),r=b.reactive([{name:O("在线端"),id:ue.start},{name:O("齐线中"),id:ue.middle},{name:O("齐线端"),id:ue.end}]),i=b.reactive([{name:O("始端"),id:ue.start},{name:O("中间"),id:ue.middle},{name:O("末端"),id:ue.end}]),s=b.reactive([{name:O("箭头"),id:ke.arrow},{name:O("半箭头"),id:ke.halfArrow},{name:O("点"),id:ke.point},{name:O("十字"),id:ke.cross},{name:O("无"),id:ke.none}]),e=o,n=()=>ot(this,null,function*(){e("submitData",c)});return(d,l)=>(b.openBlock(),b.createElementBlock("div",Vl,[b.createElementVNode("div",Bl,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("上标文字")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=h=>c.textUp=h),onFocus:l[1]||(l[1]=()=>{b.unref(a)(!1)}),onBlur:l[2]||(l[2]=()=>{b.unref(a)(!0)})},null,544),[[b.vModelText,c.textUp]])]),b.createElementVNode("div",Rl,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("下标文字")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=h=>c.textDown=h),onFocus:l[4]||(l[4]=()=>{b.unref(a)(!1)}),onBlur:l[5]||(l[5]=()=>{b.unref(a)(!0)}),readonly:c.alginType===b.unref(ue).start&&t.componentName==="JTYZ",style:b.normalizeStyle(c.alginType===b.unref(ue).start&&t.componentName==="JTYZ"?"opacity:0.5":"")},null,44,Il),[[b.vModelText,c.textDown]])]),b.createElementVNode("div",Ll,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("对齐方式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t.componentName==="JTYZ"?r:i,h=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:h.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:h.name,"onUpdate:modelValue":l[6]||(l[6]=p=>c.alginType=p),value:h.id},null,8,jl),[[b.vModelRadio,c.alginType]]),b.createElementVNode("label",{for:h.name},b.toDisplayString(h.name),9,zl)]))),128))]),b.createElementVNode("div",Ol,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("箭头样式：")),1),b.createElementVNode("div",Fl,[b.withDirectives(b.createElementVNode("select",{"onUpdate:modelValue":l[7]||(l[7]=h=>c.arrowType=h)},[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(s,h=>(b.openBlock(),b.createElementBlock("option",{value:h.id,key:h.id},b.toDisplayString(h.name),9,Ul))),128))],512),[[b.vModelSelect,c.arrowType]]),Hl])]),b.renderSlot(d.$slots,"default",{dataForm:c},void 0,!0),b.createElementVNode("div",Wl,[b.createElementVNode("button",{class:"btn_normal",onClick:n,style:{margin:"15px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),i2="",jo=_e(Gl,[["__scopeId","data-v-81f6d164"],["__file","AnnotationForm.vue"]]),ql=_e(b.defineComponent({__name:"index",setup(D){const o=b.ref("JTYZ"),t=c=>ot(this,null,function*(){Se.value=!1,Tl(c.textUp,c.textDown,c.arrowType,c.alginType)});return(c,u)=>(b.openBlock(),b.createBlock(jo,{onSubmitData:t,componentName:o.value},null,8,["componentName"]))}}),[["__file","index.vue"]]),Xl=D=>(b.pushScopeId("data-v-53ce0cdf"),D=D(),b.popScopeId(),D),Kl={style:{display:"flex","align-items":"center","margin-top":"10px"},class:"custom-checkbox"},Yl=["onUpdate:modelValue"],Zl={class:"custom-select"},Jl=["onUpdate:modelValue","disabled"],Ql=["value"],$l=Xl(()=>b.createElementVNode("div",{class:"select-arrow"},null,-1)),tc=b.defineComponent({__name:"index",setup(D){const o=b.ref("YCBZ"),t=b.reactive([{id:30,name:"30°"},{id:45,name:"45°"},{id:60,name:"60°"},{id:90,name:"90°"}]),c=u=>ot(this,null,function*(){Se.value=!1,u.isCheckAA||(u.alignAngle=0),ul(u.textUp,u.textDown,u.arrowType,u.alginType,u.alignAngle)});return(u,a)=>(b.openBlock(),b.createBlock(jo,{onSubmitData:c,componentName:o.value},{default:b.withCtx(({dataForm:r})=>[b.createElementVNode("div",Kl,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"aa",value:"aa","onUpdate:modelValue":i=>r.isCheckAA=i},null,8,Yl),[[b.vModelCheckbox,r.isCheckAA]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("固定角度：")),1),b.createElementVNode("div",Zl,[b.withDirectives(b.createElementVNode("select",{"onUpdate:modelValue":i=>r.alignAngle=i,disabled:!r.isCheckAA},[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,i=>(b.openBlock(),b.createElementBlock("option",{value:i.id,key:i.id},b.toDisplayString(i.name),9,Ql))),128))],8,Jl),[[b.vModelSelect,r.alignAngle]]),$l])])]),_:1},8,["componentName"]))}}),s2="",ec=_e(tc,[["__scopeId","data-v-53ce0cdf"],["__file","index.vue"]]),nc={class:"content"},rc={class:"inputBox"},ic={style:{display:"flex","justify-content":"space-between","align-items":"center"}},oc=["id","value"],sc=["for"],ac={style:{display:"flex","align-items":"center","margin-left":"10px"},class:"custom-checkbox"},lc={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},cc=b.defineComponent({__name:"index",setup(D){const o=b.reactive({textAlignment:ar.textEnd,textContent:"",isAddCircle:!1}),{store:t}=MxPluginContext,{setCommandFocus:c}=t.useFocus(),u=b.reactive([{name:O("文字在线端"),id:ar.textEnd},{name:O("文字在线上"),id:ar.textUp}]),a=()=>ot(this,null,function*(){Se.value=!1,fl(o.textContent,o.textAlignment,o.isAddCircle)});return(r,i)=>(b.openBlock(),b.createElementBlock("div",nc,[b.createElementVNode("div",rc,[b.withDirectives(b.createElementVNode("textarea",{"onUpdate:modelValue":i[0]||(i[0]=s=>o.textContent=s),onBlur:i[1]||(i[1]=()=>{b.unref(c)(!0)}),onFocus:i[2]||(i[2]=()=>{b.unref(c)(!1)})},null,544),[[b.vModelText,o.textContent]])]),b.createElementVNode("div",ic,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("对齐方式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(u,s=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:s.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:s.name,"onUpdate:modelValue":i[3]||(i[3]=e=>o.textAlignment=e),value:s.id},null,8,oc),[[b.vModelRadio,o.textAlignment]]),b.createElementVNode("label",{for:s.name},b.toDisplayString(s.name),9,sc)]))),128)),b.createElementVNode("div",ac,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"ac",value:"ac","onUpdate:modelValue":i[4]||(i[4]=s=>o.isAddCircle=s)},null,512),[[b.vModelCheckbox,o.isAddCircle]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("添加圆点")),1)])]),b.createElementVNode("div",lc,[b.createElementVNode("button",{class:"btn_normal",onClick:a,style:{margin:"15px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),a2="",hc=_e(cc,[["__scopeId","data-v-c25c71a1"],["__file","index.vue"]]),dc=D=>(b.pushScopeId("data-v-ee07efc7"),D=D(),b.popScopeId(),D),uc={class:"content"},fc={style:{display:"flex","justify-content":"space-between","align-items":"center"}},pc={class:"inputBox"},gc={class:"inputBox"},mc={class:"inputBox"},bc={class:"inputBox"},yc={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},wc=["id","value"],xc=["for"],vc={style:{display:"flex","justify-content":"space-between","align-items":"center"}},_c=["id","value"],Mc=["for"],Pc={key:0,style:{display:"flex","align-items":"center","margin-top":"10px"},class:"custom-checkbox"},Cc={class:"custom-select",style:{width:"50px"}},Ec=["disabled"],Dc=["value"],Ac=dc(()=>b.createElementVNode("div",{class:"select-arrow"},null,-1)),kc={style:{display:"flex","align-items":"center","margin-left":"20px"},class:"custom-checkbox"},Sc={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},Tc=b.defineComponent({__name:"index",setup(D){const o=b.reactive({textUp:"上",textDown:"下",alginType:ue.start,indexDrawNumber:"-",number:"01",styleType:Un.Directed,isCheckAA:!1,alignAngle:30,addIndexArea:!1}),t=b.reactive([{id:30,name:"30°"},{id:45,name:"45°"},{id:60,name:"60°"},{id:90,name:"90°"}]),{store:c}=MxPluginContext,{setCommandFocus:u}=c.useFocus(),a=b.reactive([{name:O("始端"),id:ue.start},{name:O("居中"),id:ue.middle},{name:O("末端"),id:ue.end}]),r=b.reactive([{name:O("指向索引"),id:Un.Directed},{name:O("剖切索引"),id:Un.Cutting}]),i=()=>ot(this,null,function*(){Se.value=!1;let s=0;o.isCheckAA&&(s=o.alignAngle),pl(o.styleType,[o.textUp,o.textDown],o.alginType,o.indexDrawNumber,o.number,s,o.addIndexArea)});return(s,e)=>(b.openBlock(),b.createElementBlock("div",uc,[b.createElementVNode("div",fc,[b.createElementVNode("div",pc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("索引图号")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>o.indexDrawNumber=n),onFocus:e[1]||(e[1]=()=>{b.unref(u)(!1)}),onBlur:e[2]||(e[2]=()=>{b.unref(u)(!0)}),style:{width:"50px"}},null,544),[[b.vModelText,o.indexDrawNumber]])]),b.createElementVNode("div",gc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("索引编号")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=n=>o.number=n),onFocus:e[4]||(e[4]=()=>{b.unref(u)(!1)}),onBlur:e[5]||(e[5]=()=>{b.unref(u)(!0)}),style:{width:"50px"}},null,544),[[b.vModelText,o.number]])])]),b.createElementVNode("div",mc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("上标文字")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=n=>o.textUp=n),onFocus:e[7]||(e[7]=()=>{b.unref(u)(!1)}),onBlur:e[8]||(e[8]=()=>{b.unref(u)(!0)})},null,544),[[b.vModelText,o.textUp]])]),b.createElementVNode("div",bc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("下标文字")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=n=>o.textDown=n),onFocus:e[10]||(e[10]=()=>{b.unref(u)(!1)}),onBlur:e[11]||(e[11]=()=>{b.unref(u)(!0)})},null,544),[[b.vModelText,o.textDown]])]),b.createElementVNode("div",yc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("对齐方式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(a,n=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:n.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:n.name,"onUpdate:modelValue":e[12]||(e[12]=d=>o.alginType=d),value:n.id},null,8,wc),[[b.vModelRadio,o.alginType]]),b.createElementVNode("label",{for:n.name},b.toDisplayString(n.name),9,xc)]))),128))]),b.createElementVNode("div",vc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("索引样式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(r,n=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:n.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:n.name,"onUpdate:modelValue":e[13]||(e[13]=d=>o.styleType=d),value:n.id},null,8,_c),[[b.vModelRadio,o.styleType]]),b.createElementVNode("label",{for:n.name},b.toDisplayString(n.name),9,Mc)]))),128))]),o.styleType===b.unref(Un).Directed?(b.openBlock(),b.createElementBlock("div",Pc,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"aa",value:"aa","onUpdate:modelValue":e[14]||(e[14]=n=>o.isCheckAA=n)},null,512),[[b.vModelCheckbox,o.isCheckAA]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("固定角度：")),1),b.createElementVNode("div",Cc,[b.withDirectives(b.createElementVNode("select",{"onUpdate:modelValue":e[15]||(e[15]=n=>o.alignAngle=n),disabled:!o.isCheckAA},[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,n=>(b.openBlock(),b.createElementBlock("option",{value:n.id,key:n.id},b.toDisplayString(n.name),9,Dc))),128))],8,Ec),[[b.vModelSelect,o.alignAngle]]),Ac]),b.createElementVNode("div",kc,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"aa",value:"aa","onUpdate:modelValue":e[16]||(e[16]=n=>o.addIndexArea=n)},null,512),[[b.vModelCheckbox,o.addIndexArea]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("添加索引范围")),1)])])):b.createCommentVNode("",!0),b.createElementVNode("div",Sc,[b.createElementVNode("button",{class:"btn_normal",onClick:i,style:{margin:"15px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),l2="",Nc=_e(Tc,[["__scopeId","data-v-ee07efc7"],["__file","index.vue"]]),Vc={class:"content"},Bc={class:"inputBox"},Rc={class:"inputBox"},Ic={style:{display:"flex","align-items":"center","margin-top":"10px"},class:"custom-checkbox"},Lc={class:"inputBox"},jc={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},zc=b.defineComponent({__name:"index",setup(D){const o=b.reactive({indexDrawName:"-",number:"01",scale:!1,scaleValue:"1:100"}),{store:t}=MxPluginContext,{setCommandFocus:c}=t.useFocus(),u=()=>ot(this,null,function*(){Se.value=!1,gl(o.indexDrawName,o.number,o.scale,o.scaleValue)});return(a,r)=>(b.openBlock(),b.createElementBlock("div",Vc,[b.createElementVNode("div",Bc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("索引图名")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=i=>o.indexDrawName=i),onFocus:r[1]||(r[1]=()=>{b.unref(c)(!1)}),onBlur:r[2]||(r[2]=()=>{b.unref(c)(!0)})},null,544),[[b.vModelText,o.indexDrawName]])]),b.createElementVNode("div",Rc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("索引编号")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=i=>o.number=i),onFocus:r[4]||(r[4]=()=>{b.unref(c)(!1)}),onBlur:r[5]||(r[5]=()=>{b.unref(c)(!0)})},null,544),[[b.vModelText,o.number]])]),b.createElementVNode("div",Ic,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"scale",value:"scale","onUpdate:modelValue":r[6]||(r[6]=i=>o.scale=i),style:{"margin-bottom":"10px"}},null,512),[[b.vModelCheckbox,o.scale]]),b.createElementVNode("div",Lc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("比例：")),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":r[7]||(r[7]=i=>o.scaleValue=i),onFocus:r[8]||(r[8]=()=>{b.unref(c)(!1)}),onBlur:r[9]||(r[9]=()=>{b.unref(c)(!0)})},null,544),[[b.vModelText,o.scaleValue]])])]),b.createElementVNode("div",jc,[b.createElementVNode("button",{class:"btn_normal",onClick:u,style:{margin:"5px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),c2="",Oc=_e(zc,[["__scopeId","data-v-6d0eb01a"],["__file","index.vue"]]),Fc={class:"content"},Uc={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Hc={class:"inputBox"},Wc={style:{display:"flex","align-items":"center","margin-bottom":"10px","margin-left":"20px"},class:"custom-checkbox"},Gc={class:"inputBox",style:{margin:"0"}},qc=["readonly"],Xc={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Kc=["id","value"],Yc=["for"],Zc={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Jc=["id","value","disabled"],Qc=["for"],$c={style:{display:"flex","align-items":"center"}},th=["id","value","disabled"],eh=["for"],nh={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},rh=b.defineComponent({__name:"index",setup(D){const o=b.reactive({cutNum:"1",isShowSec:!1,secNum:"1",cutStyle:dr.crossSection,markPos:Hn.bothEnds,markDirect:ur.positionLine}),{store:t}=MxPluginContext,{setCommandFocus:c}=t.useFocus(),u=b.reactive([{name:O("正交剖面"),id:dr.crossSection},{name:O("断面剖切"),id:dr.sectionCutting}]),a=b.reactive([{name:O("两端"),id:Hn.bothEnds},{name:O("始端"),id:Hn.start},{name:O("末端"),id:Hn.end}]),r=b.reactive([{name:O("沿剖切位置线"),id:ur.positionLine},{name:O("沿剖视方向线"),id:ur.sectionLine}]),i=()=>ot(this,null,function*(){Se.value=!1,ml(o.cutNum,o.cutStyle,o.isShowSec,o.markPos,o.markDirect,o.secNum)});return(s,e)=>(b.openBlock(),b.createElementBlock("div",Fc,[b.createElementVNode("div",Uc,[b.createElementVNode("div",Hc,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("剖切编号")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>o.cutNum=n),onFocus:e[1]||(e[1]=()=>{b.unref(c)(!1)}),onBlur:e[2]||(e[2]=()=>{b.unref(c)(!0)}),style:{width:"80px"}},null,544),[[b.vModelText,o.cutNum]])]),b.createElementVNode("div",Wc,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"aa",value:"aa","onUpdate:modelValue":e[3]||(e[3]=n=>o.isShowSec=n)},null,512),[[b.vModelCheckbox,o.isShowSec]]),b.createElementVNode("div",Gc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("剖面图号：")),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=n=>o.secNum=n),onFocus:e[5]||(e[5]=()=>{b.unref(c)(!1)}),onBlur:e[6]||(e[6]=()=>{b.unref(c)(!0)}),readonly:!o.isShowSec,style:b.normalizeStyle(o.isShowSec?"width: 80px;":"opacity:0.5;width: 80px;")},null,44,qc),[[b.vModelText,o.secNum]])])])]),b.createElementVNode("div",Xc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("剖切样式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(u,n=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:n.id,style:{margin:"0 10px"}},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:n.name,"onUpdate:modelValue":e[7]||(e[7]=d=>o.cutStyle=d),value:n.id},null,8,Kc),[[b.vModelRadio,o.cutStyle]]),b.createElementVNode("label",{for:n.name},b.toDisplayString(n.name),9,Yc)]))),128))]),b.createElementVNode("div",Zc,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("标注位置：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(a,n=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:n.id,style:b.normalizeStyle(o.isShowSec?"margin:0 10px;":"margin:0 10px;opacity:0.5;")},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:n.name,"onUpdate:modelValue":e[8]||(e[8]=d=>o.markPos=d),value:n.id,disabled:!o.isShowSec},null,8,Jc),[[b.vModelRadio,o.markPos]]),b.createElementVNode("label",{for:n.name},b.toDisplayString(n.name),9,Qc)],4))),128))]),b.createElementVNode("div",$c,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("标注方向：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(r,n=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:n.id,style:b.normalizeStyle(o.isShowSec?"margin:0 10px;":"margin:0 10px;opacity:0.5;")},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:n.name,"onUpdate:modelValue":e[9]||(e[9]=d=>o.markDirect=d),value:n.id,disabled:!o.isShowSec},null,8,th),[[b.vModelRadio,o.markDirect]]),b.createElementVNode("label",{for:n.name},b.toDisplayString(n.name),9,eh)],4))),128))]),b.createElementVNode("div",nh,[b.createElementVNode("button",{class:"btn_normal",onClick:i,style:{margin:"15px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),h2="",ih=_e(rh,[["__scopeId","data-v-e68a364b"],["__file","index.vue"]]),oh=D=>(b.pushScopeId("data-v-13be2da8"),D=D(),b.popScopeId(),D),sh={class:"content"},ah={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},lh=["id","value"],ch=["for"],hh={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},dh=["id","value"],uh=["for"],fh={style:{display:"flex","align-items":"center"}},ph=["id","value"],gh=["for"],mh={class:"custom-select",style:{width:"80px","margin-left":"10px"}},bh=["disabled"],yh=["value"],wh=oh(()=>b.createElementVNode("div",{class:"select-arrow"},null,-1)),xh={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},vh=b.defineComponent({__name:"index",setup(D){const o=b.reactive({markPos:gr.freeLabeling,textPos:pr.start,precisionVal:0,precision:1}),t=b.reactive([{name:O("自由标注"),id:gr.freeLabeling},{name:O("对齐标注"),id:gr.alignmentMark}]),c=b.reactive([{name:O("文字齐始端"),id:pr.start},{name:O("文字齐线端"),id:pr.end}]),u=b.reactive([{name:O("国家规范（0.000）"),id:1},{name:O("自定义设置"),id:2}]),a=()=>ot(this,null,function*(){Se.value=!1;let r=3;o.precision===2&&(r=o.precisionVal),bl(r,o.markPos,o.textPos)});return(r,i)=>(b.openBlock(),b.createElementBlock("div",sh,[b.createElementVNode("div",ah,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("标注位置设置：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,s=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:s.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:s.name,"onUpdate:modelValue":i[0]||(i[0]=e=>o.markPos=e),value:s.id},null,8,lh),[[b.vModelRadio,o.markPos]]),b.createElementVNode("label",{for:s.name},b.toDisplayString(s.name),9,ch)]))),128))]),b.createElementVNode("div",hh,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("文字位置设置：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(c,s=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:s.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:s.name,"onUpdate:modelValue":i[1]||(i[1]=e=>o.textPos=e),value:s.id},null,8,dh),[[b.vModelRadio,o.textPos]]),b.createElementVNode("label",{for:s.name},b.toDisplayString(s.name),9,uh)]))),128))]),b.createElementVNode("div",fh,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("精度单位设置：")),1),b.createElementVNode("div",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(u,s=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:s.id,style:{display:"flex","align-items":"center"}},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:s.name,"onUpdate:modelValue":i[2]||(i[2]=e=>o.precision=e),value:s.id},null,8,ph),[[b.vModelRadio,o.precision]]),b.createElementVNode("label",{for:s.name},b.toDisplayString(s.name),9,gh),b.withDirectives(b.createElementVNode("div",mh,[b.withDirectives(b.createElementVNode("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>o.precisionVal=e),disabled:o.precision!=2},[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(7,(e,n)=>b.createElementVNode("option",{value:n,key:n},b.toDisplayString((e*0).toFixed(n)),9,yh)),64))],8,bh),[[b.vModelSelect,o.precisionVal]]),wh],512),[[b.vShow,s.id===2]])]))),128))])]),b.createElementVNode("div",xh,[b.createElementVNode("button",{class:"btn_normal",onClick:a,style:{margin:"10px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),d2="",_h=_e(vh,[["__scopeId","data-v-13be2da8"],["__file","index.vue"]]),Mh={class:"content"},Ph={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Ch=["id","value"],Eh=["for"],Dh={class:"inputBox"},Ah={style:{display:"flex","align-items":"center","margin-top":"10px"},class:"custom-checkbox"},kh={class:"inputBox"},Sh={style:{display:"flex","align-items":"center","margin-left":"10px","margin-bottom":"10px"}},Th={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},Nh=b.defineComponent({__name:"index",setup(D){const o=b.reactive({markStyle:br.NationalMarking,textName:"图名标注",scale:!1,isContinuous:!1,scaleValue:"1:100"}),{store:t}=MxPluginContext,{setCommandFocus:c}=t.useFocus(),u=b.reactive([{name:O("国标标注"),id:br.NationalMarking},{name:O("传统标注"),id:br.TraditionalMarking}]),a=()=>ot(this,null,function*(){Se.value=!1,yl(o.textName,o.scale,o.scaleValue,o.markStyle)});return(r,i)=>(b.openBlock(),b.createElementBlock("div",Mh,[b.createElementVNode("div",Ph,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("标注样式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(u,s=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:s.id},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:s.name,"onUpdate:modelValue":i[0]||(i[0]=e=>o.markStyle=e),value:s.id},null,8,Ch),[[b.vModelRadio,o.markStyle]]),b.createElementVNode("label",{for:s.name},b.toDisplayString(s.name),9,Eh)]))),128))]),b.createElementVNode("div",Dh,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("图名文字")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=s=>o.textName=s),onFocus:i[2]||(i[2]=()=>{b.unref(c)(!1)}),onBlur:i[3]||(i[3]=()=>{b.unref(c)(!0)})},null,544),[[b.vModelText,o.textName]])]),b.createElementVNode("div",Ah,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"scale",value:"scale","onUpdate:modelValue":i[4]||(i[4]=s=>o.scale=s),style:{"margin-bottom":"10px"}},null,512),[[b.vModelCheckbox,o.scale]]),b.createElementVNode("div",kh,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("显示比例：")),1),b.withDirectives(b.createElementVNode("input",{type:"text","onUpdate:modelValue":i[5]||(i[5]=s=>o.scaleValue=s),onFocus:i[6]||(i[6]=()=>{b.unref(c)(!1)}),onBlur:i[7]||(i[7]=()=>{b.unref(c)(!0)}),style:{width:"80px"}},null,544),[[b.vModelText,o.scaleValue]])]),b.createElementVNode("div",Sh,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"continuous",value:"continuous","onUpdate:modelValue":i[8]||(i[8]=s=>o.isContinuous=s)},null,512),[[b.vModelCheckbox,o.isContinuous]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("连续标注")),1)])]),b.createElementVNode("div",Th,[b.createElementVNode("button",{class:"btn_normal",onClick:a,style:{margin:"5px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])]))}}),u2="",Vh=_e(Nh,[["__scopeId","data-v-ead6580a"],["__file","index.vue"]]),Bh={class:"content"},Rh={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Ih=["id","value"],Lh=["for"],jh={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},zh={class:"content"},Oh={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Fh=["id","value"],Uh=["for"],Hh={style:{width:"100%",height:"100%",display:"flex","justify-content":"center","align-items":"center"}},Wh=["onUpdate:modelValue"],Gh=["onUpdate:modelValue"],qh={class:"options"},Xh=["onClick"],Kh=["onClick"],Yh={style:{display:"flex","align-items":"center",margin:"20px 0px 10px"}},Zh={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Jh={class:"inputBox"},Qh={class:"inputBox"},$h={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},td={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},ed={class:"inputBox"},nd={class:"inputBox"},rd={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},id=b.defineComponent({__name:"index",setup(D){const o=MxPluginContext.useTheme().isDark?"dark":"light",t=b.ref(!1),c=b.reactive({axisStyle:Dn.SingleAxis,direct:0,isAddLabel:!0,isAddId:!0}),{store:u}=MxPluginContext,{setCommandFocus:a}=u.useFocus(),r=b.reactive([{name:O("单条轴线"),id:Dn.SingleAxis},{name:O("轴线网格"),id:Dn.AxisGrid}]),i=b.reactive([{name:O("左边"),id:0},{name:O("右边"),id:1},{name:O("上边"),id:2},{name:O("下边"),id:3}]),s=b.reactive({0:[{num:1,interval:0}],1:[{num:1,interval:0}],2:[{num:1,interval:0}],3:[{num:1,interval:0}]}),e=b.reactive({fontSizel:.15,arrawSize:.1,fontSizeI:35,radius:35}),n=()=>ot(this,null,function*(){c.axisStyle===Dn.SingleAxis?(Se.value=!1,Lo()):c.axisStyle===Dn.AxisGrid&&(t.value=!0)}),d=()=>{Se.value=!1,t.value=!1,Ml(s,c.isAddLabel,c.isAddId,e)},l=()=>{s[c.direct]=[],s[c.direct].push({num:1,interval:0})},h=(p,g)=>{g>0?s[c.direct].splice(p+1,0,{num:1,interval:0}):s[c.direct].splice(p,1)};return(p,g)=>(b.openBlock(),b.createElementBlock(b.Fragment,null,[b.withDirectives(b.createElementVNode("div",Bh,[b.createElementVNode("div",Rh,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("轴线样式：")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(r,f=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:f.id,style:{margin:"0 10px"}},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:f.name,"onUpdate:modelValue":g[0]||(g[0]=m=>c.axisStyle=m),value:f.id},null,8,Ih),[[b.vModelRadio,c.axisStyle]]),b.createElementVNode("label",{for:f.name},b.toDisplayString(f.name),9,Lh)]))),128))]),b.createElementVNode("div",jh,[b.createElementVNode("button",{class:"btn_normal",onClick:n,style:{margin:"5px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])],512),[[b.vShow,!t.value]]),b.withDirectives(b.createElementVNode("div",zh,[b.createElementVNode("div",Oh,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(i,f=>(b.openBlock(),b.createElementBlock("div",{class:"radio",key:f.id,style:{margin:"0 10px"}},[b.withDirectives(b.createElementVNode("input",{type:"radio",id:f.name,"onUpdate:modelValue":g[1]||(g[1]=m=>c.direct=m),value:f.id},null,8,Fh),[[b.vModelRadio,c.direct]]),b.createElementVNode("label",{for:f.name},b.toDisplayString(f.name),9,Uh)]))),128)),b.createElementVNode("button",{class:"btn",onClick:l},b.toDisplayString(b.unref(O)("清空")),1)]),b.createElementVNode("div",Hh,[b.createElementVNode("table",null,[b.createElementVNode("tr",null,[b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("个数")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("间距")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("操作")),1)]),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(s[c.direct],(f,m)=>(b.openBlock(),b.createElementBlock("tr",{key:m},[b.createElementVNode("td",null,[b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":y=>f.num=y,onFocus:g[2]||(g[2]=()=>{b.unref(a)(!1)}),onBlur:g[3]||(g[3]=()=>{b.unref(a)(!0)}),min:"1"},null,40,Wh),[[b.vModelText,f.num]])]),b.createElementVNode("td",null,[b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":y=>f.interval=y,onFocus:g[4]||(g[4]=()=>{b.unref(a)(!1)}),onBlur:g[5]||(g[5]=()=>{b.unref(a)(!0)}),min:"0"},null,40,Gh),[[b.vModelText,f.interval]])]),b.createElementVNode("td",null,[b.createElementVNode("div",qh,[b.createElementVNode("span",{onClick:y=>h(m,1)},b.toDisplayString(b.unref(O)("添加")),9,Xh),b.withDirectives(b.createElementVNode("span",{onClick:y=>h(m,-1)},b.toDisplayString(b.unref(O)("删除")),9,Kh),[[b.vShow,s[c.direct].length>1]])])])]))),128))])]),b.createElementVNode("div",Yh,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"al",value:"al","onUpdate:modelValue":g[6]||(g[6]=f=>c.isAddLabel=f)},null,512),[[b.vModelCheckbox,c.isAddLabel]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("添加标注")),1)]),b.withDirectives(b.createElementVNode("div",Zh,[b.createElementVNode("div",Jh,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("文字大小")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":g[7]||(g[7]=f=>e.fontSizel=f),onFocus:g[8]||(g[8]=()=>{b.unref(a)(!1)}),class:b.normalizeClass(`${b.unref(o)}`),onBlur:g[9]||(g[9]=()=>{b.unref(a)(!0)}),style:{width:"100px"},min:"0",step:"0.01"},null,34),[[b.vModelText,e.fontSizel]])]),b.createElementVNode("div",Qh,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("箭头大小")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":g[10]||(g[10]=f=>e.arrawSize=f),onFocus:g[11]||(g[11]=()=>{b.unref(a)(!1)}),onBlur:g[12]||(g[12]=()=>{b.unref(a)(!0)}),style:{width:"100px"},min:"0",step:"0.01"},null,544),[[b.vModelText,e.arrawSize]])])],512),[[b.vShow,c.isAddLabel]]),b.createElementVNode("div",$h,[b.withDirectives(b.createElementVNode("input",{type:"checkbox",id:"ai",value:"ai","onUpdate:modelValue":g[13]||(g[13]=f=>c.isAddId=f)},null,512),[[b.vModelCheckbox,c.isAddId]]),b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("添加编号")),1)]),b.withDirectives(b.createElementVNode("div",td,[b.createElementVNode("div",ed,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("文字大小")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":g[14]||(g[14]=f=>e.fontSizeI=f),onFocus:g[15]||(g[15]=()=>{b.unref(a)(!1)}),onBlur:g[16]||(g[16]=()=>{b.unref(a)(!0)}),style:{width:"100px"},min:"0"},null,544),[[b.vModelText,e.fontSizeI]])]),b.createElementVNode("div",nd,[b.createElementVNode("span",null,b.toDisplayString(`${b.unref(O)("圆框半径")}：`),1),b.withDirectives(b.createElementVNode("input",{type:"number","onUpdate:modelValue":g[17]||(g[17]=f=>e.radius=f),onFocus:g[18]||(g[18]=()=>{b.unref(a)(!1)}),onBlur:g[19]||(g[19]=()=>{b.unref(a)(!0)}),style:{width:"100px"},min:"0"},null,544),[[b.vModelText,e.radius]])])],512),[[b.vShow,c.isAddId]]),b.createElementVNode("div",rd,[b.createElementVNode("button",{class:"btn_normal btn_back",onClick:g[20]||(g[20]=()=>t.value=!1),style:{margin:"5px 10px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("返回")),1),b.createElementVNode("button",{class:"btn_normal",onClick:d,style:{margin:"5px 0px 5px",color:"#fff!important"}},b.toDisplayString(b.unref(O)("确定")),1)])],512),[[b.vShow,t.value]])],64))}}),f2="",od=_e(id,[["__scopeId","data-v-4771787e"],["__file","index.vue"]]),sd=D=>(b.pushScopeId("data-v-fa083ec2"),D=D(),b.popScopeId(),D),ad={class:"body"},ld={class:"header"},cd={style:{display:"flex","align-items":"center"}},hd=["src"],dd=[sd(()=>b.createElementVNode("svg",{"aria-hidden":"true",fill:"rgb(var(--v-theme-on-dialog-card-text))"},[b.createElementVNode("use",{"xlink:href":"#icon-cha"})],-1))],ud=b.defineComponent({__name:"AnnotationDialog",setup(D){const{utils:o}=MxPluginContext,t={ArrowCitation:ql,ExtractionAnnotation:ec,PracticeLabeling:hc,IndexSymbol:Nc,IndexName:Oc,SliceSymbol:ih,ElevationMarking:_h,MapTitleMarking:Vh,PlotAxis:od},c=()=>{Se.value=!1},u=b.ref(null),a=r=>{var d;if(((d=r.target)==null?void 0:d.className)!=="header")return;const i=u.value,s=r.clientX-i.offsetLeft,e=r.clientY-i.offsetTop,n=l=>{i.style.left=l.clientX-s+"px",i.style.top=l.clientY-e+"px"};document.addEventListener("mousemove",n),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",n)})};return(r,i)=>b.withDirectives((b.openBlock(),b.createElementBlock("div",ad,[b.createElementVNode("div",{class:"dialog",onMousedown:a,ref_key:"dialog",ref:u},[b.createElementVNode("div",ld,[b.createElementVNode("div",cd,[b.createElementVNode("img",{src:b.unref(o).getLogoImgSrc(),alt:""},null,8,hd),b.createElementVNode("span",null,b.toDisplayString(b.unref(Ne).name),1)]),b.createElementVNode("a",{href:"#!",onClick:c,role:"button",class:"close","aria-label":"close this modal"},dd)]),(b.openBlock(),b.createBlock(b.resolveDynamicComponent(t[b.unref(Ne).component])))],544)],512)),[[b.vShow,b.unref(Se)]])}}),g2="",fd=_e(ud,[["__scopeId","data-v-fa083ec2"],["__file","AnnotationDialog.vue"]]);window._iconfont_svg_string_4684204='<svg><symbol id="icon-cha" viewBox="0 0 1024 1024"><path d="M916.336 917.44a15.952 15.952 0 0 1-11.312-4.688L96.368 104.08a15.984 15.984 0 1 1 22.624-22.624l808.656 808.672a15.984 15.984 0 0 1-11.312 27.312z" fill="" ></path><path d="M107.68 917.44a15.984 15.984 0 0 1-11.312-27.312L905.024 81.456a15.984 15.984 0 1 1 22.624 22.624L118.992 912.752a15.92 15.92 0 0 1-11.312 4.688z" fill="" ></path></symbol></svg>',(D=>{var o=(t=(t=document.getElementsByTagName("script"))[t.length-1]).getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var c,u,a,r,i,s=function(d,l){l.parentNode.insertBefore(d,l)};if(o&&!D.__iconfont__svg__cssinject__){D.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(d){console&&console.log(d)}}c=function(){var d,l=document.createElement("div");l.innerHTML=D._iconfont_svg_string_4684204,(l=l.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",l=l,(d=document.body).firstChild?s(l,d.firstChild):d.appendChild(l))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(c,0):(u=function(){document.removeEventListener("DOMContentLoaded",u,!1),c()},document.addEventListener("DOMContentLoaded",u,!1)):document.attachEvent&&(a=c,r=D.document,i=!1,n(),r.onreadystatechange=function(){r.readyState=="complete"&&(r.onreadystatechange=null,e())})}function e(){i||(i=!0,a())}function n(){try{r.documentElement.doScroll("left")}catch(d){return void setTimeout(n,50)}e()}})(window);const sn=b.ref(""),dn=b.ref(300),Wn=b.ref(!0),Ie=MxPluginContext.useDialogIsShow(),pd={style:{height:"300px","overflow-y":"auto",padding:"0px 10px"}},gd={class:"button-grid"},md=b.defineComponent({__name:"ExtoolsDialog",setup(D){b.onMounted(()=>{dn.value=600}),b.ref(!0);const o=b.ref("修改工具"),t=b.reactive([{name:O("修改工具"),list:[{cmd:"Mx_Extool_Multicopy",name:O("多重复制")},{cmd:"Mx_Extool_ArcToCircle",name:O("弧转圆")},{cmd:"Mx_Extool_CopyRotation",name:O("复制旋转")},{cmd:"Mx_Extool_CricleTotoll",name:O("圆转多边")},{cmd:"Mx_Extool_ChangeColor",name:O("改颜色")},{cmd:"Mx_Extool_ArcToAngle",name:O("圆弧切角")},{cmd:"Mx_Extool_TemHiding",name:O("临时隐藏")},{cmd:"Mx_Extool_AngleCopy",name:O("角度复制")},{cmd:"Mx_Extool_VertexRep",name:O("顶点复制")},{cmd:"Mx_Extool_IntersectBreak",name:O("交点打断")},{cmd:"Mx_Extool_DoubleOff",name:O("双向偏移")},{cmd:"Mx_Extool_Telescoping",name:O("伸缩")},{cmd:"Mx_Extool_EitCircle",name:O("改圆大小")},{cmd:"Mx_Extool_LayerTypeScale",name:O("线型比例")},{cmd:"Mx_Extool_ArcOrder",name:O("按弧阵列")},{cmd:"Mx_Extool_PlRoundCorners",name:O("pl圆角")},{cmd:"Mx_Extool_PlReverse",name:O("pl线反向")},{cmd:"Mx_Extool_RectangularScaling",name:O("矩形缩放")},{cmd:"Mx_Extool_Interrupt",name:O("打断")},{cmd:"Mx_Extool_PolarArray",name:O("环形阵列")},{cmd:"Mx_Extool_PolygonClipping",name:O("切割多边形")},{cmd:"Mx_Extool_MergePolygons",name:O("合并多边形")},{cmd:"Mx_Extool_AddVertex",name:O("多边形加顶点")},{cmd:"Mx_Extool_DeleteVertex",name:O("多边形删顶点")},{cmd:"Mx_Extool_StretchPolygon",name:O("拉伸多边形单边")}]},{name:O("文字工具"),list:[{cmd:"Mx_Extool_AlignByLine",name:O("按线对齐")},{cmd:"Mx_Extool_TextHeight",name:O("改字高")},{cmd:"Mx_Extool_TextWidth",name:O("改字宽")},{cmd:"Mx_Extool_BrushCon",name:O("刷内容")},{cmd:"Mx_Extool_ReplaceCon",name:O("换内容")},{cmd:"Mx_Extool_AlignLeft",name:O("左右对齐")},{cmd:"Mx_Extool_AlignUp",name:O("上下对齐")},{cmd:"Mx_Extool_TextReversal",name:O("文字反转")},{cmd:"Mx_Extool_TextTrim",name:O("去空格")},{cmd:"Mx_Extool_TextTraming",name:O("文字加框")},{cmd:"Mx_Extool_Underline",name:O("下划线")},{cmd:"Mx_Extool_TitleLine",name:O("图名线")},{cmd:"Mx_Extool_Case",name:O("大小写")},{cmd:"Mx_Extool_NumSum",name:O("数字求和")},{cmd:"Mx_Extool_SSWords",name:O("选特定字")},{cmd:"Mx_Extool_Prefix",name:O("前后缀")},{cmd:"Mx_Extool_ConnectText",name:O("连接文字")},{cmd:"Mx_Extool_VerticalText",name:O("文字竖向")},{cmd:"Mx_Extool_AlignByArc",name:O("按弧对齐")}]},{name:O("标注工具"),list:[{cmd:"Mx_Extool_Approval",name:O("审图标注")},{cmd:"Mx_Extool_AnnotatedRectangle",name:O("矩形批注")},{cmd:"Mx_Extool_Alignment",name:O("对齐")},{cmd:"Mx_Extool_indexSymbol",name:O("序号标注")},{cmd:"Mx_Extool_Enlarge",name:O("局部放大")},{cmd:"Mx_Extool_Bisection",name:O("等分")}]},{name:O("块工具"),list:[{cmd:"Mx_Extool_ChangeBN",name:O("改块名")},{cmd:"Mx_Extool_BushBlk",name:O("刷块")},{cmd:"Mx_Extool_ConBlk",name:O("块连线")},{cmd:"Mx_Extool_BlkCenterLine",name:O("块中心线")},{cmd:"Mx_Extool_BlkPt",name:O("改块基点")},{cmd:"Mx_Extool_BlkColor",name:O("改块颜色")},{cmd:"Mx_Extool_BlkRotate",name:O("多块旋转")},{cmd:"Mx_Extool_BlkScale",name:O("多块缩放")},{cmd:"Mx_Extool_BlkAngle",name:O("刷块角度")},{cmd:"Mx_Extool_BlkSelect",name:O("按块选择")},{cmd:"Mx_Extool_BlkAllSelect",name:O("按块全选")},{cmd:"Mx_Extool_SSBlk",name:O("统计单块")},{cmd:"Mx_Extool_BlkLayer",name:O("修改块图层")}]},{name:O("绘图工具"),list:[{cmd:O("Mx_Extool_DrawStart"),name:O("星形")},{cmd:O("Mx_Extool_ConcavoVex"),name:O("凹凸线")},{cmd:O("Mx_Extool_ZigzagLine"),name:O("锯齿线")},{cmd:O("Mx_Extool_CenterRect"),name:O("中心矩形")},{cmd:O("Mx_Extool_RREC"),name:O("圆角矩形")},{cmd:O("Mx_Extool_CCLine"),name:O("圆中心线")},{cmd:O("Mx_Extool_Piping"),name:O("管道")},{cmd:O("Mx_Extool_CutPipeline"),name:O("剖管符")},{cmd:O("Mx_Extool_WelLine"),name:O("焊缝线")},{cmd:O("Mx_Extool_PerpLine"),name:O("中垂线")},{cmd:O("Mx_Extool_StairLine"),name:O("楼梯")},{cmd:O("Mx_Extool_SolidCircle"),name:O("实心圆")},{cmd:O("Mx_Extool_CottonInsulation"),name:O("保温棉")},{cmd:O("Mx_Extool_CenterLine"),name:O("中心线")},{cmd:O("Mx_Extool_DoHole"),name:O("开洞")},{cmd:O("Mx_Extool_Compass"),name:O("指北针")},{cmd:O("Mx_Extool_MassegeBox"),name:O("提示框")},{cmd:O("Mx_Extool_ConcentricCircles"),name:O("同心圆")},{cmd:O("Mx_Extool_Gear"),name:O("齿轮")},{cmd:O("Mx_Extool_BlkCenterLine"),name:O("块中心线")},{cmd:O("Mx_Extool_RoundCutPublicLine"),name:O("圆切公线")},{cmd:O("Mx_Extool_DrawPolygon"),name:O("绘任意多边形")}]}]),{isShow:c}=Ie,u=a=>{c.value=!1,MxPluginContext.callCommand(a)};return(a,r)=>(b.openBlock(),b.createElementBlock("div",null,[b.createVNode(b.unref(dt.VTabs),{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=i=>o.value=i),color:"primary","align-tabs":"center",class:"mb-4",grow:""},{default:b.withCtx(()=>[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,i=>(b.openBlock(),b.createBlock(b.unref(dt.VTab),{key:i.name,value:i.name},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),b.createElementVNode("div",pd,[b.createVNode(b.unref(dt.VWindow),{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=i=>o.value=i)},{default:b.withCtx(()=>[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,i=>(b.openBlock(),b.createBlock(b.unref(dt.VWindowItem),{key:i.name,value:i.name},{default:b.withCtx(()=>[b.createElementVNode("div",gd,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(i.list,s=>(b.openBlock(),b.createBlock(b.unref(dt.VBtn),{key:s.btn,variant:"outlined",class:"extools-btn",onClick:e=>u(s.cmd)},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(s.name),1)]),_:2},1032,["onClick"]))),128))])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]))}}),m2="",bd=_e(md,[["__scopeId","data-v-7312f313"],["__file","ExtoolsDialog.vue"]]),yd={style:{margin:"5px 0px"}},wd=_e(b.defineComponent({__name:"SetDimScaleDialog",props:{paramData:{type:Object,default:()=>({})}},emits:["receiveParameters"],setup(D,{emit:o}){const t=D,c=b.ref(0),u=o,a=()=>{u("receiveParameters",{dimScale:c.value/t.paramData.distance})};return b.onMounted(()=>{dn.value=250,t.paramData.distance&&(c.value=t.paramData.distance)}),(r,i)=>(b.openBlock(),b.createElementBlock("div",null,[b.createElementVNode("p",yd,b.toDisplayString(b.unref(O)("输入两点之间实际尺寸来设置标注比例:")),1),b.createVNode(b.unref(dt.VTextField),{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=s=>c.value=s),onChange:a,type:"number"},null,8,["modelValue"])]))}}),[["__file","SetDimScaleDialog.vue"]]);var se=(D=>(D[D.ActualValue=0]="ActualValue",D[D.SquareMeter=1]="SquareMeter",D))(se||{}),te=(D=>(D.Area="面积",D.Length="长度",D.Coordinate="坐标",D.Angle="角度",D.Radius="半径",D))(te||{});const Xe=b.ref(1),De=b.ref(0),Oe=b.reactive([{type:"长度",fixedNum:-1,showType:0},{type:"面积",fixedNum:-1,showType:0},{type:"坐标",fixedNum:-1,showType:0}]),Ce=b.ref("#FF6600"),Gn=b.ref("#FF6600"),Ei=b.ref(["#B71C1C","#8BC34A","#F57C00","#FFFFFF","#547DBF","#C2185B","#FFEB3B","#0D47A1","#F9A825","#F8BBD0","#00FFFF","#E040FB","#FFE0B2","#F44336","#388E3C","#FF5252","#A1887F","#1DE9B6","#90CAF9"]);class qe extends w.McDbCustomEntity{}function Ke(D){const o=Ze.value.find(i=>i.current),t=w.MxCpp.getCurrentMxCAD();t.showLineWeight(!0);const c=t.getDatabase().getCurrentlyLayerName();t.getDatabase().getLayerTable().has("Mx_Dim_Layer")||t.addLayer("Mx_Dim_Layer"),t.drawLayer="Mx_Dim_Layer";let a=w.MxCpp.getCurrentDatabase().currentSpace.getMinMaxDrawOrder();D.drawOrder=a.maxDrawOrder+1,D.trueColor=o?new w.McCmColor(...Tr(o.color)):new w.McCmColor(...Tr(Gn.value)),D.categoryName=o?o.name:"未分类";const r=t.drawEntity(D);return t.drawLayer=c,r}const Ze=b.ref([]);function Tr(D){D=D.replace(/^#/,""),D.length===3&&(D=D.split("").map(a=>a+a).join(""));const o=parseInt(D,16),t=o>>16&255,c=o>>8&255,u=o&255;return[t,c,u]}function xd(D,o,t){[D,o,t]=[D,o,t].map(u=>Math.max(0,Math.min(255,u)));const c=u=>{const a=u.toString(16);return a.length===1?"0"+a:a};return"#"+c(D)+c(o)+c(t)}function vd(D){let o=D.getAt("MyListRecord");if(!o.isValid())return[];let t=o.getMcDbObject();if(!t||!(t instanceof w.McDbXrecord))return[];let c=t,u=[];return c.getData().forEach((a,r,i)=>{u=JSON.parse(a)}),u}const _d=()=>{const t=w.MxCpp.getCurrentMxCAD().getDatabase().getNamedObjectsDictionary().getAt("MyCategoryList");if(!t.isValid())return[];let c=t.getMcDbObject();return c instanceof w.McDbDictionary?vd(c):[]};function Ue(){const D=_d();if(D&&D.length){const o=D.find(t=>t.current);Ce.value=o?o.color:Gn.value,Ze.value=D}else Ce.value=Gn.value}const Md=D=>(b.pushScopeId("data-v-3abb1e2e"),D=D(),b.popScopeId(),D),Pd={style:{"margin-top":"10px"}},Cd=Md(()=>b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[b.createElementVNode("th",{style:{width:"40%"}},"属性名称"),b.createElementVNode("th",null,"属性值")])],-1)),Ed={style:{display:"flex","align-items":"center"}},Dd=b.defineComponent({__name:"MeasurementSet",props:{paramData:{type:Object,default:()=>({})}},emits:["receiveParameters"],setup(D,{emit:o}){const t=D,c=b.ref([]);b.onMounted(()=>{var i,s;if(dn.value=300,(s=(i=t.paramData)==null?void 0:i.measurements)!=null&&s.length){c.value=t.paramData.measurements;const e=c.value.filter(d=>d.dimType===te.Length||d.dimType===te.Area),n=Ze.value.map(d=>d.name);u.value.push({name:O("颜色"),key:"trueColor",type:"color",value:c.value[0].trueColor.getColorValue(c.value[0].layerId).replace("0x","#"),options:Ei.value},{name:O("分类"),type:"text",key:"categoryName",value:c.value.length==1?c.value[0].categoryName:"*多种*",options:n.length>0?n:["未分类"]},{name:O("文字高度"),type:"number",key:"dimTextHeight",value:c.value.length==1?Number(Number(c.value[0].dimTextHeight).toFixed(2)):"*多种*",options:[]}),e.length===c.value.length&&u.value.push({name:O("比例"),type:"number",key:"dimScale",value:c.value.length==1?Number(c.value[0].dimScale.toFixed(3)):"*多种*",options:Xe.value===c.value[0].dimScale?[Number(Xe.value.toFixed(3))]:[Number(c.value[0].dimScale.toFixed(3)),Number(Xe.value.toFixed(3))]})}});const u=b.ref([]),a=o,r=()=>{const i={};u.value.map(s=>{if(s.type==="color"){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(s.value)){const n=new w.McCmColor(...Tr(s.value));i[s.key]=n}}else s.type==="number"&&Number(s.value)?i[s.key]=Number(s.value):s.type==="text"&&s.value&&s.value!=="*多种*"&&(i[s.key]=s.value)}),a("receiveParameters",i)};return(i,s)=>(b.openBlock(),b.createElementBlock("div",Pd,[b.createVNode(b.unref(dt.VTable),{class:"mx-attribute-table",density:"compact",style:{width:"100%",border:"1px solid #ccc"}},{default:b.withCtx(()=>[Cd,b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(u.value,(e,n)=>(b.openBlock(),b.createElementBlock("tr",{key:n},[b.createElementVNode("td",null,b.toDisplayString(e.name),1),b.createElementVNode("td",Ed,[e.type==="color"?(b.openBlock(),b.createBlock(b.unref(dt.VSelect),{key:0,items:e.options,modelValue:e.value,"onUpdate:modelValue":d=>e.value=d},{selection:b.withCtx(({item:d})=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:d.value}),class:"color-box"},null,4)]),item:b.withCtx(({item:d,props:l})=>[b.createVNode(b.unref(dt.VListItem),{onClick:()=>{e.value=d,l.onClick(),r()}},{default:b.withCtx(()=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:d.value}),class:"color-box"},null,4)]),_:2},1032,["onClick"])]),_:2},1032,["items","modelValue","onUpdate:modelValue"])):e.key==="dimTextHeight"?(b.openBlock(),b.createBlock(b.unref(dt.VCombobox),{key:1,modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,items:e.options||[],"hide-details":!0,density:"compact",style:{width:"100%"},onChange:r},null,8,["modelValue","onUpdate:modelValue","items"])):(b.openBlock(),b.createBlock(b.unref(dt.VSelect),{key:2,modelValue:e.value,"onUpdate:modelValue":[d=>e.value=d,r],items:e.options||[],"hide-details":!0,density:"compact",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","items"]))])]))),128))])]),_:1})]))}}),y2="",Ad=_e(Dd,[["__scopeId","data-v-3abb1e2e"],["__file","MeasurementSet.vue"]]),kd={style:{"margin-left":"10px"}},Sd={class:"text-caption"},Td={class:"table-container"},Nd={style:{width:"100%"}},Vd=["onClick"],Bd=["onClick"],Rd=["onClick"],Id={class:"mt-2 text-caption grey--text"},Ld=b.defineComponent({__name:"CategoryManage",setup(D){b.onMounted(()=>{dn.value=500,t()});const o=[];function t(){return ot(this,null,function*(){const C=new w.MxCADSelectionSet,S=new w.MxCADResbuf;S.AddString("CUSTOMENTITY",5020),yield C.allSelect(S),C.count()!==0&&C.forEach(I=>{const z=I.getMcDbEntity();z instanceof qe&&o.push(z)})})}const c=b.ref(""),u=b.ref(!1),a=b.ref(""),r=b.ref(!1),i=b.ref(null),s=[{text:O("名称"),width:"40%"},{text:O("颜色"),width:"20%"},{text:O("显示"),width:"15%"},{text:O("当前"),width:"15%"},{text:"",width:"10%"}],e=b.computed(()=>Ze.value.filter(C=>C.name.includes(c.value))),n=b.computed(()=>{const C=Ze.value.find(S=>S.current);return C?C.name:"未分类"});function d(C){Ze.value.forEach(S=>S.current=!1),C.current=!0,C.visible=!0,Ce.value=C.color}function l(){const C=Date.now();Ze.value.push({id:C,name:`分类${Ze.value.length+1}`,color:"#D35400",visible:!0,current:!1})}function h(C){if(C.current){a.value=O("这个分类是当前分类，不能被删除，您可以将其它分类设置为当前分类后，再重新操作!"),r.value=!0;return}if(o.filter(I=>I.categoryName===C.name).length>0){a.value=O("该分类下有标注，不能被删除，您可以将标注移动到其它分类后，再重新操作!"),r.value=!0;return}Ze.value=Ze.value.filter(I=>I.id!==C.id)}function p(){Ze.value.forEach(C=>C.visible=!0),o.forEach(C=>{C.visible=!0}),w.MxCpp.getCurrentMxCAD().updateDisplay()}function g(){Ze.value.forEach(C=>{C.current||(C.visible=!1)}),o.forEach(C=>{C.categoryName!=n.value&&(C.visible=!1)}),w.MxCpp.getCurrentMxCAD().updateDisplay(),a.value=`${n.value}${O("是当前分类，无法设置隐藏，其它分类已隐藏")}`,r.value=!0}const f=b.ref(null);function m(C){return ot(this,null,function*(){if(o.length===0)return;o.filter(I=>I.categoryName===C.name).length>0&&(u.value=!0,f.value=C)})}function y(){o.forEach(C=>{var S,I;C.categoryName===((S=f.value)==null?void 0:S.name)&&(C.trueColor=new w.McCmColor(...Tr((I=f.value)==null?void 0:I.color)))}),w.MxCpp.getCurrentMxCAD().updateDisplay(),u.value=!1}function v(C){if(C.current){a.value=O("这个分类是当前分类，不能被隐藏，您可以将其它分类设置为当前分类后，再重新操作!"),r.value=!0;return}C.visible=!C.visible,o.forEach(S=>{S.categoryName===C.name&&(S.visible=C.visible)}),w.MxCpp.getCurrentMxCAD().updateDisplay()}return b.onBeforeUnmount(()=>{let S=w.MxCpp.getCurrentMxCAD().getDatabase().getNamedObjectsDictionary(),I="MyCategoryList",z=S.getAt(I);if(z.isNull()){let L=new w.McDbDictionary;z=S.addObject(I,L)}let V=z.getMcDbDictionary();if(V){V.getAt("MyListRecord")&&V.remove("MyListRecord");let L=new w.McDbXrecord,U=new w.MxCADResbuf;const G=JSON.stringify(Ze.value);U.AddString(G),L.setData(U),V.addObject("MyListRecord",L)}}),(C,S)=>{const I=b.resolveComponent("v-spacer"),z=b.resolveDirective("ripple");return b.openBlock(),b.createElementBlock("div",null,[b.createVNode(b.unref(dt.VContainer),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRow),{align:"center",class:"mb-2",justify:"space-between"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"auto"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{color:"primary",onClick:l},{default:b.withCtx(()=>[b.createTextVNode("⊕"+b.toDisplayString(b.unref(O)("新建分类")),1)]),_:1}),b.createElementVNode("span",kd,b.toDisplayString(b.unref(O)("当前分类"))+"："+b.toDisplayString(n.value),1)]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"auto"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{onClick:p,class:"mr-2"},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("全部显示")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{onClick:g},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("全部隐藏")),1)]),_:1})]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),{align:"center",class:"mb-2",justify:"space-between"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"auto"},{default:b.withCtx(()=>[b.createElementVNode("span",Sd,b.toDisplayString(b.unref(O)("查找分类名称"))+"：",1)]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"auto"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{style:{width:"345px"},modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=V=>c.value=V),placeholder:b.unref(O)("请输入要查找的分类名称")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),b.createElementVNode("div",Td,[b.createElementVNode("table",Nd,[b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(s,V=>b.createElementVNode("th",{key:V.text,style:b.normalizeStyle({width:V.width})},b.toDisplayString(V.text),5)),64))])]),b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(e.value,V=>(b.openBlock(),b.createElementBlock("tr",{key:V.id,class:b.normalizeClass({"current-row":V.id===i.value})},[b.createElementVNode("td",null,[b.createVNode(b.unref(dt.VTextField),{modelValue:V.name,"onUpdate:modelValue":L=>V.name=L,onBlur:S[1]||(S[1]=L=>C.editingId=null),onKeyup:S[2]||(S[2]=b.withKeys(L=>C.editingId=null,["enter"]))},null,8,["modelValue","onUpdate:modelValue"])]),b.createElementVNode("td",null,[b.createVNode(b.unref(dt.VSelect),{items:b.unref(Ei),modelValue:V.color,"onUpdate:modelValue":L=>V.color=L},{selection:b.withCtx(()=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:V.color}),class:"color-box"},null,4)]),item:b.withCtx(({item:L,props:U})=>[b.createVNode(b.unref(dt.VListItem),{onClick:()=>{L.color=L,U.onClick(),m(V)}},{default:b.withCtx(()=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:L.value}),class:"color-box"},null,4)]),_:2},1032,["onClick"])]),_:2},1032,["items","modelValue","onUpdate:modelValue"])]),b.withDirectives((b.openBlock(),b.createElementBlock("td",{class:"text-orange",onClick:L=>v(V)},[b.createVNode(b.unref(dt.VIcon),{icon:V.visible?"yanjing1":"yanjing"},null,8,["icon"])],8,Vd)),[[z,void 0,void 0,{prevent:!0}]]),b.createElementVNode("td",{onClick:L=>d(V)},[V.current?(b.openBlock(),b.createBlock(b.unref(dt.VIcon),{key:0,icon:"class:iconfont gou",size:"x-small",color:"#16FD21"})):b.createCommentVNode("",!0)],8,Bd),b.createElementVNode("td",null,[b.createElementVNode("span",{onClick:L=>h(V),class:"delete-btn"},b.toDisplayString(b.unref(O)("删除")),9,Rd)])],2))),128))])])])]),_:1}),b.createElementVNode("div",Id,b.toDisplayString(b.unref(O)("点击表格项可以修改分类的名称和颜色，也可以设置当前分类")),1),b.createVNode(b.unref(dt.VDialog),{modelValue:r.value,"onUpdate:modelValue":S[4]||(S[4]=V=>r.value=V),"max-width":"200"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCard),{text:a.value,title:"提示"},{actions:b.withCtx(()=>[b.createVNode(I),b.createVNode(b.unref(dt.VBtn),{onClick:S[3]||(S[3]=V=>r.value=!1)},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("确定")),1)]),_:1})]),_:1},8,["text"])]),_:1},8,["modelValue"]),b.createVNode(b.unref(dt.VDialog),{modelValue:u.value,"onUpdate:modelValue":S[7]||(S[7]=V=>u.value=V),"max-width":"200"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCard),{text:b.unref(O)("是否需要将该分类下所有标注的颜色一起修改成分类的新颜色？"),title:b.unref(O)("提示")},{actions:b.withCtx(()=>[b.createVNode(I),b.createVNode(b.unref(dt.VBtn),{onClick:S[5]||(S[5]=V=>y(C.cat))},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("一起修改")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{onClick:S[6]||(S[6]=V=>u.value=!1)},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("不需要")),1)]),_:1})]),_:1},8,["text","title"])]),_:1},8,["modelValue"])])}}}),w2="",jd=_e(Ld,[["__scopeId","data-v-ddf9066b"],["__file","CategoryManage.vue"]]);var ee=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Nr(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zo={exports:{}};/*! ExcelJS 19-10-2023 */(function(D,o){(function(t){D.exports=t()})(function(){return function t(c,u,a){function r(e,n){if(!u[e]){if(!c[e]){var d=typeof Nr=="function"&&Nr;if(!n&&d)return d(e,!0);if(i)return i(e,!0);var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}var h=u[e]={exports:{}};c[e][0].call(h.exports,function(p){return r(c[e][1][p]||p)},h,h.exports,t,c,u,a)}return u[e].exports}for(var i=typeof Nr=="function"&&Nr,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(t,c,u){const a=t("fs"),r=t("fast-csv"),i=t("dayjs/plugin/customParseFormat"),s=t("dayjs/plugin/utc"),e=t("dayjs").extend(i).extend(s),n=t("../utils/stream-buf"),{fs:{exists:d}}=t("../utils/utils"),l={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};c.exports=class{constructor(h){this.workbook=h,this.worksheet=null}readFile(h,p){return ot(this,null,function*(){if(p=p||{},!(yield d(h)))throw new Error("File not found: "+h);const g=a.createReadStream(h),f=yield this.read(g,p);return g.close(),f})}read(h,p){return p=p||{},new Promise((g,f)=>{const m=this.workbook.addWorksheet(p.sheetName),y=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=p.map||function(S){if(S==="")return null;const I=Number(S);if(!Number.isNaN(I)&&I!==1/0)return I;const z=y.reduce((L,U)=>{if(L)return L;const G=e(S,U,!0);return G.isValid()?G:null},null);if(z)return new Date(z.valueOf());const V=l[S];return V!==void 0?V:S},C=r.parse(p.parserOptions).on("data",S=>{m.addRow(S.map(v))}).on("end",()=>{C.emit("worksheet",m)});C.on("worksheet",g).on("error",f),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,p){return new Promise((g,f)=>{p=p||{};const m=this.workbook.getWorksheet(p.sheetName||p.sheetId),y=r.format(p.formatterOptions);h.on("finish",()=>{g()}),y.on("error",f),y.pipe(h);const{dateFormat:v,dateUTC:C}=p,S=p.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return v?C?e.utc(V).format(v):e(V).format(v):C?e.utc(V).format():e(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),I=p.includeEmptyRows===void 0||p.includeEmptyRows;let z=1;m&&m.eachRow((V,L)=>{if(I)for(;z++<L-1;)y.write([]);const{values:U}=V;U.shift(),y.write(U.map(S)),z=L}),y.end()})}writeFile(h,p){const g={encoding:(p=p||{}).encoding||"utf8"},f=a.createWriteStream(h,g);return this.write(f,p)}writeBuffer(h){return ot(this,null,function*(){const p=new n;return yield this.write(p,h),p.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,c,u){const a=t("../utils/col-cache");class r{constructor(s,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,e)if(typeof e=="string"){const d=a.decodeAddress(e);this.nativeCol=d.col+n,this.nativeColOff=0,this.nativeRow=d.row+n,this.nativeRowOff=0}else e.nativeCol!==void 0?(this.nativeCol=e.nativeCol||0,this.nativeColOff=e.nativeColOff||0,this.nativeRow=e.nativeRow||0,this.nativeRowOff=e.nativeRowOff||0):e.col!==void 0?(this.col=e.col+n,this.row=e.row+n):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof r||s==null?s:new r(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}c.exports=r},{"../utils/col-cache":19}],3:[function(t,c,u){const a=t("../utils/col-cache"),r=t("../utils/under-dash"),i=t("./enums"),{slideFormula:s}=t("../utils/shared-formula"),e=t("./note");class n{constructor(h,p,g){if(!h||!p)throw new Error("A Cell needs a Row");this._row=h,this._column=p,a.validateAddress(g),this._address=g,this._value=d.create(n.Types.Null,this),this.style=this._mergeStyle(h.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,p,g){const f=h&&h.numFmt||p&&p.numFmt;f&&(g.numFmt=f);const m=h&&h.font||p&&p.font;m&&(g.font=m);const y=h&&h.alignment||p&&p.alignment;y&&(g.alignment=y);const v=h&&h.border||p&&p.border;v&&(g.border=v);const C=h&&h.fill||p&&p.fill;C&&(g.fill=C);const S=h&&h.protection||p&&p.protection;return S&&(g.protection=S),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===n.Types.Merge}merge(h,p){this._value.release(),this._value=d.create(n.Types.Merge,this,h),p||(this.style=h.style)}unmerge(){this.type===n.Types.Merge&&(this._value.release(),this._value=d.create(n.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===n.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===n.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===n.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==n.Types.Merge?(this._value.release(),this._value=d.create(d.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new e(h)}get text(){return this._value.toString()}get html(){return r.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===n.Types.String&&(this._value=d.create(n.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),h.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=d.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=e.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}n.Types=i.ValueType;const d={getType:l=>l==null?n.Types.Null:l instanceof String||typeof l=="string"?n.Types.String:typeof l=="number"?n.Types.Number:typeof l=="boolean"?n.Types.Boolean:l instanceof Date?n.Types.Date:l.text&&l.hyperlink?n.Types.Hyperlink:l.formula||l.sharedFormula?n.Types.Formula:l.richText?n.Types.RichText:l.sharedString?n.Types.SharedString:l.error?n.Types.Error:n.Types.JSON,types:[{t:n.Types.Null,f:class{constructor(l){this.model={address:l.address,type:n.Types.Null}}get value(){return null}set value(l){}get type(){return n.Types.Null}get effectiveType(){return n.Types.Null}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){}toString(){return""}}},{t:n.Types.Number,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Number,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.Number}get effectiveType(){return n.Types.Number}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.String,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.String,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:n.Types.Date,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Date,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.Date}get effectiveType(){return n.Types.Date}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Hyperlink,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const l={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(l.tooltip=this.model.tooltip),l}set value(l){this.model={text:l.text,hyperlink:l.hyperlink},l.tooltip&&(this.model.tooltip=l.tooltip)}get text(){return this.model.text}set text(l){this.model.text=l}get hyperlink(){return this.model.hyperlink}set hyperlink(l){this.model.hyperlink=l}get type(){return n.Types.Hyperlink}get effectiveType(){return n.Types.Hyperlink}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:n.Types.Formula,f:class{constructor(l,h){this.cell=l,this.model={address:l.address,type:n.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(l){const h={},p=g=>{const f=l[g];f&&(h[g]=f)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(l){this.model=this._copyModel(l)}validate(l){switch(d.getType(l)){case n.Types.Null:case n.Types.String:case n.Types.Number:case n.Types.Date:break;case n.Types.Hyperlink:case n.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(l){this.model.formula=l}get formulaType(){return this.model.formula?i.FormulaType.Master:this.model.sharedFormula?i.FormulaType.Shared:i.FormulaType.None}get result(){return this.model.result}set result(l){this.model.result=l}get type(){return n.Types.Formula}get effectiveType(){const l=this.model.result;return l==null?i.ValueType.Null:l instanceof String||typeof l=="string"?i.ValueType.String:typeof l=="number"?i.ValueType.Number:l instanceof Date?i.ValueType.Date:l.text&&l.hyperlink?i.ValueType.Hyperlink:l.formula?i.ValueType.Formula:i.ValueType.Null}get address(){return this.model.address}set address(l){this.model.address=l}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:l}=this.cell,h=l.findCell(this.model.sharedFormula);this._translatedFormula=h&&s(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:n.Types.Merge,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(l){l instanceof n?(this._master&&this._master.releaseMergeRef(),l.addMergeRef(),this._master=l):this._master.value=l}isMergedTo(l){return l===this._master}get master(){return this._master}get type(){return n.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:n.Types.JSON,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(l){this.model.rawValue=l,this.model.value=JSON.stringify(l)}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:n.Types.SharedString,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.SharedString,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.SharedString}get effectiveType(){return n.Types.SharedString}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.RichText,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.String,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}toString(){return this.model.value.richText.map(l=>l.text).join("")}get type(){return n.Types.RichText}get effectiveType(){return n.Types.RichText}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:n.Types.Boolean,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Boolean,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.Boolean}get effectiveType(){return n.Types.Boolean}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Error,f:class{constructor(l,h){this.model={address:l.address,type:n.Types.Error,value:h}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return n.Types.Error}get effectiveType(){return n.Types.Error}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((l,h)=>(l[h.t]=h.f,l),[]),create(l,h,p){const g=this.types[l];if(!g)throw new Error("Could not create Value of type "+l);return new g(h,p)}};c.exports=n},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,c,u){const a=t("../utils/under-dash"),r=t("./enums"),i=t("../utils/col-cache");class s{constructor(n,d,l){this._worksheet=n,this._number=d,l!==!1&&(this.defn=l)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return i.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(n){n?(this.key=n.key,this.width=n.width!==void 0?n.width:9,this.outlineLevel=n.outlineLevel,n.style?this.style=n.style:this.style={},this.header=n.header,this._hidden=!!n.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(n){n!==void 0?(this._header=n,this.headers.forEach((d,l)=>{this._worksheet.getCell(l+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(n){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=n,n&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(n){return this.width===n.width&&this.hidden===n.hidden&&this.outlineLevel===n.outlineLevel&&a.isEqual(this.style,n.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const n=this.style;return!n||!(n.font||n.numFmt||n.alignment||n.border||n.fill||n.protection)}get headerCount(){return this.headers.length}eachCell(n,d){const l=this.number;d||(d=n,n=null),this._worksheet.eachRow(n,(h,p)=>{d(h.getCell(l),p)})}get values(){const n=[];return this.eachCell((d,l)=>{d&&d.type!==r.ValueType.Null&&(n[l]=d.value)}),n}set values(n){if(!n)return;const d=this.number;let l=0;n.hasOwnProperty("0")&&(l=1),n.forEach((h,p)=>{this._worksheet.getCell(p+l,d).value=h})}_applyStyle(n,d){return this.style[n]=d,this.eachCell(l=>{l[n]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}static toModel(n){const d=[];let l=null;return n&&n.forEach((h,p)=>{h.isDefault?l&&(l=null):l&&h.equivalentTo(l)?l.max=p+1:(l={min:p+1,max:p+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},d.push(l))}),d.length?d:void 0}static fromModel(n,d){const l=[];let h=1,p=0;for(d=(d=d||[]).sort(function(g,f){return g.min-f.min});p<d.length;){const g=d[p++];for(;h<g.min;)l.push(new s(n,h++));for(;h<=g.max;)l.push(new s(n,h++,g))}return l.length?l:null}}c.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,c,u){c.exports=class{constructor(a){this.model=a||{}}add(a,r){return this.model[a]=r}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(t,c,u){const a=t("../utils/under-dash"),r=t("../utils/col-cache"),i=t("../utils/cell-matrix"),s=t("./range"),e=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;c.exports=class{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new i)}add(n,d){const l=r.decodeEx(n);this.addEx(l,d)}addEx(n,d){const l=this.getMatrix(d);if(n.top)for(let h=n.left;h<=n.right;h++)for(let p=n.top;p<=n.bottom;p++){const g={sheetName:n.sheetName,address:r.n2l(h)+p,row:p,col:h};l.addCellEx(g)}else l.addCellEx(n)}remove(n,d){const l=r.decodeEx(n);this.removeEx(l,d)}removeEx(n,d){this.getMatrix(d).removeCellEx(n)}removeAllNames(n){a.each(this.matrixMap,d=>{d.removeCellEx(n)})}forEach(n){a.each(this.matrixMap,(d,l)=>{d.forEach(h=>{n(l,h)})})}getNames(n){return this.getNamesEx(r.decodeEx(n))}getNamesEx(n){return a.map(this.matrixMap,(d,l)=>d.findCellEx(n)&&l).filter(Boolean)}_explore(n,d){d.mark=!1;const{sheetName:l}=d,h=new s(d.row,d.col,d.row,d.col,l);let p,g;function f(y,v){const C=n.findCellAt(l,y,d.col);return!(!C||!C.mark)&&(h[v]=y,C.mark=!1,!0)}for(g=d.row-1;f(g,"top");g--);for(g=d.row+1;f(g,"bottom");g++);function m(y,v){const C=[];for(g=h.top;g<=h.bottom;g++){const S=n.findCellAt(l,g,y);if(!S||!S.mark)return!1;C.push(S)}h[v]=y;for(let S=0;S<C.length;S++)C[S].mark=!1;return!0}for(p=d.col-1;m(p,"left");p--);for(p=d.col+1;m(p,"right");p++);return h}getRanges(n,d){return(d=d||this.matrixMap[n])?(d.forEach(l=>{l.mark=!0}),{name:n,ranges:d.map(l=>l.mark&&this._explore(d,l)).filter(Boolean).map(l=>l.$shortRange)}):{name:n,ranges:[]}}normaliseMatrix(n,d){n.forEachInSheet(d,(l,h,p)=>{l&&(l.row===h&&l.col===p||(l.row=h,l.col=p,l.address=r.n2l(p)+h))})}spliceRows(n,d,l,h){a.each(this.matrixMap,p=>{p.spliceRows(n,d,l,h),this.normaliseMatrix(p,n)})}spliceColumns(n,d,l,h){a.each(this.matrixMap,p=>{p.spliceColumns(n,d,l,h),this.normaliseMatrix(p,n)})}get model(){return a.map(this.matrixMap,(n,d)=>this.getRanges(d,n)).filter(n=>n.ranges.length)}set model(n){const d=this.matrixMap={};n.forEach(l=>{const h=d[l.name]=new i;l.ranges.forEach(p=>{e.test(p.split("!").pop()||"")&&h.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,c,u){c.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,c,u){const a=t("../utils/col-cache"),r=t("./anchor");c.exports=class{constructor(i,s){this.worksheet=i,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(i){let{type:s,imageId:e,range:n,hyperlinks:d}=i;if(this.type=s,this.imageId=e,s==="image")if(typeof n=="string"){const l=a.decode(n);this.range={tl:new r(this.worksheet,{col:l.left,row:l.top},-1),br:new r(this.worksheet,{col:l.right,row:l.bottom},0),editAs:"oneCell"}}else this.range={tl:new r(this.worksheet,n.tl,0),br:n.br&&new r(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:d||n.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,c,u){const a=t("../utils/under-dash");class r{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return a.deepMerge({},r.DEFAULT_CONFIGS,s)}set model(s){const{note:e}=s,{texts:n}=e;n.length===1&&Object.keys(n[0]).length===1?this.note=n[0].text:this.note=e}static fromModel(s){const e=new r;return e.model=s,e}}r.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},c.exports=r},{"../utils/under-dash":26}],10:[function(t,c,u){const a=t("../utils/col-cache");class r{constructor(){this.decode(arguments)}setTLBR(s,e,n,d,l){if(arguments.length<4){const h=a.decodeAddress(s),p=a.decodeAddress(e);this.model={top:Math.min(h.row,p.row),left:Math.min(h.col,p.col),bottom:Math.max(h.row,p.row),right:Math.max(h.col,p.col),sheetName:n},this.setTLBR(h.row,h.col,p.row,p.col,l)}else this.model={top:Math.min(s,n),left:Math.min(e,d),bottom:Math.max(s,n),right:Math.max(e,d),sheetName:l}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{const e=s[0];if(e instanceof r)this.model={top:e.model.top,left:e.model.left,bottom:e.model.bottom,right:e.model.right,sheetName:e.sheetName};else if(e instanceof Array)this.decode(e);else if(e.top&&e.left&&e.bottom&&e.right)this.model={top:e.top,left:e.left,bottom:e.bottom,right:e.right,sheetName:e.sheetName};else{const n=a.decodeEx(e);n.top?this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName}:this.model={top:n.row,left:n.col,bottom:n.row,right:n.col,sheetName:n.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){const{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,e,n,d){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||e<this.left)&&(this.left=e),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(s){if(s){const{dimensions:e,number:n}=s;e&&this.expand(n,e.min,n,e.max)}}expandToAddress(s){const e=a.decodeEx(s);this.expand(e.row,e.col,e.row,e.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){const e=a.decodeEx(s);return this.containsEx(e)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let e=this.left;e<=this.right;e++)for(let n=this.top;n<=this.bottom;n++)s(a.encodeAddress(n,e),n,e)}}c.exports=r},{"../utils/col-cache":19}],11:[function(t,c,u){const a=t("../utils/under-dash"),r=t("./enums"),i=t("../utils/col-cache"),s=t("./cell");c.exports=class{constructor(e,n){this._worksheet=e,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(e){return this._cells[e-1]}getCellEx(e){let n=this._cells[e.col-1];if(!n){const d=this._worksheet.getColumn(e.col);n=new s(this,d,e.address),this._cells[e.col-1]=n}return n}getCell(e){if(typeof e=="string"){const n=this._worksheet.getColumnKey(e);e=n?n.number:i.l2n(e)}return this._cells[e-1]||this.getCellEx({address:i.encodeAddress(this._number,e),row:this._number,col:e})}splice(e,n){const d=e+n;for(var l=arguments.length,h=new Array(l>2?l-2:0),p=2;p<l;p++)h[p-2]=arguments[p];const g=h.length-n,f=this._cells.length;let m,y,v;if(g<0)for(m=e+h.length;m<=f;m++)v=this._cells[m-1],y=this._cells[m-g-1],y?(v=this.getCell(m),v.value=y.value,v.style=y.style,v._comment=y._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(g>0)for(m=f;m>=d;m--)y=this._cells[m-1],y?(v=this.getCell(m+g),v.value=y.value,v.style=y.style,v._comment=y._comment):this._cells[m+g-1]=void 0;for(m=0;m<h.length;m++)v=this.getCell(e+m),v.value=h[m],v.style={},v._comment=void 0}eachCell(e,n){if(n||(n=e,e=null),e&&e.includeEmpty){const d=this._cells.length;for(let l=1;l<=d;l++)n(this.getCell(l),l)}else this._cells.forEach((d,l)=>{d&&d.type!==r.ValueType.Null&&n(d,l+1)})}addPageBreak(e,n){const d=this._worksheet,l=Math.max(0,e-1)||0,h=Math.max(0,n-1)||16838,p={id:this._number,max:h,man:1};l&&(p.min=l),d.rowBreaks.push(p)}get values(){const e=[];return this._cells.forEach(n=>{n&&n.type!==r.ValueType.Null&&(e[n.col]=n.value)}),e}set values(e){if(this._cells=[],e)if(e instanceof Array){let n=0;e.hasOwnProperty("0")&&(n=1),e.forEach((d,l)=>{d!==void 0&&(this.getCellEx({address:i.encodeAddress(this._number,l+n),row:this._number,col:l+n}).value=d)})}else this._worksheet.eachColumnKey((n,d)=>{e[d]!==void 0&&(this.getCellEx({address:i.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=e[d])})}get hasValues(){return a.some(this._cells,e=>e&&e.type!==r.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let e=0;return this.eachCell(()=>{e++}),e}get dimensions(){let e=0,n=0;return this._cells.forEach(d=>{d&&d.type!==r.ValueType.Null&&((!e||e>d.col)&&(e=d.col),n<d.col&&(n=d.col))}),e>0?{min:e,max:n}:null}_applyStyle(e,n){return this.style[e]=n,this._cells.forEach(d=>{d&&(d[e]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(e){this._applyStyle("numFmt",e)}get font(){return this.style.font}set font(e){this._applyStyle("font",e)}get alignment(){return this.style.alignment}set alignment(e){this._applyStyle("alignment",e)}get protection(){return this.style.protection}set protection(e){this._applyStyle("protection",e)}get border(){return this.style.border}set border(e){this._applyStyle("border",e)}get fill(){return this.style.fill}set fill(e){this._applyStyle("fill",e)}get hidden(){return!!this._hidden}set hidden(e){this._hidden=e}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(e){this._outlineLevel=e}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const e=[];let n=0,d=0;return this._cells.forEach(l=>{if(l){const h=l.model;h&&((!n||n>l.col)&&(n=l.col),d<l.col&&(d=l.col),e.push(h))}}),this.height||e.length?{cells:e,number:this.number,min:n,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(e){if(e.number!==this._number)throw new Error("Invalid row number in model");let n;this._cells=[],e.cells.forEach(d=>{switch(d.type){case s.Types.Merge:break;default:{let l;if(d.address)l=i.decodeAddress(d.address);else if(n){const{row:h}=n,p=n.col+1;l={row:h,col:p,address:i.encodeAddress(h,p),$col$row:`$${i.n2l(p)}$${h}`}}n=l,this.getCellEx(l).model=d;break}}}),e.height?this.height=e.height:delete this.height,this.hidden=e.hidden,this.outlineLevel=e.outlineLevel||0,this.style=e.style&&JSON.parse(JSON.stringify(e.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,c,u){const a=t("../utils/col-cache");class r{constructor(s,e,n){this.table=s,this.column=e,this.index=n}_set(s,e){this.table.cacheState(),this.column[s]=e}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}c.exports=class{constructor(i,s){this.worksheet=i,s&&(this.table=s,this.validate(),this.store())}getFormula(i){switch(i.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${i.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${i.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${i.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${i.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${i.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${i.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${i.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${i.name}])`;case"custom":return i.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+i.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:i}=this,s=(g,f,m)=>{g[f]===void 0&&(g[f]=m)};s(i,"headerRow",!0),s(i,"totalsRow",!1),s(i,"style",{}),s(i.style,"theme","TableStyleMedium2"),s(i.style,"showFirstColumn",!1),s(i.style,"showLastColumn",!1),s(i.style,"showRowStripes",!1),s(i.style,"showColumnStripes",!1);const e=(g,f)=>{if(!g)throw new Error(f)};e(i.ref,"Table must have ref"),e(i.columns,"Table must have column definitions"),e(i.rows,"Table must have row definitions"),i.tl=a.decodeAddress(i.ref);const{row:n,col:d}=i.tl;e(n>0,"Table must be on valid row"),e(d>0,"Table must be on valid col");const{width:l,filterHeight:h,tableHeight:p}=this;i.autoFilterRef=a.encode(n,d,n+h-1,d+l-1),i.tableRef=a.encode(n,d,n+p-1,d+l-1),i.columns.forEach((g,f)=>{e(g.name,`Column ${f} must have a name`),f===0?s(g,"totalsRowLabel","Total"):(s(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const i=(h,p)=>{p&&Object.keys(p).forEach(g=>{h[g]=p[g]})},{worksheet:s,table:e}=this,{row:n,col:d}=e.tl;let l=0;if(e.headerRow){const h=s.getRow(n+l++);e.columns.forEach((p,g)=>{const{style:f,name:m}=p,y=h.getCell(d+g);y.value=m,i(y,f)})}if(e.rows.forEach(h=>{const p=s.getRow(n+l++);h.forEach((g,f)=>{const m=p.getCell(d+f);m.value=g,i(m,e.columns[f].style)})}),e.totalsRow){const h=s.getRow(n+l++);e.columns.forEach((p,g)=>{const f=h.getCell(d+g);if(g===0)f.value=p.totalsRowLabel;else{const m=this.getFormula(p);f.value=m?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}i(f,p.style)})}}load(i){const{table:s}=this,{row:e,col:n}=s.tl;let d=0;if(s.headerRow){const l=i.getRow(e+d++);s.columns.forEach((h,p)=>{l.getCell(n+p).value=h.name})}if(s.rows.forEach(l=>{const h=i.getRow(e+d++);l.forEach((p,g)=>{h.getCell(n+g).value=p})}),s.totalsRow){const l=i.getRow(e+d++);s.columns.forEach((h,p)=>{const g=l.getCell(n+p);p===0?g.value=h.totalsRowLabel:this.getFormula(h)&&(g.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(i){this.table=i}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const i=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){const e=this.worksheet.getRow(i.row+s);for(let n=0;n<this._cache.width;n++)e.getCell(i.col+n).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){const e=this.worksheet.getRow(i.row+s);for(let n=0;n<this._cache.width;n++)e.getCell(i.col+n).value=null}for(let s=0;s<this.tableHeight;s++){const e=this.worksheet.getRow(i.row+s);for(let n=this.width;n<this._cache.width;n++)e.getCell(i.col+n).value=null}}this.store()}addRow(i,s){this.cacheState(),s===void 0?this.table.rows.push(i):this.table.rows.splice(s,0,i)}removeRows(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(i,s)}getColumn(i){const s=this.table.columns[i];return new r(this,s,i)}addColumn(i,s,e){this.cacheState(),e===void 0?(this.table.columns.push(i),this.table.rows.forEach((n,d)=>{n.push(s[d])})):(this.table.columns.splice(e,0,i),this.table.rows.forEach((n,d)=>{n.splice(e,0,s[d])}))}removeColumns(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(i,s),this.table.rows.forEach(e=>{e.splice(i,s)})}_assign(i,s,e){this.cacheState(),i[s]=e}get ref(){return this.table.ref}set ref(i){this._assign(this.table,"ref",i)}get name(){return this.table.name}set name(i){this.table.name=i}get displayName(){return this.table.displyName||this.table.name}set displayNamename(i){this.table.displayName=i}get headerRow(){return this.table.headerRow}set headerRow(i){this._assign(this.table,"headerRow",i)}get totalsRow(){return this.table.totalsRow}set totalsRow(i){this._assign(this.table,"totalsRow",i)}get theme(){return this.table.style.name}set theme(i){this.table.style.name=i}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(i){this.table.style.showFirstColumn=i}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(i){this.table.style.showLastColumn=i}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(i){this.table.style.showRowStripes=i}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(i){this.table.style.showColumnStripes=i}}},{"../utils/col-cache":19}],13:[function(t,c,u){const a=t("./worksheet"),r=t("./defined-names"),i=t("../xlsx/xlsx"),s=t("../csv/csv");c.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new r}get xlsx(){return this._xlsx||(this._xlsx=new i(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let e=1;e<this._worksheets.length;e++)if(!this._worksheets[e])return e;return this._worksheets.length||1}addWorksheet(e,n){const d=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const l=this._worksheets.reduce((g,f)=>(f&&f.orderNo)>g?f.orderNo:g,0),h=Object.assign({},n,{id:d,name:e,orderNo:l+1,workbook:this}),p=new a(h);return this._worksheets[d]=p,p}removeWorksheetEx(e){delete this._worksheets[e.id]}removeWorksheet(e){const n=this.getWorksheet(e);n&&n.destroy()}getWorksheet(e){return e===void 0?this._worksheets.find(Boolean):typeof e=="number"?this._worksheets[e]:typeof e=="string"?this._worksheets.find(n=>n&&n.name===e):void 0}get worksheets(){return this._worksheets.slice(1).sort((e,n)=>e.orderNo-n.orderNo).filter(Boolean)}eachSheet(e){this.worksheets.forEach(n=>{e(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(e){const n=this.media.length;return this.media.push(Object.assign({},e,{type:"image"})),n}getImage(e){return this.media[e]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(e=>e.model),sheets:this.worksheets.map(e=>e.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(e){this.creator=e.creator,this.lastModifiedBy=e.lastModifiedBy,this.lastPrinted=e.lastPrinted,this.created=e.created,this.modified=e.modified,this.company=e.company,this.manager=e.manager,this.title=e.title,this.subject=e.subject,this.keywords=e.keywords,this.category=e.category,this.description=e.description,this.language=e.language,this.revision=e.revision,this.contentStatus=e.contentStatus,this.properties=e.properties,this.calcProperties=e.calcProperties,this._worksheets=[],e.worksheets.forEach(n=>{const{id:d,name:l,state:h}=n,p=e.sheets&&e.sheets.findIndex(g=>g.id===d);(this._worksheets[d]=new a({id:d,name:l,orderNo:p,state:h,workbook:this})).model=n}),this._definedNames.model=e.definedNames,this.views=e.views,this._themes=e.themes,this.media=e.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,c,u){const a=t("../utils/under-dash"),r=t("../utils/col-cache"),i=t("./range"),s=t("./row"),e=t("./column"),n=t("./enums"),d=t("./image"),l=t("./table"),h=t("./data-validations"),p=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");c.exports=class{constructor(f){f=f||{},this._workbook=f.workbook,this.id=f.id,this.orderNo=f.orderNo,this.name=f.name,this.state=f.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},f.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!f.pageSetup||!f.pageSetup.fitToWidth&&!f.pageSetup.fitToHeight||f.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},f.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},f.headerFooter),this.dataValidations=new h,this.views=f.views||[],this.autoFilter=f.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(f){if(f===void 0&&(f="sheet"+this.id),this._name!==f){if(typeof f!="string")throw new Error("The name has to be a string.");if(f==="")throw new Error("The name can't be empty.");if(f==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(f))throw new Error(`Worksheet name ${f} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(f))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+f);if(f&&f.length>31&&(console.warn(`Worksheet name ${f} exceeds 31 chars. This will be truncated`),f=f.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===f.toLowerCase()))throw new Error("Worksheet name already exists: "+f);this._name=f}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const f=new i;return this._rows.forEach(m=>{if(m){const y=m.dimensions;y&&f.expand(m.number,y.min,m.number,y.max)}}),f}get columns(){return this._columns}set columns(f){this._headerRowCount=f.reduce((v,C)=>{const S=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(v,S)},0);let m=1;const y=this._columns=[];f.forEach(v=>{const C=new e(this,m++,!1);y.push(C),C.defn=v})}getColumnKey(f){return this._keys[f]}setColumnKey(f,m){this._keys[f]=m}deleteColumnKey(f){delete this._keys[f]}eachColumnKey(f){a.each(this._keys,f)}getColumn(f){if(typeof f=="string"){const m=this._keys[f];if(m)return m;f=r.l2n(f)}if(this._columns||(this._columns=[]),f>this._columns.length){let m=this._columns.length+1;for(;m<=f;)this._columns.push(new e(this,m++))}return this._columns[f-1]}spliceColumns(f,m){const y=this._rows.length;for(var v=arguments.length,C=new Array(v>2?v-2:0),S=2;S<v;S++)C[S-2]=arguments[S];if(C.length>0)for(let L=0;L<y;L++){const U=[f,m];C.forEach(H=>{U.push(H[L]||null)});const G=this.getRow(L+1);G.splice.apply(G,U)}else this._rows.forEach(L=>{L&&L.splice(f,m)});const I=C.length-m,z=f+m,V=this._columns.length;if(I<0)for(let L=f+C.length;L<=V;L++)this.getColumn(L).defn=this.getColumn(L-I).defn;else if(I>0)for(let L=V;L>=z;L--)this.getColumn(L+I).defn=this.getColumn(L).defn;for(let L=f;L<f+C.length;L++)this.getColumn(L).defn=null;this.workbook.definedNames.spliceColumns(this.name,f,m,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let f=0;return this.eachRow(m=>{f=Math.max(f,m.cellCount)}),f}get actualColumnCount(){const f=[];let m=0;return this.eachRow(y=>{y.eachCell(v=>{let{col:C}=v;f[C]||(f[C]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){const f=this._rows;let m=f.length;for(;m>0&&f[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(f){return this._rows[f-1]}findRows(f,m){return this._rows.slice(f-1,f-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let f=0;return this.eachRow(()=>{f++}),f}getRow(f){let m=this._rows[f-1];return m||(m=this._rows[f-1]=new s(this,f)),m}getRows(f,m){if(m<1)return;const y=[];for(let v=f;v<f+m;v++)y.push(this.getRow(v));return y}addRow(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,v=this.getRow(y);return v.values=f,this._setStyleOption(y,m[0]==="i"?m:"n"),v}addRows(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return f.forEach(v=>{y.push(this.addRow(v,m))}),y}insertRow(f,m){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(f,0,m),this._setStyleOption(f,y),this.getRow(f)}insertRows(f,m){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(f,0,...m),y!=="n")for(let v=0;v<m.length;v++)y[0]==="o"&&this.findRow(m.length+f+v)!==void 0?this._copyStyle(m.length+f+v,f+v,y[1]==="+"):y[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f+v,y[1]==="+");return this.getRows(f,m.length)}_setStyleOption(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(f+1)!==void 0?this._copyStyle(f+1,f,m[1]==="+"):m[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f,m[1]==="+")}_copyStyle(f,m){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this.getRow(f),C=this.getRow(m);C.style=g(v.style),v.eachCell({includeEmpty:y},(S,I)=>{C.getCell(I).style=g(S.style)}),C.height=v.height}duplicateRow(f,m){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this._rows[f-1],C=new Array(m).fill(v.values);this.spliceRows(f+1,y?0:m,...C);for(let S=0;S<m;S++){const I=this._rows[f+S];I.style=v.style,I.height=v.height,v.eachCell({includeEmpty:!0},(z,V)=>{I.getCell(V).style=z.style})}}spliceRows(f,m){const y=f+m;for(var v=arguments.length,C=new Array(v>2?v-2:0),S=2;S<v;S++)C[S-2]=arguments[S];const I=C.length,z=I-m,V=this._rows.length;let L,U;if(z<0)for(f===V&&(this._rows[V-1]=void 0),L=y;L<=V;L++)if(U=this._rows[L-1],U){const G=this.getRow(L+z);G.values=U.values,G.style=U.style,G.height=U.height,U.eachCell({includeEmpty:!0},(H,A)=>{G.getCell(A).style=H.style}),this._rows[L-1]=void 0}else this._rows[L+z-1]=void 0;else if(z>0)for(L=V;L>=y;L--)if(U=this._rows[L-1],U){const G=this.getRow(L+z);G.values=U.values,G.style=U.style,G.height=U.height,U.eachCell({includeEmpty:!0},(H,A)=>{if(G.getCell(A).style=H.style,H._value.constructor.name==="MergeValue"){const N=this.getRow(H._row._number+I).getCell(A),E=H._value._master,x=this.getRow(E._row._number+I).getCell(E._column._number);N.merge(x)}})}else this._rows[L+z-1]=void 0;for(L=0;L<I;L++){const G=this.getRow(f+L);G.style={},G.values=C[L]}this.workbook.definedNames.spliceRows(this.name,f,m,I)}eachRow(f,m){if(m||(m=f,f=void 0),f&&f.includeEmpty){const y=this._rows.length;for(let v=1;v<=y;v++)m(this.getRow(v),v)}else this._rows.forEach(y=>{y&&y.hasValues&&m(y,y.number)})}getSheetValues(){const f=[];return this._rows.forEach(m=>{m&&(f[m.number]=m.values)}),f}findCell(f,m){const y=r.getAddress(f,m),v=this._rows[y.row-1];return v?v.findCell(y.col):void 0}getCell(f,m){const y=r.getAddress(f,m);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];const v=new i(m);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];const v=new i(m);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(f,m){a.each(this._merges,v=>{if(v.intersects(f))throw new Error("Cannot merge already merged cells")});const y=this.getCell(f.top,f.left);for(let v=f.top;v<=f.bottom;v++)for(let C=f.left;C<=f.right;C++)(v>f.top||C>f.left)&&this.getCell(v,C).merge(y,m);this._merges[y.address]=f}_unMergeMaster(f){const m=this._merges[f.address];if(m){for(let y=m.top;y<=m.bottom;y++)for(let v=m.left;v<=m.right;v++)this.getCell(y,v).unmerge();delete this._merges[f.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];const v=new i(m);for(let C=v.top;C<=v.bottom;C++)for(let S=v.left;S<=v.right;S++){const I=this.findCell(C,S);I&&(I.type===n.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(f,m,y){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=r.decode(f),{top:S,left:I,bottom:z,right:V}=C,L=V-I+1,U=r.encodeAddress(S,I),G=v==="shared";let H;H=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(N,E)=>y[N-S][E-I]:(N,E)=>y[(N-S)*L+(E-I)]:()=>{};let A=!0;for(let N=S;N<=z;N++)for(let E=I;E<=V;E++)A?(this.getCell(N,E).value={shareType:v,formula:m,ref:f,result:H(N,E)},A=!1):this.getCell(N,E).value=G?{sharedFormula:U,result:H(N,E)}:H(N,E)}addImage(f,m){const y={type:"image",imageId:f,range:m};this._media.push(new d(this,y))}getImages(){return this._media.filter(f=>f.type==="image")}addBackgroundImage(f){const m={type:"background",imageId:f};this._media.push(new d(this,m))}getBackgroundImageId(){const f=this._media.find(m=>m.type==="background");return f&&f.imageId}protect(f,m){return new Promise(y=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),f&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(f,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!f&&"spinCount"in m&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(f){const m=new l(this,f);return this.tables[f.name]=m,m}getTable(f){return this.tables[f]}removeTable(f){delete this.tables[f]}getTables(){return Object.values(this.tables)}addConditionalFormatting(f){this.conditionalFormattings.push(f)}removeConditionalFormatting(f){typeof f=="number"?this.conditionalFormattings.splice(f,1):this.conditionalFormattings=f instanceof Function?this.conditionalFormattings.filter(f):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(f){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=f}get model(){const f={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};f.cols=e.toModel(this.columns);const m=f.rows=[],y=f.dimensions=new i;return this._rows.forEach(v=>{const C=v&&v.model;C&&(y.expand(C.number,C.min,C.number,C.max),m.push(C))}),f.merges=[],a.each(this._merges,v=>{f.merges.push(v.range)}),f}_parseRows(f){this._rows=[],f.rows.forEach(m=>{const y=new s(this,m.number);this._rows[y.number-1]=y,y.model=m})}_parseMergeCells(f){a.each(f.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(f){this.name=f.name,this._columns=e.fromModel(this,f.cols),this._parseRows(f),this._parseMergeCells(f),this.dataValidations=new h(f.dataValidations),this.properties=f.properties,this.pageSetup=f.pageSetup,this.headerFooter=f.headerFooter,this.views=f.views,this.autoFilter=f.autoFilter,this._media=f.media.map(m=>new d(this,m)),this.sheetProtection=f.sheetProtection,this.tables=f.tables.reduce((m,y)=>{const v=new l;return v.model=y,m[y.name]=v,m},{}),this.conditionalFormattings=f.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,c,u){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const a={Workbook:t("./doc/workbook")},r=t("./doc/enums");Object.keys(r).forEach(i=>{a[i]=r[i]}),c.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,c,u){const a=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");u.bufferToString=function(r){return typeof r=="string"?r:a?a.decode(r):r.toString()}},{}],17:[function(t,c,u){const a=typeof TextEncoder=="undefined"?null:new TextEncoder("utf-8"),{Buffer:r}=t("buffer");u.stringToBuffer=function(i){return typeof i!="string"?i:a?r.from(a.encode(i).buffer):r.from(i)}},{buffer:220}],18:[function(t,c,u){const a=t("./under-dash"),r=t("./col-cache");c.exports=class{constructor(i){this.template=i,this.sheets={}}addCell(i){this.addCellEx(r.decodeEx(i))}getCell(i){return this.findCellEx(r.decodeEx(i),!0)}findCell(i){return this.findCellEx(r.decodeEx(i),!1)}findCellAt(i,s,e){const n=this.sheets[i],d=n&&n[s];return d&&d[e]}addCellEx(i){if(i.top)for(let s=i.top;s<=i.bottom;s++)for(let e=i.left;e<=i.right;e++)this.getCellAt(i.sheetName,s,e);else this.findCellEx(i,!0)}getCellEx(i){return this.findCellEx(i,!0)}findCellEx(i,s){const e=this.findSheet(i,s),n=this.findSheetRow(e,i,s);return this.findRowCell(n,i,s)}getCellAt(i,s,e){const n=this.sheets[i]||(this.sheets[i]=[]),d=n[s]||(n[s]=[]);return d[e]||(d[e]={sheetName:i,address:r.n2l(e)+s,row:s,col:e})}removeCellEx(i){const s=this.findSheet(i);if(!s)return;const e=this.findSheetRow(s,i);e&&delete e[i.col]}forEachInSheet(i,s){const e=this.sheets[i];e&&e.forEach((n,d)=>{n&&n.forEach((l,h)=>{l&&s(l,d,h)})})}forEach(i){a.each(this.sheets,(s,e)=>{this.forEachInSheet(e,i)})}map(i){const s=[];return this.forEach(e=>{s.push(i(e))}),s}findSheet(i,s){const e=i.sheetName;return this.sheets[e]?this.sheets[e]:s?this.sheets[e]=[]:void 0}findSheetRow(i,s,e){const{row:n}=s;return i&&i[n]?i[n]:e?i[n]=[]:void 0}findRowCell(i,s,e){const{col:n}=s;return i&&i[n]?i[n]:e?i[n]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(i,s,e,n){const d=this.sheets[i];if(d){const l=[];for(let h=0;h<n;h++)l.push([]);d.splice(s,e,...l)}}spliceColumns(i,s,e,n){const d=this.sheets[i];if(d){const l=[];for(let h=0;h<n;h++)l.push(null);a.each(d,h=>{h.splice(s,e,...l)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,c,u){const a=/^[A-Z]+\d+$/,r={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:i=>i<=26?1:i<=676?2:3,_fill(i){let s,e,n,d,l,h=1;if(i>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&i>=1){for(;h<=26;)s=this._dictionary[h-1],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&i>=2){for(h=27;h<=702;)e=h-27,n=e%26,d=Math.floor(e/26),s=this._dictionary[d]+this._dictionary[n],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&i>=3){for(h=703;h<=16384;)e=h-703,n=e%26,d=Math.floor(e/26)%26,l=Math.floor(e/676),s=this._dictionary[l]+this._dictionary[d]+this._dictionary[n],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=3}},l2n(i){if(this._l2n[i]||this._fill(i.length),!this._l2n[i])throw new Error("Out of bounds. Invalid column letter: "+i);return this._l2n[i]},n2l(i){if(i<1||i>16384)throw new Error(i+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[i]||this._fill(this._level(i)),this._n2l[i]},_hash:{},validateAddress(i){if(!a.test(i))throw new Error("Invalid Address: "+i);return!0},decodeAddress(i){const s=i.length<5&&this._hash[i];if(s)return s;let e=!1,n="",d=0,l=!1,h="",p=0;for(let f,m=0;m<i.length;m++)if(f=i.charCodeAt(m),!l&&f>=65&&f<=90)e=!0,n+=i[m],d=26*d+f-64;else if(f>=48&&f<=57)l=!0,h+=i[m],p=10*p+f-48;else if(l&&e&&f!==36)break;if(e){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+n)}else d=void 0;l||(p=void 0);const g={address:i=n+h,col:d,row:p,$col$row:`$${n}$${h}`};return d<=100&&p<=100&&(this._hash[i]=g,this._hash[g.$col$row]=g),g},getAddress(i,s){if(s){const e=this.n2l(s)+i;return this.decodeAddress(e)}return this.decodeAddress(i)},decode(i){const s=i.split(":");if(s.length===2){const e=this.decodeAddress(s[0]),n=this.decodeAddress(s[1]),d={top:Math.min(e.row,n.row),left:Math.min(e.col,n.col),bottom:Math.max(e.row,n.row),right:Math.max(e.col,n.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(i)},decodeEx(i){const s=i.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),e=s[1]||s[2],n=s[3],d=n.split(":");if(d.length>1){let h=this.decodeAddress(d[0]),p=this.decodeAddress(d[1]);const g=Math.min(h.row,p.row),f=Math.min(h.col,p.col),m=Math.max(h.row,p.row),y=Math.max(h.col,p.col);return h=this.n2l(f)+g,p=this.n2l(y)+m,{top:g,left:f,bottom:m,right:y,sheetName:e,tl:{address:h,col:f,row:g,$col$row:`$${this.n2l(f)}$${g}`,sheetName:e},br:{address:p,col:y,row:m,$col$row:`$${this.n2l(y)}$${m}`,sheetName:e},dimensions:`${h}:${p}`}}if(n.startsWith("#"))return e?{sheetName:e,error:n}:{error:n};const l=this.decodeAddress(n);return e?We({sheetName:e},l):l},encodeAddress:(i,s)=>r.n2l(s)+i,encode(){switch(arguments.length){case 2:return r.encodeAddress(arguments[0],arguments[1]);case 4:return`${r.encodeAddress(arguments[0],arguments[1])}:${r.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(i,s){const[e,n,,d,l]=i,[h,p]=s;return h>=e&&h<=d&&p>=n&&p<=l}};c.exports=r},{}],20:[function(t,c,u){const a=(i,s)=>We(We({},i),s.reduce((e,n)=>(i[n]&&(e[n]=We({},i[n])),e),{})),r=function(i,s,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];i[e]&&(s[e]=a(i[e],n))};u.copyStyle=i=>{if(!i)return i;if(s=i,Object.keys(s).length===0)return{};var s;const e=We({},i);return r(i,e,"font",["color"]),r(i,e,"alignment"),r(i,e,"protection"),i.border&&(r(i,e,"border"),r(i.border,e.border,"top",["color"]),r(i.border,e.border,"left",["color"]),r(i.border,e.border,"bottom",["color"]),r(i.border,e.border,"right",["color"]),r(i.border,e.border,"diagonal",["color"])),i.fill&&(r(i,e,"fill",["fgColor","bgColor","center"]),i.fill.stops&&(e.fill.stops=i.fill.stops.map(n=>a(n,["color"])))),e}},{}],21:[function(t,c,u){(function(a){(function(){const r=t("crypto"),i={hash(s){const e=r.createHash(s);for(var n=arguments.length,d=new Array(n>1?n-1:0),l=1;l<n;l++)d[l-1]=arguments[l];return e.update(a.concat(d)),e.digest()},convertPasswordToHash(s,e,n,d){if(e=e.toLowerCase(),r.getHashes().indexOf(e)<0)throw new Error(`Hash algorithm '${e}' not supported!`);const l=a.from(s,"utf16le");let h=this.hash(e,a.from(n,"base64"),l);for(let p=0;p<d;p++){const g=a.alloc(4);g.writeUInt32LE(p,0),h=this.hash(e,h,g)}return h.toString("base64")},randomBytes:s=>r.randomBytes(s)};c.exports=i}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,c,u){const{SaxesParser:a}=t("saxes"),{PassThrough:r}=t("readable-stream"),{bufferToString:i}=t("./browser-buffer-decode");c.exports=function(s){return ds(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new r));const e=new a;let n;e.on("error",f=>{n=f});let d=[];e.on("opentag",f=>d.push({eventType:"opentag",value:f})),e.on("text",f=>d.push({eventType:"text",value:f})),e.on("closetag",f=>d.push({eventType:"closetag",value:f}));try{for(var l=ei(s),h,p,g;h=!(p=yield new ti(l.next())).done;h=!1){const f=p.value;if(e.write(i(f)),n)throw n;yield d,d=[]}}catch(p){g=[p]}finally{try{h&&(p=l.return)&&(yield new ti(p.call(l)))}finally{if(g)throw g[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,c,u){const a=t("./col-cache"),r=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,i=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;c.exports={slideFormula:function(s,e,n){const d=a.decode(e),l=a.decode(n);return s.replace(r,(h,p,g,f,m)=>{if(m)return h;const y=i.exec(f);if(y){const v=y[1],C=y[2].toUpperCase(),S=y[3],I=y[4];if(C.length>3||C.length===3&&C>"XFD")return h;let z=a.l2n(C),V=parseInt(I,10);return v||(z+=l.col-d.col),S||(V+=l.row-d.row),(p||"")+(v||"")+a.n2l(z)+(S||"")+V}return h})}}},{"./col-cache":19}],24:[function(t,c,u){(function(a,r){(function(){const i=t("readable-stream"),s=t("./utils"),e=t("./string-buf");class n{constructor(m,y){this._data=m,this._encoding=y}get length(){return this.toBuffer().length}copy(m,y,v,C){return this.toBuffer().copy(m,y,v,C)}toBuffer(){return this._buffer||(this._buffer=r.from(this._data,this._encoding)),this._buffer}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,y,v,C){return this._data._buf.copy(m,y,v,C)}toBuffer(){return this._data.toBuffer()}}class l{constructor(m){this._data=m}get length(){return this._data.length}copy(m,y,v,C){this._data.copy(m,y,v,C)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=r.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=r.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let y;return m===0?null:m===void 0||m>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=r.alloc(m),this.buffer.copy(y,0,this.iRead,m),this.iRead+=m,y)}write(m,y,v){const C=Math.min(v,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,y,y+C),this.iWrite+=C,C}}const p=function(f){f=f||{},this.bufSize=f.bufSize||1048576,this.buffers=[],this.batch=f.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(p,i.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return r.concat(this.buffers.map(f=>f.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const f=new h(this.bufSize);return this.buffers.push(f),f},_pipe(f){return ot(this,null,function*(){yield Promise.all(this.pipes.map(function(m){return new Promise(y=>{m.write(f.toBuffer(),()=>{y()})})}))})},_writeToBuffers(f){let m=0;const y=f.length;for(;m<y;)m+=this._getWritableBuffer().write(f,m,y-m)},write(f,m,y){return ot(this,null,function*(){let v;if(m instanceof Function&&(y=m,m="utf8"),y=y||s.nop,f instanceof e)v=new d(f);else if(f instanceof r)v=new l(f);else{if(!(typeof f=="string"||f instanceof String||f instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new n(f,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),a.nextTick(y)):(yield this._pipe(v),y());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(f,m,y){const v=C=>{C?y(C):(this._flush(),this.pipes.forEach(S=>{S.end()}),this.emit("finish"))};f?this.write(f,m,v):v()},read(f){let m;if(f){for(m=[];f&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],v=y.read(f);f-=v.length,m.push(v),y.eod&&y.full&&this.buffers.shift()}return r.concat(m)}return m=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],r.concat(m)},setEncoding(f){this.encoding=f},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(f){this.pipes.push(f),!this.paused&&this.buffers.length&&this.end()},unpipe(f){this.pipes=this.pipes.filter(m=>m!==f)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),c.exports=p}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,c,u){(function(a){(function(){c.exports=class{constructor(r){this._buf=a.alloc(r&&r.size||16384),this._encoding=r&&r.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(r){r=r||0,this._buffer=void 0,this._inPos=r}_grow(r){let i=2*this._buf.length;for(;i<r;)i*=2;const s=a.alloc(i);this._buf.copy(s,0),this._buf=s}addText(r){this._buffer=void 0;let i=this._inPos+this._buf.write(r,this._inPos,this._encoding);for(;i>=this._buf.length-4;)this._grow(this._inPos+r.length),i=this._inPos+this._buf.write(r,this._inPos,this._encoding);this._inPos=i}addStringBuf(r){r.length&&(this._buffer=void 0,this.length+r.length>this.capacity&&this._grow(this.length+r.length),r._buf.copy(this._buf,this._inPos,0,r.length),this._inPos+=r.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,c,u){const{toString:a}=Object.prototype,r=/["&<>]/,i={each:function(s,e){s&&(Array.isArray(s)?s.forEach(e):Object.keys(s).forEach(n=>{e(s[n],n)}))},some:function(s,e){return!!s&&(Array.isArray(s)?s.some(e):Object.keys(s).some(n=>e(s[n],n)))},every:function(s,e){return!s||(Array.isArray(s)?s.every(e):Object.keys(s).every(n=>e(s[n],n)))},map:function(s,e){return s?Array.isArray(s)?s.map(e):Object.keys(s).map(n=>e(s[n],n)):[]},keyBy:(s,e)=>s.reduce((n,d)=>(n[d[e]]=d,n),{}),isEqual:function(s,e){const n=typeof s,d=typeof e,l=Array.isArray(s),h=Array.isArray(e);let p;if(n!==d)return!1;switch(typeof s){case"object":if(l||h)return!(!l||!h)&&s.length===e.length&&s.every((g,f)=>{const m=e[f];return i.isEqual(g,m)});if(s===null||e===null)return s===e;if(p=Object.keys(s),Object.keys(e).length!==p.length)return!1;for(const g of p)if(!e.hasOwnProperty(g))return!1;return i.every(s,(g,f)=>{const m=e[f];return i.isEqual(g,m)});default:return s===e}},escapeHtml(s){const e=r.exec(s);if(!e)return s;let n="",d="",l=0,h=e.index;for(;h<s.length;h++){switch(s.charAt(h)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}l!==h&&(n+=s.substring(l,h)),l=h+1,n+=d}return l!==h?n+s.substring(l,h):n},strcmp:(s,e)=>s<e?-1:s>e?1:0,isUndefined:s=>a.call(s)==="[object Undefined]",isObject:s=>a.call(s)==="[object Object]",deepMerge(){const s=arguments[0]||{},{length:e}=arguments;let n,d,l;function h(p,g){n=s[g],l=Array.isArray(p),i.isObject(p)||l?(l?(l=!1,d=n&&Array.isArray(n)?n:[]):d=n&&i.isObject(n)?n:{},s[g]=i.deepMerge(d,p)):i.isUndefined(p)||(s[g]=p)}for(let p=0;p<e;p++)i.each(arguments[p],h);return s}};c.exports=i},{}],27:[function(t,c,u){(function(a,r){(function(){const i=t("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,e={nop(){},promiseImmediate:n=>new Promise(d=>{a.setImmediate?r(()=>{d(n)}):setTimeout(()=>{d(n)},1)}),inherits:function(n,d,l,h){n.super_=d,h||(h=l,l=null),l&&Object.keys(l).forEach(g=>{Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(l,g))});const p={constructor:{value:n,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(h,g)}),n.prototype=Object.create(d.prototype,p)},dateToExcel:(n,d)=>25569+n.getTime()/864e5-(d?1462:0),excelToDate(n,d){const l=Math.round(24*(n-25569+(d?1462:0))*3600*1e3);return new Date(l)},parsePath(n){const d=n.lastIndexOf("/");return{path:n.substring(0,d),name:n.substring(d+1)}},getRelsPath(n){const d=e.parsePath(n);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(n){const d=s.exec(n);if(!d)return n;let l="",h="",p=0,g=d.index;for(;g<n.length;g++){const f=n.charCodeAt(g);switch(f){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(f<=31&&(f<=8||f>=11&&f!==13)){h="";break}continue}p!==g&&(l+=n.substring(p,g)),p=g+1,h&&(l+=h)}return p!==g?l+n.substring(p,g):l},xmlDecode:n=>n.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(n){const d=parseInt(n,10);return Number.isNaN(d)?0:d},isDateFmt(n){return n?(n=(n=n.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:n=>new Promise(d=>{i.access(n,i.constants.F_OK,l=>{d(!l)})})},toIsoDateString:n=>n.toIsoString().subsstr(0,10),parseBoolean:n=>n===!0||n==="true"||n===1||n==="1"};c.exports=e}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,c,u){const a=t("./under-dash"),r=t("./utils");function i(n,d,l){n.push(` ${d}="${r.xmlEncode(l.toString())}"`)}function s(n,d){if(d){const l=[];a.each(d,(h,p)=>{h!==void 0&&i(l,p,h)}),n.push(l.join(""))}}class e{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const l=this._xml;l.push("<?xml"),s(l,d),l.push(`?>
`)}openNode(d,l){const h=this.tos,p=this._xml;h&&this.open&&p.push(">"),this._stack.push(d),p.push("<"),p.push(d),s(p,l),this.leaf=!0,this.open=!0}addAttribute(d,l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l!==void 0&&i(this._xml,d,l)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,d)}writeText(d){const l=this._xml;this.open&&(l.push(">"),this.open=!1),this.leaf=!1,l.push(r.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),l=this._xml;this.leaf?l.push("/>"):(l.push("</"),l.push(d),l.push(">")),this.open=!1,this.leaf=!1}leafNode(d,l,h){this.openNode(d,l),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}e.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},c.exports=e},{"./under-dash":26,"./utils":27}],29:[function(t,c,u){(function(a){(function(){const r=t("events"),i=t("jszip"),s=t("./stream-buf"),{stringToBuffer:e}=t("./browser-buffer-encode");class n extends r.EventEmitter{constructor(l){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},l),this.zip=new i,this.stream=new s}append(l,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,l,{base64:!0}):(a.browser&&typeof l=="string"&&(l=e(l)),this.zip.file(h.name,l))}finalize(){return ot(this,null,function*(){const l=yield this.zip.generateAsync(this.options);this.stream.end(l),this.emit("finish")})}read(l){return this.stream.read(l)}setEncoding(l){return this.stream.setEncoding(l)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(l,h){return this.stream.pipe(l,h)}unpipe(l){return this.stream.unpipe(l)}unshift(l){return this.stream.unshift(l)}wrap(l){return this.stream.wrap(l)}}c.exports={ZipWriter:n}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,c,u){c.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,c,u){c.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,c,u){const a=t("../../utils/parse-sax"),r=t("../../utils/xml-stream");class i{prepare(){}render(){}parseOpen(e){}parseText(e){}parseClose(e){}reconcile(e,n){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(e=>{e instanceof i?e.reset():e.xform&&e.xform.reset()})}mergeModel(e){this.model=Object.assign(this.model||{},e)}parse(e){return ot(this,null,function*(){try{for(var n=ei(e),d,l,h;d=!(l=yield n.next()).done;d=!1){const p=l.value;for(const{eventType:g,value:f}of p)if(g==="opentag")this.parseOpen(f);else if(g==="text")this.parseText(f);else if(g==="closetag"&&!this.parseClose(f.name))return this.model}}catch(l){h=[l]}finally{try{d&&(l=n.return)&&(yield l.call(n))}finally{if(h)throw h[0]}}return this.model})}parseStream(e){return ot(this,null,function*(){return this.parse(a(e))})}get xml(){return this.toXml(this.model)}toXml(e){const n=new r;return this.render(n,e),n.xml}static toAttribute(e,n){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(d)return n}else if(d||e!==n)return e.toString()}static toStringAttribute(e,n){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(e,n,d)}static toStringValue(e,n){return e===void 0?n:e}static toBoolAttribute(e,n){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(d)return n}else if(d||e!==n)return e?"1":"0"}static toBoolValue(e,n){return e===void 0?n:e==="1"}static toIntAttribute(e,n){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(e,n,d)}static toIntValue(e,n){return e===void 0?n:parseInt(e,10)}static toFloatAttribute(e,n){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(e,n,d)}static toFloatValue(e,n){return e===void 0?n:parseFloat(e)}}c.exports=i},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,c,u){const a=t("../base-xform"),r=t("../../../utils/col-cache");function i(e){try{return r.decodeEx(e),!0}catch(n){return!1}}function s(e){const n=[];let d=!1,l="";return e.split(",").forEach(h=>{if(!h)return;const p=(h.match(/'/g)||[]).length;if(!p)return void(d?l+=h+",":i(h)&&n.push(h));const g=p%2==0;!d&&g&&i(h)?n.push(h):d&&!g?(d=!1,i(l+h)&&n.push(l+h),l=""):(d=!0,l+=h+",")}),n}c.exports=class extends a{render(e,n){e.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),e.writeText(n.ranges.join(",")),e.closeNode()}parseOpen(e){switch(e.name){case"definedName":return this._parsedName=e.attributes.name,this._parsedLocalSheetId=e.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(e){this._parsedText.push(e)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,c,u){const a=t("../../../utils/utils"),r=t("../base-xform");c.exports=class extends r{render(i,s){i.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(i){return i.name==="sheet"&&(this.model={name:a.xmlDecode(i.attributes.name),id:parseInt(i.attributes.sheetId,10),state:i.attributes.state,rId:i.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){r.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:i.fullCalcOnLoad?1:void 0})}parseOpen(r){return r.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){r.leafNode("workbookPr",{date1904:i.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(r){return r.name==="workbookPr"&&(this.model={date1904:r.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){const s={xWindow:i.x||0,yWindow:i.y||0,windowWidth:i.width||12e3,windowHeight:i.height||24e3,firstSheet:i.firstSheet,activeTab:i.activeTab};i.visibility&&i.visibility!=="visible"&&(s.visibility=i.visibility),r.leafNode("workbookView",s)}parseOpen(r){if(r.name==="workbookView"){const i=this.model={},s=function(n,d,l){const h=d!==void 0?i[n]=d:l;h!==void 0&&(i[n]=h)},e=function(n,d,l){const h=d!==void 0?i[n]=parseInt(d,10):l;h!==void 0&&(i[n]=h)};return e("x",r.attributes.xWindow,0),e("y",r.attributes.yWindow,0),e("width",r.attributes.windowWidth,25e3),e("height",r.attributes.windowHeight,1e4),s("visibility",r.attributes.visibility,"visible"),e("activeTab",r.attributes.activeTab,void 0),e("firstSheet",r.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),s=t("../base-xform"),e=t("../static-xform"),n=t("../list-xform"),d=t("./defined-name-xform"),l=t("./sheet-xform"),h=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class f extends s{constructor(){super(),this.map={fileVersion:f.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new n({tag:"bookViews",count:!1,childXform:new h}),sheets:new n({tag:"sheets",count:!1,childXform:new l}),definedNames:new n({tag:"definedNames",count:!1,childXform:new d}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const v=[];let C=0;y.sheets.forEach(S=>{if(S.pageSetup&&S.pageSetup.printArea&&S.pageSetup.printArea.split("&&").forEach(I=>{const z=I.split(":"),V={name:"_xlnm.Print_Area",ranges:[`'${S.name}'!$${z[0]}:$${z[1]}`],localSheetId:C};v.push(V)}),S.pageSetup&&(S.pageSetup.printTitlesRow||S.pageSetup.printTitlesColumn)){const I=[];if(S.pageSetup.printTitlesColumn){const V=S.pageSetup.printTitlesColumn.split(":");I.push(`'${S.name}'!$${V[0]}:$${V[1]}`)}if(S.pageSetup.printTitlesRow){const V=S.pageSetup.printTitlesRow.split(":");I.push(`'${S.name}'!$${V[0]}:$${V[1]}`)}const z={name:"_xlnm.Print_Titles",ranges:I,localSheetId:C};v.push(z)}C++}),v.length&&(y.definedNames=y.definedNames.concat(v)),(y.media||[]).forEach((S,I)=>{S.name=S.type+(I+1)})}render(y,v){y.openXml(i.StdDocAttributes),y.openNode("workbook",f.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,v.properties),this.map.bookViews.render(y,v.views),this.map.sheets.render(y,v.sheets),this.map.definedNames.render(y,v.definedNames),this.map.calcPr.render(y,v.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const v=(y.workbookRels||[]).reduce((V,L)=>(V[L.Id]=L,V),{}),C=[];let S,I=0;(y.sheets||[]).forEach(V=>{const L=v[V.rId];L&&(S=y.worksheetHash["xl/"+L.Target.replace(/^(\s|\/xl\/)+/,"")],S&&(S.name=V.name,S.id=V.id,S.state=V.state,C[I++]=S))});const z=[];a.each(y.definedNames,V=>{if(V.name==="_xlnm.Print_Area"){if(S=C[V.localSheetId],S){S.pageSetup||(S.pageSetup={});const L=r.decodeEx(V.ranges[0]);S.pageSetup.printArea=S.pageSetup.printArea?`${S.pageSetup.printArea}&&${L.dimensions}`:L.dimensions}}else if(V.name==="_xlnm.Print_Titles"){if(S=C[V.localSheetId],S){S.pageSetup||(S.pageSetup={});const L=V.ranges.join(","),U=/\$/g,G=/\$\d+:\$\d+/,H=L.match(G);if(H&&H.length){const E=H[0];S.pageSetup.printTitlesRow=E.replace(U,"")}const A=/\$[A-Z]+:\$[A-Z]+/,N=L.match(A);if(N&&N.length){const E=N[0];S.pageSetup.printTitlesColumn=E.replace(U,"")}}}else z.push(V)}),y.definedNames=z,y.media.forEach((V,L)=>{V.index=L})}}f.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},f.STATIC_XFORMS={fileVersion:new e({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},c.exports=f},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,c,u){const a=t("../strings/rich-text-xform"),r=t("../../../utils/utils"),i=t("../base-xform"),s=c.exports=function(e){this.model=e};r.inherits(s,i,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(e,n){n=n||this.model,e.openNode("comment",{ref:n.ref,authorId:0}),e.openNode("text"),n&&n.note&&n.note.texts&&n.note.texts.forEach(d=>{this.richTextXform.render(e,d)}),e.closeNode(),e.closeNode()},parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"comment":return this.model=We({type:"note",note:{texts:[]}},e.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(e),!0;default:return!1}},parseText(e){this.parser&&this.parser.parseText(e)},parseClose(e){switch(e){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(e),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../../../utils/utils"),i=t("../base-xform"),s=t("./comment-xform"),e=c.exports=function(){this.map={comment:new s}};r.inherits(e,i,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(n,d){d=d||this.model,n.openXml(a.StdDocAttributes),n.openNode("comments",e.COMMENTS_ATTRIBUTES),n.openNode("authors"),n.leafNode("author",null,"Author"),n.closeNode(),n.openNode("commentList"),d.comments.forEach(l=>{this.map.comment.render(n,l)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,i,s){(i===s[2]||this.tag==="x:SizeWithCells"&&i===s[1])&&r.leafNode(this.tag)}parseOpen(r){switch(r.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,i){r.leafNode(this.tag,null,i)}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(r){const i=Math.floor(r.left),s=Math.floor(68*(r.left-i)),e=Math.floor(r.top),n=Math.floor(18*(r.top-e)),d=Math.floor(r.right),l=Math.floor(68*(r.right-d)),h=Math.floor(r.bottom);return[i,s,e,n,d,l,h,Math.floor(18*(r.bottom-h))]}getDefaultRect(r){const i=r.col,s=Math.max(r.row-2,0);return[i,6,s,14,i+2,2,s+4,16]}render(r,i){const s=i.anchor?this.getAnchorRect(i.anchor):this.getDefaultRect(i.refAddress);r.leafNode("x:Anchor",null,s.join(", "))}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,c,u){const a=t("../base-xform"),r=t("./vml-anchor-xform"),i=t("./style/vml-protection-xform"),s=t("./style/vml-position-xform"),e=["twoCells","oneCells","absolute"];c.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new r,"x:Locked":new i({tag:"x:Locked"}),"x:LockText":new i({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,d){const{protection:l,editAs:h}=d.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,h,e),this.map["x:SizeWithCells"].render(n,h,e),this.map["x:Anchor"].render(n,d),this.map["x:Locked"].render(n,l.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,l.lockText),n.leafNode("x:Row",null,d.refAddress.row-1),n.leafNode("x:Column",null,d.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(n).length;this.model.editAs=e[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("./vml-shape-xform");class s extends r{constructor(){super(),this.map={"v:shape":new i}}get tag(){return"xml"}render(n,d){n.openXml(a.StdDocAttributes),n.openNode(this.tag,s.DRAWING_ATTRIBUTES),n.openNode("o:shapelayout",{"v:ext":"edit"}),n.leafNode("o:idmap",{"v:ext":"edit",data:1}),n.closeNode(),n.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),n.leafNode("v:stroke",{joinstyle:"miter"}),n.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),n.closeNode(),d.comments.forEach((l,h)=>{this.map["v:shape"].render(n,l,h)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}reconcile(n,d){n.anchors.forEach(l=>{l.br?this.map["xdr:twoCellAnchor"].reconcile(l,d):this.map["xdr:oneCellAnchor"].reconcile(l,d)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},c.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,c,u){const a=t("../base-xform"),r=t("./vml-textbox-xform"),i=t("./vml-client-data-xform");class s extends a{constructor(){super(),this.map={"v:textbox":new r,"x:ClientData":new i}}get tag(){return"v:shape"}render(n,d,l){n.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(d,l)),n.leafNode("v:fill",{color2:"infoBackground [80]"}),n.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),n.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(n,d),this.map["x:ClientData"].render(n,d),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={margins:{insetmode:n.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(e,n)=>({id:"_x0000_s"+(1025+n),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":e.note.margins&&e.note.margins.insetmode}),c.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(r,i,s){return`${parseFloat(r)*i.toFixed(2)}${s}`}reverseConversionUnit(r){return(r||"").split(",").map(i=>Number(parseFloat(this.conversionUnit(parseFloat(i),.1,"")).toFixed(2)))}render(r,i){const s={style:"mso-direction-alt:auto"};if(i&&i.note){let{inset:e}=i.note&&i.note.margins;Array.isArray(e)&&(e=e.map(n=>this.conversionUnit(n,10,"mm")).join(",")),e&&(s.inset=e)}r.openNode("v:textbox",s),r.leafNode("div",{style:"text-align:left"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:return this.model={inset:this.reverseConversionUnit(r.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,c,u){const a=t("./base-xform");c.exports=class extends a{createNewModel(r){return{}}parseOpen(r){return this.parser=this.parser||this.map[r.name],this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag&&(this.model=this.createNewModel(r),!0)}parseText(r){this.parser&&this.parser.parseText(r)}onParserClose(r,i){this.model[r]=i.model}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.onParserClose(r,this.parser),this.parser=void 0),!0):r!==this.tag}}},{"./base-xform":32}],49:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){r.openNode("HeadingPairs"),r.openNode("vt:vector",{size:2,baseType:"variant"}),r.openNode("vt:variant"),r.leafNode("vt:lpstr",void 0,"Worksheets"),r.closeNode(),r.openNode("vt:variant"),r.leafNode("vt:i4",void 0,i.length),r.closeNode(),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="HeadingPairs"}parseText(){}parseClose(r){return r!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){r.openNode("TitlesOfParts"),r.openNode("vt:vector",{size:i.length,baseType:"lpstr"}),i.forEach(s=>{r.leafNode("vt:lpstr",void 0,s.name)}),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="TitlesOfParts"}parseText(){}parseClose(r){return r!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("../simple/string-xform"),s=t("./app-heading-pairs-xform"),e=t("./app-titles-of-parts-xform");class n extends r{constructor(){super(),this.map={Company:new i({tag:"Company"}),Manager:new i({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new e}}render(l,h){l.openXml(a.StdDocAttributes),l.openNode("Properties",n.PROPERTY_ATTRIBUTES),l.leafNode("Application",void 0,"Microsoft Excel"),l.leafNode("DocSecurity",void 0,"0"),l.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(l,h.worksheets),this.map.TitleOfParts.render(l,h.worksheets),this.map.Company.render(l,h.company||""),this.map.Manager.render(l,h.manager),l.leafNode("LinksUpToDate",void 0,"false"),l.leafNode("SharedDoc",void 0,"false"),l.leafNode("HyperlinksChanged",void 0,"false"),l.leafNode("AppVersion",void 0,"16.0300"),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Properties":return!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}n.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},c.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform");class i extends r{render(e,n){e.openXml(a.StdDocAttributes),e.openNode("Types",i.PROPERTY_ATTRIBUTES);const d={};(n.media||[]).forEach(l=>{if(l.type==="image"){const h=l.extension;d[h]||(d[h]=!0,e.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),e.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),e.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),e.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),n.worksheets.forEach(l=>{const h=`/xl/worksheets/sheet${l.id}.xml`;e.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),e.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),e.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),n.sharedStrings&&n.sharedStrings.count&&e.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),n.tables&&n.tables.forEach(l=>{e.leafNode("Override",{PartName:"/xl/tables/"+l.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),n.drawings&&n.drawings.forEach(l=>{e.leafNode("Override",{PartName:`/xl/drawings/${l.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),n.commentRefs&&(e.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),n.commentRefs.forEach(l=>{let{commentName:h}=l;e.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),e.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),e.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),e.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}i.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},c.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("../simple/date-xform"),s=t("../simple/string-xform"),e=t("../simple/integer-xform");class n extends r{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new i({tag:"cp:lastPrinted",format:n.DateFormat}),"cp:revision":new e({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new i({tag:"dcterms:created",attrs:n.DateAttrs,format:n.DateFormat}),"dcterms:modified":new i({tag:"dcterms:modified",attrs:n.DateAttrs,format:n.DateFormat})}}render(l,h){l.openXml(a.StdDocAttributes),l.openNode("cp:coreProperties",n.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(l,h.creator),this.map["dc:title"].render(l,h.title),this.map["dc:subject"].render(l,h.subject),this.map["dc:description"].render(l,h.description),this.map["dc:identifier"].render(l,h.identifier),this.map["dc:language"].render(l,h.language),this.map["cp:keywords"].render(l,h.keywords),this.map["cp:category"].render(l,h.category),this.map["cp:lastModifiedBy"].render(l,h.lastModifiedBy),this.map["cp:lastPrinted"].render(l,h.lastPrinted),this.map["cp:revision"].render(l,h.revision),this.map["cp:version"].render(l,h.version),this.map["cp:contentStatus"].render(l,h.contentStatus),this.map["cp:contentType"].render(l,h.contentType),this.map["dcterms:created"].render(l,h.created),this.map["dcterms:modified"].render(l,h.modified),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}n.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},c.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{render(r,i){r.leafNode("Relationship",i)}parseOpen(r){switch(r.name){case"Relationship":return this.model=r.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("./relationship-xform");class s extends r{constructor(){super(),this.map={Relationship:new i}}render(n,d){d=d||this._values,n.openXml(a.StdDocAttributes),n.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),d.forEach(l=>{this.map.Relationship.render(n,l)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(n){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},c.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={range:{editAs:r.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}reconcilePicture(r,i){if(r&&r.rId){const s=i.rels[r.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){const e=s[1],n=i.mediaIndex[e];return i.media[n]}}}}},{"../base-xform":32}],57:[function(t,c,u){const a=t("../base-xform"),r=t("./blip-xform");c.exports=class extends a{constructor(){super(),this.map={"a:blip":new r}}get tag(){return"xdr:blipFill"}render(i,s){i.openNode(this.tag),this.map["a:blip"].render(i,s),i.openNode("a:stretch"),i.leafNode("a:fillRect"),i.closeNode(),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"a:blip"}render(r,i){r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":i.rId,cstate:"print"})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(r){r.openNode(this.tag),r.leafNode("a:picLocks",{noChangeAspect:"1"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,c,u){const a=t("../base-xform"),r=t("./hlink-click-xform"),i=t("./ext-lst-xform");c.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new r,"a:extLst":new i}}get tag(){return"xdr:cNvPr"}render(s,e){s.openNode(this.tag,{id:e.index,name:"Picture "+e.index}),this.map["a:hlinkClick"].render(s,e),this.map["a:extLst"].render(s,e),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,c,u){const a=t("../base-xform"),r=t("../simple/integer-xform");c.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.map={"xdr:col":new r({tag:"xdr:col",zero:!0}),"xdr:colOff":new r({tag:"xdr:colOff",zero:!0}),"xdr:row":new r({tag:"xdr:row",zero:!0}),"xdr:rowOff":new r({tag:"xdr:rowOff",zero:!0})}}render(i,s){i.openNode(this.tag),this.map["xdr:col"].render(i,s.nativeCol),this.map["xdr:colOff"].render(i,s.nativeColOff),this.map["xdr:row"].render(i,s.nativeRow),this.map["xdr:rowOff"].render(i,s.nativeRowOff),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,c,u){const a=t("../../../utils/col-cache"),r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./two-cell-anchor-xform"),e=t("./one-cell-anchor-xform");class n extends i{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new e}}prepare(l){l.anchors.forEach((h,p)=>{h.anchorType=function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:p})})}get tag(){return"xdr:wsDr"}render(l,h){l.openXml(r.StdDocAttributes),l.openNode(this.tag,n.DRAWING_ATTRIBUTES),h.anchors.forEach(p=>{this.map[p.anchorType].render(l,p)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,h){l.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,h):this.map["xdr:oneCellAnchor"].reconcile(p,h)})}}n.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},c.exports=n},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"a:extLst"}render(r){r.openNode(this.tag),r.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),r.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),r.closeNode(),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.map={}}render(r,i){r.openNode(this.tag);const s=Math.floor(9525*i.width),e=Math.floor(9525*i.height);r.addAttribute("cx",s),r.addAttribute("cy",e),r.closeNode()}parseOpen(r){return r.name===this.tag&&(this.model={width:parseInt(r.attributes.cx||"0",10)/9525,height:parseInt(r.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"a:hlinkClick"}render(r,i){i.hyperlinks&&i.hyperlinks.rId&&r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":i.hyperlinks.rId,tooltip:i.hyperlinks.tooltip})}parseOpen(r){switch(r.name){case this.tag:return this.model={hyperlinks:{rId:r.attributes["r:id"],tooltip:r.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,c,u){const a=t("../base-xform"),r=t("./c-nv-pr-xform"),i=t("./c-nv-pic-pr-xform");c.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new r,"xdr:cNvPicPr":new i}}get tag(){return"xdr:nvPicPr"}render(s,e){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,e),this.map["xdr:cNvPicPr"].render(s,e),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,c,u){const a=t("./base-cell-anchor-xform"),r=t("../static-xform"),i=t("./cell-position-xform"),s=t("./ext-xform"),e=t("./pic-xform");c.exports=class extends a{constructor(){super(),this.map={"xdr:from":new i({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new e,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,d){this.map["xdr:pic"].prepare(n.picture,d)}render(n,d){n.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,d.range.tl),this.map["xdr:ext"].render(n,d.range.ext),this.map["xdr:pic"].render(n,d.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,d){n.medium=this.reconcilePicture(n.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,c,u){const a=t("../base-xform"),r=t("../static-xform"),i=t("./blip-fill-xform"),s=t("./nv-pic-pr-xform"),e=t("./sp-pr");c.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new i,"xdr:spPr":new r(e)}}get tag(){return"xdr:pic"}prepare(n,d){n.index=d.index+1}render(n,d){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,d),this.map["xdr:blipFill"].render(n,d),this.map["xdr:spPr"].render(n,d),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,c,u){c.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,c,u){const a=t("./base-cell-anchor-xform"),r=t("../static-xform"),i=t("./cell-position-xform"),s=t("./pic-xform");c.exports=class extends a{constructor(){super(),this.map={"xdr:from":new i({tag:"xdr:from"}),"xdr:to":new i({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(e,n){this.map["xdr:pic"].prepare(e.picture,n)}render(e,n){e.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(e,n.range.tl),this.map["xdr:to"].render(e,n.range.br),this.map["xdr:pic"].render(e,n.picture),this.map["xdr:clientData"].render(e,{}),e.closeNode()}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(e,n){e.medium=this.reconcilePicture(e.picture,n)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,c,u){const a=t("./base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.always=!!r.always,this.count=r.count,this.empty=r.empty,this.$count=r.$count||"count",this.$=r.$,this.childXform=r.childXform,this.maxItems=r.maxItems}prepare(r,i){const{childXform:s}=this;r&&r.forEach((e,n)=>{i.index=n,s.prepare(e,i)})}render(r,i){if(this.always||i&&i.length){r.openNode(this.tag,this.$),this.count&&r.addAttribute(this.$count,i&&i.length||0);const{childXform:s}=this;(i||[]).forEach((e,n)=>{s.render(r,e,n)}),r.closeNode()}else this.empty&&r.leafNode(this.tag)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(r)&&(this.parser=this.childXform,!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(r,i){if(r){const{childXform:s}=this;r.forEach(e=>{s.reconcile(e,i)})}}}},{"./base-xform":32}],72:[function(t,c,u){const a=t("../../../utils/col-cache"),r=t("../base-xform");c.exports=class extends r{get tag(){return"autoFilter"}render(i,s){if(s)if(typeof s=="string")i.leafNode("autoFilter",{ref:s});else{const e=function(l){return typeof l=="string"?l:a.getAddress(l.row,l.column).address},n=e(s.from),d=e(s.to);n&&d&&i.leafNode("autoFilter",{ref:`${n}:${d}`})}}parseOpen(i){i.name==="autoFilter"&&(this.model=i.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,c,u){const a=t("../../../utils/utils"),r=t("../base-xform"),i=t("../../../doc/range"),s=t("../../../doc/enums"),e=t("../strings/rich-text-xform");function n(d){if(d==null)return s.ValueType.Null;if(d instanceof String||typeof d=="string")return s.ValueType.String;if(typeof d=="number")return s.ValueType.Number;if(typeof d=="boolean")return s.ValueType.Boolean;if(d instanceof Date)return s.ValueType.Date;if(d.text&&d.hyperlink)return s.ValueType.Hyperlink;if(d.formula)return s.ValueType.Formula;if(d.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}c.exports=class extends r{constructor(){super(),this.richTextXForm=new e}get tag(){return"c"}prepare(d,l){const h=l.styles.addStyleModel(d.style||{},function(p){switch(p.type){case s.ValueType.Formula:return n(p.result);default:return p.type}}(d));switch(h&&(d.styleId=h),d.comment&&l.comments.push(gn(We({},d.comment),{ref:d.address})),d.type){case s.ValueType.String:case s.ValueType.RichText:l.sharedStrings&&(d.ssId=l.sharedStrings.add(d.value));break;case s.ValueType.Date:l.date1904&&(d.date1904=!0);break;case s.ValueType.Hyperlink:l.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=l.sharedStrings.add(d.text)),l.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case s.ValueType.Merge:l.merges.add(d);break;case s.ValueType.Formula:if(l.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=l.siFormulae++),d.formula)l.formulae[d.address]=d;else if(d.sharedFormula){const p=l.formulae[d.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);p.si===void 0?(p.shareType="shared",p.si=l.siFormulae++,p.range=new i(p.address,d.address)):p.range&&p.range.expandToAddress(d.address),d.si=p.si}}}renderFormula(d,l){let h=null;switch(l.shareType){case"shared":h={t:"shared",ref:l.ref||l.range.range,si:l.si};break;case"array":h={t:"array",ref:l.ref};break;default:l.si!==void 0&&(h={t:"shared",si:l.si})}switch(n(l.result)){case s.ValueType.Null:d.leafNode("f",h,l.formula);break;case s.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",h,l.formula),d.leafNode("v",null,l.result);break;case s.ValueType.Number:d.leafNode("f",h,l.formula),d.leafNode("v",null,l.result);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",h,l.formula),d.leafNode("v",null,l.result?1:0);break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",h,l.formula),d.leafNode("v",null,l.result.error);break;case s.ValueType.Date:d.leafNode("f",h,l.formula),d.leafNode("v",null,a.dateToExcel(l.result,l.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,l){if(l.type!==s.ValueType.Null||l.styleId){switch(d.openNode("c"),d.addAttribute("r",l.address),l.styleId&&d.addAttribute("s",l.styleId),l.type){case s.ValueType.Null:break;case s.ValueType.Number:d.leafNode("v",null,l.value);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,l.value?"1":"0");break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,l.value.error);break;case s.ValueType.String:case s.ValueType.RichText:l.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,l.ssId)):l.value&&l.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),l.value.richText.forEach(h=>{this.richTextXForm.render(d,h)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,l.value));break;case s.ValueType.Date:d.leafNode("v",null,a.dateToExcel(l.value,l.date1904));break;case s.ValueType.Hyperlink:l.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,l.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,l.text));break;case s.ValueType.Formula:this.renderFormula(d,l);break;case s.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:l}=this;if(l.formula||l.shareType)l.type=s.ValueType.Formula,l.value&&(this.t==="str"?l.result=a.xmlDecode(l.value):this.t==="b"?l.result=parseInt(l.value,10)!==0:this.t==="e"?l.result={error:l.value}:l.result=parseFloat(l.value),l.value=void 0);else if(l.value!==void 0)switch(this.t){case"s":l.type=s.ValueType.String,l.value=parseInt(l.value,10);break;case"str":l.type=s.ValueType.String,l.value=a.xmlDecode(l.value);break;case"inlineStr":l.type=s.ValueType.String;break;case"b":l.type=s.ValueType.Boolean,l.value=parseInt(l.value,10)!==0;break;case"e":l.type=s.ValueType.Error,l.value={error:l.value};break;default:l.type=s.ValueType.Number,l.value=parseFloat(l.value)}else l.styleId?l.type=s.ValueType.Null:l.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,l){const h=d.styleId&&l.styles&&l.styles.getStyleModel(d.styleId);switch(h&&(d.style=h),d.styleId!==void 0&&(d.styleId=void 0),d.type){case s.ValueType.String:typeof d.value=="number"&&l.sharedStrings&&(d.value=l.sharedStrings.getString(d.value)),d.value.richText&&(d.type=s.ValueType.RichText);break;case s.ValueType.Number:h&&a.isDateFmt(h.numFmt)&&(d.type=s.ValueType.Date,d.value=a.excelToDate(d.value,l.date1904));break;case s.ValueType.Formula:d.result!==void 0&&h&&a.isDateFmt(h.numFmt)&&(d.result=a.excelToDate(d.result,l.date1904)),d.shareType==="shared"&&(d.ref?l.formulae[d.si]=d.address:(d.sharedFormula=l.formulae[d.si],delete d.shareType),delete d.si)}const p=l.hyperlinkMap[d.address];p&&(d.type===s.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=s.ValueType.Hyperlink,d.hyperlink=p);const g=l.commentsMap&&l.commentsMap[d.address];g&&(d.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{get tag(){return"x14:cfIcon"}render(r,i){r.leafNode(this.tag,{iconSet:i.iconSet,iconId:i.iconId})}parseOpen(r){let{attributes:i}=r;this.model={iconSet:i.iconSet,iconId:a.toIntValue(i.iconId)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],75:[function(t,c,u){const{v4:a}=t("uuid"),r=t("../../base-xform"),i=t("../../composite-xform"),s=t("./databar-ext-xform"),e=t("./icon-set-ext-xform"),n={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends i{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new e}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?s.isExt(h):!(h.type!=="iconSet"||!h.custom&&!n[h.iconSet])}prepare(h){d.isExt(h)&&(h.x14Id=`{${a()}}`.toUpperCase())}render(h,p){if(d.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(h,p);break;case"iconSet":this.renderIconSet(h,p)}}renderDataBar(h,p){h.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(h,p),h.closeNode()}renderIconSet(h,p){h.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${a()}}`}),this.iconSetXform.render(h,p),h.closeNode()}createNewModel(h){let{attributes:p}=h;return{type:p.type,x14Id:p.id,priority:r.toIntValue(p.priority)}}onParserClose(h,p){Object.assign(this.model,p.model)}}c.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,c,u){const a=t("../../composite-xform"),r=t("./f-ext-xform");c.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new r}}get tag(){return"x14:cfvo"}render(i,s){i.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(i,s.value),i.closeNode()}createNewModel(i){return{type:i.attributes.type}}onParserClose(i,s){switch(i){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,c,u){const a=t("../../composite-xform"),r=t("./sqref-ext-xform"),i=t("./cf-rule-ext-xform");c.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new r,"x14:cfRule":this.cfRule=new i}}get tag(){return"x14:conditionalFormatting"}prepare(s,e){s.rules.forEach(n=>{this.cfRule.prepare(n,e)})}render(s,e){e.rules.some(i.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),e.rules.filter(i.isExt).forEach(n=>this.cfRule.render(s,n)),this.sqRef.render(s,e.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,e){switch(s){case"xm:sqref":this.model.ref=e.model;break;case"x14:cfRule":this.model.rules.push(e.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,c,u){const a=t("../../composite-xform"),r=t("./cf-rule-ext-xform"),i=t("./conditional-formatting-ext-xform");c.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new i}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(e=>e.rules.some(r.isExt))),s.hasExtContent}prepare(s,e){s.forEach(n=>{this.cfXform.prepare(n,e)})}render(s,e){this.hasContent(e)&&(s.openNode(this.tag),e.forEach(n=>this.cfXform.render(s,n)),s.closeNode())}createNewModel(){return[]}onParserClose(s,e){this.model.push(e.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,c,u){const a=t("../../base-xform"),r=t("../../composite-xform"),i=t("../../style/color-xform"),s=t("./cfvo-ext-xform");c.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new i("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new i("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new i("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new i("x14:axisColor")}}static isExt(e){return!e.gradient}get tag(){return"x14:dataBar"}render(e,n){e.openNode(this.tag,{minLength:a.toIntAttribute(n.minLength,0,!0),maxLength:a.toIntAttribute(n.maxLength,100,!0),border:a.toBoolAttribute(n.border,!1),gradient:a.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(n.axisPosition,"auto"),direction:a.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(d=>{this.cfvoXform.render(e,d)}),this.borderColorXform.render(e,n.borderColor),this.negativeBorderColorXform.render(e,n.negativeBorderColor),this.negativeFillColorXform.render(e,n.negativeFillColor),this.axisColorXform.render(e,n.axisColor),e.closeNode()}createNewModel(e){let{attributes:n}=e;return{cfvo:[],minLength:a.toIntValue(n.minLength,0),maxLength:a.toIntValue(n.maxLength,100),border:a.toBoolValue(n.border,!1),gradient:a.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(n.axisPosition,"auto"),direction:a.toStringValue(n.direction,"leftToRight")}}onParserClose(e,n){const[,d]=e.split(":");switch(d){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[d]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{get tag(){return"xm:f"}render(r,i){r.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],81:[function(t,c,u){const a=t("../../base-xform"),r=t("../../composite-xform"),i=t("./cfvo-ext-xform"),s=t("./cf-icon-ext-xform");c.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new i,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(e,n){e.openNode(this.tag,{iconSet:a.toStringAttribute(n.iconSet),reverse:a.toBoolAttribute(n.reverse,!1),showValue:a.toBoolAttribute(n.showValue,!0),custom:a.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(d=>{this.cfvoXform.render(e,d)}),n.icons&&n.icons.forEach((d,l)=>{d.iconId=l,this.cfIconXform.render(e,d)}),e.closeNode()}createNewModel(e){let{attributes:n}=e;return{cfvo:[],iconSet:a.toStringValue(n.iconSet,"3TrafficLights"),reverse:a.toBoolValue(n.reverse,!1),showValue:a.toBoolValue(n.showValue,!0)}}onParserClose(e,n){const[,d]=e.split(":");switch(d){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[d]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{get tag(){return"xm:sqref"}render(r,i){r.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],83:[function(t,c,u){const a=t("../../base-xform"),r=t("../../composite-xform"),i=t("../../../../doc/range"),s=t("./databar-xform"),e=t("./ext-lst-ref-xform"),n=t("./formula-xform"),d=t("./color-scale-xform"),l=t("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=f=>{const{type:m,operator:y}=f;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:y}}};class g extends r{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new e,formula:this.formulaXform=new n,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new l}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!h[m.iconSet]}render(m,y){switch(y.type){case"expression":this.renderExpression(m,y);break;case"cellIs":this.renderCellIs(m,y);break;case"top10":this.renderTop10(m,y);break;case"aboveAverage":this.renderAboveAverage(m,y);break;case"dataBar":this.renderDataBar(m,y);break;case"colorScale":this.renderColorScale(m,y);break;case"iconSet":this.renderIconSet(m,y);break;case"containsText":this.renderText(m,y);break;case"timePeriod":this.renderTimePeriod(m,y)}}renderExpression(m,y){m.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(m,y.formulae[0]),m.closeNode()}renderCellIs(m,y){m.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(v=>{this.formulaXform.render(m,v)}),m.closeNode()}renderTop10(m,y){m.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:a.toBoolAttribute(y.percent,!1),bottom:a.toBoolAttribute(y.bottom,!1),rank:a.toIntValue(y.rank,10,!0)})}renderAboveAverage(m,y){m.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:a.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(m,y){m.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(m,y),this.extLstRefXform.render(m,y),m.closeNode()}renderColorScale(m,y){m.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(m,y),m.closeNode()}renderIconSet(m,y){g.isPrimitive(y)&&(m.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(m,y),m.closeNode())}renderText(m,y){m.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:a.toStringAttribute(y.operator,"containsText")});const v=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const S=new i(C.ref),{tl:I}=S;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${I})))`;case"containsBlanks":return`LEN(TRIM(${I}))=0`;case"notContainsBlanks":return`LEN(TRIM(${I}))>0`;case"containsErrors":return`ISERROR(${I})`;case"notContainsErrors":return`NOT(ISERROR(${I}))`;default:return}})(y);v&&this.formulaXform.render(m,v),m.closeNode()}renderTimePeriod(m,y){m.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const v=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const S=new i(C.ref),{tl:I}=S;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${I},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${I},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${I},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${I},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${I},1)=TODAY()-1`;case"today":return`FLOOR(${I},1)=TODAY()`;case"tomorrow":return`FLOOR(${I},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${I},1)<=6,FLOOR(${I},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0-1)),YEAR(${I})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${I})=MONTH(TODAY()),YEAR(${I})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0+1)),YEAR(${I})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);v&&this.formulaXform.render(m,v),m.closeNode()}createNewModel(m){let{attributes:y}=m;return gn(We({},p(y)),{dxfId:a.toIntValue(y.dxfId),priority:a.toIntValue(y.priority),timePeriod:y.timePeriod,percent:a.toBoolValue(y.percent),bottom:a.toBoolValue(y.bottom),rank:a.toIntValue(y.rank),aboveAverage:a.toBoolValue(y.aboveAverage)})}onParserClose(m,y){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}c.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{get tag(){return"cfvo"}render(r,i){r.leafNode(this.tag,{type:i.type,val:i.value})}parseOpen(r){this.model={type:r.attributes.type,value:a.toFloatValue(r.attributes.val)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],85:[function(t,c,u){const a=t("../../composite-xform"),r=t("../../style/color-xform"),i=t("./cfvo-xform");c.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new i,color:this.colorXform=new r}}get tag(){return"colorScale"}render(s,e){s.openNode(this.tag),e.cfvo.forEach(n=>{this.cfvoXform.render(s,n)}),e.color.forEach(n=>{this.colorXform.render(s,n)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,e){this.model[s].push(e.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,c,u){const a=t("../../composite-xform"),r=t("./cf-rule-xform");c.exports=class extends a{constructor(){super(),this.map={cfRule:new r}}get tag(){return"conditionalFormatting"}render(i,s){s.rules.some(r.isPrimitive)&&(i.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(e=>{r.isPrimitive(e)&&(e.ref=s.ref,this.map.cfRule.render(i,e))}),i.closeNode())}createNewModel(i){let{attributes:s}=i;return{ref:s.sqref,rules:[]}}onParserClose(i,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,c,u){const a=t("../../base-xform"),r=t("./conditional-formatting-xform");c.exports=class extends a{constructor(){super(),this.cfXform=new r}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(i,s){let e=i.reduce((n,d)=>Math.max(n,...d.rules.map(l=>l.priority||0)),1);i.forEach(n=>{n.rules.forEach(d=>{d.priority||(d.priority=e++),d.style&&(d.dxfId=s.styles.addDxfStyle(d.style))})})}render(i,s){s.forEach(e=>{this.cfXform.render(i,e)})}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return!!this.parser&&(!!this.parser.parseClose(i)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(i,s){i.forEach(e=>{e.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=s.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,c,u){const a=t("../../composite-xform"),r=t("../../style/color-xform"),i=t("./cfvo-xform");c.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new i,color:this.colorXform=new r}}get tag(){return"dataBar"}render(s,e){s.openNode(this.tag),e.cfvo.forEach(n=>{this.cfvoXform.render(s,n)}),this.colorXform.render(s,e.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,e){switch(s){case"cfvo":this.model.cfvo.push(e.model);break;case"color":this.model.color=e.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,c,u){const a=t("../../base-xform"),r=t("../../composite-xform");class i extends a{get tag(){return"x14:id"}render(n,d){n.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}class s extends r{constructor(){super(),this.map={"x14:id":this.idXform=new i}}get tag(){return"ext"}render(n,d){n.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(n,d.x14Id),n.closeNode()}createNewModel(){return{}}onParserClose(n,d){this.model.x14Id=d.model}}c.exports=class extends r{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(e,n){e.openNode(this.tag),this.map.ext.render(e,n),e.closeNode()}createNewModel(){return{}}onParserClose(e,n){Object.assign(this.model,n.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,c,u){const a=t("../../base-xform");c.exports=class extends a{get tag(){return"formula"}render(r,i){r.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],91:[function(t,c,u){const a=t("../../base-xform"),r=t("../../composite-xform"),i=t("./cfvo-xform");c.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new i}}get tag(){return"iconSet"}render(s,e){s.openNode(this.tag,{iconSet:a.toStringAttribute(e.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(e.reverse,!1),showValue:a.toBoolAttribute(e.showValue,!0)}),e.cfvo.forEach(n=>{this.cfvoXform.render(s,n)}),s.closeNode()}createNewModel(s){let{attributes:e}=s;return{iconSet:a.toStringValue(e.iconSet,"3TrafficLights"),reverse:a.toBoolValue(e.reverse),showValue:a.toBoolValue(e.showValue),cfvo:[]}}onParserClose(s,e){this.model[s].push(e.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,c,u){const a=t("../../../utils/utils"),r=t("../base-xform");c.exports=class extends r{get tag(){return"col"}prepare(i,s){const e=s.styles.addStyleModel(i.style||{});e&&(i.styleId=e)}render(i,s){i.openNode("col"),i.addAttribute("min",s.min),i.addAttribute("max",s.max),s.width&&i.addAttribute("width",s.width),s.styleId&&i.addAttribute("style",s.styleId),s.hidden&&i.addAttribute("hidden","1"),s.bestFit&&i.addAttribute("bestFit","1"),s.outlineLevel&&i.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&i.addAttribute("collapsed","1"),i.addAttribute("customWidth","1"),i.closeNode()}parseOpen(i){if(i.name==="col"){const s=this.model={min:parseInt(i.attributes.min||"0",10),max:parseInt(i.attributes.max||"0",10),width:i.attributes.width===void 0?void 0:parseFloat(i.attributes.width||"0")};return i.attributes.style&&(s.styleId=parseInt(i.attributes.style,10)),a.parseBoolean(i.attributes.hidden)&&(s.hidden=!0),a.parseBoolean(i.attributes.bestFit)&&(s.bestFit=!0),i.attributes.outlineLevel&&(s.outlineLevel=parseInt(i.attributes.outlineLevel,10)),a.parseBoolean(i.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(i,s){i.styleId&&(i.style=s.styles.getStyleModel(i.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../../../utils/utils"),i=t("../../../utils/col-cache"),s=t("../base-xform"),e=t("../../../doc/range");function n(l,h,p,g){const f=h[p];f!==void 0?l[p]=f:g!==void 0&&(l[p]=g)}function d(l,h,p,g){const f=h[p];f!==void 0?l[p]=r.parseBoolean(f):g!==void 0&&(l[p]=g)}c.exports=class extends s{get tag(){return"dataValidations"}render(l,h){const p=function(g){const f=a.map(g,(v,C)=>({address:C,dataValidation:v,marked:!1})).sort((v,C)=>a.strcmp(v.address,C.address)),m=a.keyBy(f,"address"),y=(v,C,S)=>{for(let I=0;I<C;I++){const z=i.encodeAddress(v.row+I,S);if(!g[z]||!a.isEqual(g[v.address],g[z]))return!1}return!0};return f.map(v=>{if(!v.marked){const C=i.decodeEx(v.address);if(C.dimensions)return m[C.dimensions].marked=!0,gn(We({},v.dataValidation),{sqref:v.address});let S=1,I=i.encodeAddress(C.row+S,C.col);for(;g[I]&&a.isEqual(v.dataValidation,g[I]);)S++,I=i.encodeAddress(C.row+S,C.col);let z=1;for(;y(C,S,C.col+z);)z++;for(let V=0;V<S;V++)for(let L=0;L<z;L++)I=i.encodeAddress(C.row+V,C.col+L),m[I].marked=!0;if(S>1||z>1){const V=C.row+(S-1),L=C.col+(z-1);return gn(We({},v.dataValidation),{sqref:`${v.address}:${i.encodeAddress(V,L)}`})}return gn(We({},v.dataValidation),{sqref:v.address})}return null}).filter(Boolean)}(h);p.length&&(l.openNode("dataValidations",{count:p.length}),p.forEach(g=>{l.openNode("dataValidation"),g.type!=="any"&&(l.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&l.addAttribute("operator",g.operator),g.allowBlank&&l.addAttribute("allowBlank","1")),g.showInputMessage&&l.addAttribute("showInputMessage","1"),g.promptTitle&&l.addAttribute("promptTitle",g.promptTitle),g.prompt&&l.addAttribute("prompt",g.prompt),g.showErrorMessage&&l.addAttribute("showErrorMessage","1"),g.errorStyle&&l.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&l.addAttribute("errorTitle",g.errorTitle),g.error&&l.addAttribute("error",g.error),l.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((f,m)=>{l.openNode("formula"+(m+1)),g.type==="date"?l.writeText(r.dateToExcel(new Date(f))):l.writeText(f),l.closeNode()}),l.closeNode()}),l.closeNode())}parseOpen(l){switch(l.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=l.attributes.sqref;const h={type:l.attributes.type||"any",formulae:[]};switch(l.attributes.type&&d(h,l.attributes,"allowBlank"),d(h,l.attributes,"showInputMessage"),d(h,l.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:n(h,l.attributes,"operator","between")}return n(h,l.attributes,"promptTitle"),n(h,l.attributes,"prompt"),n(h,l.attributes,"errorStyle"),n(h,l.attributes,"errorTitle"),n(h,l.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(l){this._formula&&this._formula.push(l)}parseClose(l){switch(l){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new e(h).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=r.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"dimension"}render(r,i){i&&r.leafNode("dimension",{ref:i})}parseOpen(r){return r.name==="dimension"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"drawing"}render(r,i){i&&r.leafNode(this.tag,{"r:id":i.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,c,u){const a=t("../composite-xform"),r=t("./cf-ext/conditional-formattings-ext-xform");class i extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new r}}get tag(){return"ext"}hasContent(e){return this.conditionalFormattings.hasContent(e.conditionalFormattings)}prepare(e,n){this.conditionalFormattings.prepare(e.conditionalFormattings,n)}render(e,n){e.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(e,n.conditionalFormattings),e.closeNode()}createNewModel(){return{}}onParserClose(e,n){this.model[e]=n.model}}c.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new i}}get tag(){return"extLst"}prepare(s,e){this.ext.prepare(s,e)}hasContent(s){return this.ext.hasContent(s)}render(s,e){this.hasContent(e)&&(s.openNode("extLst"),this.ext.render(s,e),s.closeNode())}createNewModel(){return{}}onParserClose(s,e){Object.assign(this.model,e.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"headerFooter"}render(r,i){if(i){r.addRollback();let s=!1;r.openNode("headerFooter"),i.differentFirst&&(r.addAttribute("differentFirst","1"),s=!0),i.differentOddEven&&(r.addAttribute("differentOddEven","1"),s=!0),i.oddHeader&&typeof i.oddHeader=="string"&&(r.leafNode("oddHeader",null,i.oddHeader),s=!0),i.oddFooter&&typeof i.oddFooter=="string"&&(r.leafNode("oddFooter",null,i.oddFooter),s=!0),i.evenHeader&&typeof i.evenHeader=="string"&&(r.leafNode("evenHeader",null,i.evenHeader),s=!0),i.evenFooter&&typeof i.evenFooter=="string"&&(r.leafNode("evenFooter",null,i.evenFooter),s=!0),i.firstHeader&&typeof i.firstHeader=="string"&&(r.leafNode("firstHeader",null,i.firstHeader),s=!0),i.firstFooter&&typeof i.firstFooter=="string"&&(r.leafNode("firstFooter",null,i.firstFooter),s=!0),s?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){switch(r.name){case"headerFooter":return this.model={},r.attributes.differentFirst&&(this.model.differentFirst=parseInt(r.attributes.differentFirst,0)===1),r.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(r.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(r){switch(this.currentNode){case"oddHeader":this.model.oddHeader=r;break;case"oddFooter":this.model.oddFooter=r;break;case"evenHeader":this.model.evenHeader=r;break;case"evenFooter":this.model.evenFooter=r;break;case"firstHeader":this.model.firstHeader=r;break;case"firstFooter":this.model.firstFooter=r}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"hyperlink"}render(r,i){this.isInternalLink(i)?r.leafNode("hyperlink",{ref:i.address,"r:id":i.rId,tooltip:i.tooltip,location:i.target}):r.leafNode("hyperlink",{ref:i.address,"r:id":i.rId,tooltip:i.tooltip})}parseOpen(r){return r.name==="hyperlink"&&(this.model={address:r.attributes.ref,rId:r.attributes["r:id"],tooltip:r.attributes.tooltip},r.attributes.location&&(this.model.target=r.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(r){return r.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(r.target)}}},{"../base-xform":32}],99:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"mergeCell"}render(r,i){r.leafNode("mergeCell",{ref:i})}parseOpen(r){return r.name==="mergeCell"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../../../doc/range"),i=t("../../../utils/col-cache"),s=t("../../../doc/enums");c.exports=class{constructor(){this.merges={}}add(e){if(this.merges[e.master])this.merges[e.master].expandToAddress(e.address);else{const n=`${e.master}:${e.address}`;this.merges[e.master]=new r(n)}}get mergeCells(){return a.map(this.merges,e=>e.range)}reconcile(e,n){a.each(e,d=>{const l=i.decode(d);for(let h=l.top;h<=l.bottom;h++){const p=n[h-1];for(let g=l.left;g<=l.right;g++){const f=p.cells[g-1];f?f.type===s.ValueType.Merge&&(f.master=l.tl):p.cells[g]={type:s.ValueType.Null,address:i.encodeAddress(h,g)}}}})}getMasterAddress(e){const n=this.hash[e];return n&&n.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,c,u){const a=t("../base-xform"),r=i=>i!==void 0;c.exports=class extends a{get tag(){return"outlinePr"}render(i,s){return!(!s||!r(s.summaryBelow)&&!r(s.summaryRight))&&(i.leafNode(this.tag,{summaryBelow:r(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:r(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={summaryBelow:r(i.attributes.summaryBelow)?!!Number(i.attributes.summaryBelow):void 0,summaryRight:r(i.attributes.summaryRight)?!!Number(i.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"brk"}render(r,i){r.leafNode("brk",i)}parseOpen(r){return r.name==="brk"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../base-xform");c.exports=class extends r{get tag(){return"pageMargins"}render(i,s){if(s){const e={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};a.some(e,n=>n!==void 0)&&i.leafNode(this.tag,e)}}parseOpen(i){switch(i.name){case this.tag:return this.model={left:parseFloat(i.attributes.left||.7),right:parseFloat(i.attributes.right||.7),top:parseFloat(i.attributes.top||.75),bottom:parseFloat(i.attributes.bottom||.75),header:parseFloat(i.attributes.header||.3),footer:parseFloat(i.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"pageSetUpPr"}render(r,i){return!(!i||!i.fitToPage)&&(r.leafNode(this.tag,{fitToPage:i.fitToPage?"1":void 0}),!0)}parseOpen(r){return r.name===this.tag&&(this.model={fitToPage:r.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../base-xform");function i(d){return d?"1":void 0}function s(d){switch(d){case"overThenDown":return d;default:return}}function e(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function n(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}c.exports=class extends r{get tag(){return"pageSetup"}render(d,l){if(l){const h={paperSize:l.paperSize,orientation:l.orientation,horizontalDpi:l.horizontalDpi,verticalDpi:l.verticalDpi,pageOrder:s(l.pageOrder),blackAndWhite:i(l.blackAndWhite),draft:i(l.draft),cellComments:e(l.cellComments),errors:n(l.errors),scale:l.scale,fitToWidth:l.fitToWidth,fitToHeight:l.fitToHeight,firstPageNumber:l.firstPageNumber,useFirstPageNumber:i(l.firstPageNumber),usePrinterDefaults:i(l.usePrinterDefaults),copies:l.copies};a.some(h,p=>p!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(l=d.attributes.paperSize,l!==void 0?parseInt(l,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var l}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"picture"}render(r,i){i&&r.leafNode(this.tag,{"r:id":i.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../base-xform");function i(s){return s?"1":void 0}c.exports=class extends r{get tag(){return"printOptions"}render(s,e){if(e){const n={headings:i(e.showRowColHeaders),gridLines:i(e.showGridLines),horizontalCentered:i(e.horizontalCentered),verticalCentered:i(e.verticalCentered)};a.some(n,d=>d!==void 0)&&s.leafNode(this.tag,n)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,c,u){const a=t("./page-breaks-xform"),r=t("../list-xform");c.exports=class extends r{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(i,s){if(s&&s.length){i.openNode(this.tag,this.$),this.count&&(i.addAttribute(this.$count,s.length),i.addAttribute("manualBreakCount",s.length));const{childXform:e}=this;s.forEach(n=>{e.render(i,n)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,c,u){const a=t("../base-xform"),r=t("../../../utils/utils"),i=t("./cell-xform");c.exports=class extends a{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new i}}get tag(){return"row"}prepare(s,e){const n=e.styles.addStyleModel(s.style);n&&(s.styleId=n);const d=this.map.c;s.cells.forEach(l=>{d.prepare(l,e)})}render(s,e,n){s.openNode("row"),s.addAttribute("r",e.number),e.height&&(s.addAttribute("ht",e.height),s.addAttribute("customHeight","1")),e.hidden&&s.addAttribute("hidden","1"),e.min>0&&e.max>0&&e.min<=e.max&&s.addAttribute("spans",`${e.min}:${e.max}`),e.styleId&&(s.addAttribute("s",e.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),e.outlineLevel&&s.addAttribute("outlineLevel",e.outlineLevel),e.collapsed&&s.addAttribute("collapsed","1");const d=this.map.c;e.cells.forEach(l=>{d.render(s,l,n)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;const e=s.attributes.spans?s.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],n=this.model={number:parseInt(s.attributes.r,10),min:e[0],max:e[1],cells:[]};return s.attributes.s&&(n.styleId=parseInt(s.attributes.s,10)),r.parseBoolean(s.attributes.hidden)&&(n.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(n.bestFit=!0),s.attributes.ht&&(n.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(n.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,e){s.style=s.styleId?e.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);const n=this.map.c;s.cells.forEach(d=>{n.reconcile(d,e)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../base-xform");c.exports=class extends r{get tag(){return"sheetFormatPr"}render(i,s){if(s){const e={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(e.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(e.customHeight="1"),a.some(e,n=>n!==void 0)&&i.leafNode("sheetFormatPr",e)}}parseOpen(i){return i.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(i.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(i.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(i.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(i.attributes.outlineLevelCol||"0",10)},i.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(i.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,c,u){const a=t("../base-xform"),r=t("../style/color-xform"),i=t("./page-setup-properties-xform"),s=t("./outline-properties-xform");c.exports=class extends a{constructor(){super(),this.map={tabColor:new r("tabColor"),pageSetUpPr:new i,outlinePr:new s}}get tag(){return"sheetPr"}render(e,n){if(n){e.addRollback(),e.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(e,n.tabColor)||d,d=this.map.pageSetUpPr.render(e,n.pageSetup)||d,d=this.map.outlinePr.render(e,n.outlineProperties)||d,d?(e.closeNode(),e.commit()):e.rollback()}}parseOpen(e){return this.parser?(this.parser.parseOpen(e),!0):e.name===this.tag?(this.reset(),!0):!!this.map[e.name]&&(this.parser=this.map[e.name],this.parser.parseOpen(e),!0)}parseText(e){return!!this.parser&&(this.parser.parseText(e),!0)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../base-xform");function i(e,n){return e?n:void 0}function s(e,n){return e===n||void 0}c.exports=class extends r{get tag(){return"sheetProtection"}render(e,n){if(n){const d={sheet:i(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:i(n.formatCells,"0"),formatColumns:i(n.formatColumns,"0"),formatRows:i(n.formatRows,"0"),insertColumns:i(n.insertColumns,"0"),insertRows:i(n.insertRows,"0"),insertHyperlinks:i(n.insertHyperlinks,"0"),deleteColumns:i(n.deleteColumns,"0"),deleteRows:i(n.deleteRows,"0"),sort:i(n.sort,"0"),autoFilter:i(n.autoFilter,"0"),pivotTables:i(n.pivotTables,"0")};n.sheet&&(d.algorithmName=n.algorithmName,d.hashValue=n.hashValue,d.saltValue=n.saltValue,d.spinCount=n.spinCount,d.objects=i(n.objects===!1,"1"),d.scenarios=i(n.scenarios===!1,"1")),a.some(d,l=>l!==void 0)&&e.leafNode(this.tag,d)}}parseOpen(e){switch(e.name){case this.tag:return this.model={sheet:s(e.attributes.sheet,"1"),objects:e.attributes.objects!=="1"&&void 0,scenarios:e.attributes.scenarios!=="1"&&void 0,selectLockedCells:e.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:e.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(e.attributes.formatCells,"0"),formatColumns:s(e.attributes.formatColumns,"0"),formatRows:s(e.attributes.formatRows,"0"),insertColumns:s(e.attributes.insertColumns,"0"),insertRows:s(e.attributes.insertRows,"0"),insertHyperlinks:s(e.attributes.insertHyperlinks,"0"),deleteColumns:s(e.attributes.deleteColumns,"0"),deleteRows:s(e.attributes.deleteRows,"0"),sort:s(e.attributes.sort,"0"),autoFilter:s(e.attributes.autoFilter,"0"),pivotTables:s(e.attributes.pivotTables,"0")},e.attributes.algorithmName&&(this.model.algorithmName=e.attributes.algorithmName,this.model.hashValue=e.attributes.hashValue,this.model.saltValue=e.attributes.saltValue,this.model.spinCount=parseInt(e.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,c,u){const a=t("../../../utils/col-cache"),r=t("../base-xform"),i={frozen:"frozen",frozenSplit:"frozen",split:"split"};c.exports=class extends r{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,e){s.openNode("sheetView",{workbookViewId:e.workbookViewId||0});const n=function(g,f,m){m&&s.addAttribute(g,f)};let d,l,h,p;switch(n("rightToLeft","1",e.rightToLeft===!0),n("tabSelected","1",e.tabSelected),n("showRuler","0",e.showRuler===!1),n("showRowColHeaders","0",e.showRowColHeaders===!1),n("showGridLines","0",e.showGridLines===!1),n("zoomScale",e.zoomScale,e.zoomScale),n("zoomScaleNormal",e.zoomScaleNormal,e.zoomScaleNormal),n("view",e.style,e.style),e.state){case"frozen":l=e.xSplit||0,h=e.ySplit||0,d=e.topLeftCell||a.getAddress(h+1,l+1).address,p=(e.xSplit&&e.ySplit?"bottomRight":e.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:d,activePane:p,state:"frozen"}),s.leafNode("selection",{pane:p,activeCell:e.activeCell,sqref:e.activeCell});break;case"split":e.activePane==="topLeft"&&(e.activePane=void 0),s.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:e.topLeftCell,activePane:e.activePane}),s.leafNode("selection",{pane:e.activePane,activeCell:e.activeCell,sqref:e.activeCell});break;case"normal":e.activeCell&&s.leafNode("selection",{activeCell:e.activeCell,sqref:e.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{const e=s.attributes.pane||"topLeft";return this.selections[e]={pane:e,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let e,n;switch(s){case"sheetView":return this.sheetView&&this.pane?(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:i[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(e.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(e.activeCell=n.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)):(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(e.activeCell=n.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"tablePart"}render(r,i){i&&r.leafNode(this.tag,{"r:id":i.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),s=t("../../rel-type"),e=t("./merges"),n=t("../base-xform"),d=t("../list-xform"),l=t("./row-xform"),h=t("./col-xform"),p=t("./dimension-xform"),g=t("./hyperlink-xform"),f=t("./merge-cell-xform"),m=t("./data-validations-xform"),y=t("./sheet-properties-xform"),v=t("./sheet-format-properties-xform"),C=t("./sheet-view-xform"),S=t("./sheet-protection-xform"),I=t("./page-margins-xform"),z=t("./page-setup-xform"),V=t("./print-options-xform"),L=t("./auto-filter-xform"),U=t("./picture-xform"),G=t("./drawing-xform"),H=t("./table-part-xform"),A=t("./row-breaks-xform"),N=t("./header-footer-xform"),E=t("./cf/conditional-formattings-xform"),x=t("./ext-lst-xform"),_=(M,k)=>{if(!k||!k.length)return M;if(!M||!M.length)return k;const R={},F={};return M.forEach(q=>{R[q.ref]=q,q.rules.forEach(X=>{const{x14Id:J}=X;J&&(F[J]=X)})}),k.forEach(q=>{q.rules.forEach(X=>{const J=F[X.x14Id];J?((j,K)=>{Object.keys(K).forEach(B=>{const T=j[B],W=K[B];T===void 0&&W!==void 0&&(j[B]=W)})})(J,X):R[q.ref]?R[q.ref].rules.push(X):M.push({ref:q.ref,rules:[X]})})}),M};class P extends n{constructor(k){super();const{maxRows:R,maxCols:F,ignoreNodes:q}=k||{};this.ignoreNodes=q||[],this.map={sheetPr:new y,dimension:new p,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new v,cols:new d({tag:"cols",count:!1,childXform:new h}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new l({maxItems:F}),maxItems:R}),autoFilter:new L,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new f}),rowBreaks:new A,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new I,dataValidations:new m,pageSetup:new z,headerFooter:new N,printOptions:new V,picture:new U,drawing:new G,sheetProtection:new S,tableParts:new d({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new E,extLst:new x}}prepare(k,R){R.merges=new e,k.hyperlinks=R.hyperlinks=[],k.comments=R.comments=[],R.formulae={},R.siFormulae=0,this.map.cols.prepare(k.cols,R),this.map.sheetData.prepare(k.rows,R),this.map.conditionalFormatting.prepare(k.conditionalFormattings,R),k.mergeCells=R.merges.mergeCells;const F=k.rels=[];function q(j){return"rId"+(j.length+1)}if(k.hyperlinks.forEach(j=>{const K=q(F);j.rId=K,F.push({Id:K,Type:s.Hyperlink,Target:j.target,TargetMode:"External"})}),k.comments.length>0){const j={Id:q(F),Type:s.Comments,Target:`../comments${k.id}.xml`};F.push(j);const K={Id:q(F),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${k.id}.vml`};F.push(K),k.comments.forEach(B=>{B.refAddress=r.decodeAddress(B.ref)}),R.commentRefs.push({commentName:"comments"+k.id,vmlDrawing:"vmlDrawing"+k.id})}const X=[];let J;k.media.forEach(j=>{if(j.type==="background"){const K=q(F);J=R.media[j.imageId],F.push({Id:K,Type:s.Image,Target:`../media/${J.name}.${J.extension}`}),k.background={rId:K},k.image=R.media[j.imageId]}else if(j.type==="image"){let{drawing:K}=k;J=R.media[j.imageId],K||(K=k.drawing={rId:q(F),name:"drawing"+ ++R.drawingsCount,anchors:[],rels:[]},R.drawings.push(K),F.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let B=this.preImageId===j.imageId?X[j.imageId]:X[K.rels.length];B||(B=q(K.rels),X[K.rels.length]=B,K.rels.push({Id:B,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const T={picture:{rId:B},range:j.range};if(j.hyperlinks&&j.hyperlinks.hyperlink){const W=q(K.rels);X[K.rels.length]=W,T.picture.hyperlinks={tooltip:j.hyperlinks.tooltip,rId:W},K.rels.push({Id:W,Type:s.Hyperlink,Target:j.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=j.imageId,K.anchors.push(T)}}),k.tables.forEach(j=>{const K=q(F);j.rId=K,F.push({Id:K,Type:s.Table,Target:"../tables/"+j.target}),j.columns.forEach(B=>{const{style:T}=B;T&&(B.dxfId=R.styles.addDxfStyle(T))})}),this.map.extLst.prepare(k,R)}render(k,R){k.openXml(i.StdDocAttributes),k.openNode("worksheet",P.WORKSHEET_ATTRIBUTES);const F=R.properties?{defaultRowHeight:R.properties.defaultRowHeight,dyDescent:R.properties.dyDescent,outlineLevelCol:R.properties.outlineLevelCol,outlineLevelRow:R.properties.outlineLevelRow}:void 0;R.properties&&R.properties.defaultColWidth&&(F.defaultColWidth=R.properties.defaultColWidth);const q={outlineProperties:R.properties&&R.properties.outlineProperties,tabColor:R.properties&&R.properties.tabColor,pageSetup:R.pageSetup&&R.pageSetup.fitToPage?{fitToPage:R.pageSetup.fitToPage}:void 0},X=R.pageSetup&&R.pageSetup.margins,J={showRowColHeaders:R.pageSetup&&R.pageSetup.showRowColHeaders,showGridLines:R.pageSetup&&R.pageSetup.showGridLines,horizontalCentered:R.pageSetup&&R.pageSetup.horizontalCentered,verticalCentered:R.pageSetup&&R.pageSetup.verticalCentered},j=R.sheetProtection;this.map.sheetPr.render(k,q),this.map.dimension.render(k,R.dimensions),this.map.sheetViews.render(k,R.views),this.map.sheetFormatPr.render(k,F),this.map.cols.render(k,R.cols),this.map.sheetData.render(k,R.rows),this.map.sheetProtection.render(k,j),this.map.autoFilter.render(k,R.autoFilter),this.map.mergeCells.render(k,R.mergeCells),this.map.conditionalFormatting.render(k,R.conditionalFormattings),this.map.dataValidations.render(k,R.dataValidations),this.map.hyperlinks.render(k,R.hyperlinks),this.map.printOptions.render(k,J),this.map.pageMargins.render(k,X),this.map.pageSetup.render(k,R.pageSetup),this.map.headerFooter.render(k,R.headerFooter),this.map.rowBreaks.render(k,R.rowBreaks),this.map.drawing.render(k,R.drawing),this.map.picture.render(k,R.background),this.map.tableParts.render(k,R.tables),this.map.extLst.render(k,R),R.rels&&R.rels.forEach(K=>{K.Type===s.VmlDrawing&&k.leafNode("legacyDrawing",{"r:id":K.Id})}),k.closeNode()}parseOpen(k){return this.parser?(this.parser.parseOpen(k),!0):k.name==="worksheet"?(a.each(this.map,R=>{R.reset()}),!0):(this.map[k.name]&&!this.ignoreNodes.includes(k.name)&&(this.parser=this.map[k.name],this.parser.parseOpen(k)),!0)}parseText(k){this.parser&&this.parser.parseText(k)}parseClose(k){if(this.parser)return this.parser.parseClose(k)||(this.parser=void 0),!0;switch(k){case"worksheet":{const R=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(R.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(R.outlineProperties=this.map.sheetPr.model.outlineProperties);const F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),X=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:R,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:X},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(k,R){const F=(k.relationships||[]).reduce((X,J)=>{if(X[J.Id]=J,J.Type===s.Comments&&(k.comments=R.comments[J.Target].comments),J.Type===s.VmlDrawing&&k.comments&&k.comments.length){const j=R.vmlDrawings[J.Target].comments;k.comments.forEach((K,B)=>{K.note=Object.assign({},K.note,j[B])})}return X},{});if(R.commentsMap=(k.comments||[]).reduce((X,J)=>(J.ref&&(X[J.ref]=J),X),{}),R.hyperlinkMap=(k.hyperlinks||[]).reduce((X,J)=>(J.rId&&(X[J.address]=F[J.rId].Target),X),{}),R.formulae={},k.rows=k.rows&&k.rows.filter(Boolean)||[],k.rows.forEach(X=>{X.cells=X.cells&&X.cells.filter(Boolean)||[]}),this.map.cols.reconcile(k.cols,R),this.map.sheetData.reconcile(k.rows,R),this.map.conditionalFormatting.reconcile(k.conditionalFormattings,R),k.media=[],k.drawing){const X=F[k.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(X){const J=X[1];R.drawings[J].anchors.forEach(j=>{if(j.medium){const K={type:"image",imageId:j.medium.index,range:j.range,hyperlinks:j.picture.hyperlinks};k.media.push(K)}})}}const q=k.background&&F[k.background.rId];if(q){const X=q.Target.split("/media/")[1],J=R.mediaIndex&&R.mediaIndex[X];J!==void 0&&k.media.push({type:"background",imageId:J})}k.tables=(k.tables||[]).map(X=>{const J=F[X.rId];return R.tables[J.Target]}),delete k.relationships,delete k.hyperlinks,delete k.comments}}P.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},c.exports=P},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.attr=r.attr}render(r,i){i&&(r.openNode(this.tag),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this._format=r.format||function(i){try{return Number.isNaN(i.getTime())?"":i.toISOString()}catch(s){return""}},this._parse=r.parse||function(i){return new Date(i)}}render(r,i){i&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,this._format(i)):r.writeText(this._format(i)),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=this._parse(r.attributes[this.attr]):this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this.zero=r.zero}render(r,i){(i||this.zero)&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,i):r.writeText(i),r.closeNode())}parseOpen(r){return r.name===this.tag&&(this.attr?this.model=parseInt(r.attributes[this.attr],10):this.text=[],!0)}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs}render(r,i){i!==void 0&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,i):r.writeText(i),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=r.attributes[this.attr]:this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,c,u){const a=t("./base-xform"),r=t("../../utils/xml-stream");c.exports=class extends a{constructor(i){super(),this._model=i}render(i){if(!this._xml){const s=new r;(function e(n,d){n.openNode(d.tag,d.$),d.c&&d.c.forEach(l=>{e(n,l)}),d.t&&n.writeText(d.t),n.closeNode()})(s,this._model),this._xml=s.xml}i.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(i){switch(i){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,c,u){const a=t("./text-xform"),r=t("./rich-text-xform"),i=t("../base-xform");c.exports=class extends i{constructor(){super(),this.map={r:new r,t:new a}}get tag(){return"rPh"}render(s,e){if(s.openNode(this.tag,{sb:e.sb||0,eb:e.eb||0}),e&&e.hasOwnProperty("richText")&&e.richText){const{r:n}=this.map;e.richText.forEach(d=>{n.render(s,d)})}else e&&this.map.t.render(s,e.text);s.closeNode()}parseOpen(s){const{name:e}=s;return this.parser?(this.parser.parseOpen(s),!0):e===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[e],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let e=this.model.richText;e||(e=this.model.richText=[]),e.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,c,u){const a=t("./text-xform"),r=t("../style/font-xform"),i=t("../base-xform");class s extends i{constructor(n){super(),this.model=n}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new r(s.FONT_OPTIONS))}render(n,d){d=d||this.model,n.openNode("r"),d.font&&this.fontXform.render(n,d.font),this.textXform.render(n,d.text),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(n),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){switch(n){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},c.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,c,u){const a=t("./text-xform"),r=t("./rich-text-xform"),i=t("./phonetic-text-xform"),s=t("../base-xform");c.exports=class extends s{constructor(e){super(),this.model=e,this.map={r:new r,t:new a,rPh:new i}}get tag(){return"si"}render(e,n){e.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(d=>{this.map.r.render(e,d)}):this.map.t.render(e,""):n!=null&&this.map.t.render(e,n),e.closeNode()}parseOpen(e){const{name:n}=e;return this.parser?(this.parser.parseOpen(e),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(e),!0))}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){switch(e){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(e){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("./shared-string-xform");c.exports=class extends r{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new i)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let e=this.hash[s];return e===void 0&&(e=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,e}addRichText(s){const e=this.sharedStringXform.toXml(s);let n=this.rich[e];return n===void 0&&(n=this.rich[e]=this.model.values.length,this.model.values.push(s)),this.model.count++,n}render(s,e){e=e||this._values,s.openXml(a.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.count,uniqueCount:e.values.length});const n=this.sharedStringXform;e.values.forEach(d=>{n.render(s,d)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"t"}render(r,i){r.openNode("t"),/^\s|\n|\s$/.test(i)&&r.addAttribute("xml:space","preserve"),r.writeText(i),r.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(r,i)=>String.fromCharCode(parseInt(i,16)))}parseOpen(r){switch(r.name){case"t":return this._text=[],!0;default:return!1}}parseText(r){this._text.push(r)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,c,u){const a=t("../../../doc/enums"),r=t("../../../utils/utils"),i=t("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((n,d)=>(n[d]=!0,n),{}),horizontal(n){return this.horizontalValues[n]?n:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((n,d)=>(n[d]=!0,n),{}),vertical(n){return n==="middle"?"center":this.verticalValues[n]?n:void 0},wrapText:n=>!!n||void 0,shrinkToFit:n=>!!n||void 0,textRotation(n){switch(n){case"vertical":return n;default:return(n=r.validInt(n))>=-90&&n<=90?n:void 0}},indent:n=>(n=r.validInt(n),Math.max(0,n)),readingOrder(n){switch(n){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},e={toXml(n){if(n=s.textRotation(n)){if(n==="vertical")return 255;const d=Math.round(n);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(n){const d=r.validInt(n);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};c.exports=class extends i{get tag(){return"alignment"}render(n,d){n.addRollback(),n.openNode("alignment");let l=!1;function h(p,g){g&&(n.addAttribute(p,g),l=!0)}h("horizontal",s.horizontal(d.horizontal)),h("vertical",s.vertical(d.vertical)),h("wrapText",!!s.wrapText(d.wrapText)&&"1"),h("shrinkToFit",!!s.shrinkToFit(d.shrinkToFit)&&"1"),h("indent",s.indent(d.indent)),h("textRotation",e.toXml(d.textRotation)),h("readingOrder",s.readingOrder(d.readingOrder)),n.closeNode(),l?n.commit():n.rollback()}parseOpen(n){const d={};let l=!1;function h(p,g,f){p&&(d[g]=f,l=!0)}h(n.attributes.horizontal,"horizontal",n.attributes.horizontal),h(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),h(n.attributes.wrapText,"wrapText",r.parseBoolean(n.attributes.wrapText)),h(n.attributes.shrinkToFit,"shrinkToFit",r.parseBoolean(n.attributes.shrinkToFit)),h(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),h(n.attributes.textRotation,"textRotation",e.toModel(n.attributes.textRotation)),h(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=l?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,c,u){const a=t("../base-xform"),r=t("../../../utils/utils"),i=t("./color-xform");class s extends a{constructor(n){super(),this.name=n,this.map={color:new i}}get tag(){return this.name}render(n,d,l){const h=d&&d.color||l||this.defaultColor;n.openNode(this.name),d&&d.style&&(n.addAttribute("style",d.style),h&&this.map.color.render(n,h)),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.name:{const{style:d}=n.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(n===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(n){return s.validStyleValues[n]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((e,n)=>(e[n]=!0,e),{}),c.exports=class extends a{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(e,n){const{color:d}=n;function l(h,p){h&&!h.color&&n.color&&(h=gn(We({},h),{color:n.color})),p.render(e,h,d)}e.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&e.addAttribute("diagonalUp","1"),n.diagonal.down&&e.addAttribute("diagonalDown","1")),l(n.left,this.map.left),l(n.right,this.map.right),l(n.top,this.map.top),l(n.bottom,this.map.bottom),l(n.diagonal,this.map.diagonal),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"border":return this.reset(),this.diagonalUp=r.parseBoolean(e.attributes.diagonalUp),this.diagonalDown=r.parseBoolean(e.attributes.diagonalDown),!0;default:return this.parser=this.map[e.name],!!this.parser&&(this.parser.parseOpen(e),!0)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;if(e==="border"){const n=this.model={},d=function(l,h,p){h&&(p&&Object.assign(h,p),n[l]=h)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{constructor(r){super(),this.name=r||"color"}get tag(){return this.name}render(r,i){return!!i&&(r.openNode(this.name),i.argb?r.addAttribute("rgb",i.argb):i.theme!==void 0?(r.addAttribute("theme",i.theme),i.tint!==void 0&&r.addAttribute("tint",i.tint)):i.indexed!==void 0?r.addAttribute("indexed",i.indexed):r.addAttribute("auto","1"),r.closeNode(),!0)}parseOpen(r){return r.name===this.name&&(r.attributes.rgb?this.model={argb:r.attributes.rgb}:r.attributes.theme?(this.model={theme:parseInt(r.attributes.theme,10)},r.attributes.tint&&(this.model.tint=parseFloat(r.attributes.tint))):r.attributes.indexed?this.model={indexed:parseInt(r.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,c,u){const a=t("../base-xform"),r=t("./alignment-xform"),i=t("./border-xform"),s=t("./fill-xform"),e=t("./font-xform"),n=t("./numfmt-xform"),d=t("./protection-xform");c.exports=class extends a{constructor(){super(),this.map={alignment:new r,border:new i,fill:new s,font:new e,numFmt:new n,protection:new d}}get tag(){return"dxf"}render(l,h){if(l.openNode(this.tag),h.font&&this.map.font.render(l,h.font),h.numFmt&&h.numFmtId){const p={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(l,p)}h.fill&&this.map.fill.render(l,h.fill),h.alignment&&this.map.alignment.render(l,h.alignment),h.border&&this.map.border.render(l,h.border),h.protection&&this.map.protection.render(l,h.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l),!0}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,c,u){const a=t("../base-xform"),r=t("./color-xform");class i extends a{constructor(){super(),this.map={color:new r}}get tag(){return"stop"}render(l,h){l.openNode("stop"),l.addAttribute("position",h.position),this.map.color.render(l,h.color),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"stop":return this.model={position:parseFloat(l.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(){}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends a{constructor(){super(),this.map={fgColor:new r("fgColor"),bgColor:new r("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(l,h){l.openNode("patternFill"),l.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(l,h.fgColor),h.bgColor&&this.map.bgColor.render(l,h.bgColor),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"patternFill":return this.model={type:"pattern",pattern:l.attributes.patternType},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.parser.model&&(this.model[l]=this.parser.model),this.parser=void 0),!0)}}class e extends a{constructor(){super(),this.map={stop:new i}}get name(){return"gradient"}get tag(){return"gradientFill"}render(l,h){switch(l.openNode("gradientFill"),h.gradient){case"angle":l.addAttribute("degree",h.degree);break;case"path":l.addAttribute("type","path"),h.center.left&&(l.addAttribute("left",h.center.left),h.center.right===void 0&&l.addAttribute("right",h.center.left)),h.center.right&&l.addAttribute("right",h.center.right),h.center.top&&(l.addAttribute("top",h.center.top),h.center.bottom===void 0&&l.addAttribute("bottom",h.center.top)),h.center.bottom&&l.addAttribute("bottom",h.center.bottom)}const p=this.map.stop;h.stops.forEach(g=>{p.render(l,g)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"gradientFill":{const h=this.model={stops:[]};return l.attributes.degree?(h.gradient="angle",h.degree=parseInt(l.attributes.degree,10)):l.attributes.type==="path"&&(h.gradient="path",h.center={left:l.attributes.left?parseFloat(l.attributes.left):0,top:l.attributes.top?parseFloat(l.attributes.top):0},l.attributes.right!==l.attributes.left&&(h.center.right=l.attributes.right?parseFloat(l.attributes.right):0),l.attributes.bottom!==l.attributes.top&&(h.center.bottom=l.attributes.bottom?parseFloat(l.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class n extends a{constructor(){super(),this.map={patternFill:new s,gradientFill:new e}}get tag(){return"fill"}render(l,h){switch(l.addRollback(),l.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(l,h);break;case"gradient":this.map.gradientFill.render(l,h);break;default:return void l.rollback()}l.closeNode(),l.commit()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"fill":return this.model={},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(l){return n.validPatternValues[l]}}n.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,l)=>(d[l]=!0,d),{}),n.StopXform=i,n.PatternFillXform=s,n.GradientFillXform=e,c.exports=n},{"../base-xform":32,"./color-xform":128}],131:[function(t,c,u){const a=t("./color-xform"),r=t("../simple/boolean-xform"),i=t("../simple/integer-xform"),s=t("../simple/string-xform"),e=t("./underline-xform"),n=t("../../../utils/under-dash"),d=t("../base-xform");class l extends d{constructor(p){super(),this.options=p||l.OPTIONS,this.map={b:{prop:"bold",xform:new r({tag:"b",attr:"val"})},i:{prop:"italic",xform:new r({tag:"i",attr:"val"})},u:{prop:"underline",xform:new e},charset:{prop:"charset",xform:new i({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new r({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new r({tag:"extend",attr:"val"})},family:{prop:"family",xform:new i({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new r({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new r({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new r({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new i({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:f}=this;p.openNode(this.options.tagName),n.each(this.map,(m,y)=>{f[y].xform.render(p,g[m.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}l.OPTIONS={tagName:"font",fontNameTag:"name"},c.exports=l},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,c,u){const a=t("../../../utils/under-dash"),r=t("../../defaultnumformats"),i=t("../base-xform"),s=function(){const n={};return a.each(r,(d,l)=>{d.f&&(n[d.f]=parseInt(l,10))}),n}();class e extends i{constructor(d,l){super(),this.id=d,this.formatCode=l}get tag(){return"numFmt"}render(d,l){d.leafNode("numFmt",{numFmtId:l.id,formatCode:l.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}e.getDefaultFmtId=function(n){return s[n]},e.getDefaultFmtCode=function(n){return r[n]&&r[n].f},c.exports=e},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,c,u){const a=t("../base-xform"),r={boolean:(i,s)=>i===void 0?s:i};c.exports=class extends a{get tag(){return"protection"}render(i,s){i.addRollback(),i.openNode("protection");let e=!1;function n(d,l){l!==void 0&&(i.addAttribute(d,l),e=!0)}n("locked",r.boolean(s.locked,!0)?void 0:"0"),n("hidden",r.boolean(s.hidden,!1)?"1":void 0),i.closeNode(),e?i.commit():i.rollback()}parseOpen(i){const s={locked:i.attributes.locked!=="0",hidden:i.attributes.hidden==="1"},e=!s.locked||s.hidden;this.model=e?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,c,u){const a=t("../base-xform"),r=t("./alignment-xform"),i=t("./protection-xform");c.exports=class extends a{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new r,protection:new i}}get tag(){return"xf"}render(s,e){s.openNode("xf",{numFmtId:e.numFmtId||0,fontId:e.fontId||0,fillId:e.fillId||0,borderId:e.borderId||0}),this.xfId&&s.addAttribute("xfId",e.xfId||0),e.numFmtId&&s.addAttribute("applyNumberFormat","1"),e.fontId&&s.addAttribute("applyFont","1"),e.fillId&&s.addAttribute("applyFill","1"),e.borderId&&s.addAttribute("applyBorder","1"),e.alignment&&s.addAttribute("applyAlignment","1"),e.protection&&s.addAttribute("applyProtection","1"),e.alignment&&this.map.alignment.render(s,e.alignment),e.protection&&this.map.protection.render(s,e.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,c,u){const a=t("../../../doc/enums"),r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../static-xform"),e=t("../list-xform"),n=t("./font-xform"),d=t("./fill-xform"),l=t("./border-xform"),h=t("./numfmt-xform"),p=t("./style-xform"),g=t("./dxf-xform");class f extends i{constructor(y){super(),this.map={numFmts:new e({tag:"numFmts",count:!0,childXform:new h}),fonts:new e({tag:"fonts",count:!0,childXform:new n,$:{"x14ac:knownFonts":1}}),fills:new e({tag:"fills",count:!0,childXform:new d}),borders:new e({tag:"borders",count:!0,childXform:new l}),cellStyleXfs:new e({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new e({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new e({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new h,font:new n,fill:new d,border:new l,style:new p({xfId:!0}),cellStyles:f.STATIC_XFORMS.cellStyles,tableStyles:f.STATIC_XFORMS.tableStyles,extLst:f.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,v){v=v||this.model,y.openXml(r.StdDocAttributes),y.openNode("styleSheet",f.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(y.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(C=>{y.writeXml(C)}),y.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(C=>{y.writeXml(C)}),y.closeNode(),y.openNode("fills",{count:v.fills.length}),v.fills.forEach(C=>{y.writeXml(C)}),y.closeNode(),y.openNode("borders",{count:v.borders.length}),v.borders.forEach(C=>{y.writeXml(C)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(C=>{y.writeXml(C)}),y.closeNode()):(this.map.numFmts.render(y,v.numFmts),this.map.fonts.render(y,v.fonts),this.map.fills.render(y,v.fills),this.map.borders.render(y,v.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,v.styles)),f.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,v.dxfs),f.STATIC_XFORMS.tableStyles.render(y),f.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const v=(C,S)=>{S.model&&S.model.length&&(this.model[C]=S.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(S=>{C[S.id]=S.formatCode})}return!1}default:return!0}}addStyleModel(y,v){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const C={};if(v=v||a.ValueType.Number,y.numFmt)C.numFmtId=this._addNumFmtStr(y.numFmt);else switch(v){case a.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(C.fontId=this._addFont(y.font)),y.border&&(C.borderId=this._addBorder(y.border)),y.fill&&(C.fillId=this._addFill(y.fill)),y.alignment&&(C.alignment=y.alignment),y.protection&&(C.protection=y.protection);const S=this._addStyle(C);return this.weakMap&&this.weakMap.set(y,S),S}getStyleModel(y){const v=this.model.styles[y];if(!v)return null;let C=this.index.model[y];if(C)return C;if(C=this.index.model[y]={},v.numFmtId){const I=this.index.numFmt[v.numFmtId]||h.getDefaultFmtCode(v.numFmtId);I&&(C.numFmt=I)}function S(I,z,V){if(V||V===0){const L=z[V];L&&(C[I]=L)}}return S("font",this.model.fonts,v.fontId),S("border",this.model.borders,v.borderId),S("fill",this.model.fills,v.fillId),v.alignment&&(C.alignment=v.alignment),v.protection&&(C.protection=v.protection),C}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const v=this.map.style.toXml(y);let C=this.index.style[v];return C===void 0&&(C=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),C}_addNumFmtStr(y){let v=h.getDefaultFmtId(y);if(v!==void 0||(v=this.index.numFmt[y],v!==void 0))return v;v=this.index.numFmt[y]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:v,formatCode:y});return this.model.numFmts.push(C),v}_addFont(y){const v=this.map.font.toXml(y);let C=this.index.font[v];return C===void 0&&(C=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),C}_addBorder(y){const v=this.map.border.toXml(y);let C=this.index.border[v];return C===void 0&&(C=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),C}_addFill(y){const v=this.map.fill.toXml(y);let C=this.index.fill[v];return C===void 0&&(C=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),C}}f.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},f.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},f.Mock=class extends f{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,y){switch(y){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const m={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},c.exports=f},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,c,u){const a=t("../base-xform");class r extends a{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,e){if((e=e||this.model)===!0)s.leafNode("u");else{const n=r.Attributes[e];n&&s.leafNode("u",n)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}r.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},c.exports=r},{"../base-xform":32}],137:[function(t,c,u){const a=t("../base-xform"),r=t("./filter-column-xform");c.exports=class extends a{constructor(){super(),this.map={filterColumn:new r}}get tag(){return"autoFilter"}prepare(i){i.columns.forEach((s,e)=>{this.map.filterColumn.prepare(s,{index:e})})}render(i,s){return i.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(e=>{this.map.filterColumn.render(i,e)}),i.closeNode(),!0}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model={autoFilterRef:i.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[i.name],this.parser)return this.parseOpen(i),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"customFilter"}render(r,i){r.leafNode(this.tag,{val:i.val,operator:i.operator})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val,operator:r.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,c,u){const a=t("../base-xform"),r=t("../list-xform"),i=t("./custom-filter-xform"),s=t("./filter-xform");c.exports=class extends a{constructor(){super(),this.map={customFilters:new r({tag:"customFilters",count:!1,empty:!0,childXform:new i}),filters:new r({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(e,n){e.colId=n.index.toString()}render(e,n){return n.customFilters?(e.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(e,n.customFilters),e.closeNode(),!0):(e.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;const{attributes:n}=e;switch(e.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[e.name],this.parser)return this.parseOpen(e),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(e))}}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"filter"}render(r,i){r.leafNode(this.tag,{val:i.val})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"tableColumn"}prepare(r,i){r.id=i.index+1}render(r,i){return r.leafNode(this.tag,{id:i.id.toString(),name:i.name,totalsRowLabel:i.totalsRowLabel,totalsRowFunction:i.totalsRowFunction,dxfId:i.dxfId}),!0}parseOpen(r){if(r.name===this.tag){const{attributes:i}=r;return this.model={name:i.name,totalsRowLabel:i.totalsRowLabel,totalsRowFunction:i.totalsRowFunction,dxfId:i.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,c,u){const a=t("../base-xform");c.exports=class extends a{get tag(){return"tableStyleInfo"}render(r,i){return r.leafNode(this.tag,{name:i.theme?i.theme:void 0,showFirstColumn:i.showFirstColumn?"1":"0",showLastColumn:i.showLastColumn?"1":"0",showRowStripes:i.showRowStripes?"1":"0",showColumnStripes:i.showColumnStripes?"1":"0"}),!0}parseOpen(r){if(r.name===this.tag){const{attributes:i}=r;return this.model={theme:i.name?i.name:null,showFirstColumn:i.showFirstColumn==="1",showLastColumn:i.showLastColumn==="1",showRowStripes:i.showRowStripes==="1",showColumnStripes:i.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,c,u){const a=t("../../../utils/xml-stream"),r=t("../base-xform"),i=t("../list-xform"),s=t("./auto-filter-xform"),e=t("./table-column-xform"),n=t("./table-style-info-xform");class d extends r{constructor(){super(),this.map={autoFilter:new s,tableColumns:new i({tag:"tableColumns",count:!0,empty:!0,childXform:new e}),tableStyleInfo:new n}}prepare(h,p){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,p)}get tag(){return"table"}render(h,p){h.openXml(a.StdDocAttributes),h.openNode(this.tag,gn(We({},d.TABLE_ATTRIBUTES),{id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"})),this.map.autoFilter.render(h,p),this.map.tableColumns.render(h,p.columns),this.map.tableStyleInfo.render(h,p.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:p,attributes:g}=h;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,p){h.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},c.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,c,u){(function(a,r){(function(){const i=t("fs"),s=t("jszip"),{PassThrough:e}=t("readable-stream"),n=t("../utils/zip-stream"),d=t("../utils/stream-buf"),l=t("../utils/utils"),h=t("../utils/xml-stream"),{bufferToString:p}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),f=t("./xform/core/core-xform"),m=t("./xform/strings/shared-strings-xform"),y=t("./xform/core/relationships-xform"),v=t("./xform/core/content-types-xform"),C=t("./xform/core/app-xform"),S=t("./xform/book/workbook-xform"),I=t("./xform/sheet/worksheet-xform"),z=t("./xform/drawing/drawing-xform"),V=t("./xform/table/table-xform"),L=t("./xform/comment/comments-xform"),U=t("./xform/comment/vml-notes-xform"),G=t("./xml/theme1");class H{constructor(N){this.workbook=N}readFile(N,E){return ot(this,null,function*(){if(!(yield l.fs.exists(N)))throw new Error("File not found: "+N);const x=i.createReadStream(N);try{const _=yield this.read(x,E);return x.close(),_}catch(_){throw x.close(),_}})}parseRels(N){return new y().parseStream(N)}parseWorkbook(N){return new S().parseStream(N)}parseSharedStrings(N){return new m().parseStream(N)}reconcile(N,E){const x=new S,_=new I(E),P=new z,M=new V;x.reconcile(N);const k={media:N.media,mediaIndex:N.mediaIndex};Object.keys(N.drawings).forEach(q=>{const X=N.drawings[q],J=N.drawingRels[q];J&&(k.rels=J.reduce((j,K)=>(j[K.Id]=K,j),{}),(X.anchors||[]).forEach(j=>{const K=j.picture&&j.picture.hyperlinks;K&&k.rels[K.rId]&&(K.hyperlink=k.rels[K.rId].Target,delete K.rId)}),P.reconcile(X,k))});const R={styles:N.styles};Object.values(N.tables).forEach(q=>{M.reconcile(q,R)});const F={styles:N.styles,sharedStrings:N.sharedStrings,media:N.media,mediaIndex:N.mediaIndex,date1904:N.properties&&N.properties.date1904,drawings:N.drawings,comments:N.comments,tables:N.tables,vmlDrawings:N.vmlDrawings};N.worksheets.forEach(q=>{q.relationships=N.worksheetRels[q.sheetNo],_.reconcile(q,F)}),delete N.worksheetHash,delete N.worksheetRels,delete N.globalRels,delete N.sharedStrings,delete N.workbookRels,delete N.sheetDefs,delete N.styles,delete N.mediaIndex,delete N.drawings,delete N.drawingRels,delete N.vmlDrawings}_processWorksheetEntry(N,E,x,_,P){return ot(this,null,function*(){const M=new I(_),k=yield M.parseStream(N);k.sheetNo=x,E.worksheetHash[P]=k,E.worksheets.push(k)})}_processCommentEntry(N,E,x){return ot(this,null,function*(){const _=new L,P=yield _.parseStream(N);E.comments[`../${x}.xml`]=P})}_processTableEntry(N,E,x){return ot(this,null,function*(){const _=new V,P=yield _.parseStream(N);E.tables[`../tables/${x}.xml`]=P})}_processWorksheetRelsEntry(N,E,x){return ot(this,null,function*(){const _=new y,P=yield _.parseStream(N);E.worksheetRels[x]=P})}_processMediaEntry(N,E,x){return ot(this,null,function*(){const _=x.lastIndexOf(".");if(_>=1){const P=x.substr(_+1),M=x.substr(0,_);yield new Promise((k,R)=>{const F=new d;F.on("finish",()=>{E.mediaIndex[x]=E.media.length,E.mediaIndex[M]=E.media.length;const q={type:"image",name:M,extension:P,buffer:F.toBuffer()};E.media.push(q),k()}),N.on("error",q=>{R(q)}),N.pipe(F)})}})}_processDrawingEntry(N,E,x){return ot(this,null,function*(){const _=new z,P=yield _.parseStream(N);E.drawings[x]=P})}_processDrawingRelsEntry(N,E,x){return ot(this,null,function*(){const _=new y,P=yield _.parseStream(N);E.drawingRels[x]=P})}_processVmlDrawingEntry(N,E,x){return ot(this,null,function*(){const _=new U,P=yield _.parseStream(N);E.vmlDrawings[`../drawings/${x}.vml`]=P})}_processThemeEntry(N,E,x){return ot(this,null,function*(){yield new Promise((_,P)=>{const M=new d;N.on("error",P),M.on("error",P),M.on("finish",()=>{E.themes[x]=M.read().toString(),_()}),N.pipe(M)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(N,E){return ot(this,null,function*(){!N[Symbol.asyncIterator]&&N.pipe&&(N=N.pipe(new e));const x=[];try{for(var _=ei(N),P,M,k;P=!(M=yield _.next()).done;P=!1){const R=M.value;x.push(R)}}catch(M){k=[M]}finally{try{P&&(M=_.return)&&(yield M.call(_))}finally{if(k)throw k[0]}}return this.load(r.concat(x),E)})}load(N,E){return ot(this,null,function*(){let x;x=E&&E.base64?r.from(N.toString(),"base64"):N;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},P=yield s.loadAsync(x);for(const M of Object.values(P.files))if(!M.dir){let k,R=M.name;if(R[0]==="/"&&(R=R.substr(1)),R.match(/xl\/media\//)||R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))k=new e,k.write(yield M.async("nodebuffer"));else{let F;k=new e({writableObjectMode:!0,readableObjectMode:!0}),F=a.browser?p(yield M.async("nodebuffer")):yield M.async("string");const q=16384;for(let X=0;X<F.length;X+=q)k.write(F.substring(X,X+q))}switch(k.end(),R){case"_rels/.rels":_.globalRels=yield this.parseRels(k);break;case"xl/workbook.xml":{const F=yield this.parseWorkbook(k);_.sheets=F.sheets,_.definedNames=F.definedNames,_.views=F.views,_.properties=F.properties,_.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=yield this.parseRels(k);break;case"xl/sharedStrings.xml":_.sharedStrings=new m,yield _.sharedStrings.parseStream(k);break;case"xl/styles.xml":_.styles=new g,yield _.styles.parseStream(k);break;case"docProps/app.xml":{const F=new C,q=yield F.parseStream(k);_.company=q.company,_.manager=q.manager;break}case"docProps/core.xml":{const F=new f,q=yield F.parseStream(k);Object.assign(_,q);break}default:{let F=R.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){yield this._processWorksheetEntry(k,_,F[1],E,R);break}if(F=R.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){yield this._processWorksheetRelsEntry(k,_,F[1]);break}if(F=R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){yield this._processThemeEntry(k,_,F[1]);break}if(F=R.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){yield this._processMediaEntry(k,_,F[1]);break}if(F=R.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){yield this._processDrawingEntry(k,_,F[1]);break}if(F=R.match(/xl\/(comments\d+)[.]xml/),F){yield this._processCommentEntry(k,_,F[1]);break}if(F=R.match(/xl\/tables\/(table\d+)[.]xml/),F){yield this._processTableEntry(k,_,F[1]);break}if(F=R.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){yield this._processDrawingRelsEntry(k,_,F[1]);break}if(F=R.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){yield this._processVmlDrawingEntry(k,_,F[1]);break}}}}return this.reconcile(_,E),this.workbook.model=_,this.workbook})}addMedia(N,E){return ot(this,null,function*(){yield Promise.all(E.media.map(x=>ot(this,null,function*(){if(x.type==="image"){const _=`xl/media/${x.name}.${x.extension}`;if(x.filename){const P=yield function(M,k){return new Promise((R,F)=>{i.readFile(M,k,(q,X)=>{q?F(q):R(X)})})}(x.filename);return N.append(P,{name:_})}if(x.buffer)return N.append(x.buffer,{name:_});if(x.base64){const P=x.base64,M=P.substring(P.indexOf(",")+1);return N.append(M,{name:_,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(N,E){const x=new z,_=new y;E.worksheets.forEach(P=>{const{drawing:M}=P;if(M){x.prepare(M,{});let k=x.toXml(M);N.append(k,{name:`xl/drawings/${M.name}.xml`}),k=_.toXml(M.rels),N.append(k,{name:`xl/drawings/_rels/${M.name}.xml.rels`})}})}addTables(N,E){const x=new V;E.worksheets.forEach(_=>{const{tables:P}=_;P.forEach(M=>{x.prepare(M,{});const k=x.toXml(M);N.append(k,{name:"xl/tables/"+M.target})})})}addContentTypes(N,E){return ot(this,null,function*(){const x=new v().toXml(E);N.append(x,{name:"[Content_Types].xml"})})}addApp(N,E){return ot(this,null,function*(){const x=new C().toXml(E);N.append(x,{name:"docProps/app.xml"})})}addCore(N,E){return ot(this,null,function*(){const x=new f;N.append(x.toXml(E),{name:"docProps/core.xml"})})}addThemes(N,E){return ot(this,null,function*(){const x=E.themes||{theme1:G};Object.keys(x).forEach(_=>{const P=x[_],M=`xl/theme/${_}.xml`;N.append(P,{name:M})})})}addOfficeRels(N){return ot(this,null,function*(){const E=new y().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);N.append(E,{name:"_rels/.rels"})})}addWorkbookRels(N,E){return ot(this,null,function*(){let x=1;const _=[{Id:"rId"+x++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+x++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&_.push({Id:"rId"+x++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(M=>{M.rId="rId"+x++,_.push({Id:M.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${M.id}.xml`})});const P=new y().toXml(_);N.append(P,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(N,E){return ot(this,null,function*(){E.sharedStrings&&E.sharedStrings.count&&N.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(N,E){return ot(this,null,function*(){const{xml:x}=E.styles;x&&N.append(x,{name:"xl/styles.xml"})})}addWorkbook(N,E){return ot(this,null,function*(){const x=new S;N.append(x.toXml(E),{name:"xl/workbook.xml"})})}addWorksheets(N,E){return ot(this,null,function*(){const x=new I,_=new y,P=new L,M=new U;E.worksheets.forEach(k=>{let R=new h;x.render(R,k),N.append(R.xml,{name:`xl/worksheets/sheet${k.id}.xml`}),k.rels&&k.rels.length&&(R=new h,_.render(R,k.rels),N.append(R.xml,{name:`xl/worksheets/_rels/sheet${k.id}.xml.rels`})),k.comments.length>0&&(R=new h,P.render(R,k),N.append(R.xml,{name:`xl/comments${k.id}.xml`}),R=new h,M.render(R,k),N.append(R.xml,{name:`xl/drawings/vmlDrawing${k.id}.vml`}))})})}_finalize(N){return new Promise((E,x)=>{N.on("finish",()=>{E(this)}),N.on("error",x),N.finalize()})}prepareModel(N,E){N.creator=N.creator||"ExcelJS",N.lastModifiedBy=N.lastModifiedBy||"ExcelJS",N.created=N.created||new Date,N.modified=N.modified||new Date,N.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,N.useStyles=E.useStyles===void 0||E.useStyles,N.sharedStrings=new m,N.styles=N.useStyles?new g(!0):new g.Mock;const x=new S,_=new I;x.prepare(N);const P={sharedStrings:N.sharedStrings,styles:N.styles,date1904:N.properties.date1904,drawingsCount:0,media:N.media};P.drawings=N.drawings=[],P.commentRefs=N.commentRefs=[];let M=0;N.tables=[],N.worksheets.forEach(k=>{k.tables.forEach(R=>{M++,R.target=`table${M}.xml`,R.id=M,N.tables.push(R)}),_.prepare(k,P)})}write(N,E){return ot(this,null,function*(){E=E||{};const{model:x}=this.workbook,_=new n.ZipWriter(E.zip);return _.pipe(N),this.prepareModel(x,E),yield this.addContentTypes(_,x),yield this.addOfficeRels(_,x),yield this.addWorkbookRels(_,x),yield this.addWorksheets(_,x),yield this.addSharedStrings(_,x),yield this.addDrawings(_,x),yield this.addTables(_,x),yield Promise.all([this.addThemes(_,x),this.addStyles(_,x)]),yield this.addMedia(_,x),yield Promise.all([this.addApp(_,x),this.addCore(_,x)]),yield this.addWorkbook(_,x),this._finalize(_)})}writeFile(N,E){const x=i.createWriteStream(N);return new Promise((_,P)=>{x.on("finish",()=>{_()}),x.on("error",M=>{P(M)}),this.write(x,E).then(()=>{x.end()}).catch(M=>{P(M)})})}writeBuffer(N){return ot(this,null,function*(){const E=new d;return yield this.write(E,N),E.read()})}}H.RelType=t("./rel-type"),c.exports=H}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,c,u){c.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,c,u){(function(a){(function(){Object.defineProperty(u,"__esModule",{value:!0}),u.CsvFormatterStream=void 0;const r=t("stream"),i=t("./formatter");class s extends r.Transform{constructor(n){super({writableObjectMode:n.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=n,this.rowFormatter=new i.RowFormatter(n),this.hasWrittenBOM=!n.writeBOM}transform(n){return this.rowFormatter.rowTransform=n,this}_transform(n,d,l){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(n,(p,g)=>p?(h=!0,l(p)):(g&&g.forEach(f=>{this.push(a.from(f,"utf8"))}),h=!0,l()))}catch(p){if(h)throw p;l(p)}}_flush(n){this.rowFormatter.finish((d,l)=>d?n(d):(l&&l.forEach(h=>{this.push(a.from(h,"utf8"))}),n()))}}u.CsvFormatterStream=s}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.FormatterOptions=void 0,u.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var r;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((r=a.writeHeaders)===null||r===void 0||r),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,c,u){var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0}),u.FieldFormatter=void 0;const r=a(t("lodash.isboolean")),i=a(t("lodash.isnil")),s=a(t("lodash.escaperegexp"));u.FieldFormatter=class{constructor(e){this._headers=null,this.formatterOptions=e,e.headers!==null&&(this.headers=e.headers),this.REPLACE_REGEXP=new RegExp(e.quote,"g");const n=`[${e.delimiter}${s.default(e.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(e){this._headers=e}shouldQuote(e,n){const d=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return r.default(d)?d:Array.isArray(d)?d[e]:this._headers!==null&&d[this._headers[e]]}format(e,n,d){const l=(""+(i.default(e)?"":e)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&l.indexOf(h.quote)!==-1?this.quoteField(l.replace(this.REPLACE_REGEXP,h.escapedQuote)):l.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,d)?this.quoteField(l):l}quoteField(e){const{quote:n}=this.formatterOptions;return`${n}${e}${n}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,c,u){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(u,"__esModule",{value:!0}),u.RowFormatter=void 0;const r=a(t("lodash.isfunction")),i=a(t("lodash.isequal")),s=t("./FieldFormatter"),e=t("../types");class n{constructor(l){this.rowCount=0,this.formatterOptions=l,this.fieldFormatter=new s.FieldFormatter(l),this.headers=l.headers,this.shouldWriteHeaders=l.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),l.transform&&(this.rowTransform=l.transform)}static isRowHashArray(l){return!!Array.isArray(l)&&Array.isArray(l[0])&&l[0].length===2}static isRowArray(l){return Array.isArray(l)&&!this.isRowHashArray(l)}static gatherHeaders(l){return n.isRowHashArray(l)?l.map(h=>h[0]):Array.isArray(l)?l:Object.keys(l)}static createTransform(l){return e.isSyncTransform(l)?(h,p)=>{let g=null;try{g=l(h)}catch(f){return p(f)}return p(null,g)}:(h,p)=>{l(h,p)}}set rowTransform(l){if(!r.default(l))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(l)}format(l,h){this.callTransformer(l,(p,g)=>{if(p)return h(p);if(!l)return h(null);const f=[];if(g){const{shouldFormatColumns:m,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(f.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),m){const v=this.gatherColumns(g);f.push(this.formatColumns(v,!1))}}return h(null,f)})}finish(l){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return l(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),l(null,h)}checkHeaders(l){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=n.gatherHeaders(l);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!i.default(h,l),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(l){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(l)?n.isRowHashArray(l)?this.headers.map((h,p)=>{const g=l[p];return g?g[1]:""}):n.isRowArray(l)&&!this.shouldWriteHeaders?l:this.headers.map((h,p)=>l[p]):this.headers.map(h=>l[h])}callTransformer(l,h){return this._rowTransform?this._rowTransform(l,h):h(null,l)}formatColumns(l,h){const p=l.map((f,m)=>this.fieldFormatter.format(f,m,h)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}u.RowFormatter=n},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.FieldFormatter=u.RowFormatter=void 0;var a=t("./RowFormatter");Object.defineProperty(u,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var r=t("./FieldFormatter");Object.defineProperty(u,"FieldFormatter",{enumerable:!0,get:function(){return r.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,c,u){(function(a){(function(){var r=Object.create?function(m,y,v,C){C===void 0&&(C=v),Object.defineProperty(m,C,{enumerable:!0,get:function(){return y[v]}})}:function(m,y,v,C){C===void 0&&(C=v),m[C]=y[v]},i=Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y},s=function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&r(y,m,v);return i(y,m),y},e=function(m,y){for(var v in m)v==="default"||Object.prototype.hasOwnProperty.call(y,v)||r(y,m,v)};Object.defineProperty(u,"__esModule",{value:!0}),u.writeToPath=u.writeToString=u.writeToBuffer=u.writeToStream=u.write=u.format=u.FormatterOptions=u.CsvFormatterStream=void 0;const n=t("util"),d=t("stream"),l=s(t("fs")),h=t("./FormatterOptions"),p=t("./CsvFormatterStream");e(t("./types"),u);var g=t("./CsvFormatterStream");Object.defineProperty(u,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var f=t("./FormatterOptions");Object.defineProperty(u,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}}),u.format=m=>new p.CsvFormatterStream(new h.FormatterOptions(m)),u.write=(m,y)=>{const v=u.format(y),C=n.promisify((S,I)=>{v.write(S,void 0,I)});return m.reduce((S,I)=>S.then(()=>C(I)),Promise.resolve()).then(()=>v.end()).catch(S=>{v.emit("error",S)}),v},u.writeToStream=(m,y,v)=>u.write(y,v).pipe(m),u.writeToBuffer=function(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=[],C=new d.Writable({write(S,I,z){v.push(S),z()}});return new Promise((S,I)=>{C.on("error",I).on("finish",()=>S(a.concat(v))),u.write(m,y).pipe(C)})},u.writeToString=(m,y)=>u.writeToBuffer(m,y).then(v=>v.toString()),u.writeToPath=(m,y,v)=>{const C=l.createWriteStream(m,{encoding:"utf8"});return u.write(y,v).pipe(C)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.isSyncTransform=void 0,u.isSyncTransform=a=>a.length===1},{}],153:[function(t,c,u){(function(a){(function(){Object.defineProperty(u,"__esModule",{value:!0}),u.CsvParserStream=void 0;const r=t("string_decoder"),i=t("stream"),s=t("./transforms"),e=t("./parser");class n extends i.Transform{constructor(l){super({objectMode:l.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=l,this.parser=new e.Parser(l),this.headerTransformer=new s.HeaderTransformer(l),this.decoder=new r.StringDecoder(l.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(l){return this.rowTransformerValidator.rowTransform=l,this}validate(l){return this.rowTransformerValidator.rowValidator=l,this}emit(l){if(l==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,p=new Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];return super.emit(l,...p)}_transform(l,h,p){if(this.hasHitRowLimit)return p();const g=n.wrapDoneCallback(p);try{const{lines:f}=this,m=f+this.decoder.write(l),y=this.parse(m,!0);return this.processRows(y,g)}catch(f){return g(f)}}_flush(l){const h=n.wrapDoneCallback(l);if(this.hasHitRowLimit)return h();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,h)}catch(p){return h(p)}}parse(l,h){if(!l)return[];const{line:p,rows:g}=this.parser.parse(l,h);return this.lines=p,g}processRows(l,h){const p=l.length,g=f=>{const m=C=>C?h(C):f%100!=0?g(f+1):void a(()=>g(f+1));if(this.checkAndEmitHeaders(),f>=p||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();const y=l[f];this.rowCount+=1,this.parsedRowCount+=1;const v=this.rowCount;return this.transformRow(y,(C,S)=>{if(C)return this.rowCount-=1,m(C);if(!S)return m(new Error("expected transform result"));if(S.isValid){if(S.row)return this.pushRow(S.row,m)}else this.emit("data-invalid",S.row,v,S.reason);return m()})};g(0)}transformRow(l,h){try{this.headerTransformer.transform(l,(p,g)=>p?h(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:l}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(p){h(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(l){return this.rowCount-=1,l(null,{row:null,isValid:!0})}pushRow(l,h){try{this.parserOptions.objectMode?this.push(l):this.push(JSON.stringify(l)),h()}catch(p){h(p)}}static wrapDoneCallback(l){let h=!1;return function(p){if(p){if(h)throw p;return h=!0,void l(p)}for(var g=arguments.length,f=new Array(g>1?g-1:0),m=1;m<g;m++)f[m-1]=arguments[m];l(...f)}}}u.CsvParserStream=n}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,c,u){var a=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(u,"__esModule",{value:!0}),u.ParserOptions=void 0;const r=a(t("lodash.escaperegexp")),i=a(t("lodash.isnil"));u.ParserOptions=class{constructor(s){var e;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=r.default(this.delimiter),this.escapeChar=(e=this.escape)!==null&&e!==void 0?e:this.quote,this.supportsComments=!i.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,c,u){var a=Object.create?function(g,f,m,y){y===void 0&&(y=m),Object.defineProperty(g,y,{enumerable:!0,get:function(){return f[m]}})}:function(g,f,m,y){y===void 0&&(y=m),g[y]=f[m]},r=Object.create?function(g,f){Object.defineProperty(g,"default",{enumerable:!0,value:f})}:function(g,f){g.default=f},i=function(g){if(g&&g.__esModule)return g;var f={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&a(f,g,m);return r(f,g),f},s=function(g,f){for(var m in g)m==="default"||Object.prototype.hasOwnProperty.call(f,m)||a(f,g,m)};Object.defineProperty(u,"__esModule",{value:!0}),u.parseString=u.parseFile=u.parseStream=u.parse=u.ParserOptions=u.CsvParserStream=void 0;const e=i(t("fs")),n=t("stream"),d=t("./ParserOptions"),l=t("./CsvParserStream");s(t("./types"),u);var h=t("./CsvParserStream");Object.defineProperty(u,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var p=t("./ParserOptions");Object.defineProperty(u,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),u.parse=g=>new l.CsvParserStream(new d.ParserOptions(g)),u.parseStream=(g,f)=>g.pipe(new l.CsvParserStream(new d.ParserOptions(f))),u.parseFile=function(g){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.createReadStream(g).pipe(new l.CsvParserStream(new d.ParserOptions(f)))},u.parseString=(g,f)=>{const m=new n.Readable;return m.push(g),m.push(null),m.pipe(new l.CsvParserStream(new d.ParserOptions(f)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Parser=void 0;const a=t("./Scanner"),r=t("./RowParser"),i=t("./Token");class s{constructor(n){this.parserOptions=n,this.rowParser=new r.RowParser(this.parserOptions)}static removeBOM(n){return n&&n.charCodeAt(0)===65279?n.slice(1):n}parse(n,d){const l=new a.Scanner({line:s.removeBOM(n),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(l):this.parseWithoutComments(l)}parseWithoutComments(n){const d=[];let l=!0;for(;l;)l=this.parseRow(n,d);return{line:n.line,rows:d}}parseWithComments(n){const{parserOptions:d}=this,l=[];for(let h=n.nextCharacterToken;h!==null;h=n.nextCharacterToken)if(i.Token.isTokenComment(h,d)){if(n.advancePastLine()===null)return{line:n.lineFromCursor,rows:l};if(!n.hasMoreCharacters)return{line:n.lineFromCursor,rows:l};n.truncateToCursor()}else if(!this.parseRow(n,l))break;return{line:n.line,rows:l}}parseRow(n,d){if(!n.nextNonSpaceToken)return!1;const l=this.rowParser.parse(n);return l!==null&&(this.parserOptions.ignoreEmpty&&r.RowParser.isEmptyRow(l)||d.push(l),!0)}}u.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.RowParser=void 0;const a=t("./column"),r=t("./Token");u.RowParser=class{constructor(i){this.parserOptions=i,this.columnParser=new a.ColumnParser(i)}static isEmptyRow(i){return i.join("").replace(/\s+/g,"")===""}parse(i){const{parserOptions:s}=this,{hasMoreData:e}=i,n=i,d=[];let l=this.getStartToken(n,d);for(;l;){if(r.Token.isTokenRowDelimiter(l))return n.advancePastToken(l),!n.hasMoreCharacters&&r.Token.isTokenCarriageReturn(l,s)&&e?null:(n.truncateToCursor(),d);if(!this.shouldSkipColumnParse(n,l,d)){const h=this.columnParser.parse(n);if(h===null)return null;d.push(h)}l=n.nextNonSpaceToken}return e?null:(n.truncateToCursor(),d)}getStartToken(i,s){const e=i.nextNonSpaceToken;return e!==null&&r.Token.isTokenDelimiter(e,this.parserOptions)?(s.push(""),i.nextNonSpaceToken):e}shouldSkipColumnParse(i,s,e){const{parserOptions:n}=this;if(r.Token.isTokenDelimiter(s,n)){i.advancePastToken(s);const d=i.nextCharacterToken;if(!i.hasMoreCharacters||d!==null&&r.Token.isTokenRowDelimiter(d)||d!==null&&r.Token.isTokenDelimiter(d,n))return e.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Scanner=void 0;const a=t("./Token"),r=/((?:\r\n)|\n|\r)/;u.Scanner=class{constructor(i){this.cursor=0,this.line=i.line,this.lineLength=this.line.length,this.parserOptions=i.parserOptions,this.hasMoreData=i.hasMoreData,this.cursor=i.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:i}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(i.search(s)===-1)return null;const e=s.exec(i);if(e==null)return null;const n=e[1],d=this.cursor+(e.index||0);return new a.Token({token:n,startCursor:d,endCursor:d+n.length-1})}get nextCharacterToken(){const{cursor:i,lineLength:s}=this;return s<=i?null:new a.Token({token:this.line[i],startCursor:i,endCursor:i})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const i=r.exec(this.lineFromCursor);return i?(this.cursor+=(i.index||0)+i[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(i){return this.cursor=i,this}advanceToToken(i){return this.cursor=i.startCursor,this}advancePastToken(i){return this.cursor=i.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Token=void 0,u.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const r=a.token;return r==="\r"||r===`
`||r===`\r
`}static isTokenCarriageReturn(a,r){return a.token===r.carriageReturn}static isTokenComment(a,r){return r.supportsComments&&!!a&&a.token===r.comment}static isTokenEscapeCharacter(a,r){return a.token===r.escapeChar}static isTokenQuote(a,r){return a.token===r.quote}static isTokenDelimiter(a,r){return a.token===r.delimiter}}},{}],160:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ColumnFormatter=void 0,u.ColumnFormatter=class{constructor(a){a.trim?this.format=r=>r.trim():a.ltrim?this.format=r=>r.trimLeft():a.rtrim?this.format=r=>r.trimRight():this.format=r=>r}}},{}],161:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ColumnParser=void 0;const a=t("./NonQuotedColumnParser"),r=t("./QuotedColumnParser"),i=t("../Token");u.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new r.QuotedColumnParser(s),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(s)}parse(s){const{nextNonSpaceToken:e}=s;return e!==null&&i.Token.isTokenQuote(e,this.parserOptions)?(s.advanceToToken(e),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.NonQuotedColumnParser=void 0;const a=t("./ColumnFormatter"),r=t("../Token");u.NonQuotedColumnParser=class{constructor(i){this.parserOptions=i,this.columnFormatter=new a.ColumnFormatter(i)}parse(i){if(!i.hasMoreCharacters)return null;const{parserOptions:s}=this,e=[];let n=i.nextCharacterToken;for(;n&&!r.Token.isTokenDelimiter(n,s)&&!r.Token.isTokenRowDelimiter(n);n=i.nextCharacterToken)e.push(n.token),i.advancePastToken(n);return this.columnFormatter.format(e.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.QuotedColumnParser=void 0;const a=t("./ColumnFormatter"),r=t("../Token");u.QuotedColumnParser=class{constructor(i){this.parserOptions=i,this.columnFormatter=new a.ColumnFormatter(i)}parse(i){if(!i.hasMoreCharacters)return null;const s=i.cursor,{foundClosingQuote:e,col:n}=this.gatherDataBetweenQuotes(i);if(!e){if(i.advanceTo(s),!i.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${i.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(i),n}gatherDataBetweenQuotes(i){const{parserOptions:s}=this;let e=!1,n=!1;const d=[];let l=i.nextCharacterToken;for(;!n&&l!==null;l=i.nextCharacterToken){const h=r.Token.isTokenQuote(l,s);if(!e&&h)e=!0;else if(e)if(r.Token.isTokenEscapeCharacter(l,s)){i.advancePastToken(l);const p=i.nextCharacterToken;p!==null&&(r.Token.isTokenQuote(p,s)||r.Token.isTokenEscapeCharacter(p,s))?(d.push(p.token),l=p):h?n=!0:d.push(l.token)}else h?n=!0:d.push(l.token);i.advancePastToken(l)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:n}}checkForMalformedColumn(i){const{parserOptions:s}=this,{nextNonSpaceToken:e}=i;if(e){const n=r.Token.isTokenDelimiter(e,s),d=r.Token.isTokenRowDelimiter(e);if(!n&&!d){const l=i.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${e.token}'. at '${l}`)}i.advanceToToken(e)}else i.hasMoreData||i.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ColumnFormatter=u.QuotedColumnParser=u.NonQuotedColumnParser=u.ColumnParser=void 0;var a=t("./ColumnParser");Object.defineProperty(u,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var r=t("./NonQuotedColumnParser");Object.defineProperty(u,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}});var i=t("./QuotedColumnParser");Object.defineProperty(u,"QuotedColumnParser",{enumerable:!0,get:function(){return i.QuotedColumnParser}});var s=t("./ColumnFormatter");Object.defineProperty(u,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.QuotedColumnParser=u.NonQuotedColumnParser=u.ColumnParser=u.Token=u.Scanner=u.RowParser=u.Parser=void 0;var a=t("./Parser");Object.defineProperty(u,"Parser",{enumerable:!0,get:function(){return a.Parser}});var r=t("./RowParser");Object.defineProperty(u,"RowParser",{enumerable:!0,get:function(){return r.RowParser}});var i=t("./Scanner");Object.defineProperty(u,"Scanner",{enumerable:!0,get:function(){return i.Scanner}});var s=t("./Token");Object.defineProperty(u,"Token",{enumerable:!0,get:function(){return s.Token}});var e=t("./column");Object.defineProperty(u,"ColumnParser",{enumerable:!0,get:function(){return e.ColumnParser}}),Object.defineProperty(u,"NonQuotedColumnParser",{enumerable:!0,get:function(){return e.NonQuotedColumnParser}}),Object.defineProperty(u,"QuotedColumnParser",{enumerable:!0,get:function(){return e.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,c,u){var a=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(u,"__esModule",{value:!0}),u.HeaderTransformer=void 0;const r=a(t("lodash.isundefined")),i=a(t("lodash.isfunction")),s=a(t("lodash.uniq")),e=a(t("lodash.groupby"));u.HeaderTransformer=class{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):i.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,d){return this.shouldMapRow(n)?d(null,this.processRow(n)):d(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(n)}return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&n.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return d.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const d={},{headers:l,headersLength:h}=this;for(let p=0;p<h;p+=1){const g=l[p];if(!r.default(g)){const f=n[p];r.default(f)?d[g]="":d[g]=f}}return d}setHeaders(n){var d;const l=n.filter(h=>!!h);if(s.default(l).length!==l.length){const h=e.default(l),p=Object.keys(h).filter(g=>h[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=n,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,c,u){var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0}),u.RowTransformerValidator=void 0;const r=a(t("lodash.isfunction")),i=t("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(n){return i.isSyncTransform(n)?(d,l)=>{let h=null;try{h=n(d)}catch(p){return l(p)}return l(null,h)}:n}static createValidator(n){return i.isSyncValidate(n)?(d,l)=>{l(null,{row:d,isValid:n(d)})}:(d,l)=>{n(d,(h,p,g)=>h?l(h):l(null,p?{row:d,isValid:p,reason:g}:{row:d,isValid:!1,reason:g}))}}set rowTransform(n){if(!r.default(n))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(n)}set rowValidator(n){if(!r.default(n))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(n)}transformAndValidate(n,d){return this.callTransformer(n,(l,h)=>l?d(l):h?this.callValidator(h,(p,g)=>p?d(p):g&&!g.isValid?d(null,{row:h,isValid:!1,reason:g.reason}):d(null,{row:h,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(n,d){return this._rowTransform?this._rowTransform(n,d):d(null,n)}callValidator(n,d){return this._rowValidator?this._rowValidator(n,d):d(null,{row:n,isValid:!0})}}u.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.HeaderTransformer=u.RowTransformerValidator=void 0;var a=t("./RowTransformerValidator");Object.defineProperty(u,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var r=t("./HeaderTransformer");Object.defineProperty(u,"HeaderTransformer",{enumerable:!0,get:function(){return r.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.isSyncValidate=u.isSyncTransform=void 0,u.isSyncTransform=a=>a.length===1,u.isSyncValidate=a=>a.length===1},{}],170:[function(t,c,u){const a=u;a.bignum=t("bn.js"),a.define=t("./asn1/api").define,a.base=t("./asn1/base"),a.constants=t("./asn1/constants"),a.decoders=t("./asn1/decoders"),a.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,c,u){const a=t("./encoders"),r=t("./decoders"),i=t("inherits");function s(e,n){this.name=e,this.body=n,this.decoders={},this.encoders={}}u.define=function(e,n){return new s(e,n)},s.prototype._createNamed=function(e){const n=this.name;function d(l){this._initNamed(l,n)}return i(d,e),d.prototype._initNamed=function(l,h){e.call(this,l,h)},new d(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},s.prototype.decode=function(e,n,d){return this._getDecoder(n).decode(e,d)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(a[e])),this.encoders[e]},s.prototype.encode=function(e,n,d){return this._getEncoder(n).encode(e,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,c,u){const a=t("inherits"),r=t("../base/reporter").Reporter,i=t("safer-buffer").Buffer;function s(n,d){r.call(this,d),i.isBuffer(n)?(this.base=n,this.offset=0,this.length=n.length):this.error("Input not Buffer")}function e(n,d){if(Array.isArray(n))this.length=0,this.value=n.map(function(l){return e.isEncoderBuffer(l)||(l=new e(l,d)),this.length+=l.length,l},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return d.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=i.byteLength(n);else{if(!i.isBuffer(n))return d.error("Unsupported type: "+typeof n);this.value=n,this.length=n.length}}a(s,r),u.DecoderBuffer=s,s.isDecoderBuffer=function(n){return n instanceof s?!0:typeof n=="object"&&i.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},s.prototype.restore=function(n){const d=new s(this.base);return d.offset=n.offset,d.length=this.offset,this.offset=n.offset,r.prototype.restore.call(this,n.reporter),d},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},s.prototype.skip=function(n,d){if(!(this.offset+n<=this.length))return this.error(d||"DecoderBuffer overrun");const l=new s(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+n,this.offset+=n,l},s.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)},u.EncoderBuffer=e,e.isEncoderBuffer=function(n){return n instanceof e?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},e.prototype.join=function(n,d){return n||(n=i.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(n,d),d+=l.length}):(typeof this.value=="number"?n[d]=this.value:typeof this.value=="string"?n.write(this.value,d):i.isBuffer(this.value)&&this.value.copy(n,d),d+=this.length)),n}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,c,u){const a=u;a.Reporter=t("./reporter").Reporter,a.DecoderBuffer=t("./buffer").DecoderBuffer,a.EncoderBuffer=t("./buffer").EncoderBuffer,a.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,c,u){const a=t("../base/reporter").Reporter,r=t("../base/buffer").EncoderBuffer,i=t("../base/buffer").DecoderBuffer,s=t("minimalistic-assert"),e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(e);function d(h,p,g){const f={};this._baseState=f,f.name=g,f.enc=h,f.parent=p||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}c.exports=d;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const h=this._baseState,p={};l.forEach(function(f){p[f]=h[f]});const g=new this.constructor(p.parent);return g._baseState=p,g},d.prototype._wrap=function(){const h=this._baseState;n.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return h.children.push(g),g[p].apply(g,arguments)}},this)},d.prototype._init=function(h){const p=this._baseState;s(p.parent===null),h.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),s.equal(p.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(h){const p=this._baseState,g=h.filter(function(f){return f instanceof this.constructor},this);h=h.filter(function(f){return!(f instanceof this.constructor)},this),g.length!==0&&(s(p.children===null),p.children=g,g.forEach(function(f){f._baseState.parent=this},this)),h.length!==0&&(s(p.args===null),p.args=h,p.reverseArgs=h.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;const m={};return Object.keys(f).forEach(function(y){y==(0|y)&&(y|=0);const v=f[y];m[v]=y}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){d.prototype[h]=function(){const p=this._baseState;throw new Error(h+" not implemented for encoding: "+p.enc)}}),e.forEach(function(h){d.prototype[h]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return s(p.tag===null),p.tag=h,this._useArgs(g),this}}),d.prototype.use=function(h){s(h);const p=this._baseState;return s(p.use===null),p.use=h,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(h){const p=this._baseState;return s(p.default===null),p.default=h,p.optional=!0,this},d.prototype.explicit=function(h){const p=this._baseState;return s(p.explicit===null&&p.implicit===null),p.explicit=h,this},d.prototype.implicit=function(h){const p=this._baseState;return s(p.explicit===null&&p.implicit===null),p.implicit=h,this},d.prototype.obj=function(){const h=this._baseState,p=Array.prototype.slice.call(arguments);return h.obj=!0,p.length!==0&&this._useArgs(p),this},d.prototype.key=function(h){const p=this._baseState;return s(p.key===null),p.key=h,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(h){const p=this._baseState;return s(p.choice===null),p.choice=h,this._useArgs(Object.keys(h).map(function(g){return h[g]})),this},d.prototype.contains=function(h){const p=this._baseState;return s(p.use===null),p.contains=h,this},d.prototype._decode=function(h,p){const g=this._baseState;if(g.parent===null)return h.wrapResult(g.children[0]._decode(h,p));let f,m=g.default,y=!0,v=null;if(g.key!==null&&(v=h.enterKey(g.key)),g.optional){let C=null;if(g.explicit!==null?C=g.explicit:g.implicit!==null?C=g.implicit:g.tag!==null&&(C=g.tag),C!==null||g.any){if(y=this._peekTag(h,C,g.any),h.isError(y))return y}else{const S=h.save();try{g.choice===null?this._decodeGeneric(g.tag,h,p):this._decodeChoice(h,p),y=!0}catch(I){y=!1}h.restore(S)}}if(g.obj&&y&&(f=h.enterObject()),y){if(g.explicit!==null){const S=this._decodeTag(h,g.explicit);if(h.isError(S))return S;h=S}const C=h.offset;if(g.use===null&&g.choice===null){let S;g.any&&(S=h.save());const I=this._decodeTag(h,g.implicit!==null?g.implicit:g.tag,g.any);if(h.isError(I))return I;g.any?m=h.raw(S):h=I}if(p&&p.track&&g.tag!==null&&p.track(h.path(),C,h.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(h.path(),h.offset,h.length,"content"),g.any||(m=g.choice===null?this._decodeGeneric(g.tag,h,p):this._decodeChoice(h,p)),h.isError(m))return m;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(S){S._decode(h,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const S=new i(m);m=this._getUse(g.contains,h._reporterState.obj)._decode(S,p)}}return g.obj&&y&&(m=h.leaveObject(f)),g.key===null||m===null&&y!==!0?v!==null&&h.exitKey(v):h.leaveKey(v,g.key,m),m},d.prototype._decodeGeneric=function(h,p,g){const f=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(p,h,f.args[0],g):/str$/.test(h)?this._decodeStr(p,h,g):h==="objid"&&f.args?this._decodeObjid(p,f.args[0],f.args[1],g):h==="objid"?this._decodeObjid(p,null,null,g):h==="gentime"||h==="utctime"?this._decodeTime(p,h,g):h==="null_"?this._decodeNull(p,g):h==="bool"?this._decodeBool(p,g):h==="objDesc"?this._decodeStr(p,h,g):h==="int"||h==="enum"?this._decodeInt(p,f.args&&f.args[0],g):f.use!==null?this._getUse(f.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+h)},d.prototype._getUse=function(h,p){const g=this._baseState;return g.useDecoder=this._use(h,p),s(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},d.prototype._decodeChoice=function(h,p){const g=this._baseState;let f=null,m=!1;return Object.keys(g.choice).some(function(y){const v=h.save(),C=g.choice[y];try{const S=C._decode(h,p);if(h.isError(S))return!1;f={type:y,value:S},m=!0}catch(S){return h.restore(v),!1}return!0},this),m?f:h.error("Choice not matched")},d.prototype._createEncoderBuffer=function(h){return new r(h,this.reporter)},d.prototype._encode=function(h,p,g){const f=this._baseState;if(f.default!==null&&f.default===h)return;const m=this._encodeValue(h,p,g);return m===void 0||this._skipDefault(m,p,g)?void 0:m},d.prototype._encodeValue=function(h,p,g){const f=this._baseState;if(f.parent===null)return f.children[0]._encode(h,p||new a);let m=null;if(this.reporter=p,f.optional&&h===void 0){if(f.default===null)return;h=f.default}let y=null,v=!1;if(f.any)m=this._createEncoderBuffer(h);else if(f.choice)m=this._encodeChoice(h,p);else if(f.contains)y=this._getUse(f.contains,g)._encode(h,p),v=!0;else if(f.children)y=f.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,p,h);if(C._baseState.key===null)return p.error("Child should have a key");const S=p.enterKey(C._baseState.key);if(typeof h!="object")return p.error("Child expected, but input is not object");const I=C._encode(h[C._baseState.key],p,h);return p.leaveKey(S),I},this).filter(function(C){return C}),y=this._createEncoderBuffer(y);else if(f.tag==="seqof"||f.tag==="setof"){if(!f.args||f.args.length!==1)return p.error("Too many args for : "+f.tag);if(!Array.isArray(h))return p.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,y=this._createEncoderBuffer(h.map(function(S){const I=this._baseState;return this._getUse(I.args[0],h)._encode(S,p)},C))}else f.use!==null?m=this._getUse(f.use,g)._encode(h,p):(y=this._encodePrimitive(f.tag,h),v=!0);if(!f.any&&f.choice===null){const C=f.implicit!==null?f.implicit:f.tag,S=f.implicit===null?"universal":"context";C===null?f.use===null&&p.error("Tag could be omitted only for .use()"):f.use===null&&(m=this._encodeComposite(C,v,S,y))}return f.explicit!==null&&(m=this._encodeComposite(f.explicit,!1,"context",m)),m},d.prototype._encodeChoice=function(h,p){const g=this._baseState,f=g.choice[h.type];return f||s(!1,h.type+" not found in "+JSON.stringify(Object.keys(g.choice))),f._encode(h.value,p)},d.prototype._encodePrimitive=function(h,p){const g=this._baseState;if(/str$/.test(h))return this._encodeStr(p,h);if(h==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(h==="objid")return this._encodeObjid(p,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(p,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(h==="bool")return this._encodeBool(p);if(h==="objDesc")return this._encodeStr(p,h);throw new Error("Unsupported tag: "+h)},d.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},d.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,c,u){const a=t("inherits");function r(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function i(s,e){this.path=s,this.rethrow(e)}u.Reporter=r,r.prototype.isError=function(s){return s instanceof i},r.prototype.save=function(){const s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},r.prototype.restore=function(s){const e=this._reporterState;e.obj=s.obj,e.path=e.path.slice(0,s.pathLen)},r.prototype.enterKey=function(s){return this._reporterState.path.push(s)},r.prototype.exitKey=function(s){const e=this._reporterState;e.path=e.path.slice(0,s-1)},r.prototype.leaveKey=function(s,e,n){const d=this._reporterState;this.exitKey(s),d.obj!==null&&(d.obj[e]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){const s=this._reporterState,e=s.obj;return s.obj={},e},r.prototype.leaveObject=function(s){const e=this._reporterState,n=e.obj;return e.obj=s,n},r.prototype.error=function(s){let e;const n=this._reporterState,d=s instanceof i;if(e=d?s:new i(n.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),s.message||s,s.stack),!n.options.partial)throw e;return d||n.errors.push(e),e},r.prototype.wrapResult=function(s){const e=this._reporterState;return e.options.partial?{result:this.isError(s)?null:s,errors:e.errors}:s},a(i,Error),i.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:440}],176:[function(t,c,u){function a(r){const i={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);const e=r[s];i[e]=s}),i}u.tagClass={0:"universal",1:"application",2:"context",3:"private"},u.tagClassByName=a(u.tagClass),u.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},u.tagByName=a(u.tag)},{}],177:[function(t,c,u){const a=u;a._reverse=function(r){const i={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);const e=r[s];i[e]=s}),i},a.der=t("./der")},{"./der":176}],178:[function(t,c,u){const a=t("inherits"),r=t("bn.js"),i=t("../base/buffer").DecoderBuffer,s=t("../base/node"),e=t("../constants/der");function n(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new d,this.tree._init(p.body)}function d(p){s.call(this,"der",p)}function l(p,g){let f=p.readUInt8(g);if(p.isError(f))return f;const m=e.tagClass[f>>6],y=(32&f)==0;if((31&f)==31){let v=f;for(f=0;(128&v)==128;){if(v=p.readUInt8(g),p.isError(v))return v;f<<=7,f|=127&v}}else f&=31;return{cls:m,primitive:y,tag:f,tagStr:e.tag[f]}}function h(p,g,f){let m=p.readUInt8(f);if(p.isError(m))return m;if(!g&&m===128)return null;if(!(128&m))return m;const y=127&m;if(y>4)return p.error("length octect is too long");m=0;for(let v=0;v<y;v++){m<<=8;const C=p.readUInt8(f);if(p.isError(C))return C;m|=C}return m}c.exports=n,n.prototype.decode=function(p,g){return i.isDecoderBuffer(p)||(p=new i(p,g)),this.tree._decode(p,g)},a(d,s),d.prototype._peekTag=function(p,g,f){if(p.isEmpty())return!1;const m=p.save(),y=l(p,'Failed to peek tag: "'+g+'"');return p.isError(y)?y:(p.restore(m),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||f)},d.prototype._decodeTag=function(p,g,f){const m=l(p,'Failed to decode tag of "'+g+'"');if(p.isError(m))return m;let y=h(p,m.primitive,'Failed to get length of "'+g+'"');if(p.isError(y))return y;if(!f&&m.tag!==g&&m.tagStr!==g&&m.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(m.primitive||y!==null)return p.skip(y,'Failed to match body of: "'+g+'"');const v=p.save(),C=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(C)?C:(y=p.offset-v.offset,p.restore(v),p.skip(y,'Failed to match body of: "'+g+'"'))},d.prototype._skipUntilEnd=function(p,g){for(;;){const f=l(p,g);if(p.isError(f))return f;const m=h(p,f.primitive,g);if(p.isError(m))return m;let y;if(y=f.primitive||m!==null?p.skip(m):this._skipUntilEnd(p,g),p.isError(y))return y;if(f.tagStr==="end")break}},d.prototype._decodeList=function(p,g,f,m){const y=[];for(;!p.isEmpty();){const v=this._peekTag(p,"end");if(p.isError(v))return v;const C=f.decode(p,"der",m);if(p.isError(C)&&v)break;y.push(C)}return y},d.prototype._decodeStr=function(p,g){if(g==="bitstr"){const f=p.readUInt8();return p.isError(f)?f:{unused:f,data:p.raw()}}if(g==="bmpstr"){const f=p.raw();if(f.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let m="";for(let y=0;y<f.length/2;y++)m+=String.fromCharCode(f.readUInt16BE(2*y));return m}if(g==="numstr"){const f=p.raw().toString("ascii");return this._isNumstr(f)?f:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const f=p.raw().toString("ascii");return this._isPrintstr(f)?f:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},d.prototype._decodeObjid=function(p,g,f){let m;const y=[];let v=0,C=0;for(;!p.isEmpty();)C=p.readUInt8(),v<<=7,v|=127&C,!(128&C)&&(y.push(v),v=0);128&C&&y.push(v);const S=y[0]/40|0,I=y[0]%40;if(m=f?y:[S,I].concat(y.slice(1)),g){let z=g[m.join(" ")];z===void 0&&(z=g[m.join(".")]),z!==void 0&&(m=z)}return m},d.prototype._decodeTime=function(p,g){const f=p.raw().toString();let m,y,v,C,S,I;if(g==="gentime")m=0|f.slice(0,4),y=0|f.slice(4,6),v=0|f.slice(6,8),C=0|f.slice(8,10),S=0|f.slice(10,12),I=0|f.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");m=0|f.slice(0,2),y=0|f.slice(2,4),v=0|f.slice(4,6),C=0|f.slice(6,8),S=0|f.slice(8,10),I=0|f.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,y-1,v,C,S,I,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},d.prototype._decodeInt=function(p,g){const f=p.raw();let m=new r(f);return g&&(m=g[m.toString(10)]||m),m},d.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,c,u){const a=u;a.der=t("./der"),a.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,c,u){const a=t("inherits"),r=t("safer-buffer").Buffer,i=t("./der");function s(e){i.call(this,e),this.enc="pem"}a(s,i),c.exports=s,s.prototype.decode=function(e,n){const d=e.toString().split(/[\r\n]+/g),l=n.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let y=0;y<d.length;y++){const v=d[y].match(h);if(v!==null&&v[2]===l){if(p!==-1){if(v[1]!=="END")break;g=y;break}if(v[1]!=="BEGIN")break;p=y}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+l);const f=d.slice(p+1,g).join("");f.replace(/[^a-z0-9+/=]+/gi,"");const m=r.from(f,"base64");return i.prototype.decode.call(this,m,n)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,c,u){const a=t("inherits"),r=t("safer-buffer").Buffer,i=t("../base/node"),s=t("../constants/der");function e(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new n,this.tree._init(l.body)}function n(l){i.call(this,"der",l)}function d(l){return l<10?"0"+l:l}c.exports=e,e.prototype.encode=function(l,h){return this.tree._encode(l,h).join()},a(n,i),n.prototype._encodeComposite=function(l,h,p,g){const f=function(v,C,S,I){let z;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),s.tagByName.hasOwnProperty(v))z=s.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return I.error("Unknown tag: "+v);z=v}return z>=31?I.error("Multi-octet tag encoding unsupported"):(C||(z|=32),z|=s.tagClassByName[S||"universal"]<<6,z)}(l,h,p,this.reporter);if(g.length<128){const v=r.alloc(2);return v[0]=f,v[1]=g.length,this._createEncoderBuffer([v,g])}let m=1;for(let v=g.length;v>=256;v>>=8)m++;const y=r.alloc(2+m);y[0]=f,y[1]=128|m;for(let v=1+m,C=g.length;C>0;v--,C>>=8)y[v]=255&C;return this._createEncoderBuffer([y,g])},n.prototype._encodeStr=function(l,h){if(h==="bitstr")return this._createEncoderBuffer([0|l.unused,l.data]);if(h==="bmpstr"){const p=r.alloc(2*l.length);for(let g=0;g<l.length;g++)p.writeUInt16BE(l.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return h==="numstr"?this._isNumstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: "+h+" unsupported")},n.prototype._encodeObjid=function(l,h,p){if(typeof l=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(l))return this.reporter.error("objid not found in values map");l=h[l].split(/[\s.]+/g);for(let y=0;y<l.length;y++)l[y]|=0}else if(Array.isArray(l)){l=l.slice();for(let y=0;y<l.length;y++)l[y]|=0}if(!Array.isArray(l))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(l));if(!p){if(l[1]>=40)return this.reporter.error("Second objid identifier OOB");l.splice(0,2,40*l[0]+l[1])}let g=0;for(let y=0;y<l.length;y++){let v=l[y];for(g++;v>=128;v>>=7)g++}const f=r.alloc(g);let m=f.length-1;for(let y=l.length-1;y>=0;y--){let v=l[y];for(f[m--]=127&v;(v>>=7)>0;)f[m--]=128|127&v}return this._createEncoderBuffer(f)},n.prototype._encodeTime=function(l,h){let p;const g=new Date(l);return h==="gentime"?p=[d(g.getUTCFullYear()),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):h==="utctime"?p=[d(g.getUTCFullYear()%100),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(p,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(l,h){if(typeof l=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(l))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(l));l=h[l]}if(typeof l!="number"&&!r.isBuffer(l)){const f=l.toArray();!l.sign&&128&f[0]&&f.unshift(0),l=r.from(f)}if(r.isBuffer(l)){let f=l.length;l.length===0&&f++;const m=r.alloc(f);return l.copy(m),l.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(l<128)return this._createEncoderBuffer(l);if(l<256)return this._createEncoderBuffer([0,l]);let p=1;for(let f=l;f>=256;f>>=8)p++;const g=new Array(p);for(let f=g.length-1;f>=0;f--)g[f]=255&l,l>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(r.from(g))},n.prototype._encodeBool=function(l){return this._createEncoderBuffer(l?255:0)},n.prototype._use=function(l,h){return typeof l=="function"&&(l=l(h)),l._getEncoder("der").tree},n.prototype._skipDefault=function(l,h,p){const g=this._baseState;let f;if(g.default===null)return!1;const m=l.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,h,p).join()),m.length!==g.defaultBuffer.length)return!1;for(f=0;f<m.length;f++)if(m[f]!==g.defaultBuffer[f])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,c,u){const a=u;a.der=t("./der"),a.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,c,u){const a=t("inherits"),r=t("./der");function i(s){r.call(this,s),this.enc="pem"}a(i,r),c.exports=i,i.prototype.encode=function(s,e){const n=r.prototype.encode.call(this,s).toString("base64"),d=["-----BEGIN "+e.label+"-----"];for(let l=0;l<n.length;l+=64)d.push(n.slice(l,l+64));return d.push("-----END "+e.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,c,u){(function(a,r){function i(A,N){if(!A)throw new Error(N||"Assertion failed")}function s(A,N){A.super_=N;var E=function(){};E.prototype=N.prototype,A.prototype=new E,A.prototype.constructor=A}function e(A,N,E){if(e.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(N!=="le"&&N!=="be"||(E=N,N=10),this._init(A||0,N||10,E||"be"))}var n;typeof a=="object"?a.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{n=typeof window!="undefined"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch(A){}function d(A,N){var E=A.charCodeAt(N);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function l(A,N,E){var x=d(A,E);return E-1>=N&&(x|=d(A,E-1)<<4),x}function h(A,N,E,x){for(var _=0,P=Math.min(A.length,E),M=N;M<P;M++){var k=A.charCodeAt(M)-48;_*=x,_+=k>=49?k-49+10:k>=17?k-17+10:k}return _}e.isBN=function(A){return A instanceof e||A!==null&&typeof A=="object"&&A.constructor.wordSize===e.wordSize&&Array.isArray(A.words)},e.max=function(A,N){return A.cmp(N)>0?A:N},e.min=function(A,N){return A.cmp(N)<0?A:N},e.prototype._init=function(A,N,E){if(typeof A=="number")return this._initNumber(A,N,E);if(typeof A=="object")return this._initArray(A,N,E);N==="hex"&&(N=16),i(N===(0|N)&&N>=2&&N<=36);var x=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<A.length&&(N===16?this._parseHex(A,x,E):(this._parseBase(A,N,x),E==="le"&&this._initArray(this.toArray(),N,E)))},e.prototype._initNumber=function(A,N,E){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(i(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),N,E)},e.prototype._initArray=function(A,N,E){if(i(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,P,M=0;if(E==="be")for(x=A.length-1,_=0;x>=0;x-=3)P=A[x]|A[x-1]<<8|A[x-2]<<16,this.words[_]|=P<<M&67108863,this.words[_+1]=P>>>26-M&67108863,(M+=24)>=26&&(M-=26,_++);else if(E==="le")for(x=0,_=0;x<A.length;x+=3)P=A[x]|A[x+1]<<8|A[x+2]<<16,this.words[_]|=P<<M&67108863,this.words[_+1]=P>>>26-M&67108863,(M+=24)>=26&&(M-=26,_++);return this.strip()},e.prototype._parseHex=function(A,N,E){this.length=Math.ceil((A.length-N)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,P=0,M=0;if(E==="be")for(x=A.length-1;x>=N;x-=2)_=l(A,N,x)<<P,this.words[M]|=67108863&_,P>=18?(P-=18,M+=1,this.words[M]|=_>>>26):P+=8;else for(x=(A.length-N)%2==0?N+1:N;x<A.length;x+=2)_=l(A,N,x)<<P,this.words[M]|=67108863&_,P>=18?(P-=18,M+=1,this.words[M]|=_>>>26):P+=8;this.strip()},e.prototype._parseBase=function(A,N,E){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=N)x++;x--,_=_/N|0;for(var P=A.length-E,M=P%x,k=Math.min(P,P-M)+E,R=0,F=E;F<k;F+=x)R=h(A,F,F+x,N),this.imuln(_),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(M!==0){var q=1;for(R=h(A,F,A.length,N),F=0;F<M;F++)q*=N;this.imuln(q),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this.strip()},e.prototype.copy=function(A){A.words=new Array(this.length);for(var N=0;N<this.length;N++)A.words[N]=this.words[N];A.length=this.length,A.negative=this.negative,A.red=this.red},e.prototype.clone=function(){var A=new e(null);return this.copy(A),A},e.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(A,N,E){E.negative=N.negative^A.negative;var x=A.length+N.length|0;E.length=x,x=x-1|0;var _=0|A.words[0],P=0|N.words[0],M=_*P,k=67108863&M,R=M/67108864|0;E.words[0]=k;for(var F=1;F<x;F++){for(var q=R>>>26,X=67108863&R,J=Math.min(F,N.length-1),j=Math.max(0,F-A.length+1);j<=J;j++){var K=F-j|0;q+=(M=(_=0|A.words[K])*(P=0|N.words[j])+X)/67108864|0,X=67108863&M}E.words[F]=0|X,R=0|q}return R!==0?E.words[F]=0|R:E.length--,E.strip()}e.prototype.toString=function(A,N){var E;if(N=0|N||1,(A=A||10)===16||A==="hex"){E="";for(var x=0,_=0,P=0;P<this.length;P++){var M=this.words[P],k=(16777215&(M<<x|_)).toString(16);E=(_=M>>>24-x&16777215)!==0||P!==this.length-1?p[6-k.length]+k+E:k+E,(x+=2)>=26&&(x-=26,P--)}for(_!==0&&(E=_.toString(16)+E);E.length%N!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(A===(0|A)&&A>=2&&A<=36){var R=g[A],F=f[A];E="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(F).toString(A);E=(q=q.idivn(F)).isZero()?X+E:p[R-X.length]+X+E}for(this.isZero()&&(E="0"+E);E.length%N!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}i(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(A,N){return i(n!==void 0),this.toArrayLike(n,A,N)},e.prototype.toArray=function(A,N){return this.toArrayLike(Array,A,N)},e.prototype.toArrayLike=function(A,N,E){var x=this.byteLength(),_=E||Math.max(1,x);i(x<=_,"byte array longer than desired length"),i(_>0,"Requested array length <= 0"),this.strip();var P,M,k=N==="le",R=new A(_),F=this.clone();if(k){for(M=0;!F.isZero();M++)P=F.andln(255),F.iushrn(8),R[M]=P;for(;M<_;M++)R[M]=0}else{for(M=0;M<_-x;M++)R[M]=0;for(M=0;!F.isZero();M++)P=F.andln(255),F.iushrn(8),R[_-M-1]=P}return R},Math.clz32?e.prototype._countBits=function(A){return 32-Math.clz32(A)}:e.prototype._countBits=function(A){var N=A,E=0;return N>=4096&&(E+=13,N>>>=13),N>=64&&(E+=7,N>>>=7),N>=8&&(E+=4,N>>>=4),N>=2&&(E+=2,N>>>=2),E+N},e.prototype._zeroBits=function(A){if(A===0)return 26;var N=A,E=0;return!(8191&N)&&(E+=13,N>>>=13),!(127&N)&&(E+=7,N>>>=7),!(15&N)&&(E+=4,N>>>=4),!(3&N)&&(E+=2,N>>>=2),!(1&N)&&E++,E},e.prototype.bitLength=function(){var A=this.words[this.length-1],N=this._countBits(A);return 26*(this.length-1)+N},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,N=0;N<this.length;N++){var E=this._zeroBits(this.words[N]);if(A+=E,E!==26)break}return A},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},e.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var N=0;N<A.length;N++)this.words[N]=this.words[N]|A.words[N];return this.strip()},e.prototype.ior=function(A){return i((this.negative|A.negative)==0),this.iuor(A)},e.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},e.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},e.prototype.iuand=function(A){var N;N=this.length>A.length?A:this;for(var E=0;E<N.length;E++)this.words[E]=this.words[E]&A.words[E];return this.length=N.length,this.strip()},e.prototype.iand=function(A){return i((this.negative|A.negative)==0),this.iuand(A)},e.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},e.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},e.prototype.iuxor=function(A){var N,E;this.length>A.length?(N=this,E=A):(N=A,E=this);for(var x=0;x<E.length;x++)this.words[x]=N.words[x]^E.words[x];if(this!==N)for(;x<N.length;x++)this.words[x]=N.words[x];return this.length=N.length,this.strip()},e.prototype.ixor=function(A){return i((this.negative|A.negative)==0),this.iuxor(A)},e.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},e.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},e.prototype.inotn=function(A){i(typeof A=="number"&&A>=0);var N=0|Math.ceil(A/26),E=A%26;this._expand(N),E>0&&N--;for(var x=0;x<N;x++)this.words[x]=67108863&~this.words[x];return E>0&&(this.words[x]=~this.words[x]&67108863>>26-E),this.strip()},e.prototype.notn=function(A){return this.clone().inotn(A)},e.prototype.setn=function(A,N){i(typeof A=="number"&&A>=0);var E=A/26|0,x=A%26;return this._expand(E+1),this.words[E]=N?this.words[E]|1<<x:this.words[E]&~(1<<x),this.strip()},e.prototype.iadd=function(A){var N,E,x;if(this.negative!==0&&A.negative===0)return this.negative=0,N=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,N=this.isub(A),A.negative=1,N._normSign();this.length>A.length?(E=this,x=A):(E=A,x=this);for(var _=0,P=0;P<x.length;P++)N=(0|E.words[P])+(0|x.words[P])+_,this.words[P]=67108863&N,_=N>>>26;for(;_!==0&&P<E.length;P++)N=(0|E.words[P])+_,this.words[P]=67108863&N,_=N>>>26;if(this.length=E.length,_!==0)this.words[this.length]=_,this.length++;else if(E!==this)for(;P<E.length;P++)this.words[P]=E.words[P];return this},e.prototype.add=function(A){var N;return A.negative!==0&&this.negative===0?(A.negative=0,N=this.sub(A),A.negative^=1,N):A.negative===0&&this.negative!==0?(this.negative=0,N=A.sub(this),this.negative=1,N):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},e.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var N=this.iadd(A);return A.negative=1,N._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var E,x,_=this.cmp(A);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(E=this,x=A):(E=A,x=this);for(var P=0,M=0;M<x.length;M++)P=(N=(0|E.words[M])-(0|x.words[M])+P)>>26,this.words[M]=67108863&N;for(;P!==0&&M<E.length;M++)P=(N=(0|E.words[M])+P)>>26,this.words[M]=67108863&N;if(P===0&&M<E.length&&E!==this)for(;M<E.length;M++)this.words[M]=E.words[M];return this.length=Math.max(this.length,M),E!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(A){return this.clone().isub(A)};var y=function(A,N,E){var x,_,P,M=A.words,k=N.words,R=E.words,F=0,q=0|M[0],X=8191&q,J=q>>>13,j=0|M[1],K=8191&j,B=j>>>13,T=0|M[2],W=8191&T,Y=T>>>13,Q=0|M[3],Z=8191&Q,tt=Q>>>13,rt=0|M[4],st=8191&rt,$=rt>>>13,nt=0|M[5],it=8191&nt,ht=nt>>>13,ct=0|M[6],ut=8191&ct,gt=ct>>>13,mt=0|M[7],xt=8191&mt,kt=mt>>>13,At=0|M[8],Ct=8191&At,Lt=At>>>13,Rt=0|M[9],It=8191&Rt,zt=Rt>>>13,St=0|k[0],_t=8191&St,Tt=St>>>13,Bt=0|k[1],Nt=8191&Bt,oe=Bt>>>13,pe=0|k[2],Ot=8191&pe,he=pe>>>13,re=0|k[3],Yt=8191&re,we=re>>>13,de=0|k[4],Wt=8191&de,ae=de>>>13,be=0|k[5],qt=8191&be,fe=be>>>13,ye=0|k[6],Jt=8191&ye,at=ye>>>13,ft=0|k[7],bt=8191&ft,Et=ft>>>13,Ft=0|k[8],Dt=8191&Ft,Xt=Ft>>>13,Ut=0|k[9],jt=8191&Ut,Zt=Ut>>>13;E.negative=A.negative^N.negative,E.length=19;var Kt=(F+(x=Math.imul(X,_t))|0)+((8191&(_=(_=Math.imul(X,Tt))+Math.imul(J,_t)|0))<<13)|0;F=((P=Math.imul(J,Tt))+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(K,_t),_=(_=Math.imul(K,Tt))+Math.imul(B,_t)|0,P=Math.imul(B,Tt);var ne=(F+(x=x+Math.imul(X,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(X,oe)|0)+Math.imul(J,Nt)|0))<<13)|0;F=((P=P+Math.imul(J,oe)|0)+(_>>>13)|0)+(ne>>>26)|0,ne&=67108863,x=Math.imul(W,_t),_=(_=Math.imul(W,Tt))+Math.imul(Y,_t)|0,P=Math.imul(Y,Tt),x=x+Math.imul(K,Nt)|0,_=(_=_+Math.imul(K,oe)|0)+Math.imul(B,Nt)|0,P=P+Math.imul(B,oe)|0;var Ae=(F+(x=x+Math.imul(X,Ot)|0)|0)+((8191&(_=(_=_+Math.imul(X,he)|0)+Math.imul(J,Ot)|0))<<13)|0;F=((P=P+Math.imul(J,he)|0)+(_>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,x=Math.imul(Z,_t),_=(_=Math.imul(Z,Tt))+Math.imul(tt,_t)|0,P=Math.imul(tt,Tt),x=x+Math.imul(W,Nt)|0,_=(_=_+Math.imul(W,oe)|0)+Math.imul(Y,Nt)|0,P=P+Math.imul(Y,oe)|0,x=x+Math.imul(K,Ot)|0,_=(_=_+Math.imul(K,he)|0)+Math.imul(B,Ot)|0,P=P+Math.imul(B,he)|0;var xe=(F+(x=x+Math.imul(X,Yt)|0)|0)+((8191&(_=(_=_+Math.imul(X,we)|0)+Math.imul(J,Yt)|0))<<13)|0;F=((P=P+Math.imul(J,we)|0)+(_>>>13)|0)+(xe>>>26)|0,xe&=67108863,x=Math.imul(st,_t),_=(_=Math.imul(st,Tt))+Math.imul($,_t)|0,P=Math.imul($,Tt),x=x+Math.imul(Z,Nt)|0,_=(_=_+Math.imul(Z,oe)|0)+Math.imul(tt,Nt)|0,P=P+Math.imul(tt,oe)|0,x=x+Math.imul(W,Ot)|0,_=(_=_+Math.imul(W,he)|0)+Math.imul(Y,Ot)|0,P=P+Math.imul(Y,he)|0,x=x+Math.imul(K,Yt)|0,_=(_=_+Math.imul(K,we)|0)+Math.imul(B,Yt)|0,P=P+Math.imul(B,we)|0;var Le=(F+(x=x+Math.imul(X,Wt)|0)|0)+((8191&(_=(_=_+Math.imul(X,ae)|0)+Math.imul(J,Wt)|0))<<13)|0;F=((P=P+Math.imul(J,ae)|0)+(_>>>13)|0)+(Le>>>26)|0,Le&=67108863,x=Math.imul(it,_t),_=(_=Math.imul(it,Tt))+Math.imul(ht,_t)|0,P=Math.imul(ht,Tt),x=x+Math.imul(st,Nt)|0,_=(_=_+Math.imul(st,oe)|0)+Math.imul($,Nt)|0,P=P+Math.imul($,oe)|0,x=x+Math.imul(Z,Ot)|0,_=(_=_+Math.imul(Z,he)|0)+Math.imul(tt,Ot)|0,P=P+Math.imul(tt,he)|0,x=x+Math.imul(W,Yt)|0,_=(_=_+Math.imul(W,we)|0)+Math.imul(Y,Yt)|0,P=P+Math.imul(Y,we)|0,x=x+Math.imul(K,Wt)|0,_=(_=_+Math.imul(K,ae)|0)+Math.imul(B,Wt)|0,P=P+Math.imul(B,ae)|0;var je=(F+(x=x+Math.imul(X,qt)|0)|0)+((8191&(_=(_=_+Math.imul(X,fe)|0)+Math.imul(J,qt)|0))<<13)|0;F=((P=P+Math.imul(J,fe)|0)+(_>>>13)|0)+(je>>>26)|0,je&=67108863,x=Math.imul(ut,_t),_=(_=Math.imul(ut,Tt))+Math.imul(gt,_t)|0,P=Math.imul(gt,Tt),x=x+Math.imul(it,Nt)|0,_=(_=_+Math.imul(it,oe)|0)+Math.imul(ht,Nt)|0,P=P+Math.imul(ht,oe)|0,x=x+Math.imul(st,Ot)|0,_=(_=_+Math.imul(st,he)|0)+Math.imul($,Ot)|0,P=P+Math.imul($,he)|0,x=x+Math.imul(Z,Yt)|0,_=(_=_+Math.imul(Z,we)|0)+Math.imul(tt,Yt)|0,P=P+Math.imul(tt,we)|0,x=x+Math.imul(W,Wt)|0,_=(_=_+Math.imul(W,ae)|0)+Math.imul(Y,Wt)|0,P=P+Math.imul(Y,ae)|0,x=x+Math.imul(K,qt)|0,_=(_=_+Math.imul(K,fe)|0)+Math.imul(B,qt)|0,P=P+Math.imul(B,fe)|0;var Ye=(F+(x=x+Math.imul(X,Jt)|0)|0)+((8191&(_=(_=_+Math.imul(X,at)|0)+Math.imul(J,Jt)|0))<<13)|0;F=((P=P+Math.imul(J,at)|0)+(_>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(xt,_t),_=(_=Math.imul(xt,Tt))+Math.imul(kt,_t)|0,P=Math.imul(kt,Tt),x=x+Math.imul(ut,Nt)|0,_=(_=_+Math.imul(ut,oe)|0)+Math.imul(gt,Nt)|0,P=P+Math.imul(gt,oe)|0,x=x+Math.imul(it,Ot)|0,_=(_=_+Math.imul(it,he)|0)+Math.imul(ht,Ot)|0,P=P+Math.imul(ht,he)|0,x=x+Math.imul(st,Yt)|0,_=(_=_+Math.imul(st,we)|0)+Math.imul($,Yt)|0,P=P+Math.imul($,we)|0,x=x+Math.imul(Z,Wt)|0,_=(_=_+Math.imul(Z,ae)|0)+Math.imul(tt,Wt)|0,P=P+Math.imul(tt,ae)|0,x=x+Math.imul(W,qt)|0,_=(_=_+Math.imul(W,fe)|0)+Math.imul(Y,qt)|0,P=P+Math.imul(Y,fe)|0,x=x+Math.imul(K,Jt)|0,_=(_=_+Math.imul(K,at)|0)+Math.imul(B,Jt)|0,P=P+Math.imul(B,at)|0;var et=(F+(x=x+Math.imul(X,bt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Et)|0)+Math.imul(J,bt)|0))<<13)|0;F=((P=P+Math.imul(J,Et)|0)+(_>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(Ct,_t),_=(_=Math.imul(Ct,Tt))+Math.imul(Lt,_t)|0,P=Math.imul(Lt,Tt),x=x+Math.imul(xt,Nt)|0,_=(_=_+Math.imul(xt,oe)|0)+Math.imul(kt,Nt)|0,P=P+Math.imul(kt,oe)|0,x=x+Math.imul(ut,Ot)|0,_=(_=_+Math.imul(ut,he)|0)+Math.imul(gt,Ot)|0,P=P+Math.imul(gt,he)|0,x=x+Math.imul(it,Yt)|0,_=(_=_+Math.imul(it,we)|0)+Math.imul(ht,Yt)|0,P=P+Math.imul(ht,we)|0,x=x+Math.imul(st,Wt)|0,_=(_=_+Math.imul(st,ae)|0)+Math.imul($,Wt)|0,P=P+Math.imul($,ae)|0,x=x+Math.imul(Z,qt)|0,_=(_=_+Math.imul(Z,fe)|0)+Math.imul(tt,qt)|0,P=P+Math.imul(tt,fe)|0,x=x+Math.imul(W,Jt)|0,_=(_=_+Math.imul(W,at)|0)+Math.imul(Y,Jt)|0,P=P+Math.imul(Y,at)|0,x=x+Math.imul(K,bt)|0,_=(_=_+Math.imul(K,Et)|0)+Math.imul(B,bt)|0,P=P+Math.imul(B,Et)|0;var pt=(F+(x=x+Math.imul(X,Dt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Xt)|0)+Math.imul(J,Dt)|0))<<13)|0;F=((P=P+Math.imul(J,Xt)|0)+(_>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(It,_t),_=(_=Math.imul(It,Tt))+Math.imul(zt,_t)|0,P=Math.imul(zt,Tt),x=x+Math.imul(Ct,Nt)|0,_=(_=_+Math.imul(Ct,oe)|0)+Math.imul(Lt,Nt)|0,P=P+Math.imul(Lt,oe)|0,x=x+Math.imul(xt,Ot)|0,_=(_=_+Math.imul(xt,he)|0)+Math.imul(kt,Ot)|0,P=P+Math.imul(kt,he)|0,x=x+Math.imul(ut,Yt)|0,_=(_=_+Math.imul(ut,we)|0)+Math.imul(gt,Yt)|0,P=P+Math.imul(gt,we)|0,x=x+Math.imul(it,Wt)|0,_=(_=_+Math.imul(it,ae)|0)+Math.imul(ht,Wt)|0,P=P+Math.imul(ht,ae)|0,x=x+Math.imul(st,qt)|0,_=(_=_+Math.imul(st,fe)|0)+Math.imul($,qt)|0,P=P+Math.imul($,fe)|0,x=x+Math.imul(Z,Jt)|0,_=(_=_+Math.imul(Z,at)|0)+Math.imul(tt,Jt)|0,P=P+Math.imul(tt,at)|0,x=x+Math.imul(W,bt)|0,_=(_=_+Math.imul(W,Et)|0)+Math.imul(Y,bt)|0,P=P+Math.imul(Y,Et)|0,x=x+Math.imul(K,Dt)|0,_=(_=_+Math.imul(K,Xt)|0)+Math.imul(B,Dt)|0,P=P+Math.imul(B,Xt)|0;var wt=(F+(x=x+Math.imul(X,jt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Zt)|0)+Math.imul(J,jt)|0))<<13)|0;F=((P=P+Math.imul(J,Zt)|0)+(_>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(It,Nt),_=(_=Math.imul(It,oe))+Math.imul(zt,Nt)|0,P=Math.imul(zt,oe),x=x+Math.imul(Ct,Ot)|0,_=(_=_+Math.imul(Ct,he)|0)+Math.imul(Lt,Ot)|0,P=P+Math.imul(Lt,he)|0,x=x+Math.imul(xt,Yt)|0,_=(_=_+Math.imul(xt,we)|0)+Math.imul(kt,Yt)|0,P=P+Math.imul(kt,we)|0,x=x+Math.imul(ut,Wt)|0,_=(_=_+Math.imul(ut,ae)|0)+Math.imul(gt,Wt)|0,P=P+Math.imul(gt,ae)|0,x=x+Math.imul(it,qt)|0,_=(_=_+Math.imul(it,fe)|0)+Math.imul(ht,qt)|0,P=P+Math.imul(ht,fe)|0,x=x+Math.imul(st,Jt)|0,_=(_=_+Math.imul(st,at)|0)+Math.imul($,Jt)|0,P=P+Math.imul($,at)|0,x=x+Math.imul(Z,bt)|0,_=(_=_+Math.imul(Z,Et)|0)+Math.imul(tt,bt)|0,P=P+Math.imul(tt,Et)|0,x=x+Math.imul(W,Dt)|0,_=(_=_+Math.imul(W,Xt)|0)+Math.imul(Y,Dt)|0,P=P+Math.imul(Y,Xt)|0;var vt=(F+(x=x+Math.imul(K,jt)|0)|0)+((8191&(_=(_=_+Math.imul(K,Zt)|0)+Math.imul(B,jt)|0))<<13)|0;F=((P=P+Math.imul(B,Zt)|0)+(_>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(It,Ot),_=(_=Math.imul(It,he))+Math.imul(zt,Ot)|0,P=Math.imul(zt,he),x=x+Math.imul(Ct,Yt)|0,_=(_=_+Math.imul(Ct,we)|0)+Math.imul(Lt,Yt)|0,P=P+Math.imul(Lt,we)|0,x=x+Math.imul(xt,Wt)|0,_=(_=_+Math.imul(xt,ae)|0)+Math.imul(kt,Wt)|0,P=P+Math.imul(kt,ae)|0,x=x+Math.imul(ut,qt)|0,_=(_=_+Math.imul(ut,fe)|0)+Math.imul(gt,qt)|0,P=P+Math.imul(gt,fe)|0,x=x+Math.imul(it,Jt)|0,_=(_=_+Math.imul(it,at)|0)+Math.imul(ht,Jt)|0,P=P+Math.imul(ht,at)|0,x=x+Math.imul(st,bt)|0,_=(_=_+Math.imul(st,Et)|0)+Math.imul($,bt)|0,P=P+Math.imul($,Et)|0,x=x+Math.imul(Z,Dt)|0,_=(_=_+Math.imul(Z,Xt)|0)+Math.imul(tt,Dt)|0,P=P+Math.imul(tt,Xt)|0;var Vt=(F+(x=x+Math.imul(W,jt)|0)|0)+((8191&(_=(_=_+Math.imul(W,Zt)|0)+Math.imul(Y,jt)|0))<<13)|0;F=((P=P+Math.imul(Y,Zt)|0)+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,x=Math.imul(It,Yt),_=(_=Math.imul(It,we))+Math.imul(zt,Yt)|0,P=Math.imul(zt,we),x=x+Math.imul(Ct,Wt)|0,_=(_=_+Math.imul(Ct,ae)|0)+Math.imul(Lt,Wt)|0,P=P+Math.imul(Lt,ae)|0,x=x+Math.imul(xt,qt)|0,_=(_=_+Math.imul(xt,fe)|0)+Math.imul(kt,qt)|0,P=P+Math.imul(kt,fe)|0,x=x+Math.imul(ut,Jt)|0,_=(_=_+Math.imul(ut,at)|0)+Math.imul(gt,Jt)|0,P=P+Math.imul(gt,at)|0,x=x+Math.imul(it,bt)|0,_=(_=_+Math.imul(it,Et)|0)+Math.imul(ht,bt)|0,P=P+Math.imul(ht,Et)|0,x=x+Math.imul(st,Dt)|0,_=(_=_+Math.imul(st,Xt)|0)+Math.imul($,Dt)|0,P=P+Math.imul($,Xt)|0;var Mt=(F+(x=x+Math.imul(Z,jt)|0)|0)+((8191&(_=(_=_+Math.imul(Z,Zt)|0)+Math.imul(tt,jt)|0))<<13)|0;F=((P=P+Math.imul(tt,Zt)|0)+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,x=Math.imul(It,Wt),_=(_=Math.imul(It,ae))+Math.imul(zt,Wt)|0,P=Math.imul(zt,ae),x=x+Math.imul(Ct,qt)|0,_=(_=_+Math.imul(Ct,fe)|0)+Math.imul(Lt,qt)|0,P=P+Math.imul(Lt,fe)|0,x=x+Math.imul(xt,Jt)|0,_=(_=_+Math.imul(xt,at)|0)+Math.imul(kt,Jt)|0,P=P+Math.imul(kt,at)|0,x=x+Math.imul(ut,bt)|0,_=(_=_+Math.imul(ut,Et)|0)+Math.imul(gt,bt)|0,P=P+Math.imul(gt,Et)|0,x=x+Math.imul(it,Dt)|0,_=(_=_+Math.imul(it,Xt)|0)+Math.imul(ht,Dt)|0,P=P+Math.imul(ht,Xt)|0;var Pt=(F+(x=x+Math.imul(st,jt)|0)|0)+((8191&(_=(_=_+Math.imul(st,Zt)|0)+Math.imul($,jt)|0))<<13)|0;F=((P=P+Math.imul($,Zt)|0)+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,x=Math.imul(It,qt),_=(_=Math.imul(It,fe))+Math.imul(zt,qt)|0,P=Math.imul(zt,fe),x=x+Math.imul(Ct,Jt)|0,_=(_=_+Math.imul(Ct,at)|0)+Math.imul(Lt,Jt)|0,P=P+Math.imul(Lt,at)|0,x=x+Math.imul(xt,bt)|0,_=(_=_+Math.imul(xt,Et)|0)+Math.imul(kt,bt)|0,P=P+Math.imul(kt,Et)|0,x=x+Math.imul(ut,Dt)|0,_=(_=_+Math.imul(ut,Xt)|0)+Math.imul(gt,Dt)|0,P=P+Math.imul(gt,Xt)|0;var ie=(F+(x=x+Math.imul(it,jt)|0)|0)+((8191&(_=(_=_+Math.imul(it,Zt)|0)+Math.imul(ht,jt)|0))<<13)|0;F=((P=P+Math.imul(ht,Zt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,x=Math.imul(It,Jt),_=(_=Math.imul(It,at))+Math.imul(zt,Jt)|0,P=Math.imul(zt,at),x=x+Math.imul(Ct,bt)|0,_=(_=_+Math.imul(Ct,Et)|0)+Math.imul(Lt,bt)|0,P=P+Math.imul(Lt,Et)|0,x=x+Math.imul(xt,Dt)|0,_=(_=_+Math.imul(xt,Xt)|0)+Math.imul(kt,Dt)|0,P=P+Math.imul(kt,Xt)|0;var $t=(F+(x=x+Math.imul(ut,jt)|0)|0)+((8191&(_=(_=_+Math.imul(ut,Zt)|0)+Math.imul(gt,jt)|0))<<13)|0;F=((P=P+Math.imul(gt,Zt)|0)+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,x=Math.imul(It,bt),_=(_=Math.imul(It,Et))+Math.imul(zt,bt)|0,P=Math.imul(zt,Et),x=x+Math.imul(Ct,Dt)|0,_=(_=_+Math.imul(Ct,Xt)|0)+Math.imul(Lt,Dt)|0,P=P+Math.imul(Lt,Xt)|0;var Qt=(F+(x=x+Math.imul(xt,jt)|0)|0)+((8191&(_=(_=_+Math.imul(xt,Zt)|0)+Math.imul(kt,jt)|0))<<13)|0;F=((P=P+Math.imul(kt,Zt)|0)+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,x=Math.imul(It,Dt),_=(_=Math.imul(It,Xt))+Math.imul(zt,Dt)|0,P=Math.imul(zt,Xt);var Ht=(F+(x=x+Math.imul(Ct,jt)|0)|0)+((8191&(_=(_=_+Math.imul(Ct,Zt)|0)+Math.imul(Lt,jt)|0))<<13)|0;F=((P=P+Math.imul(Lt,Zt)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ge=(F+(x=Math.imul(It,jt))|0)+((8191&(_=(_=Math.imul(It,Zt))+Math.imul(zt,jt)|0))<<13)|0;return F=((P=Math.imul(zt,Zt))+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,R[0]=Kt,R[1]=ne,R[2]=Ae,R[3]=xe,R[4]=Le,R[5]=je,R[6]=Ye,R[7]=et,R[8]=pt,R[9]=wt,R[10]=vt,R[11]=Vt,R[12]=Mt,R[13]=Pt,R[14]=ie,R[15]=$t,R[16]=Qt,R[17]=Ht,R[18]=ge,F!==0&&(R[19]=F,E.length++),E};function v(A,N,E){return new C().mulp(A,N,E)}function C(A,N){this.x=A,this.y=N}Math.imul||(y=m),e.prototype.mulTo=function(A,N){var E=this.length+A.length;return this.length===10&&A.length===10?y(this,A,N):E<63?m(this,A,N):E<1024?function(x,_,P){P.negative=_.negative^x.negative,P.length=x.length+_.length;for(var M=0,k=0,R=0;R<P.length-1;R++){var F=k;k=0;for(var q=67108863&M,X=Math.min(R,_.length-1),J=Math.max(0,R-x.length+1);J<=X;J++){var j=R-J,K=(0|x.words[j])*(0|_.words[J]),B=67108863&K;q=67108863&(B=B+q|0),k+=(F=(F=F+(K/67108864|0)|0)+(B>>>26)|0)>>>26,F&=67108863}P.words[R]=q,M=F,F=k}return M!==0?P.words[R]=M:P.length--,P.strip()}(this,A,N):v(this,A,N)},C.prototype.makeRBT=function(A){for(var N=new Array(A),E=e.prototype._countBits(A)-1,x=0;x<A;x++)N[x]=this.revBin(x,E,A);return N},C.prototype.revBin=function(A,N,E){if(A===0||A===E-1)return A;for(var x=0,_=0;_<N;_++)x|=(1&A)<<N-_-1,A>>=1;return x},C.prototype.permute=function(A,N,E,x,_,P){for(var M=0;M<P;M++)x[M]=N[A[M]],_[M]=E[A[M]]},C.prototype.transform=function(A,N,E,x,_,P){this.permute(P,A,N,E,x,_);for(var M=1;M<_;M<<=1)for(var k=M<<1,R=Math.cos(2*Math.PI/k),F=Math.sin(2*Math.PI/k),q=0;q<_;q+=k)for(var X=R,J=F,j=0;j<M;j++){var K=E[q+j],B=x[q+j],T=E[q+j+M],W=x[q+j+M],Y=X*T-J*W;W=X*W+J*T,T=Y,E[q+j]=K+T,x[q+j]=B+W,E[q+j+M]=K-T,x[q+j+M]=B-W,j!==k&&(Y=R*X-F*J,J=R*J+F*X,X=Y)}},C.prototype.guessLen13b=function(A,N){var E=1|Math.max(N,A),x=1&E,_=0;for(E=E/2|0;E;E>>>=1)_++;return 1<<_+1+x},C.prototype.conjugate=function(A,N,E){if(!(E<=1))for(var x=0;x<E/2;x++){var _=A[x];A[x]=A[E-x-1],A[E-x-1]=_,_=N[x],N[x]=-N[E-x-1],N[E-x-1]=-_}},C.prototype.normalize13b=function(A,N){for(var E=0,x=0;x<N/2;x++){var _=8192*Math.round(A[2*x+1]/N)+Math.round(A[2*x]/N)+E;A[x]=67108863&_,E=_<67108864?0:_/67108864|0}return A},C.prototype.convert13b=function(A,N,E,x){for(var _=0,P=0;P<N;P++)_+=0|A[P],E[2*P]=8191&_,_>>>=13,E[2*P+1]=8191&_,_>>>=13;for(P=2*N;P<x;++P)E[P]=0;i(_===0),i((-8192&_)==0)},C.prototype.stub=function(A){for(var N=new Array(A),E=0;E<A;E++)N[E]=0;return N},C.prototype.mulp=function(A,N,E){var x=2*this.guessLen13b(A.length,N.length),_=this.makeRBT(x),P=this.stub(x),M=new Array(x),k=new Array(x),R=new Array(x),F=new Array(x),q=new Array(x),X=new Array(x),J=E.words;J.length=x,this.convert13b(A.words,A.length,M,x),this.convert13b(N.words,N.length,F,x),this.transform(M,P,k,R,x,_),this.transform(F,P,q,X,x,_);for(var j=0;j<x;j++){var K=k[j]*q[j]-R[j]*X[j];R[j]=k[j]*X[j]+R[j]*q[j],k[j]=K}return this.conjugate(k,R,x),this.transform(k,R,J,P,x,_),this.conjugate(J,P,x),this.normalize13b(J,x),E.negative=A.negative^N.negative,E.length=A.length+N.length,E.strip()},e.prototype.mul=function(A){var N=new e(null);return N.words=new Array(this.length+A.length),this.mulTo(A,N)},e.prototype.mulf=function(A){var N=new e(null);return N.words=new Array(this.length+A.length),v(this,A,N)},e.prototype.imul=function(A){return this.clone().mulTo(A,this)},e.prototype.imuln=function(A){i(typeof A=="number"),i(A<67108864);for(var N=0,E=0;E<this.length;E++){var x=(0|this.words[E])*A,_=(67108863&x)+(67108863&N);N>>=26,N+=x/67108864|0,N+=_>>>26,this.words[E]=67108863&_}return N!==0&&(this.words[E]=N,this.length++),this},e.prototype.muln=function(A){return this.clone().imuln(A)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(A){var N=function(P){for(var M=new Array(P.bitLength()),k=0;k<M.length;k++){var R=k/26|0,F=k%26;M[k]=(P.words[R]&1<<F)>>>F}return M}(A);if(N.length===0)return new e(1);for(var E=this,x=0;x<N.length&&N[x]===0;x++,E=E.sqr());if(++x<N.length)for(var _=E.sqr();x<N.length;x++,_=_.sqr())N[x]!==0&&(E=E.mul(_));return E},e.prototype.iushln=function(A){i(typeof A=="number"&&A>=0);var N,E=A%26,x=(A-E)/26,_=67108863>>>26-E<<26-E;if(E!==0){var P=0;for(N=0;N<this.length;N++){var M=this.words[N]&_,k=(0|this.words[N])-M<<E;this.words[N]=k|P,P=M>>>26-E}P&&(this.words[N]=P,this.length++)}if(x!==0){for(N=this.length-1;N>=0;N--)this.words[N+x]=this.words[N];for(N=0;N<x;N++)this.words[N]=0;this.length+=x}return this.strip()},e.prototype.ishln=function(A){return i(this.negative===0),this.iushln(A)},e.prototype.iushrn=function(A,N,E){var x;i(typeof A=="number"&&A>=0),x=N?(N-N%26)/26:0;var _=A%26,P=Math.min((A-_)/26,this.length),M=67108863^67108863>>>_<<_,k=E;if(x-=P,x=Math.max(0,x),k){for(var R=0;R<P;R++)k.words[R]=this.words[R];k.length=P}if(P!==0)if(this.length>P)for(this.length-=P,R=0;R<this.length;R++)this.words[R]=this.words[R+P];else this.words[0]=0,this.length=1;var F=0;for(R=this.length-1;R>=0&&(F!==0||R>=x);R--){var q=0|this.words[R];this.words[R]=F<<26-_|q>>>_,F=q&M}return k&&F!==0&&(k.words[k.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(A,N,E){return i(this.negative===0),this.iushrn(A,N,E)},e.prototype.shln=function(A){return this.clone().ishln(A)},e.prototype.ushln=function(A){return this.clone().iushln(A)},e.prototype.shrn=function(A){return this.clone().ishrn(A)},e.prototype.ushrn=function(A){return this.clone().iushrn(A)},e.prototype.testn=function(A){i(typeof A=="number"&&A>=0);var N=A%26,E=(A-N)/26,x=1<<N;return!(this.length<=E)&&!!(this.words[E]&x)},e.prototype.imaskn=function(A){i(typeof A=="number"&&A>=0);var N=A%26,E=(A-N)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(N!==0&&E++,this.length=Math.min(E,this.length),N!==0){var x=67108863^67108863>>>N<<N;this.words[this.length-1]&=x}return this.strip()},e.prototype.maskn=function(A){return this.clone().imaskn(A)},e.prototype.iaddn=function(A){return i(typeof A=="number"),i(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},e.prototype._iaddn=function(A){this.words[0]+=A;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},e.prototype.isubn=function(A){if(i(typeof A=="number"),i(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},e.prototype.addn=function(A){return this.clone().iaddn(A)},e.prototype.subn=function(A){return this.clone().isubn(A)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(A,N,E){var x,_,P=A.length+E;this._expand(P);var M=0;for(x=0;x<A.length;x++){_=(0|this.words[x+E])+M;var k=(0|A.words[x])*N;M=((_-=67108863&k)>>26)-(k/67108864|0),this.words[x+E]=67108863&_}for(;x<this.length-E;x++)M=(_=(0|this.words[x+E])+M)>>26,this.words[x+E]=67108863&_;if(M===0)return this.strip();for(i(M===-1),M=0,x=0;x<this.length;x++)M=(_=-(0|this.words[x])+M)>>26,this.words[x]=67108863&_;return this.negative=1,this.strip()},e.prototype._wordDiv=function(A,N){var E=(this.length,A.length),x=this.clone(),_=A,P=0|_.words[_.length-1];(E=26-this._countBits(P))!==0&&(_=_.ushln(E),x.iushln(E),P=0|_.words[_.length-1]);var M,k=x.length-_.length;if(N!=="mod"){(M=new e(null)).length=k+1,M.words=new Array(M.length);for(var R=0;R<M.length;R++)M.words[R]=0}var F=x.clone()._ishlnsubmul(_,1,k);F.negative===0&&(x=F,M&&(M.words[k]=1));for(var q=k-1;q>=0;q--){var X=67108864*(0|x.words[_.length+q])+(0|x.words[_.length+q-1]);for(X=Math.min(X/P|0,67108863),x._ishlnsubmul(_,X,q);x.negative!==0;)X--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);M&&(M.words[q]=X)}return M&&M.strip(),x.strip(),N!=="div"&&E!==0&&x.iushrn(E),{div:M||null,mod:x}},e.prototype.divmod=function(A,N,E){return i(!A.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&A.negative===0?(P=this.neg().divmod(A,N),N!=="mod"&&(x=P.div.neg()),N!=="div"&&(_=P.mod.neg(),E&&_.negative!==0&&_.iadd(A)),{div:x,mod:_}):this.negative===0&&A.negative!==0?(P=this.divmod(A.neg(),N),N!=="mod"&&(x=P.div.neg()),{div:x,mod:P.mod}):this.negative&A.negative?(P=this.neg().divmod(A.neg(),N),N!=="div"&&(_=P.mod.neg(),E&&_.negative!==0&&_.isub(A)),{div:P.div,mod:_}):A.length>this.length||this.cmp(A)<0?{div:new e(0),mod:this}:A.length===1?N==="div"?{div:this.divn(A.words[0]),mod:null}:N==="mod"?{div:null,mod:new e(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new e(this.modn(A.words[0]))}:this._wordDiv(A,N);var x,_,P},e.prototype.div=function(A){return this.divmod(A,"div",!1).div},e.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},e.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},e.prototype.divRound=function(A){var N=this.divmod(A);if(N.mod.isZero())return N.div;var E=N.div.negative!==0?N.mod.isub(A):N.mod,x=A.ushrn(1),_=A.andln(1),P=E.cmp(x);return P<0||_===1&&P===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},e.prototype.modn=function(A){i(A<=67108863);for(var N=(1<<26)%A,E=0,x=this.length-1;x>=0;x--)E=(N*E+(0|this.words[x]))%A;return E},e.prototype.idivn=function(A){i(A<=67108863);for(var N=0,E=this.length-1;E>=0;E--){var x=(0|this.words[E])+67108864*N;this.words[E]=x/A|0,N=x%A}return this.strip()},e.prototype.divn=function(A){return this.clone().idivn(A)},e.prototype.egcd=function(A){i(A.negative===0),i(!A.isZero());var N=this,E=A.clone();N=N.negative!==0?N.umod(A):N.clone();for(var x=new e(1),_=new e(0),P=new e(0),M=new e(1),k=0;N.isEven()&&E.isEven();)N.iushrn(1),E.iushrn(1),++k;for(var R=E.clone(),F=N.clone();!N.isZero();){for(var q=0,X=1;!(N.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(N.iushrn(q);q-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(R),_.isub(F)),x.iushrn(1),_.iushrn(1);for(var J=0,j=1;!(E.words[0]&j)&&J<26;++J,j<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(P.isOdd()||M.isOdd())&&(P.iadd(R),M.isub(F)),P.iushrn(1),M.iushrn(1);N.cmp(E)>=0?(N.isub(E),x.isub(P),_.isub(M)):(E.isub(N),P.isub(x),M.isub(_))}return{a:P,b:M,gcd:E.iushln(k)}},e.prototype._invmp=function(A){i(A.negative===0),i(!A.isZero());var N=this,E=A.clone();N=N.negative!==0?N.umod(A):N.clone();for(var x,_=new e(1),P=new e(0),M=E.clone();N.cmpn(1)>0&&E.cmpn(1)>0;){for(var k=0,R=1;!(N.words[0]&R)&&k<26;++k,R<<=1);if(k>0)for(N.iushrn(k);k-- >0;)_.isOdd()&&_.iadd(M),_.iushrn(1);for(var F=0,q=1;!(E.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(E.iushrn(F);F-- >0;)P.isOdd()&&P.iadd(M),P.iushrn(1);N.cmp(E)>=0?(N.isub(E),_.isub(P)):(E.isub(N),P.isub(_))}return(x=N.cmpn(1)===0?_:P).cmpn(0)<0&&x.iadd(A),x},e.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var N=this.clone(),E=A.clone();N.negative=0,E.negative=0;for(var x=0;N.isEven()&&E.isEven();x++)N.iushrn(1),E.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;E.isEven();)E.iushrn(1);var _=N.cmp(E);if(_<0){var P=N;N=E,E=P}else if(_===0||E.cmpn(1)===0)break;N.isub(E)}return E.iushln(x)},e.prototype.invm=function(A){return this.egcd(A).a.umod(A)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(A){return this.words[0]&A},e.prototype.bincn=function(A){i(typeof A=="number");var N=A%26,E=(A-N)/26,x=1<<N;if(this.length<=E)return this._expand(E+1),this.words[E]|=x,this;for(var _=x,P=E;_!==0&&P<this.length;P++){var M=0|this.words[P];_=(M+=_)>>>26,M&=67108863,this.words[P]=M}return _!==0&&(this.words[P]=_,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(A){var N,E=A<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)N=1;else{E&&(A=-A),i(A<=67108863,"Number is too big");var x=0|this.words[0];N=x===A?0:x<A?-1:1}return this.negative!==0?0|-N:N},e.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var N=this.ucmp(A);return this.negative!==0?0|-N:N},e.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var N=0,E=this.length-1;E>=0;E--){var x=0|this.words[E],_=0|A.words[E];if(x!==_){x<_?N=-1:x>_&&(N=1);break}}return N},e.prototype.gtn=function(A){return this.cmpn(A)===1},e.prototype.gt=function(A){return this.cmp(A)===1},e.prototype.gten=function(A){return this.cmpn(A)>=0},e.prototype.gte=function(A){return this.cmp(A)>=0},e.prototype.ltn=function(A){return this.cmpn(A)===-1},e.prototype.lt=function(A){return this.cmp(A)===-1},e.prototype.lten=function(A){return this.cmpn(A)<=0},e.prototype.lte=function(A){return this.cmp(A)<=0},e.prototype.eqn=function(A){return this.cmpn(A)===0},e.prototype.eq=function(A){return this.cmp(A)===0},e.red=function(A){return new G(A)},e.prototype.toRed=function(A){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},e.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(A){return this.red=A,this},e.prototype.forceRed=function(A){return i(!this.red,"Already a number in reduction context"),this._forceRed(A)},e.prototype.redAdd=function(A){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},e.prototype.redIAdd=function(A){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},e.prototype.redSub=function(A){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},e.prototype.redISub=function(A){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},e.prototype.redShl=function(A){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},e.prototype.redMul=function(A){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},e.prototype.redIMul=function(A){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},e.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(A){return i(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var S={k256:null,p224:null,p192:null,p25519:null};function I(A,N){this.name=A,this.p=new e(N,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(A){if(typeof A=="string"){var N=e._prime(A);this.m=N.p,this.prime=N}else i(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function H(A){G.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var A=new e(null);return A.words=new Array(Math.ceil(this.n/13)),A},I.prototype.ireduce=function(A){var N,E=A;do this.split(E,this.tmp),N=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(N>this.n);var x=N<this.n?-1:E.ucmp(this.p);return x===0?(E.words[0]=0,E.length=1):x>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},I.prototype.split=function(A,N){A.iushrn(this.n,0,N)},I.prototype.imulK=function(A){return A.imul(this.k)},s(z,I),z.prototype.split=function(A,N){for(var E=Math.min(A.length,9),x=0;x<E;x++)N.words[x]=A.words[x];if(N.length=E,A.length<=9)return A.words[0]=0,void(A.length=1);var _=A.words[9];for(N.words[N.length++]=4194303&_,x=10;x<A.length;x++){var P=0|A.words[x];A.words[x-10]=(4194303&P)<<4|_>>>22,_=P}_>>>=22,A.words[x-10]=_,_===0&&A.length>10?A.length-=10:A.length-=9},z.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var N=0,E=0;E<A.length;E++){var x=0|A.words[E];N+=977*x,A.words[E]=67108863&N,N=64*x+(N/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},s(V,I),s(L,I),s(U,I),U.prototype.imulK=function(A){for(var N=0,E=0;E<A.length;E++){var x=19*(0|A.words[E])+N,_=67108863&x;x>>>=26,A.words[E]=_,N=x}return N!==0&&(A.words[A.length++]=N),A},e._prime=function(A){if(S[A])return S[A];var N;if(A==="k256")N=new z;else if(A==="p224")N=new V;else if(A==="p192")N=new L;else{if(A!=="p25519")throw new Error("Unknown prime "+A);N=new U}return S[A]=N,N},G.prototype._verify1=function(A){i(A.negative===0,"red works only with positives"),i(A.red,"red works only with red numbers")},G.prototype._verify2=function(A,N){i((A.negative|N.negative)==0,"red works only with positives"),i(A.red&&A.red===N.red,"red works only with red numbers")},G.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},G.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},G.prototype.add=function(A,N){this._verify2(A,N);var E=A.add(N);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},G.prototype.iadd=function(A,N){this._verify2(A,N);var E=A.iadd(N);return E.cmp(this.m)>=0&&E.isub(this.m),E},G.prototype.sub=function(A,N){this._verify2(A,N);var E=A.sub(N);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},G.prototype.isub=function(A,N){this._verify2(A,N);var E=A.isub(N);return E.cmpn(0)<0&&E.iadd(this.m),E},G.prototype.shl=function(A,N){return this._verify1(A),this.imod(A.ushln(N))},G.prototype.imul=function(A,N){return this._verify2(A,N),this.imod(A.imul(N))},G.prototype.mul=function(A,N){return this._verify2(A,N),this.imod(A.mul(N))},G.prototype.isqr=function(A){return this.imul(A,A.clone())},G.prototype.sqr=function(A){return this.mul(A,A)},G.prototype.sqrt=function(A){if(A.isZero())return A.clone();var N=this.m.andln(3);if(i(N%2==1),N===3){var E=this.m.add(new e(1)).iushrn(2);return this.pow(A,E)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);i(!x.isZero());var P=new e(1).toRed(this),M=P.redNeg(),k=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new e(2*R*R).toRed(this);this.pow(R,k).cmp(M)!==0;)R.redIAdd(M);for(var F=this.pow(R,x),q=this.pow(A,x.addn(1).iushrn(1)),X=this.pow(A,x),J=_;X.cmp(P)!==0;){for(var j=X,K=0;j.cmp(P)!==0;K++)j=j.redSqr();i(K<J);var B=this.pow(F,new e(1).iushln(J-K-1));q=q.redMul(B),F=B.redSqr(),X=X.redMul(F),J=K}return q},G.prototype.invm=function(A){var N=A._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},G.prototype.pow=function(A,N){if(N.isZero())return new e(1).toRed(this);if(N.cmpn(1)===0)return A.clone();var E=new Array(16);E[0]=new e(1).toRed(this),E[1]=A;for(var x=2;x<E.length;x++)E[x]=this.mul(E[x-1],A);var _=E[0],P=0,M=0,k=N.bitLength()%26;for(k===0&&(k=26),x=N.length-1;x>=0;x--){for(var R=N.words[x],F=k-1;F>=0;F--){var q=R>>F&1;_!==E[0]&&(_=this.sqr(_)),q!==0||P!==0?(P<<=1,P|=q,(++M===4||x===0&&F===0)&&(_=this.mul(_,E[P]),M=0,P=0)):M=0}k=26}return _},G.prototype.convertTo=function(A){var N=A.umod(this.m);return N===A?N.clone():N},G.prototype.convertFrom=function(A){var N=A.clone();return N.red=null,N},e.mont=function(A){return new H(A)},s(H,G),H.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},H.prototype.convertFrom=function(A){var N=this.imod(A.mul(this.rinv));return N.red=null,N},H.prototype.imul=function(A,N){if(A.isZero()||N.isZero())return A.words[0]=0,A.length=1,A;var E=A.imul(N),x=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=E.isub(x).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},H.prototype.mul=function(A,N){if(A.isZero()||N.isZero())return new e(0)._forceRed(this);var E=A.mul(N),x=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=E.isub(x).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},H.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(c===void 0||c)},{buffer:188}],185:[function(t,c,u){u.byteLength=function(h){var p=d(h),g=p[0],f=p[1];return 3*(g+f)/4-f},u.toByteArray=function(h){var p,g,f=d(h),m=f[0],y=f[1],v=new i(function(I,z,V){return 3*(z+V)/4-V}(0,m,y)),C=0,S=y>0?m-4:m;for(g=0;g<S;g+=4)p=r[h.charCodeAt(g)]<<18|r[h.charCodeAt(g+1)]<<12|r[h.charCodeAt(g+2)]<<6|r[h.charCodeAt(g+3)],v[C++]=p>>16&255,v[C++]=p>>8&255,v[C++]=255&p;return y===2&&(p=r[h.charCodeAt(g)]<<2|r[h.charCodeAt(g+1)]>>4,v[C++]=255&p),y===1&&(p=r[h.charCodeAt(g)]<<10|r[h.charCodeAt(g+1)]<<4|r[h.charCodeAt(g+2)]>>2,v[C++]=p>>8&255,v[C++]=255&p),v},u.fromByteArray=function(h){for(var p,g=h.length,f=g%3,m=[],y=0,v=g-f;y<v;y+=16383)m.push(l(h,y,y+16383>v?v:y+16383));return f===1?(p=h[g-1],m.push(a[p>>2]+a[p<<4&63]+"==")):f===2&&(p=(h[g-2]<<8)+h[g-1],m.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),m.join("")};for(var a=[],r=[],i=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=s.length;e<n;++e)a[e]=s[e],r[s.charCodeAt(e)]=e;function d(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function l(h,p,g){for(var f,m,y=[],v=p;v<g;v+=3)f=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(255&h[v+2]),y.push(a[(m=f)>>18&63]+a[m>>12&63]+a[m>>6&63]+a[63&m]);return y.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],186:[function(t,c,u){(function(a,r){function i(E,x){if(!E)throw new Error(x||"Assertion failed")}function s(E,x){E.super_=x;var _=function(){};_.prototype=x.prototype,E.prototype=new _,E.prototype.constructor=E}function e(E,x,_){if(e.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(x!=="le"&&x!=="be"||(_=x,x=10),this._init(E||0,x||10,_||"be"))}var n;typeof a=="object"?a.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{n=typeof window!="undefined"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch(E){}function d(E,x){var _=E.charCodeAt(x);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void i(!1,"Invalid character in "+E)}function l(E,x,_){var P=d(E,_);return _-1>=x&&(P|=d(E,_-1)<<4),P}function h(E,x,_,P){for(var M=0,k=0,R=Math.min(E.length,_),F=x;F<R;F++){var q=E.charCodeAt(F)-48;M*=P,k=q>=49?q-49+10:q>=17?q-17+10:q,i(q>=0&&k<P,"Invalid character"),M+=k}return M}function p(E,x){E.words=x.words,E.length=x.length,E.negative=x.negative,E.red=x.red}if(e.isBN=function(E){return E instanceof e||E!==null&&typeof E=="object"&&E.constructor.wordSize===e.wordSize&&Array.isArray(E.words)},e.max=function(E,x){return E.cmp(x)>0?E:x},e.min=function(E,x){return E.cmp(x)<0?E:x},e.prototype._init=function(E,x,_){if(typeof E=="number")return this._initNumber(E,x,_);if(typeof E=="object")return this._initArray(E,x,_);x==="hex"&&(x=16),i(x===(0|x)&&x>=2&&x<=36);var P=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(P++,this.negative=1),P<E.length&&(x===16?this._parseHex(E,P,_):(this._parseBase(E,x,P),_==="le"&&this._initArray(this.toArray(),x,_)))},e.prototype._initNumber=function(E,x,_){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(i(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),x,_)},e.prototype._initArray=function(E,x,_){if(i(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var M,k,R=0;if(_==="be")for(P=E.length-1,M=0;P>=0;P-=3)k=E[P]|E[P-1]<<8|E[P-2]<<16,this.words[M]|=k<<R&67108863,this.words[M+1]=k>>>26-R&67108863,(R+=24)>=26&&(R-=26,M++);else if(_==="le")for(P=0,M=0;P<E.length;P+=3)k=E[P]|E[P+1]<<8|E[P+2]<<16,this.words[M]|=k<<R&67108863,this.words[M+1]=k>>>26-R&67108863,(R+=24)>=26&&(R-=26,M++);return this._strip()},e.prototype._parseHex=function(E,x,_){this.length=Math.ceil((E.length-x)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var M,k=0,R=0;if(_==="be")for(P=E.length-1;P>=x;P-=2)M=l(E,x,P)<<k,this.words[R]|=67108863&M,k>=18?(k-=18,R+=1,this.words[R]|=M>>>26):k+=8;else for(P=(E.length-x)%2==0?x+1:x;P<E.length;P+=2)M=l(E,x,P)<<k,this.words[R]|=67108863&M,k>=18?(k-=18,R+=1,this.words[R]|=M>>>26):k+=8;this._strip()},e.prototype._parseBase=function(E,x,_){this.words=[0],this.length=1;for(var P=0,M=1;M<=67108863;M*=x)P++;P--,M=M/x|0;for(var k=E.length-_,R=k%P,F=Math.min(k,k-R)+_,q=0,X=_;X<F;X+=P)q=h(E,X,X+P,x),this.imuln(M),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(R!==0){var J=1;for(q=h(E,X,E.length,x),X=0;X<R;X++)J*=x;this.imuln(J),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},e.prototype.copy=function(E){E.words=new Array(this.length);for(var x=0;x<this.length;x++)E.words[x]=this.words[x];E.length=this.length,E.negative=this.negative,E.red=this.red},e.prototype._move=function(E){p(E,this)},e.prototype.clone=function(){var E=new e(null);return this.copy(E),E},e.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch(E){e.prototype.inspect=g}else e.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(E,x){var _;if(x=0|x||1,(E=E||10)===16||E==="hex"){_="";for(var P=0,M=0,k=0;k<this.length;k++){var R=this.words[k],F=(16777215&(R<<P|M)).toString(16);M=R>>>24-P&16777215,(P+=2)>=26&&(P-=26,k--),_=M!==0||k!==this.length-1?f[6-F.length]+F+_:F+_}for(M!==0&&(_=M.toString(16)+_);_.length%x!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(E===(0|E)&&E>=2&&E<=36){var q=m[E],X=y[E];_="";var J=this.clone();for(J.negative=0;!J.isZero();){var j=J.modrn(X).toString(E);_=(J=J.idivn(X)).isZero()?j+_:f[q-j.length]+j+_}for(this.isZero()&&(_="0"+_);_.length%x!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}i(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},e.prototype.toJSON=function(){return this.toString(16,2)},n&&(e.prototype.toBuffer=function(E,x){return this.toArrayLike(n,E,x)}),e.prototype.toArray=function(E,x){return this.toArrayLike(Array,E,x)};function v(E,x,_){_.negative=x.negative^E.negative;var P=E.length+x.length|0;_.length=P,P=P-1|0;var M=0|E.words[0],k=0|x.words[0],R=M*k,F=67108863&R,q=R/67108864|0;_.words[0]=F;for(var X=1;X<P;X++){for(var J=q>>>26,j=67108863&q,K=Math.min(X,x.length-1),B=Math.max(0,X-E.length+1);B<=K;B++){var T=X-B|0;J+=(R=(M=0|E.words[T])*(k=0|x.words[B])+j)/67108864|0,j=67108863&R}_.words[X]=0|j,q=0|J}return q!==0?_.words[X]=0|q:_.length--,_._strip()}e.prototype.toArrayLike=function(E,x,_){this._strip();var P=this.byteLength(),M=_||Math.max(1,P);i(P<=M,"byte array longer than desired length"),i(M>0,"Requested array length <= 0");var k=function(R,F){return R.allocUnsafe?R.allocUnsafe(F):new R(F)}(E,M);return this["_toArrayLike"+(x==="le"?"LE":"BE")](k,P),k},e.prototype._toArrayLikeLE=function(E,x){for(var _=0,P=0,M=0,k=0;M<this.length;M++){var R=this.words[M]<<k|P;E[_++]=255&R,_<E.length&&(E[_++]=R>>8&255),_<E.length&&(E[_++]=R>>16&255),k===6?(_<E.length&&(E[_++]=R>>24&255),P=0,k=0):(P=R>>>24,k+=2)}if(_<E.length)for(E[_++]=P;_<E.length;)E[_++]=0},e.prototype._toArrayLikeBE=function(E,x){for(var _=E.length-1,P=0,M=0,k=0;M<this.length;M++){var R=this.words[M]<<k|P;E[_--]=255&R,_>=0&&(E[_--]=R>>8&255),_>=0&&(E[_--]=R>>16&255),k===6?(_>=0&&(E[_--]=R>>24&255),P=0,k=0):(P=R>>>24,k+=2)}if(_>=0)for(E[_--]=P;_>=0;)E[_--]=0},Math.clz32?e.prototype._countBits=function(E){return 32-Math.clz32(E)}:e.prototype._countBits=function(E){var x=E,_=0;return x>=4096&&(_+=13,x>>>=13),x>=64&&(_+=7,x>>>=7),x>=8&&(_+=4,x>>>=4),x>=2&&(_+=2,x>>>=2),_+x},e.prototype._zeroBits=function(E){if(E===0)return 26;var x=E,_=0;return!(8191&x)&&(_+=13,x>>>=13),!(127&x)&&(_+=7,x>>>=7),!(15&x)&&(_+=4,x>>>=4),!(3&x)&&(_+=2,x>>>=2),!(1&x)&&_++,_},e.prototype.bitLength=function(){var E=this.words[this.length-1],x=this._countBits(E);return 26*(this.length-1)+x},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,x=0;x<this.length;x++){var _=this._zeroBits(this.words[x]);if(E+=_,_!==26)break}return E},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},e.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var x=0;x<E.length;x++)this.words[x]=this.words[x]|E.words[x];return this._strip()},e.prototype.ior=function(E){return i((this.negative|E.negative)==0),this.iuor(E)},e.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},e.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},e.prototype.iuand=function(E){var x;x=this.length>E.length?E:this;for(var _=0;_<x.length;_++)this.words[_]=this.words[_]&E.words[_];return this.length=x.length,this._strip()},e.prototype.iand=function(E){return i((this.negative|E.negative)==0),this.iuand(E)},e.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},e.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},e.prototype.iuxor=function(E){var x,_;this.length>E.length?(x=this,_=E):(x=E,_=this);for(var P=0;P<_.length;P++)this.words[P]=x.words[P]^_.words[P];if(this!==x)for(;P<x.length;P++)this.words[P]=x.words[P];return this.length=x.length,this._strip()},e.prototype.ixor=function(E){return i((this.negative|E.negative)==0),this.iuxor(E)},e.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},e.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},e.prototype.inotn=function(E){i(typeof E=="number"&&E>=0);var x=0|Math.ceil(E/26),_=E%26;this._expand(x),_>0&&x--;for(var P=0;P<x;P++)this.words[P]=67108863&~this.words[P];return _>0&&(this.words[P]=~this.words[P]&67108863>>26-_),this._strip()},e.prototype.notn=function(E){return this.clone().inotn(E)},e.prototype.setn=function(E,x){i(typeof E=="number"&&E>=0);var _=E/26|0,P=E%26;return this._expand(_+1),this.words[_]=x?this.words[_]|1<<P:this.words[_]&~(1<<P),this._strip()},e.prototype.iadd=function(E){var x,_,P;if(this.negative!==0&&E.negative===0)return this.negative=0,x=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,x=this.isub(E),E.negative=1,x._normSign();this.length>E.length?(_=this,P=E):(_=E,P=this);for(var M=0,k=0;k<P.length;k++)x=(0|_.words[k])+(0|P.words[k])+M,this.words[k]=67108863&x,M=x>>>26;for(;M!==0&&k<_.length;k++)x=(0|_.words[k])+M,this.words[k]=67108863&x,M=x>>>26;if(this.length=_.length,M!==0)this.words[this.length]=M,this.length++;else if(_!==this)for(;k<_.length;k++)this.words[k]=_.words[k];return this},e.prototype.add=function(E){var x;return E.negative!==0&&this.negative===0?(E.negative=0,x=this.sub(E),E.negative^=1,x):E.negative===0&&this.negative!==0?(this.negative=0,x=E.sub(this),this.negative=1,x):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},e.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var x=this.iadd(E);return E.negative=1,x._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var _,P,M=this.cmp(E);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;M>0?(_=this,P=E):(_=E,P=this);for(var k=0,R=0;R<P.length;R++)k=(x=(0|_.words[R])-(0|P.words[R])+k)>>26,this.words[R]=67108863&x;for(;k!==0&&R<_.length;R++)k=(x=(0|_.words[R])+k)>>26,this.words[R]=67108863&x;if(k===0&&R<_.length&&_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=Math.max(this.length,R),_!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(E){return this.clone().isub(E)};var C=function(E,x,_){var P,M,k,R=E.words,F=x.words,q=_.words,X=0,J=0|R[0],j=8191&J,K=J>>>13,B=0|R[1],T=8191&B,W=B>>>13,Y=0|R[2],Q=8191&Y,Z=Y>>>13,tt=0|R[3],rt=8191&tt,st=tt>>>13,$=0|R[4],nt=8191&$,it=$>>>13,ht=0|R[5],ct=8191&ht,ut=ht>>>13,gt=0|R[6],mt=8191&gt,xt=gt>>>13,kt=0|R[7],At=8191&kt,Ct=kt>>>13,Lt=0|R[8],Rt=8191&Lt,It=Lt>>>13,zt=0|R[9],St=8191&zt,_t=zt>>>13,Tt=0|F[0],Bt=8191&Tt,Nt=Tt>>>13,oe=0|F[1],pe=8191&oe,Ot=oe>>>13,he=0|F[2],re=8191&he,Yt=he>>>13,we=0|F[3],de=8191&we,Wt=we>>>13,ae=0|F[4],be=8191&ae,qt=ae>>>13,fe=0|F[5],ye=8191&fe,Jt=fe>>>13,at=0|F[6],ft=8191&at,bt=at>>>13,Et=0|F[7],Ft=8191&Et,Dt=Et>>>13,Xt=0|F[8],Ut=8191&Xt,jt=Xt>>>13,Zt=0|F[9],Kt=8191&Zt,ne=Zt>>>13;_.negative=E.negative^x.negative,_.length=19;var Ae=(X+(P=Math.imul(j,Bt))|0)+((8191&(M=(M=Math.imul(j,Nt))+Math.imul(K,Bt)|0))<<13)|0;X=((k=Math.imul(K,Nt))+(M>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,P=Math.imul(T,Bt),M=(M=Math.imul(T,Nt))+Math.imul(W,Bt)|0,k=Math.imul(W,Nt);var xe=(X+(P=P+Math.imul(j,pe)|0)|0)+((8191&(M=(M=M+Math.imul(j,Ot)|0)+Math.imul(K,pe)|0))<<13)|0;X=((k=k+Math.imul(K,Ot)|0)+(M>>>13)|0)+(xe>>>26)|0,xe&=67108863,P=Math.imul(Q,Bt),M=(M=Math.imul(Q,Nt))+Math.imul(Z,Bt)|0,k=Math.imul(Z,Nt),P=P+Math.imul(T,pe)|0,M=(M=M+Math.imul(T,Ot)|0)+Math.imul(W,pe)|0,k=k+Math.imul(W,Ot)|0;var Le=(X+(P=P+Math.imul(j,re)|0)|0)+((8191&(M=(M=M+Math.imul(j,Yt)|0)+Math.imul(K,re)|0))<<13)|0;X=((k=k+Math.imul(K,Yt)|0)+(M>>>13)|0)+(Le>>>26)|0,Le&=67108863,P=Math.imul(rt,Bt),M=(M=Math.imul(rt,Nt))+Math.imul(st,Bt)|0,k=Math.imul(st,Nt),P=P+Math.imul(Q,pe)|0,M=(M=M+Math.imul(Q,Ot)|0)+Math.imul(Z,pe)|0,k=k+Math.imul(Z,Ot)|0,P=P+Math.imul(T,re)|0,M=(M=M+Math.imul(T,Yt)|0)+Math.imul(W,re)|0,k=k+Math.imul(W,Yt)|0;var je=(X+(P=P+Math.imul(j,de)|0)|0)+((8191&(M=(M=M+Math.imul(j,Wt)|0)+Math.imul(K,de)|0))<<13)|0;X=((k=k+Math.imul(K,Wt)|0)+(M>>>13)|0)+(je>>>26)|0,je&=67108863,P=Math.imul(nt,Bt),M=(M=Math.imul(nt,Nt))+Math.imul(it,Bt)|0,k=Math.imul(it,Nt),P=P+Math.imul(rt,pe)|0,M=(M=M+Math.imul(rt,Ot)|0)+Math.imul(st,pe)|0,k=k+Math.imul(st,Ot)|0,P=P+Math.imul(Q,re)|0,M=(M=M+Math.imul(Q,Yt)|0)+Math.imul(Z,re)|0,k=k+Math.imul(Z,Yt)|0,P=P+Math.imul(T,de)|0,M=(M=M+Math.imul(T,Wt)|0)+Math.imul(W,de)|0,k=k+Math.imul(W,Wt)|0;var Ye=(X+(P=P+Math.imul(j,be)|0)|0)+((8191&(M=(M=M+Math.imul(j,qt)|0)+Math.imul(K,be)|0))<<13)|0;X=((k=k+Math.imul(K,qt)|0)+(M>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,P=Math.imul(ct,Bt),M=(M=Math.imul(ct,Nt))+Math.imul(ut,Bt)|0,k=Math.imul(ut,Nt),P=P+Math.imul(nt,pe)|0,M=(M=M+Math.imul(nt,Ot)|0)+Math.imul(it,pe)|0,k=k+Math.imul(it,Ot)|0,P=P+Math.imul(rt,re)|0,M=(M=M+Math.imul(rt,Yt)|0)+Math.imul(st,re)|0,k=k+Math.imul(st,Yt)|0,P=P+Math.imul(Q,de)|0,M=(M=M+Math.imul(Q,Wt)|0)+Math.imul(Z,de)|0,k=k+Math.imul(Z,Wt)|0,P=P+Math.imul(T,be)|0,M=(M=M+Math.imul(T,qt)|0)+Math.imul(W,be)|0,k=k+Math.imul(W,qt)|0;var et=(X+(P=P+Math.imul(j,ye)|0)|0)+((8191&(M=(M=M+Math.imul(j,Jt)|0)+Math.imul(K,ye)|0))<<13)|0;X=((k=k+Math.imul(K,Jt)|0)+(M>>>13)|0)+(et>>>26)|0,et&=67108863,P=Math.imul(mt,Bt),M=(M=Math.imul(mt,Nt))+Math.imul(xt,Bt)|0,k=Math.imul(xt,Nt),P=P+Math.imul(ct,pe)|0,M=(M=M+Math.imul(ct,Ot)|0)+Math.imul(ut,pe)|0,k=k+Math.imul(ut,Ot)|0,P=P+Math.imul(nt,re)|0,M=(M=M+Math.imul(nt,Yt)|0)+Math.imul(it,re)|0,k=k+Math.imul(it,Yt)|0,P=P+Math.imul(rt,de)|0,M=(M=M+Math.imul(rt,Wt)|0)+Math.imul(st,de)|0,k=k+Math.imul(st,Wt)|0,P=P+Math.imul(Q,be)|0,M=(M=M+Math.imul(Q,qt)|0)+Math.imul(Z,be)|0,k=k+Math.imul(Z,qt)|0,P=P+Math.imul(T,ye)|0,M=(M=M+Math.imul(T,Jt)|0)+Math.imul(W,ye)|0,k=k+Math.imul(W,Jt)|0;var pt=(X+(P=P+Math.imul(j,ft)|0)|0)+((8191&(M=(M=M+Math.imul(j,bt)|0)+Math.imul(K,ft)|0))<<13)|0;X=((k=k+Math.imul(K,bt)|0)+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,P=Math.imul(At,Bt),M=(M=Math.imul(At,Nt))+Math.imul(Ct,Bt)|0,k=Math.imul(Ct,Nt),P=P+Math.imul(mt,pe)|0,M=(M=M+Math.imul(mt,Ot)|0)+Math.imul(xt,pe)|0,k=k+Math.imul(xt,Ot)|0,P=P+Math.imul(ct,re)|0,M=(M=M+Math.imul(ct,Yt)|0)+Math.imul(ut,re)|0,k=k+Math.imul(ut,Yt)|0,P=P+Math.imul(nt,de)|0,M=(M=M+Math.imul(nt,Wt)|0)+Math.imul(it,de)|0,k=k+Math.imul(it,Wt)|0,P=P+Math.imul(rt,be)|0,M=(M=M+Math.imul(rt,qt)|0)+Math.imul(st,be)|0,k=k+Math.imul(st,qt)|0,P=P+Math.imul(Q,ye)|0,M=(M=M+Math.imul(Q,Jt)|0)+Math.imul(Z,ye)|0,k=k+Math.imul(Z,Jt)|0,P=P+Math.imul(T,ft)|0,M=(M=M+Math.imul(T,bt)|0)+Math.imul(W,ft)|0,k=k+Math.imul(W,bt)|0;var wt=(X+(P=P+Math.imul(j,Ft)|0)|0)+((8191&(M=(M=M+Math.imul(j,Dt)|0)+Math.imul(K,Ft)|0))<<13)|0;X=((k=k+Math.imul(K,Dt)|0)+(M>>>13)|0)+(wt>>>26)|0,wt&=67108863,P=Math.imul(Rt,Bt),M=(M=Math.imul(Rt,Nt))+Math.imul(It,Bt)|0,k=Math.imul(It,Nt),P=P+Math.imul(At,pe)|0,M=(M=M+Math.imul(At,Ot)|0)+Math.imul(Ct,pe)|0,k=k+Math.imul(Ct,Ot)|0,P=P+Math.imul(mt,re)|0,M=(M=M+Math.imul(mt,Yt)|0)+Math.imul(xt,re)|0,k=k+Math.imul(xt,Yt)|0,P=P+Math.imul(ct,de)|0,M=(M=M+Math.imul(ct,Wt)|0)+Math.imul(ut,de)|0,k=k+Math.imul(ut,Wt)|0,P=P+Math.imul(nt,be)|0,M=(M=M+Math.imul(nt,qt)|0)+Math.imul(it,be)|0,k=k+Math.imul(it,qt)|0,P=P+Math.imul(rt,ye)|0,M=(M=M+Math.imul(rt,Jt)|0)+Math.imul(st,ye)|0,k=k+Math.imul(st,Jt)|0,P=P+Math.imul(Q,ft)|0,M=(M=M+Math.imul(Q,bt)|0)+Math.imul(Z,ft)|0,k=k+Math.imul(Z,bt)|0,P=P+Math.imul(T,Ft)|0,M=(M=M+Math.imul(T,Dt)|0)+Math.imul(W,Ft)|0,k=k+Math.imul(W,Dt)|0;var vt=(X+(P=P+Math.imul(j,Ut)|0)|0)+((8191&(M=(M=M+Math.imul(j,jt)|0)+Math.imul(K,Ut)|0))<<13)|0;X=((k=k+Math.imul(K,jt)|0)+(M>>>13)|0)+(vt>>>26)|0,vt&=67108863,P=Math.imul(St,Bt),M=(M=Math.imul(St,Nt))+Math.imul(_t,Bt)|0,k=Math.imul(_t,Nt),P=P+Math.imul(Rt,pe)|0,M=(M=M+Math.imul(Rt,Ot)|0)+Math.imul(It,pe)|0,k=k+Math.imul(It,Ot)|0,P=P+Math.imul(At,re)|0,M=(M=M+Math.imul(At,Yt)|0)+Math.imul(Ct,re)|0,k=k+Math.imul(Ct,Yt)|0,P=P+Math.imul(mt,de)|0,M=(M=M+Math.imul(mt,Wt)|0)+Math.imul(xt,de)|0,k=k+Math.imul(xt,Wt)|0,P=P+Math.imul(ct,be)|0,M=(M=M+Math.imul(ct,qt)|0)+Math.imul(ut,be)|0,k=k+Math.imul(ut,qt)|0,P=P+Math.imul(nt,ye)|0,M=(M=M+Math.imul(nt,Jt)|0)+Math.imul(it,ye)|0,k=k+Math.imul(it,Jt)|0,P=P+Math.imul(rt,ft)|0,M=(M=M+Math.imul(rt,bt)|0)+Math.imul(st,ft)|0,k=k+Math.imul(st,bt)|0,P=P+Math.imul(Q,Ft)|0,M=(M=M+Math.imul(Q,Dt)|0)+Math.imul(Z,Ft)|0,k=k+Math.imul(Z,Dt)|0,P=P+Math.imul(T,Ut)|0,M=(M=M+Math.imul(T,jt)|0)+Math.imul(W,Ut)|0,k=k+Math.imul(W,jt)|0;var Vt=(X+(P=P+Math.imul(j,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(j,ne)|0)+Math.imul(K,Kt)|0))<<13)|0;X=((k=k+Math.imul(K,ne)|0)+(M>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,P=Math.imul(St,pe),M=(M=Math.imul(St,Ot))+Math.imul(_t,pe)|0,k=Math.imul(_t,Ot),P=P+Math.imul(Rt,re)|0,M=(M=M+Math.imul(Rt,Yt)|0)+Math.imul(It,re)|0,k=k+Math.imul(It,Yt)|0,P=P+Math.imul(At,de)|0,M=(M=M+Math.imul(At,Wt)|0)+Math.imul(Ct,de)|0,k=k+Math.imul(Ct,Wt)|0,P=P+Math.imul(mt,be)|0,M=(M=M+Math.imul(mt,qt)|0)+Math.imul(xt,be)|0,k=k+Math.imul(xt,qt)|0,P=P+Math.imul(ct,ye)|0,M=(M=M+Math.imul(ct,Jt)|0)+Math.imul(ut,ye)|0,k=k+Math.imul(ut,Jt)|0,P=P+Math.imul(nt,ft)|0,M=(M=M+Math.imul(nt,bt)|0)+Math.imul(it,ft)|0,k=k+Math.imul(it,bt)|0,P=P+Math.imul(rt,Ft)|0,M=(M=M+Math.imul(rt,Dt)|0)+Math.imul(st,Ft)|0,k=k+Math.imul(st,Dt)|0,P=P+Math.imul(Q,Ut)|0,M=(M=M+Math.imul(Q,jt)|0)+Math.imul(Z,Ut)|0,k=k+Math.imul(Z,jt)|0;var Mt=(X+(P=P+Math.imul(T,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(T,ne)|0)+Math.imul(W,Kt)|0))<<13)|0;X=((k=k+Math.imul(W,ne)|0)+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,P=Math.imul(St,re),M=(M=Math.imul(St,Yt))+Math.imul(_t,re)|0,k=Math.imul(_t,Yt),P=P+Math.imul(Rt,de)|0,M=(M=M+Math.imul(Rt,Wt)|0)+Math.imul(It,de)|0,k=k+Math.imul(It,Wt)|0,P=P+Math.imul(At,be)|0,M=(M=M+Math.imul(At,qt)|0)+Math.imul(Ct,be)|0,k=k+Math.imul(Ct,qt)|0,P=P+Math.imul(mt,ye)|0,M=(M=M+Math.imul(mt,Jt)|0)+Math.imul(xt,ye)|0,k=k+Math.imul(xt,Jt)|0,P=P+Math.imul(ct,ft)|0,M=(M=M+Math.imul(ct,bt)|0)+Math.imul(ut,ft)|0,k=k+Math.imul(ut,bt)|0,P=P+Math.imul(nt,Ft)|0,M=(M=M+Math.imul(nt,Dt)|0)+Math.imul(it,Ft)|0,k=k+Math.imul(it,Dt)|0,P=P+Math.imul(rt,Ut)|0,M=(M=M+Math.imul(rt,jt)|0)+Math.imul(st,Ut)|0,k=k+Math.imul(st,jt)|0;var Pt=(X+(P=P+Math.imul(Q,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(Q,ne)|0)+Math.imul(Z,Kt)|0))<<13)|0;X=((k=k+Math.imul(Z,ne)|0)+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,P=Math.imul(St,de),M=(M=Math.imul(St,Wt))+Math.imul(_t,de)|0,k=Math.imul(_t,Wt),P=P+Math.imul(Rt,be)|0,M=(M=M+Math.imul(Rt,qt)|0)+Math.imul(It,be)|0,k=k+Math.imul(It,qt)|0,P=P+Math.imul(At,ye)|0,M=(M=M+Math.imul(At,Jt)|0)+Math.imul(Ct,ye)|0,k=k+Math.imul(Ct,Jt)|0,P=P+Math.imul(mt,ft)|0,M=(M=M+Math.imul(mt,bt)|0)+Math.imul(xt,ft)|0,k=k+Math.imul(xt,bt)|0,P=P+Math.imul(ct,Ft)|0,M=(M=M+Math.imul(ct,Dt)|0)+Math.imul(ut,Ft)|0,k=k+Math.imul(ut,Dt)|0,P=P+Math.imul(nt,Ut)|0,M=(M=M+Math.imul(nt,jt)|0)+Math.imul(it,Ut)|0,k=k+Math.imul(it,jt)|0;var ie=(X+(P=P+Math.imul(rt,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(rt,ne)|0)+Math.imul(st,Kt)|0))<<13)|0;X=((k=k+Math.imul(st,ne)|0)+(M>>>13)|0)+(ie>>>26)|0,ie&=67108863,P=Math.imul(St,be),M=(M=Math.imul(St,qt))+Math.imul(_t,be)|0,k=Math.imul(_t,qt),P=P+Math.imul(Rt,ye)|0,M=(M=M+Math.imul(Rt,Jt)|0)+Math.imul(It,ye)|0,k=k+Math.imul(It,Jt)|0,P=P+Math.imul(At,ft)|0,M=(M=M+Math.imul(At,bt)|0)+Math.imul(Ct,ft)|0,k=k+Math.imul(Ct,bt)|0,P=P+Math.imul(mt,Ft)|0,M=(M=M+Math.imul(mt,Dt)|0)+Math.imul(xt,Ft)|0,k=k+Math.imul(xt,Dt)|0,P=P+Math.imul(ct,Ut)|0,M=(M=M+Math.imul(ct,jt)|0)+Math.imul(ut,Ut)|0,k=k+Math.imul(ut,jt)|0;var $t=(X+(P=P+Math.imul(nt,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(nt,ne)|0)+Math.imul(it,Kt)|0))<<13)|0;X=((k=k+Math.imul(it,ne)|0)+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,P=Math.imul(St,ye),M=(M=Math.imul(St,Jt))+Math.imul(_t,ye)|0,k=Math.imul(_t,Jt),P=P+Math.imul(Rt,ft)|0,M=(M=M+Math.imul(Rt,bt)|0)+Math.imul(It,ft)|0,k=k+Math.imul(It,bt)|0,P=P+Math.imul(At,Ft)|0,M=(M=M+Math.imul(At,Dt)|0)+Math.imul(Ct,Ft)|0,k=k+Math.imul(Ct,Dt)|0,P=P+Math.imul(mt,Ut)|0,M=(M=M+Math.imul(mt,jt)|0)+Math.imul(xt,Ut)|0,k=k+Math.imul(xt,jt)|0;var Qt=(X+(P=P+Math.imul(ct,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(ct,ne)|0)+Math.imul(ut,Kt)|0))<<13)|0;X=((k=k+Math.imul(ut,ne)|0)+(M>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,P=Math.imul(St,ft),M=(M=Math.imul(St,bt))+Math.imul(_t,ft)|0,k=Math.imul(_t,bt),P=P+Math.imul(Rt,Ft)|0,M=(M=M+Math.imul(Rt,Dt)|0)+Math.imul(It,Ft)|0,k=k+Math.imul(It,Dt)|0,P=P+Math.imul(At,Ut)|0,M=(M=M+Math.imul(At,jt)|0)+Math.imul(Ct,Ut)|0,k=k+Math.imul(Ct,jt)|0;var Ht=(X+(P=P+Math.imul(mt,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(mt,ne)|0)+Math.imul(xt,Kt)|0))<<13)|0;X=((k=k+Math.imul(xt,ne)|0)+(M>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,P=Math.imul(St,Ft),M=(M=Math.imul(St,Dt))+Math.imul(_t,Ft)|0,k=Math.imul(_t,Dt),P=P+Math.imul(Rt,Ut)|0,M=(M=M+Math.imul(Rt,jt)|0)+Math.imul(It,Ut)|0,k=k+Math.imul(It,jt)|0;var ge=(X+(P=P+Math.imul(At,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(At,ne)|0)+Math.imul(Ct,Kt)|0))<<13)|0;X=((k=k+Math.imul(Ct,ne)|0)+(M>>>13)|0)+(ge>>>26)|0,ge&=67108863,P=Math.imul(St,Ut),M=(M=Math.imul(St,jt))+Math.imul(_t,Ut)|0,k=Math.imul(_t,jt);var Me=(X+(P=P+Math.imul(Rt,Kt)|0)|0)+((8191&(M=(M=M+Math.imul(Rt,ne)|0)+Math.imul(It,Kt)|0))<<13)|0;X=((k=k+Math.imul(It,ne)|0)+(M>>>13)|0)+(Me>>>26)|0,Me&=67108863;var le=(X+(P=Math.imul(St,Kt))|0)+((8191&(M=(M=Math.imul(St,ne))+Math.imul(_t,Kt)|0))<<13)|0;return X=((k=Math.imul(_t,ne))+(M>>>13)|0)+(le>>>26)|0,le&=67108863,q[0]=Ae,q[1]=xe,q[2]=Le,q[3]=je,q[4]=Ye,q[5]=et,q[6]=pt,q[7]=wt,q[8]=vt,q[9]=Vt,q[10]=Mt,q[11]=Pt,q[12]=ie,q[13]=$t,q[14]=Qt,q[15]=Ht,q[16]=ge,q[17]=Me,q[18]=le,X!==0&&(q[19]=X,_.length++),_};function S(E,x,_){_.negative=x.negative^E.negative,_.length=E.length+x.length;for(var P=0,M=0,k=0;k<_.length-1;k++){var R=M;M=0;for(var F=67108863&P,q=Math.min(k,x.length-1),X=Math.max(0,k-E.length+1);X<=q;X++){var J=k-X,j=(0|E.words[J])*(0|x.words[X]),K=67108863&j;F=67108863&(K=K+F|0),M+=(R=(R=R+(j/67108864|0)|0)+(K>>>26)|0)>>>26,R&=67108863}_.words[k]=F,P=R,R=M}return P!==0?_.words[k]=P:_.length--,_._strip()}function I(E,x,_){return S(E,x,_)}Math.imul||(C=v),e.prototype.mulTo=function(E,x){var _=this.length+E.length;return this.length===10&&E.length===10?C(this,E,x):_<63?v(this,E,x):_<1024?S(this,E,x):I(this,E,x)},e.prototype.mul=function(E){var x=new e(null);return x.words=new Array(this.length+E.length),this.mulTo(E,x)},e.prototype.mulf=function(E){var x=new e(null);return x.words=new Array(this.length+E.length),I(this,E,x)},e.prototype.imul=function(E){return this.clone().mulTo(E,this)},e.prototype.imuln=function(E){var x=E<0;x&&(E=-E),i(typeof E=="number"),i(E<67108864);for(var _=0,P=0;P<this.length;P++){var M=(0|this.words[P])*E,k=(67108863&M)+(67108863&_);_>>=26,_+=M/67108864|0,_+=k>>>26,this.words[P]=67108863&k}return _!==0&&(this.words[P]=_,this.length++),x?this.ineg():this},e.prototype.muln=function(E){return this.clone().imuln(E)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(E){var x=function(k){for(var R=new Array(k.bitLength()),F=0;F<R.length;F++){var q=F/26|0,X=F%26;R[F]=k.words[q]>>>X&1}return R}(E);if(x.length===0)return new e(1);for(var _=this,P=0;P<x.length&&x[P]===0;P++,_=_.sqr());if(++P<x.length)for(var M=_.sqr();P<x.length;P++,M=M.sqr())x[P]!==0&&(_=_.mul(M));return _},e.prototype.iushln=function(E){i(typeof E=="number"&&E>=0);var x,_=E%26,P=(E-_)/26,M=67108863>>>26-_<<26-_;if(_!==0){var k=0;for(x=0;x<this.length;x++){var R=this.words[x]&M,F=(0|this.words[x])-R<<_;this.words[x]=F|k,k=R>>>26-_}k&&(this.words[x]=k,this.length++)}if(P!==0){for(x=this.length-1;x>=0;x--)this.words[x+P]=this.words[x];for(x=0;x<P;x++)this.words[x]=0;this.length+=P}return this._strip()},e.prototype.ishln=function(E){return i(this.negative===0),this.iushln(E)},e.prototype.iushrn=function(E,x,_){var P;i(typeof E=="number"&&E>=0),P=x?(x-x%26)/26:0;var M=E%26,k=Math.min((E-M)/26,this.length),R=67108863^67108863>>>M<<M,F=_;if(P-=k,P=Math.max(0,P),F){for(var q=0;q<k;q++)F.words[q]=this.words[q];F.length=k}if(k!==0)if(this.length>k)for(this.length-=k,q=0;q<this.length;q++)this.words[q]=this.words[q+k];else this.words[0]=0,this.length=1;var X=0;for(q=this.length-1;q>=0&&(X!==0||q>=P);q--){var J=0|this.words[q];this.words[q]=X<<26-M|J>>>M,X=J&R}return F&&X!==0&&(F.words[F.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(E,x,_){return i(this.negative===0),this.iushrn(E,x,_)},e.prototype.shln=function(E){return this.clone().ishln(E)},e.prototype.ushln=function(E){return this.clone().iushln(E)},e.prototype.shrn=function(E){return this.clone().ishrn(E)},e.prototype.ushrn=function(E){return this.clone().iushrn(E)},e.prototype.testn=function(E){i(typeof E=="number"&&E>=0);var x=E%26,_=(E-x)/26,P=1<<x;return!(this.length<=_)&&!!(this.words[_]&P)},e.prototype.imaskn=function(E){i(typeof E=="number"&&E>=0);var x=E%26,_=(E-x)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(x!==0&&_++,this.length=Math.min(_,this.length),x!==0){var P=67108863^67108863>>>x<<x;this.words[this.length-1]&=P}return this._strip()},e.prototype.maskn=function(E){return this.clone().imaskn(E)},e.prototype.iaddn=function(E){return i(typeof E=="number"),i(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},e.prototype._iaddn=function(E){this.words[0]+=E;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},e.prototype.isubn=function(E){if(i(typeof E=="number"),i(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},e.prototype.addn=function(E){return this.clone().iaddn(E)},e.prototype.subn=function(E){return this.clone().isubn(E)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(E,x,_){var P,M,k=E.length+_;this._expand(k);var R=0;for(P=0;P<E.length;P++){M=(0|this.words[P+_])+R;var F=(0|E.words[P])*x;R=((M-=67108863&F)>>26)-(F/67108864|0),this.words[P+_]=67108863&M}for(;P<this.length-_;P++)R=(M=(0|this.words[P+_])+R)>>26,this.words[P+_]=67108863&M;if(R===0)return this._strip();for(i(R===-1),R=0,P=0;P<this.length;P++)R=(M=-(0|this.words[P])+R)>>26,this.words[P]=67108863&M;return this.negative=1,this._strip()},e.prototype._wordDiv=function(E,x){var _=(this.length,E.length),P=this.clone(),M=E,k=0|M.words[M.length-1];(_=26-this._countBits(k))!==0&&(M=M.ushln(_),P.iushln(_),k=0|M.words[M.length-1]);var R,F=P.length-M.length;if(x!=="mod"){(R=new e(null)).length=F+1,R.words=new Array(R.length);for(var q=0;q<R.length;q++)R.words[q]=0}var X=P.clone()._ishlnsubmul(M,1,F);X.negative===0&&(P=X,R&&(R.words[F]=1));for(var J=F-1;J>=0;J--){var j=67108864*(0|P.words[M.length+J])+(0|P.words[M.length+J-1]);for(j=Math.min(j/k|0,67108863),P._ishlnsubmul(M,j,J);P.negative!==0;)j--,P.negative=0,P._ishlnsubmul(M,1,J),P.isZero()||(P.negative^=1);R&&(R.words[J]=j)}return R&&R._strip(),P._strip(),x!=="div"&&_!==0&&P.iushrn(_),{div:R||null,mod:P}},e.prototype.divmod=function(E,x,_){return i(!E.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&E.negative===0?(k=this.neg().divmod(E,x),x!=="mod"&&(P=k.div.neg()),x!=="div"&&(M=k.mod.neg(),_&&M.negative!==0&&M.iadd(E)),{div:P,mod:M}):this.negative===0&&E.negative!==0?(k=this.divmod(E.neg(),x),x!=="mod"&&(P=k.div.neg()),{div:P,mod:k.mod}):this.negative&E.negative?(k=this.neg().divmod(E.neg(),x),x!=="div"&&(M=k.mod.neg(),_&&M.negative!==0&&M.isub(E)),{div:k.div,mod:M}):E.length>this.length||this.cmp(E)<0?{div:new e(0),mod:this}:E.length===1?x==="div"?{div:this.divn(E.words[0]),mod:null}:x==="mod"?{div:null,mod:new e(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new e(this.modrn(E.words[0]))}:this._wordDiv(E,x);var P,M,k},e.prototype.div=function(E){return this.divmod(E,"div",!1).div},e.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},e.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},e.prototype.divRound=function(E){var x=this.divmod(E);if(x.mod.isZero())return x.div;var _=x.div.negative!==0?x.mod.isub(E):x.mod,P=E.ushrn(1),M=E.andln(1),k=_.cmp(P);return k<0||M===1&&k===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},e.prototype.modrn=function(E){var x=E<0;x&&(E=-E),i(E<=67108863);for(var _=(1<<26)%E,P=0,M=this.length-1;M>=0;M--)P=(_*P+(0|this.words[M]))%E;return x?-P:P},e.prototype.modn=function(E){return this.modrn(E)},e.prototype.idivn=function(E){var x=E<0;x&&(E=-E),i(E<=67108863);for(var _=0,P=this.length-1;P>=0;P--){var M=(0|this.words[P])+67108864*_;this.words[P]=M/E|0,_=M%E}return this._strip(),x?this.ineg():this},e.prototype.divn=function(E){return this.clone().idivn(E)},e.prototype.egcd=function(E){i(E.negative===0),i(!E.isZero());var x=this,_=E.clone();x=x.negative!==0?x.umod(E):x.clone();for(var P=new e(1),M=new e(0),k=new e(0),R=new e(1),F=0;x.isEven()&&_.isEven();)x.iushrn(1),_.iushrn(1),++F;for(var q=_.clone(),X=x.clone();!x.isZero();){for(var J=0,j=1;!(x.words[0]&j)&&J<26;++J,j<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(P.isOdd()||M.isOdd())&&(P.iadd(q),M.isub(X)),P.iushrn(1),M.iushrn(1);for(var K=0,B=1;!(_.words[0]&B)&&K<26;++K,B<<=1);if(K>0)for(_.iushrn(K);K-- >0;)(k.isOdd()||R.isOdd())&&(k.iadd(q),R.isub(X)),k.iushrn(1),R.iushrn(1);x.cmp(_)>=0?(x.isub(_),P.isub(k),M.isub(R)):(_.isub(x),k.isub(P),R.isub(M))}return{a:k,b:R,gcd:_.iushln(F)}},e.prototype._invmp=function(E){i(E.negative===0),i(!E.isZero());var x=this,_=E.clone();x=x.negative!==0?x.umod(E):x.clone();for(var P,M=new e(1),k=new e(0),R=_.clone();x.cmpn(1)>0&&_.cmpn(1)>0;){for(var F=0,q=1;!(x.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(x.iushrn(F);F-- >0;)M.isOdd()&&M.iadd(R),M.iushrn(1);for(var X=0,J=1;!(_.words[0]&J)&&X<26;++X,J<<=1);if(X>0)for(_.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(R),k.iushrn(1);x.cmp(_)>=0?(x.isub(_),M.isub(k)):(_.isub(x),k.isub(M))}return(P=x.cmpn(1)===0?M:k).cmpn(0)<0&&P.iadd(E),P},e.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var x=this.clone(),_=E.clone();x.negative=0,_.negative=0;for(var P=0;x.isEven()&&_.isEven();P++)x.iushrn(1),_.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;_.isEven();)_.iushrn(1);var M=x.cmp(_);if(M<0){var k=x;x=_,_=k}else if(M===0||_.cmpn(1)===0)break;x.isub(_)}return _.iushln(P)},e.prototype.invm=function(E){return this.egcd(E).a.umod(E)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(E){return this.words[0]&E},e.prototype.bincn=function(E){i(typeof E=="number");var x=E%26,_=(E-x)/26,P=1<<x;if(this.length<=_)return this._expand(_+1),this.words[_]|=P,this;for(var M=P,k=_;M!==0&&k<this.length;k++){var R=0|this.words[k];M=(R+=M)>>>26,R&=67108863,this.words[k]=R}return M!==0&&(this.words[k]=M,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(E){var x,_=E<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)x=1;else{_&&(E=-E),i(E<=67108863,"Number is too big");var P=0|this.words[0];x=P===E?0:P<E?-1:1}return this.negative!==0?0|-x:x},e.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var x=this.ucmp(E);return this.negative!==0?0|-x:x},e.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var x=0,_=this.length-1;_>=0;_--){var P=0|this.words[_],M=0|E.words[_];if(P!==M){P<M?x=-1:P>M&&(x=1);break}}return x},e.prototype.gtn=function(E){return this.cmpn(E)===1},e.prototype.gt=function(E){return this.cmp(E)===1},e.prototype.gten=function(E){return this.cmpn(E)>=0},e.prototype.gte=function(E){return this.cmp(E)>=0},e.prototype.ltn=function(E){return this.cmpn(E)===-1},e.prototype.lt=function(E){return this.cmp(E)===-1},e.prototype.lten=function(E){return this.cmpn(E)<=0},e.prototype.lte=function(E){return this.cmp(E)<=0},e.prototype.eqn=function(E){return this.cmpn(E)===0},e.prototype.eq=function(E){return this.cmp(E)===0},e.red=function(E){return new A(E)},e.prototype.toRed=function(E){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},e.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(E){return this.red=E,this},e.prototype.forceRed=function(E){return i(!this.red,"Already a number in reduction context"),this._forceRed(E)},e.prototype.redAdd=function(E){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},e.prototype.redIAdd=function(E){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},e.prototype.redSub=function(E){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},e.prototype.redISub=function(E){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},e.prototype.redShl=function(E){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},e.prototype.redMul=function(E){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},e.prototype.redIMul=function(E){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},e.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(E){return i(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var z={k256:null,p224:null,p192:null,p25519:null};function V(E,x){this.name=E,this.p=new e(x,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(E){if(typeof E=="string"){var x=e._prime(E);this.m=x.p,this.prime=x}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function N(E){A.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V.prototype._tmp=function(){var E=new e(null);return E.words=new Array(Math.ceil(this.n/13)),E},V.prototype.ireduce=function(E){var x,_=E;do this.split(_,this.tmp),x=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(x>this.n);var P=x<this.n?-1:_.ucmp(this.p);return P===0?(_.words[0]=0,_.length=1):P>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},V.prototype.split=function(E,x){E.iushrn(this.n,0,x)},V.prototype.imulK=function(E){return E.imul(this.k)},s(L,V),L.prototype.split=function(E,x){for(var _=Math.min(E.length,9),P=0;P<_;P++)x.words[P]=E.words[P];if(x.length=_,E.length<=9)return E.words[0]=0,void(E.length=1);var M=E.words[9];for(x.words[x.length++]=4194303&M,P=10;P<E.length;P++){var k=0|E.words[P];E.words[P-10]=(4194303&k)<<4|M>>>22,M=k}M>>>=22,E.words[P-10]=M,M===0&&E.length>10?E.length-=10:E.length-=9},L.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var x=0,_=0;_<E.length;_++){var P=0|E.words[_];x+=977*P,E.words[_]=67108863&x,x=64*P+(x/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},s(U,V),s(G,V),s(H,V),H.prototype.imulK=function(E){for(var x=0,_=0;_<E.length;_++){var P=19*(0|E.words[_])+x,M=67108863&P;P>>>=26,E.words[_]=M,x=P}return x!==0&&(E.words[E.length++]=x),E},e._prime=function(E){if(z[E])return z[E];var x;if(E==="k256")x=new L;else if(E==="p224")x=new U;else if(E==="p192")x=new G;else{if(E!=="p25519")throw new Error("Unknown prime "+E);x=new H}return z[E]=x,x},A.prototype._verify1=function(E){i(E.negative===0,"red works only with positives"),i(E.red,"red works only with red numbers")},A.prototype._verify2=function(E,x){i((E.negative|x.negative)==0,"red works only with positives"),i(E.red&&E.red===x.red,"red works only with red numbers")},A.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(p(E,E.umod(this.m)._forceRed(this)),E)},A.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},A.prototype.add=function(E,x){this._verify2(E,x);var _=E.add(x);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},A.prototype.iadd=function(E,x){this._verify2(E,x);var _=E.iadd(x);return _.cmp(this.m)>=0&&_.isub(this.m),_},A.prototype.sub=function(E,x){this._verify2(E,x);var _=E.sub(x);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},A.prototype.isub=function(E,x){this._verify2(E,x);var _=E.isub(x);return _.cmpn(0)<0&&_.iadd(this.m),_},A.prototype.shl=function(E,x){return this._verify1(E),this.imod(E.ushln(x))},A.prototype.imul=function(E,x){return this._verify2(E,x),this.imod(E.imul(x))},A.prototype.mul=function(E,x){return this._verify2(E,x),this.imod(E.mul(x))},A.prototype.isqr=function(E){return this.imul(E,E.clone())},A.prototype.sqr=function(E){return this.mul(E,E)},A.prototype.sqrt=function(E){if(E.isZero())return E.clone();var x=this.m.andln(3);if(i(x%2==1),x===3){var _=this.m.add(new e(1)).iushrn(2);return this.pow(E,_)}for(var P=this.m.subn(1),M=0;!P.isZero()&&P.andln(1)===0;)M++,P.iushrn(1);i(!P.isZero());var k=new e(1).toRed(this),R=k.redNeg(),F=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new e(2*q*q).toRed(this);this.pow(q,F).cmp(R)!==0;)q.redIAdd(R);for(var X=this.pow(q,P),J=this.pow(E,P.addn(1).iushrn(1)),j=this.pow(E,P),K=M;j.cmp(k)!==0;){for(var B=j,T=0;B.cmp(k)!==0;T++)B=B.redSqr();i(T<K);var W=this.pow(X,new e(1).iushln(K-T-1));J=J.redMul(W),X=W.redSqr(),j=j.redMul(X),K=T}return J},A.prototype.invm=function(E){var x=E._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},A.prototype.pow=function(E,x){if(x.isZero())return new e(1).toRed(this);if(x.cmpn(1)===0)return E.clone();var _=new Array(16);_[0]=new e(1).toRed(this),_[1]=E;for(var P=2;P<_.length;P++)_[P]=this.mul(_[P-1],E);var M=_[0],k=0,R=0,F=x.bitLength()%26;for(F===0&&(F=26),P=x.length-1;P>=0;P--){for(var q=x.words[P],X=F-1;X>=0;X--){var J=q>>X&1;M!==_[0]&&(M=this.sqr(M)),J!==0||k!==0?(k<<=1,k|=J,(++R===4||P===0&&X===0)&&(M=this.mul(M,_[k]),R=0,k=0)):R=0}F=26}return M},A.prototype.convertTo=function(E){var x=E.umod(this.m);return x===E?x.clone():x},A.prototype.convertFrom=function(E){var x=E.clone();return x.red=null,x},e.mont=function(E){return new N(E)},s(N,A),N.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},N.prototype.convertFrom=function(E){var x=this.imod(E.mul(this.rinv));return x.red=null,x},N.prototype.imul=function(E,x){if(E.isZero()||x.isZero())return E.words[0]=0,E.length=1,E;var _=E.imul(x),P=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=_.isub(P).iushrn(this.shift),k=M;return M.cmp(this.m)>=0?k=M.isub(this.m):M.cmpn(0)<0&&(k=M.iadd(this.m)),k._forceRed(this)},N.prototype.mul=function(E,x){if(E.isZero()||x.isZero())return new e(0)._forceRed(this);var _=E.mul(x),P=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=_.isub(P).iushrn(this.shift),k=M;return M.cmp(this.m)>=0?k=M.isub(this.m):M.cmpn(0)<0&&(k=M.iadd(this.m)),k._forceRed(this)},N.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(c===void 0||c)},{buffer:188}],187:[function(t,c,u){var a;function r(s){this.rand=s}if(c.exports=function(s){return a||(a=new r(null)),a.generate(s)},c.exports.Rand=r,r.prototype.generate=function(s){return this._rand(s)},r.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var e=new Uint8Array(s),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(s){var e=new Uint8Array(s);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(s){var e=new Uint8Array(s);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=t("crypto");if(typeof i.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(s){return i.randomBytes(s)}}catch(s){}},{crypto:188}],188:[function(t,c,u){},{}],189:[function(t,c,u){var a=t("safe-buffer").Buffer;function r(l){a.isBuffer(l)||(l=a.from(l));for(var h=l.length/4|0,p=new Array(h),g=0;g<h;g++)p[g]=l.readUInt32BE(4*g);return p}function i(l){for(;0<l.length;l++)l[0]=0}function s(l,h,p,g,f){for(var m,y,v,C,S=p[0],I=p[1],z=p[2],V=p[3],L=l[0]^h[0],U=l[1]^h[1],G=l[2]^h[2],H=l[3]^h[3],A=4,N=1;N<f;N++)m=S[L>>>24]^I[U>>>16&255]^z[G>>>8&255]^V[255&H]^h[A++],y=S[U>>>24]^I[G>>>16&255]^z[H>>>8&255]^V[255&L]^h[A++],v=S[G>>>24]^I[H>>>16&255]^z[L>>>8&255]^V[255&U]^h[A++],C=S[H>>>24]^I[L>>>16&255]^z[U>>>8&255]^V[255&G]^h[A++],L=m,U=y,G=v,H=C;return m=(g[L>>>24]<<24|g[U>>>16&255]<<16|g[G>>>8&255]<<8|g[255&H])^h[A++],y=(g[U>>>24]<<24|g[G>>>16&255]<<16|g[H>>>8&255]<<8|g[255&L])^h[A++],v=(g[G>>>24]<<24|g[H>>>16&255]<<16|g[L>>>8&255]<<8|g[255&U])^h[A++],C=(g[H>>>24]<<24|g[L>>>16&255]<<16|g[U>>>8&255]<<8|g[255&G])^h[A++],[m>>>=0,y>>>=0,v>>>=0,C>>>=0]}var e=[0,1,2,4,8,16,32,64,128,27,54],n=function(){for(var l=new Array(256),h=0;h<256;h++)l[h]=h<128?h<<1:h<<1^283;for(var p=[],g=[],f=[[],[],[],[]],m=[[],[],[],[]],y=0,v=0,C=0;C<256;++C){var S=v^v<<1^v<<2^v<<3^v<<4;S=S>>>8^255&S^99,p[y]=S,g[S]=y;var I=l[y],z=l[I],V=l[z],L=257*l[S]^16843008*S;f[0][y]=L<<24|L>>>8,f[1][y]=L<<16|L>>>16,f[2][y]=L<<8|L>>>24,f[3][y]=L,L=16843009*V^65537*z^257*I^16843008*y,m[0][S]=L<<24|L>>>8,m[1][S]=L<<16|L>>>16,m[2][S]=L<<8|L>>>24,m[3][S]=L,y===0?y=v=1:(y=I^l[l[l[V^I]]],v^=l[l[v]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:f,INV_SUB_MIX:m}}();function d(l){this._key=r(l),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var l=this._key,h=l.length,p=h+6,g=4*(p+1),f=[],m=0;m<h;m++)f[m]=l[m];for(m=h;m<g;m++){var y=f[m-1];m%h==0?(y=y<<8|y>>>24,y=n.SBOX[y>>>24]<<24|n.SBOX[y>>>16&255]<<16|n.SBOX[y>>>8&255]<<8|n.SBOX[255&y],y^=e[m/h|0]<<24):h>6&&m%h==4&&(y=n.SBOX[y>>>24]<<24|n.SBOX[y>>>16&255]<<16|n.SBOX[y>>>8&255]<<8|n.SBOX[255&y]),f[m]=f[m-h]^y}for(var v=[],C=0;C<g;C++){var S=g-C,I=f[S-(C%4?0:4)];v[C]=C<4||S<=4?I:n.INV_SUB_MIX[0][n.SBOX[I>>>24]]^n.INV_SUB_MIX[1][n.SBOX[I>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[I>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[255&I]]}this._nRounds=p,this._keySchedule=f,this._invKeySchedule=v},d.prototype.encryptBlockRaw=function(l){return s(l=r(l),this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},d.prototype.encryptBlock=function(l){var h=this.encryptBlockRaw(l),p=a.allocUnsafe(16);return p.writeUInt32BE(h[0],0),p.writeUInt32BE(h[1],4),p.writeUInt32BE(h[2],8),p.writeUInt32BE(h[3],12),p},d.prototype.decryptBlock=function(l){var h=(l=r(l))[1];l[1]=l[3],l[3]=h;var p=s(l,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},d.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},c.exports.AES=d},{"safe-buffer":494}],190:[function(t,c,u){var a=t("./aes"),r=t("safe-buffer").Buffer,i=t("cipher-base"),s=t("inherits"),e=t("./ghash"),n=t("buffer-xor"),d=t("./incr32");function l(h,p,g,f){i.call(this);var m=r.alloc(4,0);this._cipher=new a.AES(p);var y=this._cipher.encryptBlock(m);this._ghash=new e(y),g=function(v,C,S){if(C.length===12)return v._finID=r.concat([C,r.from([0,0,0,1])]),r.concat([C,r.from([0,0,0,2])]);var I=new e(S),z=C.length,V=z%16;I.update(C),V&&(V=16-V,I.update(r.alloc(V,0))),I.update(r.alloc(8,0));var L=8*z,U=r.alloc(8);U.writeUIntBE(L,0,8),I.update(U),v._finID=I.state;var G=r.from(v._finID);return d(G),G}(this,g,y),this._prev=r.from(g),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}s(l,i),l.prototype._update=function(h){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=r.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(g),this._len+=h.length,g},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=n(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var f=0;p.length!==g.length&&f++;for(var m=Math.min(p.length,g.length),y=0;y<m;++y)f+=p[y]^g[y];return f}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},l.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},c.exports=l},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,c,u){var a=t("./encrypter"),r=t("./decrypter"),i=t("./modes/list.json");u.createCipher=u.Cipher=a.createCipher,u.createCipheriv=u.Cipheriv=a.createCipheriv,u.createDecipher=u.Decipher=r.createDecipher,u.createDecipheriv=u.Decipheriv=r.createDecipheriv,u.listCiphers=u.getCiphers=function(){return Object.keys(i)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,c,u){var a=t("./authCipher"),r=t("safe-buffer").Buffer,i=t("./modes"),s=t("./streamCipher"),e=t("cipher-base"),n=t("./aes"),d=t("evp_bytestokey");function l(g,f,m){e.call(this),this._cache=new h,this._last=void 0,this._cipher=new n.AES(f),this._prev=r.from(m),this._mode=g,this._autopadding=!0}function h(){this.cache=r.allocUnsafe(0)}function p(g,f,m){var y=i[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=r.from(m)),y.mode!=="GCM"&&m.length!==y.iv)throw new TypeError("invalid iv length "+m.length);if(typeof f=="string"&&(f=r.from(f)),f.length!==y.key/8)throw new TypeError("invalid key length "+f.length);return y.type==="stream"?new s(y.module,f,m,!0):y.type==="auth"?new a(y.module,f,m,!0):new l(y.module,f,m)}t("inherits")(l,e),l.prototype._update=function(g){var f,m;this._cache.add(g);for(var y=[];f=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,f),y.push(m);return r.concat(y)},l.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(f){var m=f[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var y=-1;++y<m;)if(f[y+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return f.slice(0,16-m)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},h.prototype.add=function(g){this.cache=r.concat([this.cache,g])},h.prototype.get=function(g){var f;if(g){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},u.createDecipher=function(g,f){var m=i[g.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var y=d(f,!1,m.key,m.iv);return p(g,y.key,y.iv)},u.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,c,u){var a=t("./modes"),r=t("./authCipher"),i=t("safe-buffer").Buffer,s=t("./streamCipher"),e=t("cipher-base"),n=t("./aes"),d=t("evp_bytestokey");function l(f,m,y){e.call(this),this._cache=new p,this._cipher=new n.AES(m),this._prev=i.from(y),this._mode=f,this._autopadding=!0}t("inherits")(l,e),l.prototype._update=function(f){var m,y;this._cache.add(f);for(var v=[];m=this._cache.get();)y=this._mode.encrypt(this,m),v.push(y);return i.concat(v)};var h=i.alloc(16,16);function p(){this.cache=i.allocUnsafe(0)}function g(f,m,y){var v=a[f.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=i.from(m)),m.length!==v.key/8)throw new TypeError("invalid key length "+m.length);if(typeof y=="string"&&(y=i.from(y)),v.mode!=="GCM"&&y.length!==v.iv)throw new TypeError("invalid iv length "+y.length);return v.type==="stream"?new s(v.module,m,y):v.type==="auth"?new r(v.module,m,y):new l(v.module,m,y)}l.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},p.prototype.add=function(f){this.cache=i.concat([this.cache,f])},p.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},p.prototype.flush=function(){for(var f=16-this.cache.length,m=i.allocUnsafe(f),y=-1;++y<f;)m.writeUInt8(f,y);return i.concat([this.cache,m])},u.createCipheriv=g,u.createCipher=function(f,m){var y=a[f.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var v=d(m,!1,y.key,y.iv);return g(f,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,c,u){var a=t("safe-buffer").Buffer,r=a.alloc(16,0);function i(e){var n=a.allocUnsafe(16);return n.writeUInt32BE(e[0]>>>0,0),n.writeUInt32BE(e[1]>>>0,4),n.writeUInt32BE(e[2]>>>0,8),n.writeUInt32BE(e[3]>>>0,12),n}function s(e){this.h=e,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}s.prototype.ghash=function(e){for(var n=-1;++n<e.length;)this.state[n]^=e[n];this._multiply()},s.prototype._multiply=function(){for(var e,n,d,l=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],h=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(h[0]^=l[0],h[1]^=l[1],h[2]^=l[2],h[3]^=l[3]),d=(1&l[3])!=0,n=3;n>0;n--)l[n]=l[n]>>>1|(1&l[n-1])<<31;l[0]=l[0]>>>1,d&&(l[0]=l[0]^225<<24)}this.state=i(h)},s.prototype.update=function(e){var n;for(this.cache=a.concat([this.cache,e]);this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},s.prototype.final=function(e,n){return this.cache.length&&this.ghash(a.concat([this.cache,r],16)),this.ghash(i([0,e,0,n])),this.state},c.exports=s},{"safe-buffer":494}],195:[function(t,c,u){c.exports=function(a){for(var r,i=a.length;i--;){if((r=a.readUInt8(i))!==255){r++,a.writeUInt8(r,i);break}a.writeUInt8(0,i)}}},{}],196:[function(t,c,u){var a=t("buffer-xor");u.encrypt=function(r,i){var s=a(i,r._prev);return r._prev=r._cipher.encryptBlock(s),r._prev},u.decrypt=function(r,i){var s=r._prev;r._prev=i;var e=r._cipher.decryptBlock(i);return a(e,s)}},{"buffer-xor":219}],197:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("buffer-xor");function i(s,e,n){var d=e.length,l=r(e,s._cache);return s._cache=s._cache.slice(d),s._prev=a.concat([s._prev,n?e:l]),l}u.encrypt=function(s,e,n){for(var d,l=a.allocUnsafe(0);e.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=a.allocUnsafe(0)),!(s._cache.length<=e.length)){l=a.concat([l,i(s,e,n)]);break}d=s._cache.length,l=a.concat([l,i(s,e.slice(0,d),n)]),e=e.slice(d)}return l}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,c,u){var a=t("safe-buffer").Buffer;function r(s,e,n){for(var d,l,h=-1,p=0;++h<8;)d=e&1<<7-h?128:0,p+=(128&(l=s._cipher.encryptBlock(s._prev)[0]^d))>>h%8,s._prev=i(s._prev,n?d:l);return p}function i(s,e){var n=s.length,d=-1,l=a.allocUnsafe(s.length);for(s=a.concat([s,a.from([e])]);++d<n;)l[d]=s[d]<<1|s[d+1]>>7;return l}u.encrypt=function(s,e,n){for(var d=e.length,l=a.allocUnsafe(d),h=-1;++h<d;)l[h]=r(s,e[h],n);return l}},{"safe-buffer":494}],199:[function(t,c,u){var a=t("safe-buffer").Buffer;function r(i,s,e){var n=i._cipher.encryptBlock(i._prev)[0]^s;return i._prev=a.concat([i._prev.slice(1),a.from([e?s:n])]),n}u.encrypt=function(i,s,e){for(var n=s.length,d=a.allocUnsafe(n),l=-1;++l<n;)d[l]=r(i,s[l],e);return d}},{"safe-buffer":494}],200:[function(t,c,u){var a=t("buffer-xor"),r=t("safe-buffer").Buffer,i=t("../incr32");function s(e){var n=e._cipher.encryptBlockRaw(e._prev);return i(e._prev),n}u.encrypt=function(e,n){var d=Math.ceil(n.length/16),l=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*d)]);for(var h=0;h<d;h++){var p=s(e),g=l+16*h;e._cache.writeUInt32BE(p[0],g+0),e._cache.writeUInt32BE(p[1],g+4),e._cache.writeUInt32BE(p[2],g+8),e._cache.writeUInt32BE(p[3],g+12)}var f=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),a(n,f)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,c,u){u.encrypt=function(a,r){return a._cipher.encryptBlock(r)},u.decrypt=function(a,r){return a._cipher.decryptBlock(r)}},{}],202:[function(t,c,u){var a={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},r=t("./list.json");for(var i in r)r[i].module=a[r[i].mode];c.exports=r},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,c,u){c.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,c,u){(function(a){(function(){var r=t("buffer-xor");function i(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}u.encrypt=function(s,e){for(;s._cache.length<e.length;)s._cache=a.concat([s._cache,i(s)]);var n=s._cache.slice(0,e.length);return s._cache=s._cache.slice(e.length),r(e,n)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,c,u){var a=t("./aes"),r=t("safe-buffer").Buffer,i=t("cipher-base");function s(e,n,d,l){i.call(this),this._cipher=new a.AES(n),this._prev=r.from(d),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=l,this._mode=e}t("inherits")(s,i),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},c.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,c,u){var a=t("browserify-des"),r=t("browserify-aes/browser"),i=t("browserify-aes/modes"),s=t("browserify-des/modes"),e=t("evp_bytestokey");function n(l,h,p){if(l=l.toLowerCase(),i[l])return r.createCipheriv(l,h,p);if(s[l])return new a({key:h,iv:p,mode:l});throw new TypeError("invalid suite type")}function d(l,h,p){if(l=l.toLowerCase(),i[l])return r.createDecipheriv(l,h,p);if(s[l])return new a({key:h,iv:p,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}u.createCipher=u.Cipher=function(l,h){var p,g;if(l=l.toLowerCase(),i[l])p=i[l].key,g=i[l].iv;else{if(!s[l])throw new TypeError("invalid suite type");p=8*s[l].key,g=s[l].iv}var f=e(h,!1,p,g);return n(l,f.key,f.iv)},u.createCipheriv=u.Cipheriv=n,u.createDecipher=u.Decipher=function(l,h){var p,g;if(l=l.toLowerCase(),i[l])p=i[l].key,g=i[l].iv;else{if(!s[l])throw new TypeError("invalid suite type");p=8*s[l].key,g=s[l].iv}var f=e(h,!1,p,g);return d(l,f.key,f.iv)},u.createDecipheriv=u.Decipheriv=d,u.listCiphers=u.getCiphers=function(){return Object.keys(s).concat(r.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,c,u){var a=t("cipher-base"),r=t("des.js"),i=t("inherits"),s=t("safe-buffer").Buffer,e={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function n(d){a.call(this);var l,h=d.mode.toLowerCase(),p=e[h];l=d.decrypt?"decrypt":"encrypt";var g=d.key;s.isBuffer(g)||(g=s.from(g)),h!=="des-ede"&&h!=="des-ede-cbc"||(g=s.concat([g,g.slice(0,8)]));var f=d.iv;s.isBuffer(f)||(f=s.from(f)),this._des=p.create({key:g,iv:f,type:l})}e.des=e["des-cbc"],e.des3=e["des-ede3-cbc"],c.exports=n,i(n,a),n.prototype._update=function(d){return s.from(this._des.update(d))},n.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,c,u){u["des-ecb"]={key:8,iv:0},u["des-cbc"]=u.des={key:8,iv:8},u["des-ede3-cbc"]=u.des3={key:24,iv:8},u["des-ede3"]={key:24,iv:0},u["des-ede-cbc"]={key:16,iv:8},u["des-ede"]={key:16,iv:0}},{}],209:[function(t,c,u){(function(a){(function(){var r=t("bn.js"),i=t("randombytes");function s(n){var d,l=n.modulus.byteLength();do d=new r(i(l));while(d.cmp(n.modulus)>=0||!d.umod(n.prime1)||!d.umod(n.prime2));return d}function e(n,d){var l=function(z){var V=s(z);return{blinder:V.toRed(r.mont(z.modulus)).redPow(new r(z.publicExponent)).fromRed(),unblinder:V.invm(z.modulus)}}(d),h=d.modulus.byteLength(),p=new r(n).mul(l.blinder).umod(d.modulus),g=p.toRed(r.mont(d.prime1)),f=p.toRed(r.mont(d.prime2)),m=d.coefficient,y=d.prime1,v=d.prime2,C=g.redPow(d.exponent1).fromRed(),S=f.redPow(d.exponent2).fromRed(),I=C.isub(S).imul(m).umod(y).imul(v);return S.iadd(I).imul(l.unblinder).umod(d.modulus).toArrayLike(a,"be",h)}e.getr=s,c.exports=e}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,c,u){c.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,c,u){c.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,c,u){c.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("create-hash"),i=t("readable-stream"),s=t("inherits"),e=t("./sign"),n=t("./verify"),d=t("./algorithms.json");function l(f){i.Writable.call(this);var m=d[f];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=r(m.hash),this._tag=m.id,this._signType=m.sign}function h(f){i.Writable.call(this);var m=d[f];if(!m)throw new Error("Unknown message digest");this._hash=r(m.hash),this._tag=m.id,this._signType=m.sign}function p(f){return new l(f)}function g(f){return new h(f)}Object.keys(d).forEach(function(f){d[f].id=a.from(d[f].id,"hex"),d[f.toLowerCase()]=d[f]}),s(l,i.Writable),l.prototype._write=function(f,m,y){this._hash.update(f),y()},l.prototype.update=function(f,m){return typeof f=="string"&&(f=a.from(f,m)),this._hash.update(f),this},l.prototype.sign=function(f,m){this.end();var y=this._hash.digest(),v=e(y,f,this._hashType,this._signType,this._tag);return m?v.toString(m):v},s(h,i.Writable),h.prototype._write=function(f,m,y){this._hash.update(f),y()},h.prototype.update=function(f,m){return typeof f=="string"&&(f=a.from(f,m)),this._hash.update(f),this},h.prototype.verify=function(f,m,y){typeof m=="string"&&(m=a.from(m,y)),this.end();var v=this._hash.digest();return n(m,v,f,this._signType,this._tag)},c.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("create-hmac"),i=t("browserify-rsa"),s=t("elliptic").ec,e=t("bn.js"),n=t("parse-asn1"),d=t("./curves.json");function l(f,m,y,v){if((f=a.from(f.toArray())).length<m.byteLength()){var C=a.alloc(m.byteLength()-f.length);f=a.concat([C,f])}var S=y.length,I=function(L,U){L=(L=h(L,U)).mod(U);var G=a.from(L.toArray());if(G.length<U.byteLength()){var H=a.alloc(U.byteLength()-G.length);G=a.concat([H,G])}return G}(y,m),z=a.alloc(S);z.fill(1);var V=a.alloc(S);return V=r(v,V).update(z).update(a.from([0])).update(f).update(I).digest(),z=r(v,V).update(z).digest(),{k:V=r(v,V).update(z).update(a.from([1])).update(f).update(I).digest(),v:z=r(v,V).update(z).digest()}}function h(f,m){var y=new e(f),v=(f.length<<3)-m.bitLength();return v>0&&y.ishrn(v),y}function p(f,m,y){var v,C;do{for(v=a.alloc(0);8*v.length<f.bitLength();)m.v=r(y,m.k).update(m.v).digest(),v=a.concat([v,m.v]);C=h(v,f),m.k=r(y,m.k).update(m.v).update(a.from([0])).digest(),m.v=r(y,m.k).update(m.v).digest()}while(C.cmp(f)!==-1);return C}function g(f,m,y,v){return f.toRed(e.mont(y)).redPow(m).fromRed().mod(v)}c.exports=function(f,m,y,v,C){var S=n(m);if(S.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(L,U){var G=d[U.curve.join(".")];if(!G)throw new Error("unknown curve "+U.curve.join("."));var H=new s(G).keyFromPrivate(U.privateKey).sign(L);return a.from(H.toDER())}(f,S)}if(S.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(L,U,G){for(var H,A=U.params.priv_key,N=U.params.p,E=U.params.q,x=U.params.g,_=new e(0),P=h(L,E).mod(E),M=!1,k=l(A,E,L,G);M===!1;)H=p(E,k,G),_=g(x,H,N,E),(M=H.invm(E).imul(P.add(A.mul(_))).mod(E)).cmpn(0)===0&&(M=!1,_=new e(0));return function(R,F){R=R.toArray(),F=F.toArray(),128&R[0]&&(R=[0].concat(R)),128&F[0]&&(F=[0].concat(F));var q=[48,R.length+F.length+4,2,R.length];return q=q.concat(R,[2,F.length],F),a.from(q)}(_,M)}(f,S,y)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");f=a.concat([C,f]);for(var I=S.modulus.byteLength(),z=[0,1];f.length+z.length+1<I;)z.push(255);z.push(0);for(var V=-1;++V<f.length;)z.push(f[V]);return i(z,S)},c.exports.getKey=l,c.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("bn.js"),i=t("elliptic").ec,s=t("parse-asn1"),e=t("./curves.json");function n(d,l){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(l)>=l)throw new Error("invalid sig")}c.exports=function(d,l,h,p,g){var f=s(h);if(f.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(z,V,L){var U=e[L.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+L.data.algorithm.curve.join("."));var G=new i(U),H=L.data.subjectPrivateKey.data;return G.verify(V,z,H)}(d,l,f)}if(f.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(z,V,L){var U=L.data.p,G=L.data.q,H=L.data.g,A=L.data.pub_key,N=s.signature.decode(z,"der"),E=N.s,x=N.r;n(E,G),n(x,G);var _=r.mont(U),P=E.invm(G);return H.toRed(_).redPow(new r(V).mul(P).mod(G)).fromRed().mul(A.toRed(_).redPow(x.mul(P).mod(G)).fromRed()).mod(U).mod(G).cmp(x)===0}(d,l,f)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");l=a.concat([g,l]);for(var m=f.modulus.byteLength(),y=[1],v=0;l.length+y.length+2<m;)y.push(255),v++;y.push(0);for(var C=-1;++C<l.length;)y.push(l[C]);y=a.from(y);var S=r.mont(f.modulus);d=(d=new r(d).toRed(S)).redPow(new r(f.publicExponent)),d=a.from(d.fromRed().toArray());var I=v<8?1:0;for(m=Math.min(d.length,y.length),d.length!==y.length&&(I=1),C=-1;++C<m;)I|=d[C]^y[C];return I===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,c,u){},{}],217:[function(t,c,u){var a=t("buffer"),r=a.Buffer;function i(e,n){for(var d in e)n[d]=e[d]}function s(e,n,d){return r(e,n,d)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?c.exports=a:(i(a,u),u.Buffer=s),i(r,s),s.from=function(e,n,d){if(typeof e=="number")throw new TypeError("Argument must not be a number");return r(e,n,d)},s.alloc=function(e,n,d){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=r(e);return n!==void 0?typeof d=="string"?l.fill(n,d):l.fill(n):l.fill(0),l},s.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},{buffer:220}],218:[function(t,c,u){var a=t("safe-buffer").Buffer,r=a.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(f){var m;switch(this.encoding=function(y){var v=function(C){if(!C)return"utf8";for(var S;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(S)return;C=(""+C).toLowerCase(),S=!0}}(y);if(typeof v!="string"&&(a.isEncoding===r||!r(y)))throw new Error("Unknown encoding: "+y);return v||y}(f),this.encoding){case"utf16le":this.text=n,this.end=d,m=4;break;case"utf8":this.fillLast=e,m=4;break;case"base64":this.text=l,this.end=h,m=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(m)}function s(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function e(f){var m=this.lastTotal-this.lastNeed,y=function(v,C,S){if((192&C[0])!=128)return v.lastNeed=0,"�";if(v.lastNeed>1&&C.length>1){if((192&C[1])!=128)return v.lastNeed=1,"�";if(v.lastNeed>2&&C.length>2&&(192&C[2])!=128)return v.lastNeed=2,"�"}}(this,f);return y!==void 0?y:this.lastNeed<=f.length?(f.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,m,0,f.length),void(this.lastNeed-=f.length))}function n(f,m){if((f.length-m)%2==0){var y=f.toString("utf16le",m);if(y){var v=y.charCodeAt(y.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",m,f.length-1)}function d(f){var m=f&&f.length?this.write(f):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,y)}return m}function l(f,m){var y=(f.length-m)%3;return y===0?f.toString("base64",m):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",m,f.length-y))}function h(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function p(f){return f.toString(this.encoding)}function g(f){return f&&f.length?this.write(f):""}u.StringDecoder=i,i.prototype.write=function(f){if(f.length===0)return"";var m,y;if(this.lastNeed){if((m=this.fillLast(f))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<f.length?m?m+this.text(f,y):this.text(f,y):m||""},i.prototype.end=function(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+"�":m},i.prototype.text=function(f,m){var y=function(C,S,I){var z=S.length-1;if(z<I)return 0;var V=s(S[z]);return V>=0?(V>0&&(C.lastNeed=V-1),V):--z<I||V===-2?0:(V=s(S[z]))>=0?(V>0&&(C.lastNeed=V-2),V):--z<I||V===-2?0:(V=s(S[z]))>=0?(V>0&&(V===2?V=0:C.lastNeed=V-3),V):0}(this,f,m);if(!this.lastNeed)return f.toString("utf8",m);this.lastTotal=y;var v=f.length-(y-this.lastNeed);return f.copy(this.lastChar,0,v),f.toString("utf8",m,v)},i.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},{"safe-buffer":217}],219:[function(t,c,u){(function(a){(function(){c.exports=function(r,i){for(var s=Math.min(r.length,i.length),e=new a(s),n=0;n<s;++n)e[n]=r[n]^i[n];return e}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,c,u){(function(a){(function(){var r=t("base64-js"),i=t("ieee754");u.Buffer=e,u.SlowBuffer=function(B){return+B!=B&&(B=0),e.alloc(+B)},u.INSPECT_MAX_BYTES=50;function s(B){if(B>2147483647)throw new RangeError('The value "'+B+'" is invalid for option "size"');var T=new Uint8Array(B);return T.__proto__=e.prototype,T}function e(B,T,W){if(typeof B=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(B)}return n(B,T,W)}function n(B,T,W){if(typeof B=="string")return function(Z,tt){if(typeof tt=="string"&&tt!==""||(tt="utf8"),!e.isEncoding(tt))throw new TypeError("Unknown encoding: "+tt);var rt=0|g(Z,tt),st=s(rt),$=st.write(Z,tt);return $!==rt&&(st=st.slice(0,$)),st}(B,T);if(ArrayBuffer.isView(B))return h(B);if(B==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(j(B,ArrayBuffer)||B&&j(B.buffer,ArrayBuffer))return function(Z,tt,rt){if(tt<0||Z.byteLength<tt)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<tt+(rt||0))throw new RangeError('"length" is outside of buffer bounds');var st;return st=tt===void 0&&rt===void 0?new Uint8Array(Z):rt===void 0?new Uint8Array(Z,tt):new Uint8Array(Z,tt,rt),st.__proto__=e.prototype,st}(B,T,W);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=B.valueOf&&B.valueOf();if(Y!=null&&Y!==B)return e.from(Y,T,W);var Q=function(Z){if(e.isBuffer(Z)){var tt=0|p(Z.length),rt=s(tt);return rt.length===0||Z.copy(rt,0,0,tt),rt}if(Z.length!==void 0)return typeof Z.length!="number"||K(Z.length)?s(0):h(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return h(Z.data)}(B);if(Q)return Q;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return e.from(B[Symbol.toPrimitive]("string"),T,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function d(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function l(B){return d(B),s(B<0?0:0|p(B))}function h(B){for(var T=B.length<0?0:0|p(B.length),W=s(T),Y=0;Y<T;Y+=1)W[Y]=255&B[Y];return W}function p(B){if(B>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|B}function g(B,T){if(e.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||j(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var W=B.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&W===0)return 0;for(var Q=!1;;)switch(T){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return q(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return X(B).length;default:if(Q)return Y?-1:q(B).length;T=(""+T).toLowerCase(),Q=!0}}function f(B,T,W){var Y=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(T>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return N(this,T,W);case"utf8":case"utf-8":return G(this,T,W);case"ascii":return H(this,T,W);case"latin1":case"binary":return A(this,T,W);case"base64":return U(this,T,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,T,W);default:if(Y)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),Y=!0}}function m(B,T,W){var Y=B[T];B[T]=B[W],B[W]=Y}function y(B,T,W,Y,Q){if(B.length===0)return-1;if(typeof W=="string"?(Y=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),K(W=+W)&&(W=Q?0:B.length-1),W<0&&(W=B.length+W),W>=B.length){if(Q)return-1;W=B.length-1}else if(W<0){if(!Q)return-1;W=0}if(typeof T=="string"&&(T=e.from(T,Y)),e.isBuffer(T))return T.length===0?-1:v(B,T,W,Y,Q);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(B,T,W):Uint8Array.prototype.lastIndexOf.call(B,T,W):v(B,[T],W,Y,Q);throw new TypeError("val must be string, number or Buffer")}function v(B,T,W,Y,Q){var Z,tt=1,rt=B.length,st=T.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(B.length<2||T.length<2)return-1;tt=2,rt/=2,st/=2,W/=2}function $(ct,ut){return tt===1?ct[ut]:ct.readUInt16BE(ut*tt)}if(Q){var nt=-1;for(Z=W;Z<rt;Z++)if($(B,Z)===$(T,nt===-1?0:Z-nt)){if(nt===-1&&(nt=Z),Z-nt+1===st)return nt*tt}else nt!==-1&&(Z-=Z-nt),nt=-1}else for(W+st>rt&&(W=rt-st),Z=W;Z>=0;Z--){for(var it=!0,ht=0;ht<st;ht++)if($(B,Z+ht)!==$(T,ht)){it=!1;break}if(it)return Z}return-1}function C(B,T,W,Y){W=Number(W)||0;var Q=B.length-W;Y?(Y=Number(Y))>Q&&(Y=Q):Y=Q;var Z=T.length;Y>Z/2&&(Y=Z/2);for(var tt=0;tt<Y;++tt){var rt=parseInt(T.substr(2*tt,2),16);if(K(rt))return tt;B[W+tt]=rt}return tt}function S(B,T,W,Y){return J(q(T,B.length-W),B,W,Y)}function I(B,T,W,Y){return J(function(Q){for(var Z=[],tt=0;tt<Q.length;++tt)Z.push(255&Q.charCodeAt(tt));return Z}(T),B,W,Y)}function z(B,T,W,Y){return I(B,T,W,Y)}function V(B,T,W,Y){return J(X(T),B,W,Y)}function L(B,T,W,Y){return J(function(Q,Z){for(var tt,rt,st,$=[],nt=0;nt<Q.length&&!((Z-=2)<0);++nt)tt=Q.charCodeAt(nt),rt=tt>>8,st=tt%256,$.push(st),$.push(rt);return $}(T,B.length-W),B,W,Y)}function U(B,T,W){return T===0&&W===B.length?r.fromByteArray(B):r.fromByteArray(B.slice(T,W))}function G(B,T,W){W=Math.min(B.length,W);for(var Y=[],Q=T;Q<W;){var Z,tt,rt,st,$=B[Q],nt=null,it=$>239?4:$>223?3:$>191?2:1;if(Q+it<=W)switch(it){case 1:$<128&&(nt=$);break;case 2:(192&(Z=B[Q+1]))==128&&(st=(31&$)<<6|63&Z)>127&&(nt=st);break;case 3:Z=B[Q+1],tt=B[Q+2],(192&Z)==128&&(192&tt)==128&&(st=(15&$)<<12|(63&Z)<<6|63&tt)>2047&&(st<55296||st>57343)&&(nt=st);break;case 4:Z=B[Q+1],tt=B[Q+2],rt=B[Q+3],(192&Z)==128&&(192&tt)==128&&(192&rt)==128&&(st=(15&$)<<18|(63&Z)<<12|(63&tt)<<6|63&rt)>65535&&st<1114112&&(nt=st)}nt===null?(nt=65533,it=1):nt>65535&&(nt-=65536,Y.push(nt>>>10&1023|55296),nt=56320|1023&nt),Y.push(nt),Q+=it}return function(ht){var ct=ht.length;if(ct<=4096)return String.fromCharCode.apply(String,ht);for(var ut="",gt=0;gt<ct;)ut+=String.fromCharCode.apply(String,ht.slice(gt,gt+=4096));return ut}(Y)}u.kMaxLength=2147483647,e.TYPED_ARRAY_SUPPORT=function(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},B.foo()===42}catch(T){return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol!="undefined"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(B,T,W){return n(B,T,W)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(B,T,W){return function(Y,Q,Z){return d(Y),Y<=0?s(Y):Q!==void 0?typeof Z=="string"?s(Y).fill(Q,Z):s(Y).fill(Q):s(Y)}(B,T,W)},e.allocUnsafe=function(B){return l(B)},e.allocUnsafeSlow=function(B){return l(B)},e.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==e.prototype},e.compare=function(B,T){if(j(B,Uint8Array)&&(B=e.from(B,B.offset,B.byteLength)),j(T,Uint8Array)&&(T=e.from(T,T.offset,T.byteLength)),!e.isBuffer(B)||!e.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===T)return 0;for(var W=B.length,Y=T.length,Q=0,Z=Math.min(W,Y);Q<Z;++Q)if(B[Q]!==T[Q]){W=B[Q],Y=T[Q];break}return W<Y?-1:Y<W?1:0},e.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(B,T){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return e.alloc(0);var W;if(T===void 0)for(T=0,W=0;W<B.length;++W)T+=B[W].length;var Y=e.allocUnsafe(T),Q=0;for(W=0;W<B.length;++W){var Z=B[W];if(j(Z,Uint8Array)&&(Z=e.from(Z)),!e.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(Y,Q),Q+=Z.length}return Y},e.byteLength=g,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<B;T+=2)m(this,T,T+1);return this},e.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<B;T+=4)m(this,T,T+3),m(this,T+1,T+2);return this},e.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<B;T+=8)m(this,T,T+7),m(this,T+1,T+6),m(this,T+2,T+5),m(this,T+3,T+4);return this},e.prototype.toString=function(){var B=this.length;return B===0?"":arguments.length===0?G(this,0,B):f.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(B){if(!e.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||e.compare(this,B)===0},e.prototype.inspect=function(){var B="",T=u.INSPECT_MAX_BYTES;return B=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(B+=" ... "),"<Buffer "+B+">"},e.prototype.compare=function(B,T,W,Y,Q){if(j(B,Uint8Array)&&(B=e.from(B,B.offset,B.byteLength)),!e.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(T===void 0&&(T=0),W===void 0&&(W=B?B.length:0),Y===void 0&&(Y=0),Q===void 0&&(Q=this.length),T<0||W>B.length||Y<0||Q>this.length)throw new RangeError("out of range index");if(Y>=Q&&T>=W)return 0;if(Y>=Q)return-1;if(T>=W)return 1;if(this===B)return 0;for(var Z=(Q>>>=0)-(Y>>>=0),tt=(W>>>=0)-(T>>>=0),rt=Math.min(Z,tt),st=this.slice(Y,Q),$=B.slice(T,W),nt=0;nt<rt;++nt)if(st[nt]!==$[nt]){Z=st[nt],tt=$[nt];break}return Z<tt?-1:tt<Z?1:0},e.prototype.includes=function(B,T,W){return this.indexOf(B,T,W)!==-1},e.prototype.indexOf=function(B,T,W){return y(this,B,T,W,!0)},e.prototype.lastIndexOf=function(B,T,W){return y(this,B,T,W,!1)},e.prototype.write=function(B,T,W,Y){if(T===void 0)Y="utf8",W=this.length,T=0;else if(W===void 0&&typeof T=="string")Y=T,W=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(W)?(W>>>=0,Y===void 0&&(Y="utf8")):(Y=W,W=void 0)}var Q=this.length-T;if((W===void 0||W>Q)&&(W=Q),B.length>0&&(W<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var Z=!1;;)switch(Y){case"hex":return C(this,B,T,W);case"utf8":case"utf-8":return S(this,B,T,W);case"ascii":return I(this,B,T,W);case"latin1":case"binary":return z(this,B,T,W);case"base64":return V(this,B,T,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,B,T,W);default:if(Z)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),Z=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(B,T,W){var Y="";W=Math.min(B.length,W);for(var Q=T;Q<W;++Q)Y+=String.fromCharCode(127&B[Q]);return Y}function A(B,T,W){var Y="";W=Math.min(B.length,W);for(var Q=T;Q<W;++Q)Y+=String.fromCharCode(B[Q]);return Y}function N(B,T,W){var Y=B.length;(!T||T<0)&&(T=0),(!W||W<0||W>Y)&&(W=Y);for(var Q="",Z=T;Z<W;++Z)Q+=F(B[Z]);return Q}function E(B,T,W){for(var Y=B.slice(T,W),Q="",Z=0;Z<Y.length;Z+=2)Q+=String.fromCharCode(Y[Z]+256*Y[Z+1]);return Q}function x(B,T,W){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+T>W)throw new RangeError("Trying to access beyond buffer length")}function _(B,T,W,Y,Q,Z){if(!e.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Q||T<Z)throw new RangeError('"value" argument is out of bounds');if(W+Y>B.length)throw new RangeError("Index out of range")}function P(B,T,W,Y,Q,Z){if(W+Y>B.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function M(B,T,W,Y,Q){return T=+T,W>>>=0,Q||P(B,0,W,4),i.write(B,T,W,Y,23,4),W+4}function k(B,T,W,Y,Q){return T=+T,W>>>=0,Q||P(B,0,W,8),i.write(B,T,W,Y,52,8),W+8}e.prototype.slice=function(B,T){var W=this.length;(B=~~B)<0?(B+=W)<0&&(B=0):B>W&&(B=W),(T=T===void 0?W:~~T)<0?(T+=W)<0&&(T=0):T>W&&(T=W),T<B&&(T=B);var Y=this.subarray(B,T);return Y.__proto__=e.prototype,Y},e.prototype.readUIntLE=function(B,T,W){B>>>=0,T>>>=0,W||x(B,T,this.length);for(var Y=this[B],Q=1,Z=0;++Z<T&&(Q*=256);)Y+=this[B+Z]*Q;return Y},e.prototype.readUIntBE=function(B,T,W){B>>>=0,T>>>=0,W||x(B,T,this.length);for(var Y=this[B+--T],Q=1;T>0&&(Q*=256);)Y+=this[B+--T]*Q;return Y},e.prototype.readUInt8=function(B,T){return B>>>=0,T||x(B,1,this.length),this[B]},e.prototype.readUInt16LE=function(B,T){return B>>>=0,T||x(B,2,this.length),this[B]|this[B+1]<<8},e.prototype.readUInt16BE=function(B,T){return B>>>=0,T||x(B,2,this.length),this[B]<<8|this[B+1]},e.prototype.readUInt32LE=function(B,T){return B>>>=0,T||x(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},e.prototype.readUInt32BE=function(B,T){return B>>>=0,T||x(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},e.prototype.readIntLE=function(B,T,W){B>>>=0,T>>>=0,W||x(B,T,this.length);for(var Y=this[B],Q=1,Z=0;++Z<T&&(Q*=256);)Y+=this[B+Z]*Q;return Y>=(Q*=128)&&(Y-=Math.pow(2,8*T)),Y},e.prototype.readIntBE=function(B,T,W){B>>>=0,T>>>=0,W||x(B,T,this.length);for(var Y=T,Q=1,Z=this[B+--Y];Y>0&&(Q*=256);)Z+=this[B+--Y]*Q;return Z>=(Q*=128)&&(Z-=Math.pow(2,8*T)),Z},e.prototype.readInt8=function(B,T){return B>>>=0,T||x(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},e.prototype.readInt16LE=function(B,T){B>>>=0,T||x(B,2,this.length);var W=this[B]|this[B+1]<<8;return 32768&W?4294901760|W:W},e.prototype.readInt16BE=function(B,T){B>>>=0,T||x(B,2,this.length);var W=this[B+1]|this[B]<<8;return 32768&W?4294901760|W:W},e.prototype.readInt32LE=function(B,T){return B>>>=0,T||x(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},e.prototype.readInt32BE=function(B,T){return B>>>=0,T||x(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},e.prototype.readFloatLE=function(B,T){return B>>>=0,T||x(B,4,this.length),i.read(this,B,!0,23,4)},e.prototype.readFloatBE=function(B,T){return B>>>=0,T||x(B,4,this.length),i.read(this,B,!1,23,4)},e.prototype.readDoubleLE=function(B,T){return B>>>=0,T||x(B,8,this.length),i.read(this,B,!0,52,8)},e.prototype.readDoubleBE=function(B,T){return B>>>=0,T||x(B,8,this.length),i.read(this,B,!1,52,8)},e.prototype.writeUIntLE=function(B,T,W,Y){B=+B,T>>>=0,W>>>=0,Y||_(this,B,T,W,Math.pow(2,8*W)-1,0);var Q=1,Z=0;for(this[T]=255&B;++Z<W&&(Q*=256);)this[T+Z]=B/Q&255;return T+W},e.prototype.writeUIntBE=function(B,T,W,Y){B=+B,T>>>=0,W>>>=0,Y||_(this,B,T,W,Math.pow(2,8*W)-1,0);var Q=W-1,Z=1;for(this[T+Q]=255&B;--Q>=0&&(Z*=256);)this[T+Q]=B/Z&255;return T+W},e.prototype.writeUInt8=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,1,255,0),this[T]=255&B,T+1},e.prototype.writeUInt16LE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,2,65535,0),this[T]=255&B,this[T+1]=B>>>8,T+2},e.prototype.writeUInt16BE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,2,65535,0),this[T]=B>>>8,this[T+1]=255&B,T+2},e.prototype.writeUInt32LE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,4,4294967295,0),this[T+3]=B>>>24,this[T+2]=B>>>16,this[T+1]=B>>>8,this[T]=255&B,T+4},e.prototype.writeUInt32BE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,4,4294967295,0),this[T]=B>>>24,this[T+1]=B>>>16,this[T+2]=B>>>8,this[T+3]=255&B,T+4},e.prototype.writeIntLE=function(B,T,W,Y){if(B=+B,T>>>=0,!Y){var Q=Math.pow(2,8*W-1);_(this,B,T,W,Q-1,-Q)}var Z=0,tt=1,rt=0;for(this[T]=255&B;++Z<W&&(tt*=256);)B<0&&rt===0&&this[T+Z-1]!==0&&(rt=1),this[T+Z]=(B/tt>>0)-rt&255;return T+W},e.prototype.writeIntBE=function(B,T,W,Y){if(B=+B,T>>>=0,!Y){var Q=Math.pow(2,8*W-1);_(this,B,T,W,Q-1,-Q)}var Z=W-1,tt=1,rt=0;for(this[T+Z]=255&B;--Z>=0&&(tt*=256);)B<0&&rt===0&&this[T+Z+1]!==0&&(rt=1),this[T+Z]=(B/tt>>0)-rt&255;return T+W},e.prototype.writeInt8=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,1,127,-128),B<0&&(B=255+B+1),this[T]=255&B,T+1},e.prototype.writeInt16LE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,2,32767,-32768),this[T]=255&B,this[T+1]=B>>>8,T+2},e.prototype.writeInt16BE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,2,32767,-32768),this[T]=B>>>8,this[T+1]=255&B,T+2},e.prototype.writeInt32LE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,4,2147483647,-2147483648),this[T]=255&B,this[T+1]=B>>>8,this[T+2]=B>>>16,this[T+3]=B>>>24,T+4},e.prototype.writeInt32BE=function(B,T,W){return B=+B,T>>>=0,W||_(this,B,T,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[T]=B>>>24,this[T+1]=B>>>16,this[T+2]=B>>>8,this[T+3]=255&B,T+4},e.prototype.writeFloatLE=function(B,T,W){return M(this,B,T,!0,W)},e.prototype.writeFloatBE=function(B,T,W){return M(this,B,T,!1,W)},e.prototype.writeDoubleLE=function(B,T,W){return k(this,B,T,!0,W)},e.prototype.writeDoubleBE=function(B,T,W){return k(this,B,T,!1,W)},e.prototype.copy=function(B,T,W,Y){if(!e.isBuffer(B))throw new TypeError("argument should be a Buffer");if(W||(W=0),Y||Y===0||(Y=this.length),T>=B.length&&(T=B.length),T||(T=0),Y>0&&Y<W&&(Y=W),Y===W||B.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),B.length-T<Y-W&&(Y=B.length-T+W);var Q=Y-W;if(this===B&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,W,Y);else if(this===B&&W<T&&T<Y)for(var Z=Q-1;Z>=0;--Z)B[Z+T]=this[Z+W];else Uint8Array.prototype.set.call(B,this.subarray(W,Y),T);return Q},e.prototype.fill=function(B,T,W,Y){if(typeof B=="string"){if(typeof T=="string"?(Y=T,T=0,W=this.length):typeof W=="string"&&(Y=W,W=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!e.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(B.length===1){var Q=B.charCodeAt(0);(Y==="utf8"&&Q<128||Y==="latin1")&&(B=Q)}}else typeof B=="number"&&(B&=255);if(T<0||this.length<T||this.length<W)throw new RangeError("Out of range index");if(W<=T)return this;var Z;if(T>>>=0,W=W===void 0?this.length:W>>>0,B||(B=0),typeof B=="number")for(Z=T;Z<W;++Z)this[Z]=B;else{var tt=e.isBuffer(B)?B:e.from(B,Y),rt=tt.length;if(rt===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Z=0;Z<W-T;++Z)this[Z+T]=tt[Z%rt]}return this};var R=/[^+/0-9A-Za-z-_]/g;function F(B){return B<16?"0"+B.toString(16):B.toString(16)}function q(B,T){var W;T=T||1/0;for(var Y=B.length,Q=null,Z=[],tt=0;tt<Y;++tt){if((W=B.charCodeAt(tt))>55295&&W<57344){if(!Q){if(W>56319){(T-=3)>-1&&Z.push(239,191,189);continue}if(tt+1===Y){(T-=3)>-1&&Z.push(239,191,189);continue}Q=W;continue}if(W<56320){(T-=3)>-1&&Z.push(239,191,189),Q=W;continue}W=65536+(Q-55296<<10|W-56320)}else Q&&(T-=3)>-1&&Z.push(239,191,189);if(Q=null,W<128){if((T-=1)<0)break;Z.push(W)}else if(W<2048){if((T-=2)<0)break;Z.push(W>>6|192,63&W|128)}else if(W<65536){if((T-=3)<0)break;Z.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;Z.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return Z}function X(B){return r.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(B))}function J(B,T,W,Y){for(var Q=0;Q<Y&&!(Q+W>=T.length||Q>=B.length);++Q)T[Q+W]=B[Q];return Q}function j(B,T){return B instanceof T||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===T.name}function K(B){return B!=B}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("stream").Transform,i=t("string_decoder").StringDecoder;function s(e){r.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(s,r),s.prototype.update=function(e,n,d){typeof e=="string"&&(e=a.from(e,n));var l=this._update(e);return this.hashMode?this:(d&&(l=this._toString(l,d)),l)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,n,d){var l;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(h){l=h}finally{d(l)}},s.prototype._flush=function(e){var n;try{this.push(this.__final())}catch(d){n=d}e(n)},s.prototype._finalOrDigest=function(e){var n=this.__final()||a.alloc(0);return e&&(n=this._toString(n,e,!0)),n},s.prototype._toString=function(e,n,d){if(this._decoder||(this._decoder=new i(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var l=this._decoder.write(e);return d&&(l+=this._decoder.end()),l},c.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,c,u){var a=t("../internals/is-callable"),r=t("../internals/try-to-string"),i=TypeError;c.exports=function(s){if(a(s))return s;throw new i(r(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,c,u){var a=t("../internals/is-constructor"),r=t("../internals/try-to-string"),i=TypeError;c.exports=function(s){if(a(s))return s;throw new i(r(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,c,u){var a=t("../internals/is-callable"),r=String,i=TypeError;c.exports=function(s){if(typeof s=="object"||a(s))return s;throw new i("Can't set "+r(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,c,u){var a=t("../internals/well-known-symbol"),r=t("../internals/object-create"),i=t("../internals/object-define-property").f,s=a("unscopables"),e=Array.prototype;e[s]===void 0&&i(e,s,{configurable:!0,value:r(null)}),c.exports=function(n){e[s][n]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,c,u){var a=t("../internals/object-is-prototype-of"),r=TypeError;c.exports=function(i,s){if(a(s,i))return i;throw new r("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,c,u){var a=t("../internals/is-object"),r=String,i=TypeError;c.exports=function(s){if(a(s))return s;throw new i(r(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,c,u){var a=t("../internals/to-indexed-object"),r=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),s=function(e){return function(n,d,l){var h,p=a(n),g=i(p),f=r(l,g);if(e&&d!=d){for(;g>f;)if((h=p[f++])!=h)return!0}else for(;g>f;f++)if((e||f in p)&&p[f]===d)return e||f||0;return!e&&-1}};c.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,c,u){var a=t("../internals/function-bind-context"),r=t("../internals/function-uncurry-this"),i=t("../internals/indexed-object"),s=t("../internals/to-object"),e=t("../internals/length-of-array-like"),n=t("../internals/array-species-create"),d=r([].push),l=function(h){var p=h===1,g=h===2,f=h===3,m=h===4,y=h===6,v=h===7,C=h===5||y;return function(S,I,z,V){for(var L,U,G=s(S),H=i(G),A=a(I,z),N=e(H),E=0,x=V||n,_=p?x(S,N):g||v?x(S,0):void 0;N>E;E++)if((C||E in H)&&(U=A(L=H[E],E,G),h))if(p)_[E]=U;else if(U)switch(h){case 3:return!0;case 5:return L;case 6:return E;case 2:d(_,L)}else switch(h){case 4:return!1;case 7:d(_,L)}return y?-1:f||m?m:_}};c.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,c,u){var a=t("../internals/to-absolute-index"),r=t("../internals/length-of-array-like"),i=t("../internals/create-property"),s=Array,e=Math.max;c.exports=function(n,d,l){for(var h=r(n),p=a(d,h),g=a(l===void 0?h:l,h),f=s(e(g-p,0)),m=0;p<g;p++,m++)i(f,m,n[p]);return f.length=m,f}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,c,u){var a=t("../internals/function-uncurry-this");c.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,c,u){var a=t("../internals/is-array"),r=t("../internals/is-constructor"),i=t("../internals/is-object"),s=t("../internals/well-known-symbol")("species"),e=Array;c.exports=function(n){var d;return a(n)&&(d=n.constructor,(r(d)&&(d===e||a(d.prototype))||i(d)&&(d=d[s])===null)&&(d=void 0)),d===void 0?e:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,c,u){var a=t("../internals/array-species-constructor");c.exports=function(r,i){return new(a(r))(i===0?0:i)}},{"../internals/array-species-constructor":232}],234:[function(t,c,u){var a=t("../internals/well-known-symbol")("iterator"),r=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){r=!0}};s[a]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}c.exports=function(e,n){try{if(!n&&!r)return!1}catch(h){return!1}var d=!1;try{var l={};l[a]=function(){return{next:function(){return{done:d=!0}}}},e(l)}catch(h){}return d}},{"../internals/well-known-symbol":357}],235:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=a({}.toString),i=a("".slice);c.exports=function(s){return i(r(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,c,u){var a=t("../internals/to-string-tag-support"),r=t("../internals/is-callable"),i=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),e=Object,n=i(function(){return arguments}())==="Arguments";c.exports=a?i:function(d){var l,h,p;return d===void 0?"Undefined":d===null?"Null":typeof(h=function(g,f){try{return g[f]}catch(m){}}(l=e(d),s))=="string"?h:n?i(l):(p=i(l))==="Object"&&r(l.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,c,u){var a=t("../internals/has-own-property"),r=t("../internals/own-keys"),i=t("../internals/object-get-own-property-descriptor"),s=t("../internals/object-define-property");c.exports=function(e,n,d){for(var l=r(n),h=s.f,p=i.f,g=0;g<l.length;g++){var f=l[g];a(e,f)||d&&a(d,f)||h(e,f,p(n,f))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,c,u){var a=t("../internals/well-known-symbol")("match");c.exports=function(r){var i=/./;try{"/./"[r](i)}catch(s){try{return i[a]=!1,"/./"[r](i)}catch(e){}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,c,u){var a=t("../internals/fails");c.exports=!a(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},{"../internals/fails":260}],240:[function(t,c,u){c.exports=function(a,r){return{value:a,done:r}}},{}],241:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");c.exports=a?function(s,e,n){return r.f(s,e,i(1,n))}:function(s,e,n){return s[e]=n,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,c,u){c.exports=function(a,r){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:r}}},{}],243:[function(t,c,u){var a=t("../internals/to-property-key"),r=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");c.exports=function(s,e,n){var d=a(e);d in s?r.f(s,d,i(0,n)):s[d]=n}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,c,u){var a=t("../internals/make-built-in"),r=t("../internals/object-define-property");c.exports=function(i,s,e){return e.get&&a(e.get,s,{getter:!0}),e.set&&a(e.set,s,{setter:!0}),r.f(i,s,e)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,c,u){var a=t("../internals/is-callable"),r=t("../internals/object-define-property"),i=t("../internals/make-built-in"),s=t("../internals/define-global-property");c.exports=function(e,n,d,l){l||(l={});var h=l.enumerable,p=l.name!==void 0?l.name:n;if(a(d)&&i(d,p,l),l.global)h?e[n]=d:s(n,d);else{try{l.unsafe?e[n]&&(h=!0):delete e[n]}catch(g){}h?e[n]=d:r.f(e,n,{value:d,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,c,u){var a=t("../internals/global"),r=Object.defineProperty;c.exports=function(i,s){try{r(a,i,{value:s,configurable:!0,writable:!0})}catch(e){a[i]=s}return s}},{"../internals/global":274}],247:[function(t,c,u){var a=t("../internals/fails");c.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,c,u){var a=typeof document=="object"&&document.all,r=a===void 0&&a!==void 0;c.exports={all:a,IS_HTMLDDA:r}},{}],249:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/is-object"),i=a.document,s=r(i)&&r(i.createElement);c.exports=function(e){return s?i.createElement(e):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,c,u){var a=t("../internals/engine-is-deno"),r=t("../internals/engine-is-node");c.exports=!a&&!r&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,c,u){c.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,c,u){var a=t("../internals/engine-user-agent");c.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble!="undefined"},{"../internals/engine-user-agent":256}],253:[function(t,c,u){var a=t("../internals/engine-user-agent");c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/classof-raw");c.exports=r(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,c,u){var a=t("../internals/engine-user-agent");c.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(t,c,u){c.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},{}],257:[function(t,c,u){var a,r,i=t("../internals/global"),s=t("../internals/engine-user-agent"),e=i.process,n=i.Deno,d=e&&e.versions||n&&n.version,l=d&&d.v8;l&&(r=(a=l.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!r&&s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(r=+a[1]),c.exports=r},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,c,u){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/object-get-own-property-descriptor").f,i=t("../internals/create-non-enumerable-property"),s=t("../internals/define-built-in"),e=t("../internals/define-global-property"),n=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");c.exports=function(l,h){var p,g,f,m,y,v=l.target,C=l.global,S=l.stat;if(p=C?a:S?a[v]||e(v,{}):(a[v]||{}).prototype)for(g in h){if(m=h[g],f=l.dontCallGetSet?(y=r(p,g))&&y.value:p[g],!d(C?g:v+(S?".":"#")+g,l.forced)&&f!==void 0){if(typeof m==typeof f)continue;n(m,f)}(l.sham||f&&f.sham)&&i(m,"sham",!0),s(p,g,m,l)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,c,u){c.exports=function(a){try{return!!a()}catch(r){return!0}}},{}],261:[function(t,c,u){var a=t("../internals/function-bind-native"),r=Function.prototype,i=r.apply,s=r.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(a?s.bind(i):function(){return s.apply(i,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,c,u){var a=t("../internals/function-uncurry-this-clause"),r=t("../internals/a-callable"),i=t("../internals/function-bind-native"),s=a(a.bind);c.exports=function(e,n){return r(e),n===void 0?e:i?s(e,n):function(){return e.apply(n,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,c,u){var a=t("../internals/fails");c.exports=!a(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,c,u){var a=t("../internals/function-bind-native"),r=Function.prototype.call;c.exports=a?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/has-own-property"),i=Function.prototype,s=a&&Object.getOwnPropertyDescriptor,e=r(i,"name"),n=e&&function(){}.name==="something",d=e&&(!a||a&&s(i,"name").configurable);c.exports={EXISTS:e,PROPER:n,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/a-callable");c.exports=function(i,s,e){try{return a(r(Object.getOwnPropertyDescriptor(i,s)[e]))}catch(n){}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,c,u){var a=t("../internals/classof-raw"),r=t("../internals/function-uncurry-this");c.exports=function(i){if(a(i)==="Function")return r(i)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,c,u){var a=t("../internals/function-bind-native"),r=Function.prototype,i=r.call,s=a&&r.bind.bind(i,i);c.exports=a?s:function(e){return function(){return i.apply(e,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/is-callable"),i=function(s){return r(s)?s:void 0};c.exports=function(s,e){return arguments.length<2?i(a[s]):a[s]&&a[s][e]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,c,u){var a=t("../internals/classof"),r=t("../internals/get-method"),i=t("../internals/is-null-or-undefined"),s=t("../internals/iterators"),e=t("../internals/well-known-symbol")("iterator");c.exports=function(n){if(!i(n))return r(n,e)||r(n,"@@iterator")||s[a(n)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,c,u){var a=t("../internals/function-call"),r=t("../internals/a-callable"),i=t("../internals/an-object"),s=t("../internals/try-to-string"),e=t("../internals/get-iterator-method"),n=TypeError;c.exports=function(d,l){var h=arguments.length<2?e(d):l;if(r(h))return i(a(h,d));throw new n(s(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/is-array"),i=t("../internals/is-callable"),s=t("../internals/classof-raw"),e=t("../internals/to-string"),n=a([].push);c.exports=function(d){if(i(d))return d;if(r(d)){for(var l=d.length,h=[],p=0;p<l;p++){var g=d[p];typeof g=="string"?n(h,g):typeof g!="number"&&s(g)!=="Number"&&s(g)!=="String"||n(h,e(g))}var f=h.length,m=!0;return function(y,v){if(m)return m=!1,v;if(r(this))return v;for(var C=0;C<f;C++)if(h[C]===y)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,c,u){var a=t("../internals/a-callable"),r=t("../internals/is-null-or-undefined");c.exports=function(i,s){var e=i[s];return r(e)?void 0:a(e)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,c,u){(function(a){(function(){var r=function(i){return i&&i.Math===Math&&i};c.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],275:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/to-object"),i=a({}.hasOwnProperty);c.exports=Object.hasOwn||function(s,e){return i(r(s),e)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,c,u){c.exports={}},{}],277:[function(t,c,u){c.exports=function(a,r){try{arguments.length===1?console.error(a):console.error(a,r)}catch(i){}}},{}],278:[function(t,c,u){var a=t("../internals/get-built-in");c.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/fails"),i=t("../internals/document-create-element");c.exports=!a&&!r(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/fails"),i=t("../internals/classof-raw"),s=Object,e=a("".split);c.exports=r(function(){return!s("z").propertyIsEnumerable(0)})?function(n){return i(n)==="String"?e(n,""):s(n)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/is-callable"),i=t("../internals/shared-store"),s=a(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),c.exports=i.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,c,u){var a,r,i,s=t("../internals/weak-map-basic-detection"),e=t("../internals/global"),n=t("../internals/is-object"),d=t("../internals/create-non-enumerable-property"),l=t("../internals/has-own-property"),h=t("../internals/shared-store"),p=t("../internals/shared-key"),g=t("../internals/hidden-keys"),f=e.TypeError,m=e.WeakMap;if(s||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,a=function(C,S){if(y.has(C))throw new f("Object already initialized");return S.facade=C,y.set(C,S),S},r=function(C){return y.get(C)||{}},i=function(C){return y.has(C)}}else{var v=p("state");g[v]=!0,a=function(C,S){if(l(C,v))throw new f("Object already initialized");return S.facade=C,d(C,v,S),S},r=function(C){return l(C,v)?C[v]:{}},i=function(C){return l(C,v)}}c.exports={set:a,get:r,has:i,enforce:function(C){return i(C)?r(C):a(C,{})},getterFor:function(C){return function(S){var I;if(!n(S)||(I=r(S)).type!==C)throw new f("Incompatible receiver, "+C+" required");return I}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,c,u){var a=t("../internals/well-known-symbol"),r=t("../internals/iterators"),i=a("iterator"),s=Array.prototype;c.exports=function(e){return e!==void 0&&(r.Array===e||s[i]===e)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,c,u){var a=t("../internals/classof-raw");c.exports=Array.isArray||function(r){return a(r)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,c,u){var a=t("../internals/document-all"),r=a.all;c.exports=a.IS_HTMLDDA?function(i){return typeof i=="function"||i===r}:function(i){return typeof i=="function"}},{"../internals/document-all":248}],286:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/fails"),i=t("../internals/is-callable"),s=t("../internals/classof"),e=t("../internals/get-built-in"),n=t("../internals/inspect-source"),d=function(){},l=[],h=e("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=a(p.exec),f=!p.test(d),m=function(v){if(!i(v))return!1;try{return h(d,l,v),!0}catch(C){return!1}},y=function(v){if(!i(v))return!1;switch(s(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!g(p,n(v))}catch(C){return!0}};y.sham=!0,c.exports=!h||r(function(){var v;return m(m.call)||!m(Object)||!m(function(){v=!0})||v})?y:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,c,u){var a=t("../internals/fails"),r=t("../internals/is-callable"),i=/#|\.prototype\./,s=function(h,p){var g=n[e(h)];return g===l||g!==d&&(r(p)?a(p):!!p)},e=s.normalize=function(h){return String(h).replace(i,".").toLowerCase()},n=s.data={},d=s.NATIVE="N",l=s.POLYFILL="P";c.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,c,u){c.exports=function(a){return a==null}},{}],289:[function(t,c,u){var a=t("../internals/is-callable"),r=t("../internals/document-all"),i=r.all;c.exports=r.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:a(s)||s===i}:function(s){return typeof s=="object"?s!==null:a(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,c,u){c.exports=!1},{}],291:[function(t,c,u){var a=t("../internals/is-object"),r=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("match");c.exports=function(s){var e;return a(s)&&((e=s[i])!==void 0?!!e:r(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,c,u){var a=t("../internals/get-built-in"),r=t("../internals/is-callable"),i=t("../internals/object-is-prototype-of"),s=t("../internals/use-symbol-as-uid"),e=Object;c.exports=s?function(n){return typeof n=="symbol"}:function(n){var d=a("Symbol");return r(d)&&i(d.prototype,e(n))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,c,u){var a=t("../internals/function-bind-context"),r=t("../internals/function-call"),i=t("../internals/an-object"),s=t("../internals/try-to-string"),e=t("../internals/is-array-iterator-method"),n=t("../internals/length-of-array-like"),d=t("../internals/object-is-prototype-of"),l=t("../internals/get-iterator"),h=t("../internals/get-iterator-method"),p=t("../internals/iterator-close"),g=TypeError,f=function(y,v){this.stopped=y,this.result=v},m=f.prototype;c.exports=function(y,v,C){var S,I,z,V,L,U,G,H=C&&C.that,A=!(!C||!C.AS_ENTRIES),N=!(!C||!C.IS_RECORD),E=!(!C||!C.IS_ITERATOR),x=!(!C||!C.INTERRUPTED),_=a(v,H),P=function(k){return S&&p(S,"normal",k),new f(!0,k)},M=function(k){return A?(i(k),x?_(k[0],k[1],P):_(k[0],k[1])):x?_(k,P):_(k)};if(N)S=y.iterator;else if(E)S=y;else{if(!(I=h(y)))throw new g(s(y)+" is not iterable");if(e(I)){for(z=0,V=n(y);V>z;z++)if((L=M(y[z]))&&d(m,L))return L;return new f(!1)}S=l(y,I)}for(U=N?y.next:S.next;!(G=r(U,S)).done;){try{L=M(G.value)}catch(k){p(S,"throw",k)}if(typeof L=="object"&&L&&d(m,L))return L}return new f(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,c,u){var a=t("../internals/function-call"),r=t("../internals/an-object"),i=t("../internals/get-method");c.exports=function(s,e,n){var d,l;r(s);try{if(!(d=i(s,"return"))){if(e==="throw")throw n;return n}d=a(d,s)}catch(h){l=!0,d=h}if(e==="throw")throw n;if(l)throw d;return r(d),n}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,c,u){var a=t("../internals/iterators-core").IteratorPrototype,r=t("../internals/object-create"),i=t("../internals/create-property-descriptor"),s=t("../internals/set-to-string-tag"),e=t("../internals/iterators"),n=function(){return this};c.exports=function(d,l,h,p){var g=l+" Iterator";return d.prototype=r(a,{next:i(+!p,h)}),s(d,g,!1,!0),e[g]=n,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-call"),i=t("../internals/is-pure"),s=t("../internals/function-name"),e=t("../internals/is-callable"),n=t("../internals/iterator-create-constructor"),d=t("../internals/object-get-prototype-of"),l=t("../internals/object-set-prototype-of"),h=t("../internals/set-to-string-tag"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),f=t("../internals/well-known-symbol"),m=t("../internals/iterators"),y=t("../internals/iterators-core"),v=s.PROPER,C=s.CONFIGURABLE,S=y.IteratorPrototype,I=y.BUGGY_SAFARI_ITERATORS,z=f("iterator"),V=function(){return this};c.exports=function(L,U,G,H,A,N,E){n(G,U,H);var x,_,P,M=function(j){if(j===A&&X)return X;if(!I&&j&&j in F)return F[j];switch(j){case"keys":case"values":case"entries":return function(){return new G(this,j)}}return function(){return new G(this)}},k=U+" Iterator",R=!1,F=L.prototype,q=F[z]||F["@@iterator"]||A&&F[A],X=!I&&q||M(A),J=U==="Array"&&F.entries||q;if(J&&(x=d(J.call(new L)))!==Object.prototype&&x.next&&(i||d(x)===S||(l?l(x,S):e(x[z])||g(x,z,V)),h(x,k,!0,!0),i&&(m[k]=V)),v&&A==="values"&&q&&q.name!=="values"&&(!i&&C?p(F,"name","values"):(R=!0,X=function(){return r(q,this)})),A)if(_={values:M("values"),keys:N?X:M("keys"),entries:M("entries")},E)for(P in _)(I||R||!(P in F))&&g(F,P,_[P]);else a({target:U,proto:!0,forced:I||R},_);return i&&!E||F[z]===X||g(F,z,X,{name:A}),m[U]=X,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,c,u){var a,r,i,s=t("../internals/fails"),e=t("../internals/is-callable"),n=t("../internals/is-object"),d=t("../internals/object-create"),l=t("../internals/object-get-prototype-of"),h=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),f=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(r=l(l(i)))!==Object.prototype&&(a=r):m=!0),!n(a)||s(function(){var y={};return a[f].call(y)!==y})?a={}:g&&(a=d(a)),e(a[f])||h(a,f,function(){return this}),c.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,c,u){arguments[4][276][0].apply(u,arguments)},{dup:276}],299:[function(t,c,u){var a=t("../internals/to-length");c.exports=function(r){return a(r.length)}},{"../internals/to-length":343}],300:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/fails"),i=t("../internals/is-callable"),s=t("../internals/has-own-property"),e=t("../internals/descriptors"),n=t("../internals/function-name").CONFIGURABLE,d=t("../internals/inspect-source"),l=t("../internals/internal-state"),h=l.enforce,p=l.get,g=String,f=Object.defineProperty,m=a("".slice),y=a("".replace),v=a([].join),C=e&&!r(function(){return f(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),I=c.exports=function(z,V,L){m(g(V),0,7)==="Symbol("&&(V="["+y(g(V),/^Symbol\(([^)]*)\)/,"$1")+"]"),L&&L.getter&&(V="get "+V),L&&L.setter&&(V="set "+V),(!s(z,"name")||n&&z.name!==V)&&(e?f(z,"name",{value:V,configurable:!0}):z.name=V),C&&L&&s(L,"arity")&&z.length!==L.arity&&f(z,"length",{value:L.arity});try{L&&s(L,"constructor")&&L.constructor?e&&f(z,"prototype",{writable:!1}):z.prototype&&(z.prototype=void 0)}catch(G){}var U=h(z);return s(U,"source")||(U.source=v(S,typeof V=="string"?V:"")),z};Function.prototype.toString=I(function(){return i(this)&&p(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,c,u){var a=Math.ceil,r=Math.floor;c.exports=Math.trunc||function(i){var s=+i;return(s>0?r:a)(s)}},{}],302:[function(t,c,u){var a,r,i,s,e,n=t("../internals/global"),d=t("../internals/function-bind-context"),l=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/task").set,p=t("../internals/queue"),g=t("../internals/engine-is-ios"),f=t("../internals/engine-is-ios-pebble"),m=t("../internals/engine-is-webos-webkit"),y=t("../internals/engine-is-node"),v=n.MutationObserver||n.WebKitMutationObserver,C=n.document,S=n.process,I=n.Promise,z=l(n,"queueMicrotask"),V=z&&z.value;if(!V){var L=new p,U=function(){var G,H;for(y&&(G=S.domain)&&G.exit();H=L.get();)try{H()}catch(A){throw L.head&&a(),A}G&&G.enter()};g||y||m||!v||!C?!f&&I&&I.resolve?((s=I.resolve(void 0)).constructor=I,e=d(s.then,s),a=function(){e(U)}):y?a=function(){S.nextTick(U)}:(h=d(h,n),a=function(){h(U)}):(r=!0,i=C.createTextNode(""),new v(U).observe(i,{characterData:!0}),a=function(){i.data=r=!r}),V=function(G){L.head||a(),L.add(G)}}c.exports=V},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,c,u){var a=t("../internals/a-callable"),r=TypeError,i=function(s){var e,n;this.promise=new s(function(d,l){if(e!==void 0||n!==void 0)throw new r("Bad Promise constructor");e=d,n=l}),this.resolve=a(e),this.reject=a(n)};c.exports.f=function(s){return new i(s)}},{"../internals/a-callable":222}],304:[function(t,c,u){var a=t("../internals/is-regexp"),r=TypeError;c.exports=function(i){if(a(i))throw new r("The method doesn't accept regular expressions");return i}},{"../internals/is-regexp":291}],305:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/function-uncurry-this"),i=t("../internals/function-call"),s=t("../internals/fails"),e=t("../internals/object-keys"),n=t("../internals/object-get-own-property-symbols"),d=t("../internals/object-property-is-enumerable"),l=t("../internals/to-object"),h=t("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,f=r([].concat);c.exports=!p||s(function(){if(a&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},y={},v=Symbol("assign detection");return m[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){y[C]=C}),p({},m)[v]!==7||e(p({},y)).join("")!=="abcdefghijklmnopqrst"})?function(m,y){for(var v=l(m),C=arguments.length,S=1,I=n.f,z=d.f;C>S;)for(var V,L=h(arguments[S++]),U=I?f(e(L),I(L)):e(L),G=U.length,H=0;G>H;)V=U[H++],a&&!i(z,L,V)||(v[V]=L[V]);return v}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,c,u){var a,r=t("../internals/an-object"),i=t("../internals/object-define-properties"),s=t("../internals/enum-bug-keys"),e=t("../internals/hidden-keys"),n=t("../internals/html"),d=t("../internals/document-create-element"),l=t("../internals/shared-key"),h=l("IE_PROTO"),p=function(){},g=function(y){return"<script>"+y+"<\/script>"},f=function(y){y.write(g("")),y.close();var v=y.parentWindow.Object;return y=null,v},m=function(){try{a=new ActiveXObject("htmlfile")}catch(S){}var y,v;m=typeof document!="undefined"?document.domain&&a?f(a):((v=d("iframe")).style.display="none",n.appendChild(v),v.src="javascript:",(y=v.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):f(a);for(var C=s.length;C--;)delete m.prototype[s[C]];return m()};e[h]=!0,c.exports=Object.create||function(y,v){var C;return y!==null?(p.prototype=r(y),C=new p,p.prototype=null,C[h]=y):C=m(),v===void 0?C:i.f(C,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/v8-prototype-define-bug"),i=t("../internals/object-define-property"),s=t("../internals/an-object"),e=t("../internals/to-indexed-object"),n=t("../internals/object-keys");u.f=a&&!r?Object.defineProperties:function(d,l){s(d);for(var h,p=e(l),g=n(l),f=g.length,m=0;f>m;)i.f(d,h=g[m++],p[h]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/ie8-dom-define"),i=t("../internals/v8-prototype-define-bug"),s=t("../internals/an-object"),e=t("../internals/to-property-key"),n=TypeError,d=Object.defineProperty,l=Object.getOwnPropertyDescriptor;u.f=a?i?function(h,p,g){if(s(h),p=e(p),s(g),typeof h=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var f=l(h,p);f&&f.writable&&(h[p]=g.value,g={configurable:"configurable"in g?g.configurable:f.configurable,enumerable:"enumerable"in g?g.enumerable:f.enumerable,writable:!1})}return d(h,p,g)}:d:function(h,p,g){if(s(h),p=e(p),s(g),r)try{return d(h,p,g)}catch(f){}if("get"in g||"set"in g)throw new n("Accessors not supported");return"value"in g&&(h[p]=g.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/function-call"),i=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),e=t("../internals/to-indexed-object"),n=t("../internals/to-property-key"),d=t("../internals/has-own-property"),l=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;u.f=a?h:function(p,g){if(p=e(p),g=n(g),l)try{return h(p,g)}catch(f){}if(d(p,g))return s(!r(i.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,c,u){var a=t("../internals/classof-raw"),r=t("../internals/to-indexed-object"),i=t("../internals/object-get-own-property-names").f,s=t("../internals/array-slice-simple"),e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(n){return e&&a(n)==="Window"?function(d){try{return i(d)}catch(l){return s(e)}}(n):i(r(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,c,u){var a=t("../internals/object-keys-internal"),r=t("../internals/enum-bug-keys").concat("length","prototype");u.f=Object.getOwnPropertyNames||function(i){return a(i,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,c,u){u.f=Object.getOwnPropertySymbols},{}],313:[function(t,c,u){var a=t("../internals/has-own-property"),r=t("../internals/is-callable"),i=t("../internals/to-object"),s=t("../internals/shared-key"),e=t("../internals/correct-prototype-getter"),n=s("IE_PROTO"),d=Object,l=d.prototype;c.exports=e?d.getPrototypeOf:function(h){var p=i(h);if(a(p,n))return p[n];var g=p.constructor;return r(g)&&p instanceof g?g.prototype:p instanceof d?l:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,c,u){var a=t("../internals/function-uncurry-this");c.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=t("../internals/has-own-property"),i=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,e=t("../internals/hidden-keys"),n=a([].push);c.exports=function(d,l){var h,p=i(d),g=0,f=[];for(h in p)!r(e,h)&&r(p,h)&&n(f,h);for(;l.length>g;)r(p,h=l[g++])&&(~s(f,h)||n(f,h));return f}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,c,u){var a=t("../internals/object-keys-internal"),r=t("../internals/enum-bug-keys");c.exports=Object.keys||function(i){return a(i,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,c,u){var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);u.f=i?function(s){var e=r(this,s);return!!e&&e.enumerable}:a},{}],318:[function(t,c,u){var a=t("../internals/function-uncurry-this-accessor"),r=t("../internals/an-object"),i=t("../internals/a-possible-prototype");c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,e=!1,n={};try{(s=a(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(d){}return function(d,l){return r(d),i(l),e?s(d,l):d.__proto__=l,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/fails"),i=t("../internals/function-uncurry-this"),s=t("../internals/object-get-prototype-of"),e=t("../internals/object-keys"),n=t("../internals/to-indexed-object"),d=i(t("../internals/object-property-is-enumerable").f),l=i([].push),h=a&&r(function(){var g=Object.create(null);return g[2]=2,!d(g,2)}),p=function(g){return function(f){for(var m,y=n(f),v=e(y),C=h&&s(y)===null,S=v.length,I=0,z=[];S>I;)m=v[I++],a&&!(C?m in y:d(y,m))||l(z,g?[m,y[m]]:y[m]);return z}};c.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,c,u){var a=t("../internals/function-call"),r=t("../internals/is-callable"),i=t("../internals/is-object"),s=TypeError;c.exports=function(e,n){var d,l;if(n==="string"&&r(d=e.toString)&&!i(l=a(d,e))||r(d=e.valueOf)&&!i(l=a(d,e))||n!=="string"&&r(d=e.toString)&&!i(l=a(d,e)))return l;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,c,u){var a=t("../internals/get-built-in"),r=t("../internals/function-uncurry-this"),i=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),e=t("../internals/an-object"),n=r([].concat);c.exports=a("Reflect","ownKeys")||function(d){var l=i.f(e(d)),h=s.f;return h?n(l,h(d)):l}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,c,u){var a=t("../internals/global");c.exports=a},{"../internals/global":274}],323:[function(t,c,u){c.exports=function(a){try{return{error:!1,value:a()}}catch(r){return{error:!0,value:r}}}},{}],324:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/promise-native-constructor"),i=t("../internals/is-callable"),s=t("../internals/is-forced"),e=t("../internals/inspect-source"),n=t("../internals/well-known-symbol"),d=t("../internals/engine-is-browser"),l=t("../internals/engine-is-deno"),h=t("../internals/is-pure"),p=t("../internals/engine-v8-version"),g=r&&r.prototype,f=n("species"),m=!1,y=i(a.PromiseRejectionEvent),v=s("Promise",function(){var C=e(r),S=C!==String(r);if(!S&&p===66||h&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(C)){var I=new r(function(V){V(1)}),z=function(V){V(function(){},function(){})};if((I.constructor={})[f]=z,!(m=I.then(function(){})instanceof z))return!0}return!S&&(d||l)&&!y});c.exports={CONSTRUCTOR:v,REJECTION_EVENT:y,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,c,u){var a=t("../internals/global");c.exports=a.Promise},{"../internals/global":274}],326:[function(t,c,u){var a=t("../internals/an-object"),r=t("../internals/is-object"),i=t("../internals/new-promise-capability");c.exports=function(s,e){if(a(s),r(e)&&e.constructor===s)return e;var n=i.f(s);return(0,n.resolve)(e),n.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,c,u){var a=t("../internals/promise-native-constructor"),r=t("../internals/check-correctness-of-iteration"),i=t("../internals/promise-constructor-detection").CONSTRUCTOR;c.exports=i||!r(function(s){a.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,c,u){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(r){var i={item:r,next:null},s=this.tail;s?s.next=i:this.head=i,this.tail=i},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}},c.exports=a},{}],329:[function(t,c,u){var a=t("../internals/is-null-or-undefined"),r=TypeError;c.exports=function(i){if(a(i))throw new r("Can't call method on "+i);return i}},{"../internals/is-null-or-undefined":288}],330:[function(t,c,u){var a=t("../internals/get-built-in"),r=t("../internals/define-built-in-accessor"),i=t("../internals/well-known-symbol"),s=t("../internals/descriptors"),e=i("species");c.exports=function(n){var d=a(n);s&&d&&!d[e]&&r(d,e,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,c,u){var a=t("../internals/object-define-property").f,r=t("../internals/has-own-property"),i=t("../internals/well-known-symbol")("toStringTag");c.exports=function(s,e,n){s&&!n&&(s=s.prototype),s&&!r(s,i)&&a(s,i,{configurable:!0,value:e})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,c,u){var a=t("../internals/shared"),r=t("../internals/uid"),i=a("keys");c.exports=function(s){return i[s]||(i[s]=r(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/define-global-property"),i=a["__core-js_shared__"]||r("__core-js_shared__",{});c.exports=i},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,c,u){var a=t("../internals/is-pure"),r=t("../internals/shared-store");(c.exports=function(i,s){return r[i]||(r[i]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,c,u){var a=t("../internals/an-object"),r=t("../internals/a-constructor"),i=t("../internals/is-null-or-undefined"),s=t("../internals/well-known-symbol")("species");c.exports=function(e,n){var d,l=a(e).constructor;return l===void 0||i(d=a(l)[s])?n:r(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,c,u){var a=t("../internals/engine-v8-version"),r=t("../internals/fails"),i=t("../internals/global").String;c.exports=!!Object.getOwnPropertySymbols&&!r(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,c,u){var a=t("../internals/function-call"),r=t("../internals/get-built-in"),i=t("../internals/well-known-symbol"),s=t("../internals/define-built-in");c.exports=function(){var e=r("Symbol"),n=e&&e.prototype,d=n&&n.valueOf,l=i("toPrimitive");n&&!n[l]&&s(n,l,function(h){return a(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,c,u){var a=t("../internals/symbol-constructor-detection");c.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,c,u){var a,r,i,s,e=t("../internals/global"),n=t("../internals/function-apply"),d=t("../internals/function-bind-context"),l=t("../internals/is-callable"),h=t("../internals/has-own-property"),p=t("../internals/fails"),g=t("../internals/html"),f=t("../internals/array-slice"),m=t("../internals/document-create-element"),y=t("../internals/validate-arguments-length"),v=t("../internals/engine-is-ios"),C=t("../internals/engine-is-node"),S=e.setImmediate,I=e.clearImmediate,z=e.process,V=e.Dispatch,L=e.Function,U=e.MessageChannel,G=e.String,H=0,A={};p(function(){a=e.location});var N=function(P){if(h(A,P)){var M=A[P];delete A[P],M()}},E=function(P){return function(){N(P)}},x=function(P){N(P.data)},_=function(P){e.postMessage(G(P),a.protocol+"//"+a.host)};S&&I||(S=function(P){y(arguments.length,1);var M=l(P)?P:L(P),k=f(arguments,1);return A[++H]=function(){n(M,void 0,k)},r(H),H},I=function(P){delete A[P]},C?r=function(P){z.nextTick(E(P))}:V&&V.now?r=function(P){V.now(E(P))}:U&&!v?(s=(i=new U).port2,i.port1.onmessage=x,r=d(s.postMessage,s)):e.addEventListener&&l(e.postMessage)&&!e.importScripts&&a&&a.protocol!=="file:"&&!p(_)?(r=_,e.addEventListener("message",x,!1)):r="onreadystatechange"in m("script")?function(P){g.appendChild(m("script")).onreadystatechange=function(){g.removeChild(this),N(P)}}:function(P){setTimeout(E(P),0)}),c.exports={set:S,clear:I}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,c,u){var a=t("../internals/to-integer-or-infinity"),r=Math.max,i=Math.min;c.exports=function(s,e){var n=a(s);return n<0?r(n+e,0):i(n,e)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,c,u){var a=t("../internals/indexed-object"),r=t("../internals/require-object-coercible");c.exports=function(i){return a(r(i))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,c,u){var a=t("../internals/math-trunc");c.exports=function(r){var i=+r;return i!=i||i===0?0:a(i)}},{"../internals/math-trunc":301}],343:[function(t,c,u){var a=t("../internals/to-integer-or-infinity"),r=Math.min;c.exports=function(i){return i>0?r(a(i),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,c,u){var a=t("../internals/require-object-coercible"),r=Object;c.exports=function(i){return r(a(i))}},{"../internals/require-object-coercible":329}],345:[function(t,c,u){var a=t("../internals/function-call"),r=t("../internals/is-object"),i=t("../internals/is-symbol"),s=t("../internals/get-method"),e=t("../internals/ordinary-to-primitive"),n=t("../internals/well-known-symbol"),d=TypeError,l=n("toPrimitive");c.exports=function(h,p){if(!r(h)||i(h))return h;var g,f=s(h,l);if(f){if(p===void 0&&(p="default"),g=a(f,h,p),!r(g)||i(g))return g;throw new d("Can't convert object to primitive value")}return p===void 0&&(p="number"),e(h,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,c,u){var a=t("../internals/to-primitive"),r=t("../internals/is-symbol");c.exports=function(i){var s=a(i,"string");return r(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,c,u){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",c.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,c,u){var a=t("../internals/classof"),r=String;c.exports=function(i){if(a(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(i)}},{"../internals/classof":236}],349:[function(t,c,u){var a=String;c.exports=function(r){try{return a(r)}catch(i){return"Object"}}},{}],350:[function(t,c,u){var a=t("../internals/function-uncurry-this"),r=0,i=Math.random(),s=a(1 .toString);c.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+s(++r+i,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,c,u){var a=t("../internals/symbol-constructor-detection");c.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,c,u){var a=t("../internals/descriptors"),r=t("../internals/fails");c.exports=a&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,c,u){var a=TypeError;c.exports=function(r,i){if(r<i)throw new a("Not enough arguments");return r}},{}],354:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/is-callable"),i=a.WeakMap;c.exports=r(i)&&/native code/.test(String(i))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,c,u){var a=t("../internals/path"),r=t("../internals/has-own-property"),i=t("../internals/well-known-symbol-wrapped"),s=t("../internals/object-define-property").f;c.exports=function(e){var n=a.Symbol||(a.Symbol={});r(n,e)||s(n,e,{value:i.f(e)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,c,u){var a=t("../internals/well-known-symbol");u.f=a},{"../internals/well-known-symbol":357}],357:[function(t,c,u){var a=t("../internals/global"),r=t("../internals/shared"),i=t("../internals/has-own-property"),s=t("../internals/uid"),e=t("../internals/symbol-constructor-detection"),n=t("../internals/use-symbol-as-uid"),d=a.Symbol,l=r("wks"),h=n?d.for||d:d&&d.withoutSetter||s;c.exports=function(p){return i(l,p)||(l[p]=e&&i(d,p)?d[p]:h("Symbol."+p)),l[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/array-iteration").findIndex,i=t("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),a({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/array-iteration").find,i=t("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),a({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/array-includes").includes,i=t("../internals/fails"),s=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:i(function(){return!Array(1).includes()})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,c,u){var a=t("../internals/to-indexed-object"),r=t("../internals/add-to-unscopables"),i=t("../internals/iterators"),s=t("../internals/internal-state"),e=t("../internals/object-define-property").f,n=t("../internals/iterator-define"),d=t("../internals/create-iter-result-object"),l=t("../internals/is-pure"),h=t("../internals/descriptors"),p=s.set,g=s.getterFor("Array Iterator");c.exports=n(Array,"Array",function(m,y){p(this,{type:"Array Iterator",target:a(m),index:0,kind:y})},function(){var m=g(this),y=m.target,v=m.kind,C=m.index++;if(!y||C>=y.length)return m.target=void 0,d(void 0,!0);switch(v){case"keys":return d(C,!1);case"values":return d(y[C],!1)}return d([C,y[C]],!1)},"values");var f=i.Arguments=i.Array;if(r("keys"),r("values"),r("entries"),!l&&h&&f.name!=="values")try{e(f,"name",{value:"values"})}catch(m){}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/get-built-in"),i=t("../internals/function-apply"),s=t("../internals/function-call"),e=t("../internals/function-uncurry-this"),n=t("../internals/fails"),d=t("../internals/is-callable"),l=t("../internals/is-symbol"),h=t("../internals/array-slice"),p=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),f=String,m=r("JSON","stringify"),y=e(/./.exec),v=e("".charAt),C=e("".charCodeAt),S=e("".replace),I=e(1 .toString),z=/[\uD800-\uDFFF]/g,V=/^[\uD800-\uDBFF]$/,L=/^[\uDC00-\uDFFF]$/,U=!g||n(function(){var N=r("Symbol")("stringify detection");return m([N])!=="[null]"||m({a:N})!=="{}"||m(Object(N))!=="{}"}),G=n(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),H=function(N,E){var x=h(arguments),_=p(E);if(d(_)||N!==void 0&&!l(N))return x[1]=function(P,M){if(d(_)&&(M=s(_,this,f(P),M)),!l(M))return M},i(m,null,x)},A=function(N,E,x){var _=v(x,E-1),P=v(x,E+1);return y(V,N)&&!y(L,P)||y(L,N)&&!y(V,_)?"\\u"+I(C(N,0),16):N};m&&a({target:"JSON",stat:!0,arity:3,forced:U||G},{stringify:function(N,E,x){var _=h(arguments),P=i(U?H:m,null,_);return G&&typeof P=="string"?S(P,z,A):P}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,c,u){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/symbol-constructor-detection"),i=t("../internals/fails"),s=t("../internals/object-get-own-property-symbols"),e=t("../internals/to-object");a({target:"Object",stat:!0,forced:!r||i(function(){s.f(1)})},{getOwnPropertySymbols:function(n){var d=s.f;return d?d(e(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/to-object"),i=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){i(1)})},{keys:function(s){return i(r(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(i){return r(i)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-call"),i=t("../internals/a-callable"),s=t("../internals/new-promise-capability"),e=t("../internals/perform"),n=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(d){var l=this,h=s.f(l),p=h.resolve,g=h.reject,f=e(function(){var m=i(l.resolve),y=[],v=0,C=1;n(d,function(S){var I=v++,z=!1;C++,r(m,l,S).then(function(V){z||(z=!0,y[I]=V,--C||p(y))},g)}),--C||p(y)});return f.error&&g(f.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/is-pure"),i=t("../internals/promise-constructor-detection").CONSTRUCTOR,s=t("../internals/promise-native-constructor"),e=t("../internals/get-built-in"),n=t("../internals/is-callable"),d=t("../internals/define-built-in"),l=s&&s.prototype;if(a({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(p){return this.then(void 0,p)}}),!r&&n(s)){var h=e("Promise").prototype.catch;l.catch!==h&&d(l,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,c,u){var a,r,i,s=t("../internals/export"),e=t("../internals/is-pure"),n=t("../internals/engine-is-node"),d=t("../internals/global"),l=t("../internals/function-call"),h=t("../internals/define-built-in"),p=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),f=t("../internals/set-species"),m=t("../internals/a-callable"),y=t("../internals/is-callable"),v=t("../internals/is-object"),C=t("../internals/an-instance"),S=t("../internals/species-constructor"),I=t("../internals/task").set,z=t("../internals/microtask"),V=t("../internals/host-report-errors"),L=t("../internals/perform"),U=t("../internals/queue"),G=t("../internals/internal-state"),H=t("../internals/promise-native-constructor"),A=t("../internals/promise-constructor-detection"),N=t("../internals/new-promise-capability"),E=A.CONSTRUCTOR,x=A.REJECTION_EVENT,_=A.SUBCLASSING,P=G.getterFor("Promise"),M=G.set,k=H&&H.prototype,R=H,F=k,q=d.TypeError,X=d.document,J=d.process,j=N.f,K=j,B=!!(X&&X.createEvent&&d.dispatchEvent),T=function(it){var ht;return!(!v(it)||!y(ht=it.then))&&ht},W=function(it,ht){var ct,ut,gt,mt=ht.value,xt=ht.state===1,kt=xt?it.ok:it.fail,At=it.resolve,Ct=it.reject,Lt=it.domain;try{kt?(xt||(ht.rejection===2&&rt(ht),ht.rejection=1),kt===!0?ct=mt:(Lt&&Lt.enter(),ct=kt(mt),Lt&&(Lt.exit(),gt=!0)),ct===it.promise?Ct(new q("Promise-chain cycle")):(ut=T(ct))?l(ut,ct,At,Ct):At(ct)):Ct(mt)}catch(Rt){Lt&&!gt&&Lt.exit(),Ct(Rt)}},Y=function(it,ht){it.notified||(it.notified=!0,z(function(){for(var ct,ut=it.reactions;ct=ut.get();)W(ct,it);it.notified=!1,ht&&!it.rejection&&Z(it)}))},Q=function(it,ht,ct){var ut,gt;B?((ut=X.createEvent("Event")).promise=ht,ut.reason=ct,ut.initEvent(it,!1,!0),d.dispatchEvent(ut)):ut={promise:ht,reason:ct},!x&&(gt=d["on"+it])?gt(ut):it==="unhandledrejection"&&V("Unhandled promise rejection",ct)},Z=function(it){l(I,d,function(){var ht,ct=it.facade,ut=it.value;if(tt(it)&&(ht=L(function(){n?J.emit("unhandledRejection",ut,ct):Q("unhandledrejection",ct,ut)}),it.rejection=n||tt(it)?2:1,ht.error))throw ht.value})},tt=function(it){return it.rejection!==1&&!it.parent},rt=function(it){l(I,d,function(){var ht=it.facade;n?J.emit("rejectionHandled",ht):Q("rejectionhandled",ht,it.value)})},st=function(it,ht,ct){return function(ut){it(ht,ut,ct)}},$=function(it,ht,ct){it.done||(it.done=!0,ct&&(it=ct),it.value=ht,it.state=2,Y(it,!0))},nt=function(it,ht,ct){if(!it.done){it.done=!0,ct&&(it=ct);try{if(it.facade===ht)throw new q("Promise can't be resolved itself");var ut=T(ht);ut?z(function(){var gt={done:!1};try{l(ut,ht,st(nt,gt,it),st($,gt,it))}catch(mt){$(gt,mt,it)}}):(it.value=ht,it.state=1,Y(it,!1))}catch(gt){$({done:!1},gt,it)}}};if(E&&(F=(R=function(it){C(this,F),m(it),l(a,this);var ht=P(this);try{it(st(nt,ht),st($,ht))}catch(ct){$(ht,ct)}}).prototype,(a=function(it){M(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:0,value:void 0})}).prototype=h(F,"then",function(it,ht){var ct=P(this),ut=j(S(this,R));return ct.parent=!0,ut.ok=!y(it)||it,ut.fail=y(ht)&&ht,ut.domain=n?J.domain:void 0,ct.state===0?ct.reactions.add(ut):z(function(){W(ut,ct)}),ut.promise}),r=function(){var it=new a,ht=P(it);this.promise=it,this.resolve=st(nt,ht),this.reject=st($,ht)},N.f=j=function(it){return it===R||it===void 0?new r(it):K(it)},!e&&y(H)&&k!==Object.prototype)){i=k.then,_||h(k,"then",function(it,ht){var ct=this;return new R(function(ut,gt){l(i,ct,ut,gt)}).then(it,ht)},{unsafe:!0});try{delete k.constructor}catch(it){}p&&p(k,F)}s({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:R}),g(R,"Promise",!1,!0),f("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/is-pure"),i=t("../internals/promise-native-constructor"),s=t("../internals/fails"),e=t("../internals/get-built-in"),n=t("../internals/is-callable"),d=t("../internals/species-constructor"),l=t("../internals/promise-resolve"),h=t("../internals/define-built-in"),p=i&&i.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!i&&s(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(f){var m=d(this,e("Promise")),y=n(f);return this.then(y?function(v){return l(m,f()).then(function(){return v})}:f,y?function(v){return l(m,f()).then(function(){throw v})}:f)}}),!r&&n(i)){var g=e("Promise").prototype.finally;p.finally!==g&&h(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,c,u){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-call"),i=t("../internals/a-callable"),s=t("../internals/new-promise-capability"),e=t("../internals/perform"),n=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(d){var l=this,h=s.f(l),p=h.reject,g=e(function(){var f=i(l.resolve);n(d,function(m){r(f,l,m).then(h.resolve,p)})});return g.error&&p(g.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-call"),i=t("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var e=i.f(this);return r(e.reject,void 0,s),e.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/get-built-in"),i=t("../internals/is-pure"),s=t("../internals/promise-native-constructor"),e=t("../internals/promise-constructor-detection").CONSTRUCTOR,n=t("../internals/promise-resolve"),d=r("Promise"),l=i&&!e;a({target:"Promise",stat:!0,forced:i||e},{resolve:function(h){return n(l&&this===d?s:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-uncurry-this"),i=t("../internals/to-absolute-index"),s=RangeError,e=String.fromCharCode,n=String.fromCodePoint,d=r([].join);a({target:"String",stat:!0,arity:1,forced:!!n&&n.length!==1},{fromCodePoint:function(l){for(var h,p=[],g=arguments.length,f=0;g>f;){if(h=+arguments[f++],i(h,1114111)!==h)throw new s(h+" is not a valid code point");p[f]=h<65536?e(h):e(55296+((h-=65536)>>10),h%1024+56320)}return d(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/function-uncurry-this"),i=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible"),e=t("../internals/to-string"),n=t("../internals/correct-is-regexp-logic"),d=r("".indexOf);a({target:"String",proto:!0,forced:!n("includes")},{includes:function(l){return!!~d(e(s(this)),e(i(l)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,c,u){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/global"),i=t("../internals/function-call"),s=t("../internals/function-uncurry-this"),e=t("../internals/is-pure"),n=t("../internals/descriptors"),d=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),h=t("../internals/has-own-property"),p=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),f=t("../internals/to-indexed-object"),m=t("../internals/to-property-key"),y=t("../internals/to-string"),v=t("../internals/create-property-descriptor"),C=t("../internals/object-create"),S=t("../internals/object-keys"),I=t("../internals/object-get-own-property-names"),z=t("../internals/object-get-own-property-names-external"),V=t("../internals/object-get-own-property-symbols"),L=t("../internals/object-get-own-property-descriptor"),U=t("../internals/object-define-property"),G=t("../internals/object-define-properties"),H=t("../internals/object-property-is-enumerable"),A=t("../internals/define-built-in"),N=t("../internals/define-built-in-accessor"),E=t("../internals/shared"),x=t("../internals/shared-key"),_=t("../internals/hidden-keys"),P=t("../internals/uid"),M=t("../internals/well-known-symbol"),k=t("../internals/well-known-symbol-wrapped"),R=t("../internals/well-known-symbol-define"),F=t("../internals/symbol-define-to-primitive"),q=t("../internals/set-to-string-tag"),X=t("../internals/internal-state"),J=t("../internals/array-iteration").forEach,j=x("hidden"),K=X.set,B=X.getterFor("Symbol"),T=Object.prototype,W=r.Symbol,Y=W&&W.prototype,Q=r.RangeError,Z=r.TypeError,tt=r.QObject,rt=L.f,st=U.f,$=z.f,nt=H.f,it=s([].push),ht=E("symbols"),ct=E("op-symbols"),ut=E("wks"),gt=!tt||!tt.prototype||!tt.prototype.findChild,mt=function(St,_t,Tt){var Bt=rt(T,_t);Bt&&delete T[_t],st(St,_t,Tt),Bt&&St!==T&&st(T,_t,Bt)},xt=n&&l(function(){return C(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a!==7})?mt:st,kt=function(St,_t){var Tt=ht[St]=C(Y);return K(Tt,{type:"Symbol",tag:St,description:_t}),n||(Tt.description=_t),Tt},At=function(St,_t,Tt){St===T&&At(ct,_t,Tt),g(St);var Bt=m(_t);return g(Tt),h(ht,Bt)?(Tt.enumerable?(h(St,j)&&St[j][Bt]&&(St[j][Bt]=!1),Tt=C(Tt,{enumerable:v(0,!1)})):(h(St,j)||st(St,j,v(1,{})),St[j][Bt]=!0),xt(St,Bt,Tt)):st(St,Bt,Tt)},Ct=function(St,_t){g(St);var Tt=f(_t),Bt=S(Tt).concat(zt(Tt));return J(Bt,function(Nt){n&&!i(Lt,Tt,Nt)||At(St,Nt,Tt[Nt])}),St},Lt=function(St){var _t=m(St),Tt=i(nt,this,_t);return!(this===T&&h(ht,_t)&&!h(ct,_t))&&(!(Tt||!h(this,_t)||!h(ht,_t)||h(this,j)&&this[j][_t])||Tt)},Rt=function(St,_t){var Tt=f(St),Bt=m(_t);if(Tt!==T||!h(ht,Bt)||h(ct,Bt)){var Nt=rt(Tt,Bt);return!Nt||!h(ht,Bt)||h(Tt,j)&&Tt[j][Bt]||(Nt.enumerable=!0),Nt}},It=function(St){var _t=$(f(St)),Tt=[];return J(_t,function(Bt){h(ht,Bt)||h(_,Bt)||it(Tt,Bt)}),Tt},zt=function(St){var _t=St===T,Tt=$(_t?ct:f(St)),Bt=[];return J(Tt,function(Nt){!h(ht,Nt)||_t&&!h(T,Nt)||it(Bt,ht[Nt])}),Bt};d||(A(Y=(W=function(){if(p(Y,this))throw new Z("Symbol is not a constructor");var St=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,_t=P(St),Tt=function(Bt){this===T&&i(Tt,ct,Bt),h(this,j)&&h(this[j],_t)&&(this[j][_t]=!1);var Nt=v(1,Bt);try{xt(this,_t,Nt)}catch(oe){if(!(oe instanceof Q))throw oe;mt(this,_t,Nt)}};return n&&gt&&xt(T,_t,{configurable:!0,set:Tt}),kt(_t,St)}).prototype,"toString",function(){return B(this).tag}),A(W,"withoutSetter",function(St){return kt(P(St),St)}),H.f=Lt,U.f=At,G.f=Ct,L.f=Rt,I.f=z.f=It,V.f=zt,k.f=function(St){return kt(M(St),St)},n&&(N(Y,"description",{configurable:!0,get:function(){return B(this).description}}),e||A(T,"propertyIsEnumerable",Lt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:W}),J(S(ut),function(St){R(St)}),a({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){gt=!0},useSimple:function(){gt=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!n},{create:function(St,_t){return _t===void 0?C(St):Ct(C(St),_t)},defineProperty:At,defineProperties:Ct,getOwnPropertyDescriptor:Rt}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:It}),F(),q(W,"Symbol"),_[j]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/get-built-in"),i=t("../internals/has-own-property"),s=t("../internals/to-string"),e=t("../internals/shared"),n=t("../internals/symbol-registry-detection"),d=e("string-to-symbol-registry"),l=e("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!n},{for:function(h){var p=s(h);if(i(d,p))return d[p];var g=r("Symbol")(p);return d[p]=g,l[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,c,u){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,c,u){var a=t("../internals/export"),r=t("../internals/has-own-property"),i=t("../internals/is-symbol"),s=t("../internals/try-to-string"),e=t("../internals/shared"),n=t("../internals/symbol-registry-detection"),d=e("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!n},{keyFor:function(l){if(!i(l))throw new TypeError(s(l)+" is not a symbol");if(r(d,l))return d[l]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,c,u){function a(r){return Object.prototype.toString.call(r)}u.isArray=function(r){return Array.isArray?Array.isArray(r):a(r)==="[object Array]"},u.isBoolean=function(r){return typeof r=="boolean"},u.isNull=function(r){return r===null},u.isNullOrUndefined=function(r){return r==null},u.isNumber=function(r){return typeof r=="number"},u.isString=function(r){return typeof r=="string"},u.isSymbol=function(r){return typeof r=="symbol"},u.isUndefined=function(r){return r===void 0},u.isRegExp=function(r){return a(r)==="[object RegExp]"},u.isObject=function(r){return typeof r=="object"&&r!==null},u.isDate=function(r){return a(r)==="[object Date]"},u.isError=function(r){return a(r)==="[object Error]"||r instanceof Error},u.isFunction=function(r){return typeof r=="function"},u.isPrimitive=function(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||r===void 0},u.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,c,u){(function(a){(function(){var r=t("elliptic"),i=t("bn.js");c.exports=function(d){return new e(d)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function e(d){this.curveType=s[d],this.curveType||(this.curveType={name:d}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function n(d,l,h){Array.isArray(d)||(d=d.toArray());var p=new a(d);if(h&&p.length<h){var g=new a(h-p.length);g.fill(0),p=a.concat([g,p])}return l?p.toString(l):p}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,e.prototype.generateKeys=function(d,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,l)},e.prototype.computeSecret=function(d,l,h){return l=l||"utf8",a.isBuffer(d)||(d=new a(d,l)),n(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},e.prototype.getPublicKey=function(d,l){var h=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),n(h,d)},e.prototype.getPrivateKey=function(d){return n(this.keys.getPrivate(),d)},e.prototype.setPublicKey=function(d,l){return l=l||"utf8",a.isBuffer(d)||(d=new a(d,l)),this.keys._importPublic(d),this},e.prototype.setPrivateKey=function(d,l){l=l||"utf8",a.isBuffer(d)||(d=new a(d,l));var h=new i(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,c,u){arguments[4][184][0].apply(u,arguments)},{buffer:188,dup:184}],386:[function(t,c,u){var a=t("inherits"),r=t("md5.js"),i=t("ripemd160"),s=t("sha.js"),e=t("cipher-base");function n(d){e.call(this,"digest"),this._hash=d}a(n,e),n.prototype._update=function(d){this._hash.update(d)},n.prototype._final=function(){return this._hash.digest()},c.exports=function(d){return(d=d.toLowerCase())==="md5"?new r:d==="rmd160"||d==="ripemd160"?new i:new n(s(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,c,u){var a=t("md5.js");c.exports=function(r){return new a().update(r).digest()}},{"md5.js":450}],388:[function(t,c,u){var a=t("inherits"),r=t("./legacy"),i=t("cipher-base"),s=t("safe-buffer").Buffer,e=t("create-hash/md5"),n=t("ripemd160"),d=t("sha.js"),l=s.alloc(128);function h(p,g){i.call(this,"digest"),typeof g=="string"&&(g=s.from(g));var f=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>f?g=(p==="rmd160"?new n:d(p)).update(g).digest():g.length<f&&(g=s.concat([g,l],f));for(var m=this._ipad=s.allocUnsafe(f),y=this._opad=s.allocUnsafe(f),v=0;v<f;v++)m[v]=54^g[v],y[v]=92^g[v];this._hash=p==="rmd160"?new n:d(p),this._hash.update(m)}a(h,i),h.prototype._update=function(p){this._hash.update(p)},h.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new n:d(this._alg)).update(this._opad).update(p).digest()},c.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new h("rmd160",g):p==="md5"?new r(e,g):new h(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,c,u){var a=t("inherits"),r=t("safe-buffer").Buffer,i=t("cipher-base"),s=r.alloc(128);function e(n,d){i.call(this,"digest"),typeof d=="string"&&(d=r.from(d)),this._alg=n,this._key=d,d.length>64?d=n(d):d.length<64&&(d=r.concat([d,s],64));for(var l=this._ipad=r.allocUnsafe(64),h=this._opad=r.allocUnsafe(64),p=0;p<64;p++)l[p]=54^d[p],h[p]=92^d[p];this._hash=[l]}a(e,i),e.prototype._update=function(n){this._hash.push(n)},e.prototype._final=function(){var n=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,n]))},c.exports=e},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,c,u){u.randomBytes=u.rng=u.pseudoRandomBytes=u.prng=t("randombytes"),u.createHash=u.Hash=t("create-hash"),u.createHmac=u.Hmac=t("create-hmac");var a=t("browserify-sign/algos"),r=Object.keys(a),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);u.getHashes=function(){return i};var s=t("pbkdf2");u.pbkdf2=s.pbkdf2,u.pbkdf2Sync=s.pbkdf2Sync;var e=t("browserify-cipher");u.Cipher=e.Cipher,u.createCipher=e.createCipher,u.Cipheriv=e.Cipheriv,u.createCipheriv=e.createCipheriv,u.Decipher=e.Decipher,u.createDecipher=e.createDecipher,u.Decipheriv=e.Decipheriv,u.createDecipheriv=e.createDecipheriv,u.getCiphers=e.getCiphers,u.listCiphers=e.listCiphers;var n=t("diffie-hellman");u.DiffieHellmanGroup=n.DiffieHellmanGroup,u.createDiffieHellmanGroup=n.createDiffieHellmanGroup,u.getDiffieHellman=n.getDiffieHellman,u.createDiffieHellman=n.createDiffieHellman,u.DiffieHellman=n.DiffieHellman;var d=t("browserify-sign");u.createSign=d.createSign,u.Sign=d.Sign,u.createVerify=d.createVerify,u.Verify=d.Verify,u.createECDH=t("create-ecdh");var l=t("public-encrypt");u.publicEncrypt=l.publicEncrypt,u.privateEncrypt=l.privateEncrypt,u.publicDecrypt=l.publicDecrypt,u.privateDecrypt=l.privateDecrypt;var h=t("randomfill");u.randomFill=h.randomFill,u.randomFillSync=h.randomFillSync,u.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},u.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,c,u){(function(a,r){typeof u=="object"&&c!==void 0?c.exports=r():(a=typeof globalThis!="undefined"?globalThis:a||self).dayjs=r()})(void 0,function(){var a=6e4,r=36e5,i="millisecond",s="second",e="minute",n="hour",d="day",l="week",h="month",p="quarter",g="year",f="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var _=["th","st","nd","rd"],P=x%100;return"["+x+(_[(P-20)%10]||_[P]||_[0])+"]"}},S=function(x,_,P){var M=String(x);return!M||M.length>=_?x:""+Array(_+1-M.length).join(P)+x},I={s:S,z:function(x){var _=-x.utcOffset(),P=Math.abs(_),M=Math.floor(P/60),k=P%60;return(_<=0?"+":"-")+S(M,2,"0")+":"+S(k,2,"0")},m:function x(_,P){if(_.date()<P.date())return-x(P,_);var M=12*(P.year()-_.year())+(P.month()-_.month()),k=_.clone().add(M,h),R=P-k<0,F=_.clone().add(M+(R?-1:1),h);return+(-(M+(P-k)/(R?k-F:F-k))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:h,y:g,w:l,d,D:f,h:n,m:e,s,ms:i,Q:p}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},z="en",V={};V[z]=C;var L="$isDayjsObject",U=function(x){return x instanceof N||!(!x||!x[L])},G=function x(_,P,M){var k;if(!_)return z;if(typeof _=="string"){var R=_.toLowerCase();V[R]&&(k=R),P&&(V[R]=P,k=R);var F=_.split("-");if(!k&&F.length>1)return x(F[0])}else{var q=_.name;V[q]=_,k=q}return!M&&k&&(z=k),k||!M&&z},H=function(x,_){if(U(x))return x.clone();var P=typeof _=="object"?_:{};return P.date=x,P.args=arguments,new N(P)},A=I;A.l=G,A.i=U,A.w=function(x,_){return H(x,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var N=function(){function x(P){this.$L=G(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[L]=!0}var _=x.prototype;return _.parse=function(P){this.$d=function(M){var k=M.date,R=M.utc;if(k===null)return new Date(NaN);if(A.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var F=k.match(y);if(F){var q=F[2]-1||0,X=(F[7]||"0").substring(0,3);return R?new Date(Date.UTC(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,X)):new Date(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,X)}}return new Date(k)}(P),this.init()},_.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},_.$utils=function(){return A},_.isValid=function(){return this.$d.toString()!==m},_.isSame=function(P,M){var k=H(P);return this.startOf(M)<=k&&k<=this.endOf(M)},_.isAfter=function(P,M){return H(P)<this.startOf(M)},_.isBefore=function(P,M){return this.endOf(M)<H(P)},_.$g=function(P,M,k){return A.u(P)?this[M]:this.set(k,P)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(P,M){var k=this,R=!!A.u(M)||M,F=A.p(P),q=function(Y,Q){var Z=A.w(k.$u?Date.UTC(k.$y,Q,Y):new Date(k.$y,Q,Y),k);return R?Z:Z.endOf(d)},X=function(Y,Q){return A.w(k.toDate()[Y].apply(k.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(Q)),k)},J=this.$W,j=this.$M,K=this.$D,B="set"+(this.$u?"UTC":"");switch(F){case g:return R?q(1,0):q(31,11);case h:return R?q(1,j):q(0,j+1);case l:var T=this.$locale().weekStart||0,W=(J<T?J+7:J)-T;return q(R?K-W:K+(6-W),j);case d:case f:return X(B+"Hours",0);case n:return X(B+"Minutes",1);case e:return X(B+"Seconds",2);case s:return X(B+"Milliseconds",3);default:return this.clone()}},_.endOf=function(P){return this.startOf(P,!1)},_.$set=function(P,M){var k,R=A.p(P),F="set"+(this.$u?"UTC":""),q=(k={},k[d]=F+"Date",k[f]=F+"Date",k[h]=F+"Month",k[g]=F+"FullYear",k[n]=F+"Hours",k[e]=F+"Minutes",k[s]=F+"Seconds",k[i]=F+"Milliseconds",k)[R],X=R===d?this.$D+(M-this.$W):M;if(R===h||R===g){var J=this.clone().set(f,1);J.$d[q](X),J.init(),this.$d=J.set(f,Math.min(this.$D,J.daysInMonth())).$d}else q&&this.$d[q](X);return this.init(),this},_.set=function(P,M){return this.clone().$set(P,M)},_.get=function(P){return this[A.p(P)]()},_.add=function(P,M){var k,R=this;P=Number(P);var F=A.p(M),q=function(j){var K=H(R);return A.w(K.date(K.date()+Math.round(j*P)),R)};if(F===h)return this.set(h,this.$M+P);if(F===g)return this.set(g,this.$y+P);if(F===d)return q(1);if(F===l)return q(7);var X=(k={},k[e]=a,k[n]=r,k[s]=1e3,k)[F]||1,J=this.$d.getTime()+P*X;return A.w(J,this)},_.subtract=function(P,M){return this.add(-1*P,M)},_.format=function(P){var M=this,k=this.$locale();if(!this.isValid())return k.invalidDate||m;var R=P||"YYYY-MM-DDTHH:mm:ssZ",F=A.z(this),q=this.$H,X=this.$m,J=this.$M,j=k.weekdays,K=k.months,B=k.meridiem,T=function(Q,Z,tt,rt){return Q&&(Q[Z]||Q(M,R))||tt[Z].slice(0,rt)},W=function(Q){return A.s(q%12||12,Q,"0")},Y=B||function(Q,Z,tt){var rt=Q<12?"AM":"PM";return tt?rt.toLowerCase():rt};return R.replace(v,function(Q,Z){return Z||function(tt){switch(tt){case"YY":return String(M.$y).slice(-2);case"YYYY":return A.s(M.$y,4,"0");case"M":return J+1;case"MM":return A.s(J+1,2,"0");case"MMM":return T(k.monthsShort,J,K,3);case"MMMM":return T(K,J);case"D":return M.$D;case"DD":return A.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return T(k.weekdaysMin,M.$W,j,2);case"ddd":return T(k.weekdaysShort,M.$W,j,3);case"dddd":return j[M.$W];case"H":return String(q);case"HH":return A.s(q,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return Y(q,X,!0);case"A":return Y(q,X,!1);case"m":return String(X);case"mm":return A.s(X,2,"0");case"s":return String(M.$s);case"ss":return A.s(M.$s,2,"0");case"SSS":return A.s(M.$ms,3,"0");case"Z":return F}return null}(Q)||F.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(P,M,k){var R,F=this,q=A.p(M),X=H(P),J=(X.utcOffset()-this.utcOffset())*a,j=this-X,K=function(){return A.m(F,X)};switch(q){case g:R=K()/12;break;case h:R=K();break;case p:R=K()/3;break;case l:R=(j-J)/6048e5;break;case d:R=(j-J)/864e5;break;case n:R=j/r;break;case e:R=j/a;break;case s:R=j/1e3;break;default:R=j}return k?R:A.a(R)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return V[this.$L]},_.locale=function(P,M){if(!P)return this.$L;var k=this.clone(),R=G(P,M,!0);return R&&(k.$L=R),k},_.clone=function(){return A.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},x}(),E=N.prototype;return H.prototype=E,[["$ms",i],["$s",s],["$m",e],["$H",n],["$W",d],["$M",h],["$y",g],["$D",f]].forEach(function(x){E[x[1]]=function(_){return this.$g(_,x[0],x[1])}}),H.extend=function(x,_){return x.$i||(x(_,N,H),x.$i=!0),H},H.locale=G,H.isDayjs=U,H.unix=function(x){return H(1e3*x)},H.en=V[z],H.Ls=V,H.p={},H})},{}],392:[function(t,c,u){(function(a,r){typeof u=="object"&&c!==void 0?c.exports=r():(a=typeof globalThis!="undefined"?globalThis:a||self).dayjs_plugin_customParseFormat=r()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,e=/\d*[^-_:/,()\s\d]+/,n={},d=function(y){return(y=+y)+(y>68?1900:2e3)},l=function(y){return function(v){this[y]=+v}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var C=v.match(/([+-]|\d\d)/g),S=60*C[1]+(+C[2]||0);return S===0?0:C[0]==="+"?-S:S}(y)}],p=function(y){var v=n[y];return v&&(v.indexOf?v:v.s.concat(v.f))},g=function(y,v){var C,S=n.meridiem;if(S){for(var I=1;I<=24;I+=1)if(y.indexOf(S(I,0,v))>-1){C=I>12;break}}else C=y===(v?"pm":"PM");return C},f={A:[e,function(y){this.afternoon=g(y,!1)}],a:[e,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[i,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,l("seconds")],ss:[s,l("seconds")],m:[s,l("minutes")],mm:[s,l("minutes")],H:[s,l("hours")],h:[s,l("hours")],HH:[s,l("hours")],hh:[s,l("hours")],D:[s,l("day")],DD:[i,l("day")],Do:[e,function(y){var v=n.ordinal,C=y.match(/\d+/);if(this.day=C[0],v)for(var S=1;S<=31;S+=1)v(S).replace(/\[|\]/g,"")===y&&(this.day=S)}],M:[s,l("month")],MM:[i,l("month")],MMM:[e,function(y){var v=p("months"),C=(p("monthsShort")||v.map(function(S){return S.slice(0,3)})).indexOf(y)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[e,function(y){var v=p("months").indexOf(y)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,l("year")],YY:[i,function(y){this.year=d(y)}],YYYY:[/\d{4}/,l("year")],Z:h,ZZ:h};function m(y){var v,C;v=y,C=n&&n.formats;for(var S=(y=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,A,N){var E=N&&N.toUpperCase();return A||C[N]||a[N]||C[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,_,P){return _||P.slice(1)})})).match(r),I=S.length,z=0;z<I;z+=1){var V=S[z],L=f[V],U=L&&L[0],G=L&&L[1];S[z]=G?{regex:U,parser:G}:V.replace(/^\[|\]$/g,"")}return function(H){for(var A={},N=0,E=0;N<I;N+=1){var x=S[N];if(typeof x=="string")E+=x.length;else{var _=x.regex,P=x.parser,M=H.slice(E),k=_.exec(M)[0];P.call(A,k),H=H.replace(k,"")}}return function(R){var F=R.afternoon;if(F!==void 0){var q=R.hours;F?q<12&&(R.hours+=12):q===12&&(R.hours=0),delete R.afternoon}}(A),A}}return function(y,v,C){C.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(d=y.parseTwoDigitYear);var S=v.prototype,I=S.parse;S.parse=function(z){var V=z.date,L=z.utc,U=z.args;this.$u=L;var G=U[1];if(typeof G=="string"){var H=U[2]===!0,A=U[3]===!0,N=H||A,E=U[2];A&&(E=U[2]),n=this.$locale(),!H&&E&&(n=C.Ls[E]),this.$d=function(M,k,R){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*M);var F=m(k)(M),q=F.year,X=F.month,J=F.day,j=F.hours,K=F.minutes,B=F.seconds,T=F.milliseconds,W=F.zone,Y=new Date,Q=J||(q||X?1:Y.getDate()),Z=q||Y.getFullYear(),tt=0;q&&!X||(tt=X>0?X-1:Y.getMonth());var rt=j||0,st=K||0,$=B||0,nt=T||0;return W?new Date(Date.UTC(Z,tt,Q,rt,st,$,nt+60*W.offset*1e3)):R?new Date(Date.UTC(Z,tt,Q,rt,st,$,nt)):new Date(Z,tt,Q,rt,st,$,nt)}catch(it){return new Date("")}}(V,G,L),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),N&&V!=this.format(G)&&(this.$d=new Date("")),n={}}else if(G instanceof Array)for(var x=G.length,_=1;_<=x;_+=1){U[1]=G[_-1];var P=C.apply(this,U);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}_===x&&(this.$d=new Date(""))}else I.call(this,z)}}})},{}],393:[function(t,c,u){(function(a,r){typeof u=="object"&&c!==void 0?c.exports=r():(a=typeof globalThis!="undefined"?globalThis:a||self).dayjs_plugin_utc=r()})(void 0,function(){var a="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,e,n){var d=e.prototype;n.utc=function(y){var v={date:y,utc:!0,args:arguments};return new e(v)},d.utc=function(y){var v=n(this.toDate(),{locale:this.$L,utc:!0});return y?v.add(this.utcOffset(),a):v},d.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var l=d.parse;d.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),l.call(this,y)};var h=d.init;d.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else h.call(this)};var p=d.utcOffset;d.utcOffset=function(y,v){var C=this.$utils().u;if(C(y))return this.$u?0:C(this.$offset)?p.call(this):this.$offset;if(typeof y=="string"&&(y=function(V){V===void 0&&(V="");var L=V.match(r);if(!L)return null;var U=(""+L[0]).match(i)||["-",0,0],G=U[0],H=60*+U[1]+ +U[2];return H===0?0:G==="+"?H:-H}(y))===null)return this;var S=Math.abs(y)<=16?60*y:y,I=this;if(v)return I.$offset=S,I.$u=y===0,I;if(y!==0){var z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(S+z,a)).$offset=S,I.$x.$localOffset=z}else I=this.utc();return I};var g=d.format;d.format=function(y){var v=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,v)},d.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var f=d.toDate;d.toDate=function(y){return y==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var m=d.diff;d.diff=function(y,v,C){if(y&&this.$u===y.$u)return m.call(this,y,v,C);var S=this.local(),I=n(y).local();return m.call(S,I,v,C)}}})},{}],394:[function(t,c,u){u.utils=t("./des/utils"),u.Cipher=t("./des/cipher"),u.DES=t("./des/des"),u.CBC=t("./des/cbc"),u.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,c,u){var a=t("minimalistic-assert"),r=t("inherits"),i={};function s(e){a.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=e[n]}u.instantiate=function(e){function n(p){e.call(this,p),this._cbcInit()}r(n,e);for(var d=Object.keys(i),l=0;l<d.length;l++){var h=d[l];n.prototype[h]=i[h]}return n.create=function(p){return new n(p)},n},i._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},i._update=function(e,n,d,l){var h=this._cbcState,p=this.constructor.super_.prototype,g=h.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)g[f]^=e[n+f];for(p._update.call(this,g,0,d,l),f=0;f<this.blockSize;f++)g[f]=d[l+f]}else{for(p._update.call(this,e,n,d,l),f=0;f<this.blockSize;f++)d[l+f]^=g[f];for(f=0;f<this.blockSize;f++)g[f]=e[n+f]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,c,u){var a=t("minimalistic-assert");function r(i){this.options=i,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=i.padding!==!1}c.exports=r,r.prototype._init=function(){},r.prototype.update=function(i){return i.length===0?[]:this.type==="decrypt"?this._updateDecrypt(i):this._updateEncrypt(i)},r.prototype._buffer=function(i,s){for(var e=Math.min(this.buffer.length-this.bufferOff,i.length-s),n=0;n<e;n++)this.buffer[this.bufferOff+n]=i[s+n];return this.bufferOff+=e,e},r.prototype._flushBuffer=function(i,s){return this._update(this.buffer,0,i,s),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(i){var s=0,e=0,n=(this.bufferOff+i.length)/this.blockSize|0,d=new Array(n*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(i,s),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(d,e)));for(var l=i.length-(i.length-s)%this.blockSize;s<l;s+=this.blockSize)this._update(i,s,d,e),e+=this.blockSize;for(;s<i.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=i[s];return d},r.prototype._updateDecrypt=function(i){for(var s=0,e=0,n=Math.ceil((this.bufferOff+i.length)/this.blockSize)-1,d=new Array(n*this.blockSize);n>0;n--)s+=this._buffer(i,s),e+=this._flushBuffer(d,e);return s+=this._buffer(i,s),d},r.prototype.final=function(i){var s,e;return i&&(s=this.update(i)),e=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(e):e},r.prototype._pad=function(i,s){if(s===0)return!1;for(;s<i.length;)i[s++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var i=new Array(this.blockSize);return this._update(this.buffer,0,i,0),i},r.prototype._unpad=function(i){return i},r.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var i=new Array(this.blockSize);return this._flushBuffer(i,0),this._unpad(i)}},{"minimalistic-assert":453}],397:[function(t,c,u){var a=t("minimalistic-assert"),r=t("inherits"),i=t("./utils"),s=t("./cipher");function e(){this.tmp=new Array(2),this.keys=null}function n(l){s.call(this,l);var h=new e;this._desState=h,this.deriveKeys(h,l.key)}r(n,s),c.exports=n,n.create=function(l){return new n(l)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(l,h){l.keys=new Array(32),a.equal(h.length,this.blockSize,"Invalid key length");var p=i.readUInt32BE(h,0),g=i.readUInt32BE(h,4);i.pc1(p,g,l.tmp,0),p=l.tmp[0],g=l.tmp[1];for(var f=0;f<l.keys.length;f+=2){var m=d[f>>>1];p=i.r28shl(p,m),g=i.r28shl(g,m),i.pc2(p,g,l.keys,f)}},n.prototype._update=function(l,h,p,g){var f=this._desState,m=i.readUInt32BE(l,h),y=i.readUInt32BE(l,h+4);i.ip(m,y,f.tmp,0),m=f.tmp[0],y=f.tmp[1],this.type==="encrypt"?this._encrypt(f,m,y,f.tmp,0):this._decrypt(f,m,y,f.tmp,0),m=f.tmp[0],y=f.tmp[1],i.writeUInt32BE(p,m,g),i.writeUInt32BE(p,y,g+4)},n.prototype._pad=function(l,h){if(this.padding===!1)return!1;for(var p=l.length-h,g=h;g<l.length;g++)l[g]=p;return!0},n.prototype._unpad=function(l){if(this.padding===!1)return l;for(var h=l[l.length-1],p=l.length-h;p<l.length;p++)a.equal(l[p],h);return l.slice(0,l.length-h)},n.prototype._encrypt=function(l,h,p,g,f){for(var m=h,y=p,v=0;v<l.keys.length;v+=2){var C=l.keys[v],S=l.keys[v+1];i.expand(y,l.tmp,0),C^=l.tmp[0],S^=l.tmp[1];var I=i.substitute(C,S),z=y;y=(m^i.permute(I))>>>0,m=z}i.rip(y,m,g,f)},n.prototype._decrypt=function(l,h,p,g,f){for(var m=p,y=h,v=l.keys.length-2;v>=0;v-=2){var C=l.keys[v],S=l.keys[v+1];i.expand(m,l.tmp,0),C^=l.tmp[0],S^=l.tmp[1];var I=i.substitute(C,S),z=m;m=(y^i.permute(I))>>>0,y=z}i.rip(m,y,g,f)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,c,u){var a=t("minimalistic-assert"),r=t("inherits"),i=t("./cipher"),s=t("./des");function e(d,l){a.equal(l.length,24,"Invalid key length");var h=l.slice(0,8),p=l.slice(8,16),g=l.slice(16,24);this.ciphers=d==="encrypt"?[s.create({type:"encrypt",key:h}),s.create({type:"decrypt",key:p}),s.create({type:"encrypt",key:g})]:[s.create({type:"decrypt",key:g}),s.create({type:"encrypt",key:p}),s.create({type:"decrypt",key:h})]}function n(d){i.call(this,d);var l=new e(this.type,this.options.key);this._edeState=l}r(n,i),c.exports=n,n.create=function(d){return new n(d)},n.prototype._update=function(d,l,h,p){var g=this._edeState;g.ciphers[0]._update(d,l,h,p),g.ciphers[1]._update(h,p,h,p),g.ciphers[2]._update(h,p,h,p)},n.prototype._pad=s.prototype._pad,n.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,c,u){u.readUInt32BE=function(s,e){return(s[0+e]<<24|s[1+e]<<16|s[2+e]<<8|s[3+e])>>>0},u.writeUInt32BE=function(s,e,n){s[0+n]=e>>>24,s[1+n]=e>>>16&255,s[2+n]=e>>>8&255,s[3+n]=255&e},u.ip=function(s,e,n,d){for(var l=0,h=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)l<<=1,l|=e>>>g+p&1;for(g=0;g<=24;g+=8)l<<=1,l|=s>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)h<<=1,h|=e>>>g+p&1;for(g=1;g<=25;g+=8)h<<=1,h|=s>>>g+p&1}n[d+0]=l>>>0,n[d+1]=h>>>0},u.rip=function(s,e,n,d){for(var l=0,h=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)l<<=1,l|=e>>>g+p&1,l<<=1,l|=s>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)h<<=1,h|=e>>>g+p&1,h<<=1,h|=s>>>g+p&1;n[d+0]=l>>>0,n[d+1]=h>>>0},u.pc1=function(s,e,n,d){for(var l=0,h=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)l<<=1,l|=e>>g+p&1;for(g=0;g<=24;g+=8)l<<=1,l|=s>>g+p&1}for(g=0;g<=24;g+=8)l<<=1,l|=e>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)h<<=1,h|=e>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=s>>g+p&1}for(g=0;g<=24;g+=8)h<<=1,h|=s>>g+p&1;n[d+0]=l>>>0,n[d+1]=h>>>0},u.r28shl=function(s,e){return s<<e&268435455|s>>>28-e};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];u.pc2=function(s,e,n,d){for(var l=0,h=0,p=a.length>>>1,g=0;g<p;g++)l<<=1,l|=s>>>a[g]&1;for(g=p;g<a.length;g++)h<<=1,h|=e>>>a[g]&1;n[d+0]=l>>>0,n[d+1]=h>>>0},u.expand=function(s,e,n){var d=0,l=0;d=(1&s)<<5|s>>>27;for(var h=23;h>=15;h-=4)d<<=6,d|=s>>>h&63;for(h=11;h>=3;h-=4)l|=s>>>h&63,l<<=6;l|=(31&s)<<1|s>>>31,e[n+0]=d>>>0,e[n+1]=l>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];u.substitute=function(s,e){for(var n=0,d=0;d<4;d++)n<<=4,n|=r[64*d+(s>>>18-6*d&63)];for(d=0;d<4;d++)n<<=4,n|=r[256+64*d+(e>>>18-6*d&63)];return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];u.permute=function(s){for(var e=0,n=0;n<i.length;n++)e<<=1,e|=s>>>i[n]&1;return e>>>0},u.padSplit=function(s,e,n){for(var d=s.toString(2);d.length<e;)d="0"+d;for(var l=[],h=0;h<e;h+=n)l.push(d.slice(h,h+n));return l.join(" ")}},{}],400:[function(t,c,u){(function(a){(function(){var r=t("./lib/generatePrime"),i=t("./lib/primes.json"),s=t("./lib/dh"),e={binary:!0,hex:!0,base64:!0};u.DiffieHellmanGroup=u.createDiffieHellmanGroup=u.getDiffieHellman=function(n){var d=new a(i[n].prime,"hex"),l=new a(i[n].gen,"hex");return new s(d,l)},u.createDiffieHellman=u.DiffieHellman=function n(d,l,h,p){return a.isBuffer(l)||e[l]===void 0?n(d,"binary",l,h):(l=l||"binary",p=p||"binary",h=h||new a([2]),a.isBuffer(h)||(h=new a(h,p)),typeof d=="number"?new s(r(d,h),h,!0):(a.isBuffer(d)||(d=new a(d,l)),new s(d,h,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,c,u){(function(a){(function(){var r=t("bn.js"),i=new(t("miller-rabin")),s=new r(24),e=new r(11),n=new r(10),d=new r(3),l=new r(7),h=t("./generatePrime"),p=t("randombytes");function g(C,S){return S=S||"utf8",a.isBuffer(C)||(C=new a(C,S)),this._pub=new r(C),this}function f(C,S){return S=S||"utf8",a.isBuffer(C)||(C=new a(C,S)),this._priv=new r(C),this}c.exports=y;var m={};function y(C,S,I){this.setGenerator(S),this.__prime=new r(C),this._prime=r.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=g,this.setPrivateKey=f):this._primeCode=8}function v(C,S){var I=new a(C.toArray());return S?I.toString(S):I}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,S){var I=S.toString("hex"),z=[I,C.toString(16)].join("_");if(z in m)return m[z];var V,L=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!i.test(C))return L+=1,L+=I==="02"||I==="05"?8:4,m[z]=L,L;switch(i.test(C.shrn(1))||(L+=2),I){case"02":C.mod(s).cmp(e)&&(L+=8);break;case"05":(V=C.mod(n)).cmp(d)&&V.cmp(l)&&(L+=8);break;default:L+=4}return m[z]=L,L}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new r(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(C){var S=(C=(C=new r(C)).toRed(this._prime)).redPow(this._priv).fromRed(),I=new a(S.toArray()),z=this.getPrime();if(I.length<z.length){var V=new a(z.length-I.length);V.fill(0),I=a.concat([V,I])}return I},y.prototype.getPublicKey=function(C){return v(this._pub,C)},y.prototype.getPrivateKey=function(C){return v(this._priv,C)},y.prototype.getPrime=function(C){return v(this.__prime,C)},y.prototype.getGenerator=function(C){return v(this._gen,C)},y.prototype.setGenerator=function(C,S){return S=S||"utf8",a.isBuffer(C)||(C=new a(C,S)),this.__gen=C,this._gen=new r(C),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,c,u){var a=t("randombytes");c.exports=C,C.simpleSieve=y,C.fermatTest=v;var r=t("bn.js"),i=new r(24),s=new(t("miller-rabin")),e=new r(1),n=new r(2),d=new r(5),l=(new r(16),new r(8),new r(10)),h=new r(3),p=(new r(7),new r(11)),g=new r(4),f=(new r(12),null);function m(){if(f!==null)return f;var S=[];S[0]=2;for(var I=1,z=3;z<1048576;z+=2){for(var V=Math.ceil(Math.sqrt(z)),L=0;L<I&&S[L]<=V&&z%S[L]!=0;L++);I!==L&&S[L]<=V||(S[I++]=z)}return f=S,S}function y(S){for(var I=m(),z=0;z<I.length;z++)if(S.modn(I[z])===0)return S.cmpn(I[z])===0;return!0}function v(S){var I=r.mont(S);return n.toRed(I).redPow(S.subn(1)).fromRed().cmpn(1)===0}function C(S,I){if(S<16)return new r(I===2||I===5?[140,123]:[140,39]);var z,V;for(I=new r(I);;){for(z=new r(a(Math.ceil(S/8)));z.bitLength()>S;)z.ishrn(1);if(z.isEven()&&z.iadd(e),z.testn(1)||z.iadd(n),I.cmp(n)){if(!I.cmp(d))for(;z.mod(l).cmp(h);)z.iadd(g)}else for(;z.mod(i).cmp(p);)z.iadd(g);if(y(V=z.shrn(1))&&y(z)&&v(V)&&v(z)&&s.test(V)&&s.test(z))return z}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,c,u){c.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,c,u){arguments[4][184][0].apply(u,arguments)},{buffer:188,dup:184}],405:[function(t,c,u){var a=u;a.version=t("../package.json").version,a.utils=t("./elliptic/utils"),a.rand=t("brorand"),a.curve=t("./elliptic/curve"),a.curves=t("./elliptic/curves"),a.ec=t("./elliptic/ec"),a.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,c,u){var a=t("bn.js"),r=t("../utils"),i=r.getNAF,s=r.getJSF,e=r.assert;function n(l,h){this.type=l,this.p=new a(h.p,16),this.red=h.prime?a.red(h.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=h.n&&new a(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(l,h){this.curve=l,this.type=h,this.precomputed=null}c.exports=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(l,h){e(l.precomputed);var p=l._getDoubles(),g=i(h,1,this._bitLength),f=(1<<p.step+1)-(p.step%2==0?2:1);f/=3;var m,y,v=[];for(m=0;m<g.length;m+=p.step){y=0;for(var C=m+p.step-1;C>=m;C--)y=(y<<1)+g[C];v.push(y)}for(var S=this.jpoint(null,null,null),I=this.jpoint(null,null,null),z=f;z>0;z--){for(m=0;m<v.length;m++)(y=v[m])===z?I=I.mixedAdd(p.points[m]):y===-z&&(I=I.mixedAdd(p.points[m].neg()));S=S.add(I)}return S.toP()},n.prototype._wnafMul=function(l,h){var p=4,g=l._getNAFPoints(p);p=g.wnd;for(var f=g.points,m=i(h,p,this._bitLength),y=this.jpoint(null,null,null),v=m.length-1;v>=0;v--){for(var C=0;v>=0&&m[v]===0;v--)C++;if(v>=0&&C++,y=y.dblp(C),v<0)break;var S=m[v];e(S!==0),y=l.type==="affine"?S>0?y.mixedAdd(f[S-1>>1]):y.mixedAdd(f[-S-1>>1].neg()):S>0?y.add(f[S-1>>1]):y.add(f[-S-1>>1].neg())}return l.type==="affine"?y.toP():y},n.prototype._wnafMulAdd=function(l,h,p,g,f){var m,y,v,C=this._wnafT1,S=this._wnafT2,I=this._wnafT3,z=0;for(m=0;m<g;m++){var V=(v=h[m])._getNAFPoints(l);C[m]=V.wnd,S[m]=V.points}for(m=g-1;m>=1;m-=2){var L=m-1,U=m;if(C[L]===1&&C[U]===1){var G=[h[L],null,null,h[U]];h[L].y.cmp(h[U].y)===0?(G[1]=h[L].add(h[U]),G[2]=h[L].toJ().mixedAdd(h[U].neg())):h[L].y.cmp(h[U].y.redNeg())===0?(G[1]=h[L].toJ().mixedAdd(h[U]),G[2]=h[L].add(h[U].neg())):(G[1]=h[L].toJ().mixedAdd(h[U]),G[2]=h[L].toJ().mixedAdd(h[U].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],A=s(p[L],p[U]);for(z=Math.max(A[0].length,z),I[L]=new Array(z),I[U]=new Array(z),y=0;y<z;y++){var N=0|A[0][y],E=0|A[1][y];I[L][y]=H[3*(N+1)+(E+1)],I[U][y]=0,S[L]=G}}else I[L]=i(p[L],C[L],this._bitLength),I[U]=i(p[U],C[U],this._bitLength),z=Math.max(I[L].length,z),z=Math.max(I[U].length,z)}var x=this.jpoint(null,null,null),_=this._wnafT4;for(m=z;m>=0;m--){for(var P=0;m>=0;){var M=!0;for(y=0;y<g;y++)_[y]=0|I[y][m],_[y]!==0&&(M=!1);if(!M)break;P++,m--}if(m>=0&&P++,x=x.dblp(P),m<0)break;for(y=0;y<g;y++){var k=_[y];k!==0&&(k>0?v=S[y][k-1>>1]:k<0&&(v=S[y][-k-1>>1].neg()),x=v.type==="affine"?x.mixedAdd(v):x.add(v))}}for(m=0;m<g;m++)S[m]=null;return f?x:x.toP()},n.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(l,h){l=r.toArray(l,h);var p=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1==2*p)return l[0]===6?e(l[l.length-1]%2==0):l[0]===7&&e(l[l.length-1]%2==1),this.point(l.slice(1,1+p),l.slice(1+p,1+2*p));if((l[0]===2||l[0]===3)&&l.length-1===p)return this.pointFromX(l.slice(1,1+p),l[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(l){return this.encode(l,!0)},d.prototype._encode=function(l){var h=this.curve.p.byteLength(),p=this.getX().toArray("be",h);return l?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",h))},d.prototype.encode=function(l,h){return r.encode(this._encode(h),l)},d.prototype.precompute=function(l){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,l),h.beta=this._getBeta(),this.precomputed=h,this},d.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((l.bitLength()+1)/h.step)},d.prototype._getDoubles=function(l,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,f=0;f<h;f+=l){for(var m=0;m<l;m++)g=g.dbl();p.push(g)}return{step:l,points:p}},d.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],p=(1<<l)-1,g=p===1?null:this.dbl(),f=1;f<p;f++)h[f]=h[f-1].add(g);return{wnd:l,points:h}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(l){for(var h=this,p=0;p<l;p++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(t,c,u){var a=t("../utils"),r=t("bn.js"),i=t("inherits"),s=t("./base"),e=a.assert;function n(l){this.twisted=(0|l.a)!=1,this.mOneA=this.twisted&&(0|l.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",l),this.a=new r(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|l.c)==1}function d(l,h,p,g,f){s.BasePoint.call(this,l,"projective"),h===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(h,16),this.y=new r(p,16),this.z=g?new r(g,16):this.curve.one,this.t=f&&new r(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(n,s),c.exports=n,n.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},n.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},n.prototype.jpoint=function(l,h,p,g){return this.point(l,h,p,g)},n.prototype.pointFromX=function(l,h){(l=new r(l,16)).red||(l=l.toRed(this.red));var p=l.redSqr(),g=this.c2.redSub(this.a.redMul(p)),f=this.one.redSub(this.c2.redMul(this.d).redMul(p)),m=g.redMul(f.redInvm()),y=m.redSqrt();if(y.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var v=y.fromRed().isOdd();return(h&&!v||!h&&v)&&(y=y.redNeg()),this.point(l,y)},n.prototype.pointFromY=function(l,h){(l=new r(l,16)).red||(l=l.toRed(this.red));var p=l.redSqr(),g=p.redSub(this.c2),f=p.redMul(this.d).redMul(this.c2).redSub(this.a),m=g.redMul(f.redInvm());if(m.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,l)}var y=m.redSqrt();if(y.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==h&&(y=y.redNeg()),this.point(y,l)},n.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var h=l.x.redSqr(),p=l.y.redSqr(),g=h.redMul(this.a).redAdd(p),f=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(p)));return g.cmp(f)===0},i(d,s.BasePoint),n.prototype.pointFromJSON=function(l){return d.fromJSON(this,l)},n.prototype.point=function(l,h,p,g){return new d(this,l,h,p,g)},d.fromJSON=function(l,h){return new d(l,h[0],h[1],h[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var l=this.x.redSqr(),h=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(l),f=this.x.redAdd(this.y).redSqr().redISub(l).redISub(h),m=g.redAdd(h),y=m.redSub(p),v=g.redSub(h),C=f.redMul(y),S=m.redMul(v),I=f.redMul(v),z=y.redMul(m);return this.curve.point(C,S,z,I)},d.prototype._projDbl=function(){var l,h,p,g,f,m,y=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var S=(g=this.curve._mulA(v)).redAdd(C);this.zOne?(l=y.redSub(v).redSub(C).redMul(S.redSub(this.curve.two)),h=S.redMul(g.redSub(C)),p=S.redSqr().redSub(S).redSub(S)):(f=this.z.redSqr(),m=S.redSub(f).redISub(f),l=y.redSub(v).redISub(C).redMul(m),h=S.redMul(g.redSub(C)),p=S.redMul(m))}else g=v.redAdd(C),f=this.curve._mulC(this.z).redSqr(),m=g.redSub(f).redSub(f),l=this.curve._mulC(y.redISub(g)).redMul(m),h=this.curve._mulC(g).redMul(v.redISub(C)),p=g.redMul(m);return this.curve.point(l,h,p)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(l){var h=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),p=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),g=this.t.redMul(this.curve.dd).redMul(l.t),f=this.z.redMul(l.z.redAdd(l.z)),m=p.redSub(h),y=f.redSub(g),v=f.redAdd(g),C=p.redAdd(h),S=m.redMul(y),I=v.redMul(C),z=m.redMul(C),V=y.redMul(v);return this.curve.point(S,I,V,z)},d.prototype._projAdd=function(l){var h,p,g=this.z.redMul(l.z),f=g.redSqr(),m=this.x.redMul(l.x),y=this.y.redMul(l.y),v=this.curve.d.redMul(m).redMul(y),C=f.redSub(v),S=f.redAdd(v),I=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(m).redISub(y),z=g.redMul(C).redMul(I);return this.curve.twisted?(h=g.redMul(S).redMul(y.redSub(this.curve._mulA(m))),p=C.redMul(S)):(h=g.redMul(S).redMul(y.redSub(m)),p=this.curve._mulC(C).redMul(S)),this.curve.point(z,h,p)},d.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},d.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},d.prototype.mulAdd=function(l,h,p){return this.curve._wnafMulAdd(1,[this,h],[l,p],2,!1)},d.prototype.jmulAdd=function(l,h,p){return this.curve._wnafMulAdd(1,[this,h],[l,p],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},d.prototype.eqXToP=function(l){var h=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var p=l.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(g),this.x.cmp(h)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,c,u){var a=u;a.base=t("./base"),a.short=t("./short"),a.mont=t("./mont"),a.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,c,u){var a=t("bn.js"),r=t("inherits"),i=t("./base"),s=t("../utils");function e(d){i.call(this,"mont",d),this.a=new a(d.a,16).toRed(this.red),this.b=new a(d.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(d,l,h){i.BasePoint.call(this,d,"projective"),l===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(l,16),this.z=new a(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(e,i),c.exports=e,e.prototype.validate=function(d){var l=d.normalize().x,h=l.redSqr(),p=h.redMul(l).redAdd(h.redMul(this.a)).redAdd(l);return p.redSqrt().redSqr().cmp(p)===0},r(n,i.BasePoint),e.prototype.decodePoint=function(d,l){return this.point(s.toArray(d,l),1)},e.prototype.point=function(d,l){return new n(this,d,l)},e.prototype.pointFromJSON=function(d){return n.fromJSON(this,d)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(d,l){return new n(d,l[0],l[1]||d.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),l=this.x.redSub(this.z).redSqr(),h=d.redSub(l),p=d.redMul(l),g=h.redMul(l.redAdd(this.curve.a24.redMul(h)));return this.curve.point(p,g)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(d,l){var h=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=d.x.redAdd(d.z),f=d.x.redSub(d.z).redMul(h),m=g.redMul(p),y=l.z.redMul(f.redAdd(m).redSqr()),v=l.x.redMul(f.redISub(m).redSqr());return this.curve.point(y,v)},n.prototype.mul=function(d){for(var l=d.clone(),h=this,p=this.curve.point(null,null),g=[];l.cmpn(0)!==0;l.iushrn(1))g.push(l.andln(1));for(var f=g.length-1;f>=0;f--)g[f]===0?(h=h.diffAdd(p,this),p=p.dbl()):(p=h.diffAdd(p,this),h=h.dbl());return p},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,c,u){var a=t("../utils"),r=t("bn.js"),i=t("inherits"),s=t("./base"),e=a.assert;function n(h){s.call(this,"short",h),this.a=new r(h.a,16).toRed(this.red),this.b=new r(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(h,p,g,f){s.BasePoint.call(this,h,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(p,16),this.y=new r(g,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(h,p,g,f){s.BasePoint.call(this,h,"jacobian"),p===null&&g===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(p,16),this.y=new r(g,16),this.z=new r(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(n,s),c.exports=n,n.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(h.beta)p=new r(h.beta,16).toRed(this.red);else{var f=this._getEndoRoots(this.p);p=(p=f[0].cmp(f[1])<0?f[0]:f[1]).toRed(this.red)}if(h.lambda)g=new r(h.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(p))===0?g=m[0]:(g=m[1],e(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:h.basis?h.basis.map(function(y){return{a:new r(y.a,16),b:new r(y.b,16)}}):this._getEndoBasis(g)}}},n.prototype._getEndoRoots=function(h){var p=h===this.p?this.red:r.mont(h),g=new r(2).toRed(p).redInvm(),f=g.redNeg(),m=new r(3).toRed(p).redNeg().redSqrt().redMul(g);return[f.redAdd(m).fromRed(),f.redSub(m).fromRed()]},n.prototype._getEndoBasis=function(h){for(var p,g,f,m,y,v,C,S,I,z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=h,L=this.n.clone(),U=new r(1),G=new r(0),H=new r(0),A=new r(1),N=0;V.cmpn(0)!==0;){var E=L.div(V);S=L.sub(E.mul(V)),I=H.sub(E.mul(U));var x=A.sub(E.mul(G));if(!f&&S.cmp(z)<0)p=C.neg(),g=U,f=S.neg(),m=I;else if(f&&++N==2)break;C=S,L=V,V=S,H=U,U=I,A=G,G=x}y=S.neg(),v=I;var _=f.sqr().add(m.sqr());return y.sqr().add(v.sqr()).cmp(_)>=0&&(y=p,v=g),f.negative&&(f=f.neg(),m=m.neg()),y.negative&&(y=y.neg(),v=v.neg()),[{a:f,b:m},{a:y,b:v}]},n.prototype._endoSplit=function(h){var p=this.endo.basis,g=p[0],f=p[1],m=f.b.mul(h).divRound(this.n),y=g.b.neg().mul(h).divRound(this.n),v=m.mul(g.a),C=y.mul(f.a),S=m.mul(g.b),I=y.mul(f.b);return{k1:h.sub(v).sub(C),k2:S.add(I).neg()}},n.prototype.pointFromX=function(h,p){(h=new r(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),f=g.redSqrt();if(f.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var m=f.fromRed().isOdd();return(p&&!m||!p&&m)&&(f=f.redNeg()),this.point(h,f)},n.prototype.validate=function(h){if(h.inf)return!0;var p=h.x,g=h.y,f=this.a.redMul(p),m=p.redSqr().redMul(p).redIAdd(f).redIAdd(this.b);return g.redSqr().redISub(m).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(h,p,g){for(var f=this._endoWnafT1,m=this._endoWnafT2,y=0;y<h.length;y++){var v=this._endoSplit(p[y]),C=h[y],S=C._getBeta();v.k1.negative&&(v.k1.ineg(),C=C.neg(!0)),v.k2.negative&&(v.k2.ineg(),S=S.neg(!0)),f[2*y]=C,f[2*y+1]=S,m[2*y]=v.k1,m[2*y+1]=v.k2}for(var I=this._wnafMulAdd(1,f,m,2*y,g),z=0;z<2*y;z++)f[z]=null,m[z]=null;return I},i(d,s.BasePoint),n.prototype.point=function(h,p,g){return new d(this,h,p,g)},n.prototype.pointFromJSON=function(h,p){return d.fromJSON(this,h,p)},d.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var g=this.curve,f=function(m){return g.point(m.x.redMul(g.endo.beta),m.y)};h.beta=p,p.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(f)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(f)}}}return p}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(h,p,g){typeof p=="string"&&(p=JSON.parse(p));var f=h.point(p[0],p[1],g);if(!p[2])return f;function m(v){return h.point(v[0],v[1],g)}var y=p[2];return f.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[f].concat(y.doubles.points.map(m))},naf:y.naf&&{wnd:y.naf.wnd,points:[f].concat(y.naf.points.map(m))}},f},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var p=this.y.redSub(h.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(h.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(h.x),f=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,f)},d.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),f=h.redInvm(),m=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(f),y=m.redSqr().redISub(this.x.redAdd(this.x)),v=m.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,v)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(h){return h=new r(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,p,g){var f=[this,p],m=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(f,m):this.curve._wnafMulAdd(1,f,m,2)},d.prototype.jmulAdd=function(h,p,g){var f=[this,p],m=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(f,m,!0):this.curve._wnafMulAdd(1,f,m,2,!0)},d.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},d.prototype.neg=function(h){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var g=this.precomputed,f=function(m){return m.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(f)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(f)}}}return p},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(l,s.BasePoint),n.prototype.jpoint=function(h,p,g){return new l(this,h,p,g)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),p=h.redSqr(),g=this.x.redMul(p),f=this.y.redMul(p).redMul(h);return this.curve.point(g,f)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var p=h.z.redSqr(),g=this.z.redSqr(),f=this.x.redMul(p),m=h.x.redMul(g),y=this.y.redMul(p.redMul(h.z)),v=h.y.redMul(g.redMul(this.z)),C=f.redSub(m),S=y.redSub(v);if(C.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=C.redSqr(),z=I.redMul(C),V=f.redMul(I),L=S.redSqr().redIAdd(z).redISub(V).redISub(V),U=S.redMul(V.redISub(L)).redISub(y.redMul(z)),G=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(L,U,G)},l.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var p=this.z.redSqr(),g=this.x,f=h.x.redMul(p),m=this.y,y=h.y.redMul(p).redMul(this.z),v=g.redSub(f),C=m.redSub(y);if(v.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=v.redSqr(),I=S.redMul(v),z=g.redMul(S),V=C.redSqr().redIAdd(I).redISub(z).redISub(z),L=C.redMul(z.redISub(V)).redISub(m.redMul(I)),U=this.z.redMul(v);return this.curve.jpoint(V,L,U)},l.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<h;p++)g=g.dbl();return g}var f=this.curve.a,m=this.curve.tinv,y=this.x,v=this.y,C=this.z,S=C.redSqr().redSqr(),I=v.redAdd(v);for(p=0;p<h;p++){var z=y.redSqr(),V=I.redSqr(),L=V.redSqr(),U=z.redAdd(z).redIAdd(z).redIAdd(f.redMul(S)),G=y.redMul(V),H=U.redSqr().redISub(G.redAdd(G)),A=G.redISub(H),N=U.redMul(A);N=N.redIAdd(N).redISub(L);var E=I.redMul(C);p+1<h&&(S=S.redMul(L)),y=H,C=E,I=N}return this.curve.jpoint(y,I.redMul(m),C)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var h,p,g;if(this.zOne){var f=this.x.redSqr(),m=this.y.redSqr(),y=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(f).redISub(y);v=v.redIAdd(v);var C=f.redAdd(f).redIAdd(f),S=C.redSqr().redISub(v).redISub(v),I=y.redIAdd(y);I=(I=I.redIAdd(I)).redIAdd(I),h=S,p=C.redMul(v.redISub(S)).redISub(I),g=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),V=this.y.redSqr(),L=V.redSqr(),U=this.x.redAdd(V).redSqr().redISub(z).redISub(L);U=U.redIAdd(U);var G=z.redAdd(z).redIAdd(z),H=G.redSqr(),A=L.redIAdd(L);A=(A=A.redIAdd(A)).redIAdd(A),h=H.redISub(U).redISub(U),p=G.redMul(U.redISub(h)).redISub(A),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(h,p,g)},l.prototype._threeDbl=function(){var h,p,g;if(this.zOne){var f=this.x.redSqr(),m=this.y.redSqr(),y=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(f).redISub(y);v=v.redIAdd(v);var C=f.redAdd(f).redIAdd(f).redIAdd(this.curve.a),S=C.redSqr().redISub(v).redISub(v);h=S;var I=y.redIAdd(y);I=(I=I.redIAdd(I)).redIAdd(I),p=C.redMul(v.redISub(S)).redISub(I),g=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),V=this.y.redSqr(),L=this.x.redMul(V),U=this.x.redSub(z).redMul(this.x.redAdd(z));U=U.redAdd(U).redIAdd(U);var G=L.redIAdd(L),H=(G=G.redIAdd(G)).redAdd(G);h=U.redSqr().redISub(H),g=this.y.redAdd(this.z).redSqr().redISub(V).redISub(z);var A=V.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),p=U.redMul(G.redISub(h)).redISub(A)}return this.curve.jpoint(h,p,g)},l.prototype._dbl=function(){var h=this.curve.a,p=this.x,g=this.y,f=this.z,m=f.redSqr().redSqr(),y=p.redSqr(),v=g.redSqr(),C=y.redAdd(y).redIAdd(y).redIAdd(h.redMul(m)),S=p.redAdd(p),I=(S=S.redIAdd(S)).redMul(v),z=C.redSqr().redISub(I.redAdd(I)),V=I.redISub(z),L=v.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var U=C.redMul(V).redISub(L),G=g.redAdd(g).redMul(f);return this.curve.jpoint(z,U,G)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),f=p.redSqr(),m=h.redAdd(h).redIAdd(h),y=m.redSqr(),v=this.x.redAdd(p).redSqr().redISub(h).redISub(f),C=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(y)).redSqr(),S=f.redIAdd(f);S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S);var I=m.redIAdd(v).redSqr().redISub(y).redISub(C).redISub(S),z=p.redMul(I);z=(z=z.redIAdd(z)).redIAdd(z);var V=this.x.redMul(C).redISub(z);V=(V=V.redIAdd(V)).redIAdd(V);var L=this.y.redMul(I.redMul(S.redISub(I)).redISub(v.redMul(C)));L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var U=this.z.redAdd(v).redSqr().redISub(g).redISub(C);return this.curve.jpoint(V,L,U)},l.prototype.mul=function(h,p){return h=new r(h,p),this.curve._wnafMul(this,h)},l.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var p=this.z.redSqr(),g=h.z.redSqr();if(this.x.redMul(g).redISub(h.x.redMul(p)).cmpn(0)!==0)return!1;var f=p.redMul(this.z),m=g.redMul(h.z);return this.y.redMul(m).redISub(h.y.redMul(f)).cmpn(0)===0},l.prototype.eqXToP=function(h){var p=this.z.redSqr(),g=h.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var f=h.clone(),m=this.curve.redN.redMul(p);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(m),this.x.cmp(g)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,c,u){var a,r=u,i=t("hash.js"),s=t("./curve"),e=t("./utils").assert;function n(l){l.type==="short"?this.curve=new s.short(l):l.type==="edwards"?this.curve=new s.edwards(l):this.curve=new s.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,e(this.g.validate(),"Invalid curve"),e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(l,h){Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:function(){var p=new n(h);return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,value:p}),p}})}r.PresetCurve=n,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=t("./precomputed/secp256k1")}catch(l){a=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,c,u){var a=t("bn.js"),r=t("hmac-drbg"),i=t("../utils"),s=t("../curves"),e=t("brorand"),n=i.assert,d=t("./key"),l=t("./signature");function h(p){if(!(this instanceof h))return new h(p);typeof p=="string"&&(n(Object.prototype.hasOwnProperty.call(s,p),"Unknown curve "+p),p=s[p]),p instanceof s.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}c.exports=h,h.prototype.keyPair=function(p){return new d(this,p)},h.prototype.keyFromPrivate=function(p,g){return d.fromPrivate(this,p,g)},h.prototype.keyFromPublic=function(p,g){return d.fromPublic(this,p,g)},h.prototype.genKeyPair=function(p){p||(p={});for(var g=new r({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||e(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),f=this.n.byteLength(),m=this.n.sub(new a(2));;){var y=new a(g.generate(f));if(!(y.cmp(m)>0))return y.iaddn(1),this.keyFromPrivate(y)}},h.prototype._truncateToN=function(p,g){var f=8*p.byteLength()-this.n.bitLength();return f>0&&(p=p.ushrn(f)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},h.prototype.sign=function(p,g,f,m){typeof f=="object"&&(m=f,f=null),m||(m={}),g=this.keyFromPrivate(g,f),p=this._truncateToN(new a(p,16));for(var y=this.n.byteLength(),v=g.getPrivate().toArray("be",y),C=p.toArray("be",y),S=new r({hash:this.hash,entropy:v,nonce:C,pers:m.pers,persEnc:m.persEnc||"utf8"}),I=this.n.sub(new a(1)),z=0;;z++){var V=m.k?m.k(z):new a(S.generate(this.n.byteLength()));if(!((V=this._truncateToN(V,!0)).cmpn(1)<=0||V.cmp(I)>=0)){var L=this.g.mul(V);if(!L.isInfinity()){var U=L.getX(),G=U.umod(this.n);if(G.cmpn(0)!==0){var H=V.invm(this.n).mul(G.mul(g.getPrivate()).iadd(p));if((H=H.umod(this.n)).cmpn(0)!==0){var A=(L.getY().isOdd()?1:0)|(U.cmp(G)!==0?2:0);return m.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),A^=1),new l({r:G,s:H,recoveryParam:A})}}}}}},h.prototype.verify=function(p,g,f,m){p=this._truncateToN(new a(p,16)),f=this.keyFromPublic(f,m);var y=(g=new l(g,"hex")).r,v=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var C,S=v.invm(this.n),I=S.mul(p).umod(this.n),z=S.mul(y).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(I,f.getPublic(),z)).isInfinity()&&C.eqXToP(y):!(C=this.g.mulAdd(I,f.getPublic(),z)).isInfinity()&&C.getX().umod(this.n).cmp(y)===0},h.prototype.recoverPubKey=function(p,g,f,m){n((3&f)===f,"The recovery param is more than two bits"),g=new l(g,m);var y=this.n,v=new a(p),C=g.r,S=g.s,I=1&f,z=f>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&z)throw new Error("Unable to find sencond key candinate");C=z?this.curve.pointFromX(C.add(this.curve.n),I):this.curve.pointFromX(C,I);var V=g.r.invm(y),L=y.sub(v).mul(V).umod(y),U=S.mul(V).umod(y);return this.g.mulAdd(L,C,U)},h.prototype.getKeyRecoveryParam=function(p,g,f,m){if((g=new l(g,m)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var v;try{v=this.recoverPubKey(p,g,y)}catch(C){continue}if(v.eq(f))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,c,u){var a=t("bn.js"),r=t("../utils").assert;function i(s,e){this.ec=s,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}c.exports=i,i.fromPublic=function(s,e,n){return e instanceof i?e:new i(s,{pub:e,pubEnc:n})},i.fromPrivate=function(s,e,n){return e instanceof i?e:new i(s,{priv:e,privEnc:n})},i.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(s,e){return typeof s=="string"&&(e=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,s):this.pub},i.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(s,e){this.priv=new a(s,e||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(s,e){if(s.x||s.y)return this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,e)},i.prototype.derive=function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},i.prototype.sign=function(s,e,n){return this.ec.sign(s,this,e,n)},i.prototype.verify=function(s,e){return this.ec.verify(s,e,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,c,u){var a=t("bn.js"),r=t("../utils"),i=r.assert;function s(h,p){if(h instanceof s)return h;this._importDER(h,p)||(i(h.r&&h.s,"Signature without r or s"),this.r=new a(h.r,16),this.s=new a(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function e(){this.place=0}function n(h,p){var g=h[p.place++];if(!(128&g))return g;var f=15&g;if(f===0||f>4)return!1;for(var m=0,y=0,v=p.place;y<f;y++,v++)m<<=8,m|=h[v],m>>>=0;return!(m<=127)&&(p.place=v,m)}function d(h){for(var p=0,g=h.length-1;!h[p]&&!(128&h[p+1])&&p<g;)p++;return p===0?h:h.slice(p)}function l(h,p){if(p<128)h.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(h.push(128|g);--g;)h.push(p>>>(g<<3)&255);h.push(p)}}c.exports=s,s.prototype._importDER=function(h,p){h=r.toArray(h,p);var g=new e;if(h[g.place++]!==48)return!1;var f=n(h,g);if(f===!1||f+g.place!==h.length||h[g.place++]!==2)return!1;var m=n(h,g);if(m===!1)return!1;var y=h.slice(g.place,m+g.place);if(g.place+=m,h[g.place++]!==2)return!1;var v=n(h,g);if(v===!1||h.length!==v+g.place)return!1;var C=h.slice(g.place,v+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new a(y),this.s=new a(C),this.recoveryParam=null,!0},s.prototype.toDER=function(h){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=d(p),g=d(g);!(g[0]||128&g[1]);)g=g.slice(1);var f=[2];l(f,p.length),(f=f.concat(p)).push(2),l(f,g.length);var m=f.concat(g),y=[48];return l(y,m.length),y=y.concat(m),r.encode(y,h)}},{"../utils":419,"bn.js":420}],415:[function(t,c,u){var a=t("hash.js"),r=t("../curves"),i=t("../utils"),s=i.assert,e=i.parseBytes,n=t("./key"),d=t("./signature");function l(h){if(s(h==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(h);h=r[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=a.sha512}c.exports=l,l.prototype.sign=function(h,p){h=e(h);var g=this.keyFromSecret(p),f=this.hashInt(g.messagePrefix(),h),m=this.g.mul(f),y=this.encodePoint(m),v=this.hashInt(y,g.pubBytes(),h).mul(g.priv()),C=f.add(v).umod(this.curve.n);return this.makeSignature({R:m,S:C,Rencoded:y})},l.prototype.verify=function(h,p,g){h=e(h),p=this.makeSignature(p);var f=this.keyFromPublic(g),m=this.hashInt(p.Rencoded(),f.pubBytes(),h),y=this.g.mul(p.S());return p.R().add(f.pub().mul(m)).eq(y)},l.prototype.hashInt=function(){for(var h=this.hash(),p=0;p<arguments.length;p++)h.update(arguments[p]);return i.intFromLE(h.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(h){return n.fromPublic(this,h)},l.prototype.keyFromSecret=function(h){return n.fromSecret(this,h)},l.prototype.makeSignature=function(h){return h instanceof d?h:new d(this,h)},l.prototype.encodePoint=function(h){var p=h.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=h.getX().isOdd()?128:0,p},l.prototype.decodePoint=function(h){var p=(h=i.parseBytes(h)).length-1,g=h.slice(0,p).concat(-129&h[p]),f=(128&h[p])!=0,m=i.intFromLE(g);return this.curve.pointFromY(m,f)},l.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(h){return i.intFromLE(h)},l.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,c,u){var a=t("../utils"),r=a.assert,i=a.parseBytes,s=a.cachedProperty;function e(n,d){this.eddsa=n,this._secret=i(d.secret),n.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=i(d.pub)}e.fromPublic=function(n,d){return d instanceof e?d:new e(n,{pub:d})},e.fromSecret=function(n,d){return d instanceof e?d:new e(n,{secret:d})},e.prototype.secret=function(){return this._secret},s(e,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(e,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(e,"privBytes",function(){var n=this.eddsa,d=this.hash(),l=n.encodingLength-1,h=d.slice(0,n.encodingLength);return h[0]&=248,h[l]&=127,h[l]|=64,h}),s(e,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(e,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(e,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),e.prototype.sign=function(n){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},e.prototype.verify=function(n,d){return this.eddsa.verify(n,d,this)},e.prototype.getSecret=function(n){return r(this._secret,"KeyPair is public only"),a.encode(this.secret(),n)},e.prototype.getPublic=function(n){return a.encode(this.pubBytes(),n)},c.exports=e},{"../utils":419}],417:[function(t,c,u){var a=t("bn.js"),r=t("../utils"),i=r.assert,s=r.cachedProperty,e=r.parseBytes;function n(d,l){this.eddsa=d,typeof l!="object"&&(l=e(l)),Array.isArray(l)&&(l={R:l.slice(0,d.encodingLength),S:l.slice(d.encodingLength)}),i(l.R&&l.S,"Signature without R or S"),d.isPoint(l.R)&&(this._R=l.R),l.S instanceof a&&(this._S=l.S),this._Rencoded=Array.isArray(l.R)?l.R:l.Rencoded,this._Sencoded=Array.isArray(l.S)?l.S:l.Sencoded}s(n,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(n,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(n,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(n,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},c.exports=n},{"../utils":419,"bn.js":420}],418:[function(t,c,u){c.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,c,u){var a=u,r=t("bn.js"),i=t("minimalistic-assert"),s=t("minimalistic-crypto-utils");a.assert=i,a.toArray=s.toArray,a.zero2=s.zero2,a.toHex=s.toHex,a.encode=s.encode,a.getNAF=function(e,n,d){var l=new Array(Math.max(e.bitLength(),d)+1);l.fill(0);for(var h=1<<n+1,p=e.clone(),g=0;g<l.length;g++){var f,m=p.andln(h-1);p.isOdd()?(f=m>(h>>1)-1?(h>>1)-m:m,p.isubn(f)):f=0,l[g]=f,p.iushrn(1)}return l},a.getJSF=function(e,n){var d=[[],[]];e=e.clone(),n=n.clone();for(var l,h=0,p=0;e.cmpn(-h)>0||n.cmpn(-p)>0;){var g,f,m=e.andln(3)+h&3,y=n.andln(3)+p&3;m===3&&(m=-1),y===3&&(y=-1),g=1&m?(l=e.andln(7)+h&7)!==3&&l!==5||y!==2?m:-m:0,d[0].push(g),f=1&y?(l=n.andln(7)+p&7)!==3&&l!==5||m!==2?y:-y:0,d[1].push(f),2*h===g+1&&(h=1-h),2*p===f+1&&(p=1-p),e.iushrn(1),n.iushrn(1)}return d},a.cachedProperty=function(e,n,d){var l="_"+n;e.prototype[n]=function(){return this[l]!==void 0?this[l]:this[l]=d.call(this)}},a.parseBytes=function(e){return typeof e=="string"?a.toArray(e,"hex"):e},a.intFromLE=function(e){return new r(e,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,c,u){arguments[4][184][0].apply(u,arguments)},{buffer:188,dup:184}],421:[function(t,c,u){c.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,c,u){var a=Object.create||function(V){var L=function(){};return L.prototype=V,new L},r=Object.keys||function(V){var L=[];for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&L.push(U);return U},i=Function.prototype.bind||function(V){var L=this;return function(){return L.apply(V,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}c.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var e,n=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),e=d.x===0}catch(V){e=!1}function l(V){return V._maxListeners===void 0?s.defaultMaxListeners:V._maxListeners}function h(V,L,U){if(L)V.call(U);else for(var G=V.length,H=z(V,G),A=0;A<G;++A)H[A].call(U)}function p(V,L,U,G){if(L)V.call(U,G);else for(var H=V.length,A=z(V,H),N=0;N<H;++N)A[N].call(U,G)}function g(V,L,U,G,H){if(L)V.call(U,G,H);else for(var A=V.length,N=z(V,A),E=0;E<A;++E)N[E].call(U,G,H)}function f(V,L,U,G,H,A){if(L)V.call(U,G,H,A);else for(var N=V.length,E=z(V,N),x=0;x<N;++x)E[x].call(U,G,H,A)}function m(V,L,U,G){if(L)V.apply(U,G);else for(var H=V.length,A=z(V,H),N=0;N<H;++N)A[N].apply(U,G)}function y(V,L,U,G){var H,A,N;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if((A=V._events)?(A.newListener&&(V.emit("newListener",L,U.listener?U.listener:U),A=V._events),N=A[L]):(A=V._events=a(null),V._eventsCount=0),N){if(typeof N=="function"?N=A[L]=G?[U,N]:[N,U]:G?N.unshift(U):N.push(U),!N.warned&&(H=l(V))&&H>0&&N.length>H){N.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+N.length+' "'+String(L)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=V,E.type=L,E.count=N.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else N=A[L]=U,++V._eventsCount;return V}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var V=new Array(arguments.length),L=0;L<V.length;++L)V[L]=arguments[L];this.listener.apply(this.target,V)}}function C(V,L,U){var G={fired:!1,wrapFn:void 0,target:V,type:L,listener:U},H=i.call(v,G);return H.listener=U,G.wrapFn=H,H}function S(V,L,U){var G=V._events;if(!G)return[];var H=G[L];return H?typeof H=="function"?U?[H.listener||H]:[H]:U?function(A){for(var N=new Array(A.length),E=0;E<N.length;++E)N[E]=A[E].listener||A[E];return N}(H):z(H,H.length):[]}function I(V){var L=this._events;if(L){var U=L[V];if(typeof U=="function")return 1;if(U)return U.length}return 0}function z(V,L){for(var U=new Array(L),G=0;G<L;++G)U[G]=V[G];return U}e?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(V){if(typeof V!="number"||V<0||V!=V)throw new TypeError('"defaultMaxListeners" must be a positive number');n=V}}):s.defaultMaxListeners=n,s.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||isNaN(V))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=V,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(V){var L,U,G,H,A,N,E=V==="error";if(N=this._events)E=E&&N.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(L=arguments[1]),L instanceof Error)throw L;var x=new Error('Unhandled "error" event. ('+L+")");throw x.context=L,x}if(!(U=N[V]))return!1;var _=typeof U=="function";switch(G=arguments.length){case 1:h(U,_,this);break;case 2:p(U,_,this,arguments[1]);break;case 3:g(U,_,this,arguments[1],arguments[2]);break;case 4:f(U,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(G-1),A=1;A<G;A++)H[A-1]=arguments[A];m(U,_,this,H)}return!0},s.prototype.addListener=function(V,L){return y(this,V,L,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(V,L){return y(this,V,L,!0)},s.prototype.once=function(V,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(V,C(this,V,L)),this},s.prototype.prependOnceListener=function(V,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(V,C(this,V,L)),this},s.prototype.removeListener=function(V,L){var U,G,H,A,N;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(U=G[V]))return this;if(U===L||U.listener===L)--this._eventsCount==0?this._events=a(null):(delete G[V],G.removeListener&&this.emit("removeListener",V,U.listener||L));else if(typeof U!="function"){for(H=-1,A=U.length-1;A>=0;A--)if(U[A]===L||U[A].listener===L){N=U[A].listener,H=A;break}if(H<0)return this;H===0?U.shift():function(E,x){for(var _=x,P=_+1,M=E.length;P<M;_+=1,P+=1)E[_]=E[P];E.pop()}(U,H),U.length===1&&(G[V]=U[0]),G.removeListener&&this.emit("removeListener",V,N||L)}return this},s.prototype.removeAllListeners=function(V){var L,U,G;if(!(U=this._events))return this;if(!U.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):U[V]&&(--this._eventsCount==0?this._events=a(null):delete U[V]),this;if(arguments.length===0){var H,A=r(U);for(G=0;G<A.length;++G)(H=A[G])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(L=U[V])=="function")this.removeListener(V,L);else if(L)for(G=L.length-1;G>=0;G--)this.removeListener(V,L[G]);return this},s.prototype.listeners=function(V){return S(this,V,!0)},s.prototype.rawListeners=function(V){return S(this,V,!1)},s.listenerCount=function(V,L){return typeof V.listenerCount=="function"?V.listenerCount(L):I.call(V,L)},s.prototype.listenerCount=I,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("md5.js");c.exports=function(i,s,e,n){if(a.isBuffer(i)||(i=a.from(i,"binary")),s&&(a.isBuffer(s)||(s=a.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=e/8,l=a.alloc(d),h=a.alloc(n||0),p=a.alloc(0);d>0||n>0;){var g=new r;g.update(p),g.update(i),s&&g.update(s),p=g.digest();var f=0;if(d>0){var m=l.length-d;f=Math.min(d,p.length),p.copy(l,m,0,f),d-=f}if(f<p.length&&n>0){var y=h.length-n,v=Math.min(n,p.length-f);p.copy(h,y,f,f+v),n-=v}}return p.fill(0),{key:l,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.CsvParserStream=u.ParserOptions=u.parseFile=u.parseStream=u.parseString=u.parse=u.FormatterOptions=u.CsvFormatterStream=u.writeToPath=u.writeToString=u.writeToBuffer=u.writeToStream=u.write=u.format=void 0;var a=t("@fast-csv/format");Object.defineProperty(u,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(u,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(u,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(u,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(u,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(u,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(u,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(u,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var r=t("@fast-csv/parse");Object.defineProperty(u,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(u,"parseString",{enumerable:!0,get:function(){return r.parseString}}),Object.defineProperty(u,"parseStream",{enumerable:!0,get:function(){return r.parseStream}}),Object.defineProperty(u,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(u,"ParserOptions",{enumerable:!0,get:function(){return r.ParserOptions}}),Object.defineProperty(u,"CsvParserStream",{enumerable:!0,get:function(){return r.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("readable-stream").Transform;function i(s){r.call(this),this._block=a.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(i,r),i.prototype._transform=function(s,e,n){var d=null;try{this.update(s,e)}catch(l){d=l}n(d)},i.prototype._flush=function(s){var e=null;try{this.push(this.digest())}catch(n){e=n}s(e)},i.prototype.update=function(s,e){if(function(g,f){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(f+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(s)||(s=a.from(s,e));for(var n=this._block,d=0;this._blockOffset+s.length-d>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)n[l++]=s[d++];this._update(),this._blockOffset=0}for(;d<s.length;)n[this._blockOffset++]=s[d++];for(var h=0,p=8*s.length;p>0;++h)this._length[h]+=p,(p=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*p);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();s!==void 0&&(e=e.toString(s)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},c.exports=i},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,c,u){var a=u;a.utils=t("./hash/utils"),a.common=t("./hash/common"),a.sha=t("./hash/sha"),a.ripemd=t("./hash/ripemd"),a.hmac=t("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,c,u){var a=t("./utils"),r=t("minimalistic-assert");function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}u.BlockHash=i,i.prototype.update=function(s,e){if(s=a.toArray(s,e),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var n=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-n,s.length),this.pending.length===0&&(this.pending=null),s=a.join32(s,0,s.length-n,this.endian);for(var d=0;d<s.length;d+=this._delta32)this._update(s,d,d+this._delta32)}return this},i.prototype.digest=function(s){return this.update(this._pad()),r(this.pending===null),this._digest(s)},i.prototype._pad=function(){var s=this.pendingTotal,e=this._delta8,n=e-(s+this.padLength)%e,d=new Array(n+this.padLength);d[0]=128;for(var l=1;l<n;l++)d[l]=0;if(s<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)d[l++]=0;d[l++]=0,d[l++]=0,d[l++]=0,d[l++]=0,d[l++]=s>>>24&255,d[l++]=s>>>16&255,d[l++]=s>>>8&255,d[l++]=255&s}else for(d[l++]=255&s,d[l++]=s>>>8&255,d[l++]=s>>>16&255,d[l++]=s>>>24&255,d[l++]=0,d[l++]=0,d[l++]=0,d[l++]=0,h=8;h<this.padLength;h++)d[l++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,c,u){var a=t("./utils"),r=t("minimalistic-assert");function i(s,e,n){if(!(this instanceof i))return new i(s,e,n);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(e,n))}c.exports=i,i.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),r(s.length<=this.blockSize);for(var e=s.length;e<this.blockSize;e++)s.push(0);for(e=0;e<s.length;e++)s[e]^=54;for(this.inner=new this.Hash().update(s),e=0;e<s.length;e++)s[e]^=106;this.outer=new this.Hash().update(s)},i.prototype.update=function(s,e){return this.inner.update(s,e),this},i.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,c,u){var a=t("./utils"),r=t("./common"),i=a.rotl32,s=a.sum32,e=a.sum32_3,n=a.sum32_4,d=r.BlockHash;function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,S,I,z){return C<=15?S^I^z:C<=31?S&I|~S&z:C<=47?(S|~I)^z:C<=63?S&z|I&~z:S^(I|~z)}function p(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function g(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}a.inherits(l,d),u.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(C,S){for(var I=this.h[0],z=this.h[1],V=this.h[2],L=this.h[3],U=this.h[4],G=I,H=z,A=V,N=L,E=U,x=0;x<80;x++){var _=s(i(n(I,h(x,z,V,L),C[f[x]+S],p(x)),y[x]),U);I=U,U=L,L=i(V,10),V=z,z=_,_=s(i(n(G,h(79-x,H,A,N),C[m[x]+S],g(x)),v[x]),E),G=E,E=N,N=i(A,10),A=H,H=_}_=e(this.h[1],V,N),this.h[1]=e(this.h[2],L,E),this.h[2]=e(this.h[3],U,G),this.h[3]=e(this.h[4],I,H),this.h[4]=e(this.h[0],z,A),this.h[0]=_},l.prototype._digest=function(C){return C==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,c,u){u.sha1=t("./sha/1"),u.sha224=t("./sha/224"),u.sha256=t("./sha/256"),u.sha384=t("./sha/384"),u.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,c,u){var a=t("../utils"),r=t("../common"),i=t("./common"),s=a.rotl32,e=a.sum32,n=a.sum32_5,d=i.ft_1,l=r.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(p,l),c.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,f){for(var m=this.W,y=0;y<16;y++)m[y]=g[f+y];for(;y<m.length;y++)m[y]=s(m[y-3]^m[y-8]^m[y-14]^m[y-16],1);var v=this.h[0],C=this.h[1],S=this.h[2],I=this.h[3],z=this.h[4];for(y=0;y<m.length;y++){var V=~~(y/20),L=n(s(v,5),d(V,C,S,I),z,m[y],h[V]);z=I,I=S,S=s(C,30),C=v,v=L}this.h[0]=e(this.h[0],v),this.h[1]=e(this.h[1],C),this.h[2]=e(this.h[2],S),this.h[3]=e(this.h[3],I),this.h[4]=e(this.h[4],z)},p.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,c,u){var a=t("../utils"),r=t("./256");function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(i,r),c.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(s){return s==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,c,u){var a=t("../utils"),r=t("../common"),i=t("./common"),s=t("minimalistic-assert"),e=a.sum32,n=a.sum32_4,d=a.sum32_5,l=i.ch32,h=i.maj32,p=i.s0_256,g=i.s1_256,f=i.g0_256,m=i.g1_256,y=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}a.inherits(C,y),c.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(S,I){for(var z=this.W,V=0;V<16;V++)z[V]=S[I+V];for(;V<z.length;V++)z[V]=n(m(z[V-2]),z[V-7],f(z[V-15]),z[V-16]);var L=this.h[0],U=this.h[1],G=this.h[2],H=this.h[3],A=this.h[4],N=this.h[5],E=this.h[6],x=this.h[7];for(s(this.k.length===z.length),V=0;V<z.length;V++){var _=d(x,g(A),l(A,N,E),this.k[V],z[V]),P=e(p(L),h(L,U,G));x=E,E=N,N=A,A=e(H,_),H=G,G=U,U=L,L=e(_,P)}this.h[0]=e(this.h[0],L),this.h[1]=e(this.h[1],U),this.h[2]=e(this.h[2],G),this.h[3]=e(this.h[3],H),this.h[4]=e(this.h[4],A),this.h[5]=e(this.h[5],N),this.h[6]=e(this.h[6],E),this.h[7]=e(this.h[7],x)},C.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,c,u){var a=t("../utils"),r=t("./512");function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(i,r),c.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(s){return s==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,c,u){var a=t("../utils"),r=t("../common"),i=t("minimalistic-assert"),s=a.rotr64_hi,e=a.rotr64_lo,n=a.shr64_hi,d=a.shr64_lo,l=a.sum64,h=a.sum64_hi,p=a.sum64_lo,g=a.sum64_4_hi,f=a.sum64_4_lo,m=a.sum64_5_hi,y=a.sum64_5_lo,v=r.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function I(P,M,k,R,F){var q=P&k^~P&F;return q<0&&(q+=4294967296),q}function z(P,M,k,R,F,q){var X=M&R^~M&q;return X<0&&(X+=4294967296),X}function V(P,M,k,R,F){var q=P&k^P&F^k&F;return q<0&&(q+=4294967296),q}function L(P,M,k,R,F,q){var X=M&R^M&q^R&q;return X<0&&(X+=4294967296),X}function U(P,M){var k=s(P,M,28)^s(M,P,2)^s(M,P,7);return k<0&&(k+=4294967296),k}function G(P,M){var k=e(P,M,28)^e(M,P,2)^e(M,P,7);return k<0&&(k+=4294967296),k}function H(P,M){var k=s(P,M,14)^s(P,M,18)^s(M,P,9);return k<0&&(k+=4294967296),k}function A(P,M){var k=e(P,M,14)^e(P,M,18)^e(M,P,9);return k<0&&(k+=4294967296),k}function N(P,M){var k=s(P,M,1)^s(P,M,8)^n(P,M,7);return k<0&&(k+=4294967296),k}function E(P,M){var k=e(P,M,1)^e(P,M,8)^d(P,M,7);return k<0&&(k+=4294967296),k}function x(P,M){var k=s(P,M,19)^s(M,P,29)^n(P,M,6);return k<0&&(k+=4294967296),k}function _(P,M){var k=e(P,M,19)^e(M,P,29)^d(P,M,6);return k<0&&(k+=4294967296),k}a.inherits(S,v),c.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(P,M){for(var k=this.W,R=0;R<32;R++)k[R]=P[M+R];for(;R<k.length;R+=2){var F=x(k[R-4],k[R-3]),q=_(k[R-4],k[R-3]),X=k[R-14],J=k[R-13],j=N(k[R-30],k[R-29]),K=E(k[R-30],k[R-29]),B=k[R-32],T=k[R-31];k[R]=g(F,q,X,J,j,K,B,T),k[R+1]=f(F,q,X,J,j,K,B,T)}},S.prototype._update=function(P,M){this._prepareBlock(P,M);var k=this.W,R=this.h[0],F=this.h[1],q=this.h[2],X=this.h[3],J=this.h[4],j=this.h[5],K=this.h[6],B=this.h[7],T=this.h[8],W=this.h[9],Y=this.h[10],Q=this.h[11],Z=this.h[12],tt=this.h[13],rt=this.h[14],st=this.h[15];i(this.k.length===k.length);for(var $=0;$<k.length;$+=2){var nt=rt,it=st,ht=H(T,W),ct=A(T,W),ut=I(T,W,Y,Q,Z),gt=z(T,W,Y,Q,Z,tt),mt=this.k[$],xt=this.k[$+1],kt=k[$],At=k[$+1],Ct=m(nt,it,ht,ct,ut,gt,mt,xt,kt,At),Lt=y(nt,it,ht,ct,ut,gt,mt,xt,kt,At);nt=U(R,F),it=G(R,F),ht=V(R,F,q,X,J),ct=L(R,F,q,X,J,j);var Rt=h(nt,it,ht,ct),It=p(nt,it,ht,ct);rt=Z,st=tt,Z=Y,tt=Q,Y=T,Q=W,T=h(K,B,Ct,Lt),W=p(B,B,Ct,Lt),K=J,B=j,J=q,j=X,q=R,X=F,R=h(Ct,Lt,Rt,It),F=p(Ct,Lt,Rt,It)}l(this.h,0,R,F),l(this.h,2,q,X),l(this.h,4,J,j),l(this.h,6,K,B),l(this.h,8,T,W),l(this.h,10,Y,Q),l(this.h,12,Z,tt),l(this.h,14,rt,st)},S.prototype._digest=function(P){return P==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,c,u){var a=t("../utils").rotr32;function r(e,n,d){return e&n^~e&d}function i(e,n,d){return e&n^e&d^n&d}function s(e,n,d){return e^n^d}u.ft_1=function(e,n,d,l){return e===0?r(n,d,l):e===1||e===3?s(n,d,l):e===2?i(n,d,l):void 0},u.ch32=r,u.maj32=i,u.p32=s,u.s0_256=function(e){return a(e,2)^a(e,13)^a(e,22)},u.s1_256=function(e){return a(e,6)^a(e,11)^a(e,25)},u.g0_256=function(e){return a(e,7)^a(e,18)^e>>>3},u.g1_256=function(e){return a(e,17)^a(e,19)^e>>>10}},{"../utils":437}],437:[function(t,c,u){var a=t("minimalistic-assert"),r=t("inherits");function i(d,l){return(64512&d.charCodeAt(l))==55296&&!(l<0||l+1>=d.length)&&(64512&d.charCodeAt(l+1))==56320}function s(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function e(d){return d.length===1?"0"+d:d}function n(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}u.inherits=r,u.toArray=function(d,l){if(Array.isArray(d))return d.slice();if(!d)return[];var h=[];if(typeof d=="string")if(l){if(l==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),g=0;g<d.length;g+=2)h.push(parseInt(d[g]+d[g+1],16))}else for(var p=0,g=0;g<d.length;g++){var f=d.charCodeAt(g);f<128?h[p++]=f:f<2048?(h[p++]=f>>6|192,h[p++]=63&f|128):i(d,g)?(f=65536+((1023&f)<<10)+(1023&d.charCodeAt(++g)),h[p++]=f>>18|240,h[p++]=f>>12&63|128,h[p++]=f>>6&63|128,h[p++]=63&f|128):(h[p++]=f>>12|224,h[p++]=f>>6&63|128,h[p++]=63&f|128)}else for(g=0;g<d.length;g++)h[g]=0|d[g];return h},u.toHex=function(d){for(var l="",h=0;h<d.length;h++)l+=e(d[h].toString(16));return l},u.htonl=s,u.toHex32=function(d,l){for(var h="",p=0;p<d.length;p++){var g=d[p];l==="little"&&(g=s(g)),h+=n(g.toString(16))}return h},u.zero2=e,u.zero8=n,u.join32=function(d,l,h,p){var g=h-l;a(g%4==0);for(var f=new Array(g/4),m=0,y=l;m<f.length;m++,y+=4){var v;v=p==="big"?d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3]:d[y+3]<<24|d[y+2]<<16|d[y+1]<<8|d[y],f[m]=v>>>0}return f},u.split32=function(d,l){for(var h=new Array(4*d.length),p=0,g=0;p<d.length;p++,g+=4){var f=d[p];l==="big"?(h[g]=f>>>24,h[g+1]=f>>>16&255,h[g+2]=f>>>8&255,h[g+3]=255&f):(h[g+3]=f>>>24,h[g+2]=f>>>16&255,h[g+1]=f>>>8&255,h[g]=255&f)}return h},u.rotr32=function(d,l){return d>>>l|d<<32-l},u.rotl32=function(d,l){return d<<l|d>>>32-l},u.sum32=function(d,l){return d+l>>>0},u.sum32_3=function(d,l,h){return d+l+h>>>0},u.sum32_4=function(d,l,h,p){return d+l+h+p>>>0},u.sum32_5=function(d,l,h,p,g){return d+l+h+p+g>>>0},u.sum64=function(d,l,h,p){var g=d[l],f=p+d[l+1]>>>0,m=(f<p?1:0)+h+g;d[l]=m>>>0,d[l+1]=f},u.sum64_hi=function(d,l,h,p){return(l+p>>>0<l?1:0)+d+h>>>0},u.sum64_lo=function(d,l,h,p){return l+p>>>0},u.sum64_4_hi=function(d,l,h,p,g,f,m,y){var v=0,C=l;return v+=(C=C+p>>>0)<l?1:0,v+=(C=C+f>>>0)<f?1:0,d+h+g+m+(v+=(C=C+y>>>0)<y?1:0)>>>0},u.sum64_4_lo=function(d,l,h,p,g,f,m,y){return l+p+f+y>>>0},u.sum64_5_hi=function(d,l,h,p,g,f,m,y,v,C){var S=0,I=l;return S+=(I=I+p>>>0)<l?1:0,S+=(I=I+f>>>0)<f?1:0,S+=(I=I+y>>>0)<y?1:0,d+h+g+m+v+(S+=(I=I+C>>>0)<C?1:0)>>>0},u.sum64_5_lo=function(d,l,h,p,g,f,m,y,v,C){return l+p+f+y+C>>>0},u.rotr64_hi=function(d,l,h){return(l<<32-h|d>>>h)>>>0},u.rotr64_lo=function(d,l,h){return(d<<32-h|l>>>h)>>>0},u.shr64_hi=function(d,l,h){return d>>>h},u.shr64_lo=function(d,l,h){return(d<<32-h|l>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,c,u){var a=t("hash.js"),r=t("minimalistic-crypto-utils"),i=t("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=r.toArray(e.entropy,e.entropyEnc||"hex"),d=r.toArray(e.nonce,e.nonceEnc||"hex"),l=r.toArray(e.pers,e.persEnc||"hex");i(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,d,l)}c.exports=s,s.prototype._init=function(e,n,d){var l=e.concat(n).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},s.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,n,d,l){typeof n!="string"&&(l=d,d=n,n=null),e=r.toArray(e,n),d=r.toArray(d,l),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(d||[])),this._reseed=1},s.prototype.generate=function(e,n,d,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(l=d,d=n,n=null),d&&(d=r.toArray(d,l||"hex"),this._update(d));for(var h=[];h.length<e;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var p=h.slice(0,e);return this._update(d),this._reseed++,r.encode(p,n)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,c,u){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(a,r,i,s,e){var n,d,l=8*e-s-1,h=(1<<l)-1,p=h>>1,g=-7,f=i?e-1:0,m=i?-1:1,y=a[r+f];for(f+=m,n=y&(1<<-g)-1,y>>=-g,g+=l;g>0;n=256*n+a[r+f],f+=m,g-=8);for(d=n&(1<<-g)-1,n>>=-g,g+=s;g>0;d=256*d+a[r+f],f+=m,g-=8);if(n===0)n=1-p;else{if(n===h)return d?NaN:1/0*(y?-1:1);d+=Math.pow(2,s),n-=p}return(y?-1:1)*d*Math.pow(2,n-s)},u.write=function(a,r,i,s,e,n){var d,l,h,p=8*n-e-1,g=(1<<p)-1,f=g>>1,m=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:n-1,v=s?1:-1,C=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,d=g):(d=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-d))<1&&(d--,h*=2),(r+=d+f>=1?m/h:m*Math.pow(2,1-f))*h>=2&&(d++,h/=2),d+f>=g?(l=0,d=g):d+f>=1?(l=(r*h-1)*Math.pow(2,e),d+=f):(l=r*Math.pow(2,f-1)*Math.pow(2,e),d=0));e>=8;a[i+y]=255&l,y+=v,l/=256,e-=8);for(d=d<<e|l,p+=e;p>0;a[i+y]=255&d,y+=v,d/=256,p-=8);a[i+y-v]|=128*C}},{}],440:[function(t,c,u){typeof Object.create=="function"?c.exports=function(a,r){r&&(a.super_=r,a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(a,r){if(r){a.super_=r;var i=function(){};i.prototype=r.prototype,a.prototype=new i,a.prototype.constructor=a}}},{}],441:[function(t,c,u){(function(a,r,i,s,e,n,d,l){(function(){/*!

    	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
    	<http://stuartk.com/jszip>

    	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
    	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

    	JSZip uses the library pako released under the MIT license :
    	https://github.com/nodeca/pako/blob/main/LICENSE
    	*/(function(h){typeof u=="object"&&c!==void 0?c.exports=h():(typeof window!="undefined"?window:r!==void 0?r:typeof self!="undefined"?self:this).JSZip=h()})(function(){return function h(p,g,f){function m(C,S){if(!g[C]){if(!p[C]){var I=typeof t=="function"&&t;if(!S&&I)return I(C,!0);if(y)return y(C,!0);var z=new Error("Cannot find module '"+C+"'");throw z.code="MODULE_NOT_FOUND",z}var V=g[C]={exports:{}};p[C][0].call(V.exports,function(L){return m(p[C][1][L]||L)},V,V.exports,h,p,g,f)}return g[C].exports}for(var y=typeof t=="function"&&t,v=0;v<f.length;v++)m(f[v]);return m}({1:[function(h,p,g){var f=h("./utils"),m=h("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(v){for(var C,S,I,z,V,L,U,G=[],H=0,A=v.length,N=A,E=f.getTypeOf(v)!=="string";H<v.length;)N=A-H,I=E?(C=v[H++],S=H<A?v[H++]:0,H<A?v[H++]:0):(C=v.charCodeAt(H++),S=H<A?v.charCodeAt(H++):0,H<A?v.charCodeAt(H++):0),z=C>>2,V=(3&C)<<4|S>>4,L=1<N?(15&S)<<2|I>>6:64,U=2<N?63&I:64,G.push(y.charAt(z)+y.charAt(V)+y.charAt(L)+y.charAt(U));return G.join("")},g.decode=function(v){var C,S,I,z,V,L,U=0,G=0,H="data:";if(v.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var A,N=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===y.charAt(64)&&N--,v.charAt(v.length-2)===y.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=m.uint8array?new Uint8Array(0|N):new Array(0|N);U<v.length;)C=y.indexOf(v.charAt(U++))<<2|(z=y.indexOf(v.charAt(U++)))>>4,S=(15&z)<<4|(V=y.indexOf(v.charAt(U++)))>>2,I=(3&V)<<6|(L=y.indexOf(v.charAt(U++))),A[G++]=C,V!==64&&(A[G++]=S),L!==64&&(A[G++]=I);return A}},{"./support":30,"./utils":32}],2:[function(h,p,g){var f=h("./external"),m=h("./stream/DataWorker"),y=h("./stream/Crc32Probe"),v=h("./stream/DataLengthProbe");function C(S,I,z,V,L){this.compressedSize=S,this.uncompressedSize=I,this.crc32=z,this.compression=V,this.compressedContent=L}C.prototype={getContentWorker:function(){var S=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),I=this;return S.on("end",function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(S,I,z){return S.pipe(new y).pipe(new v("uncompressedSize")).pipe(I.compressWorker(z)).pipe(new v("compressedSize")).withStreamInfo("compression",I)},p.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,p,g){var f=h("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},g.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,p,g){var f=h("./utils"),m=function(){for(var y,v=[],C=0;C<256;C++){y=C;for(var S=0;S<8;S++)y=1&y?3988292384^y>>>1:y>>>1;v[C]=y}return v}();p.exports=function(y,v){return y!==void 0&&y.length?f.getTypeOf(y)!=="string"?function(C,S,I,z){var V=m,L=0+I;C^=-1;for(var U=0;U<L;U++)C=C>>>8^V[255&(C^S[U])];return-1^C}(0|v,y,y.length):function(C,S,I,z){var V=m,L=0+I;C^=-1;for(var U=0;U<L;U++)C=C>>>8^V[255&(C^S.charCodeAt(U))];return-1^C}(0|v,y,y.length):0}},{"./utils":32}],5:[function(h,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(h,p,g){var f;f=typeof Promise!="undefined"?Promise:h("lie"),p.exports={Promise:f}},{lie:37}],7:[function(h,p,g){var f=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",m=h("pako"),y=h("./utils"),v=h("./stream/GenericWorker"),C=f?"uint8array":"array";function S(I,z){v.call(this,"FlateWorker/"+I),this._pako=null,this._pakoAction=I,this._pakoOptions=z,this.meta={}}g.magic="\b\0",y.inherits(S,v),S.prototype.processChunk=function(I){this.meta=I.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(C,I.data),!1)},S.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var I=this;this._pako.onData=function(z){I.push({data:z,meta:I.meta})}},g.compressWorker=function(I){return new S("Deflate",I)},g.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,p,g){function f(V,L){var U,G="";for(U=0;U<L;U++)G+=String.fromCharCode(255&V),V>>>=8;return G}function m(V,L,U,G,H,A){var N,E,x=V.file,_=V.compression,P=A!==C.utf8encode,M=y.transformTo("string",A(x.name)),k=y.transformTo("string",C.utf8encode(x.name)),R=x.comment,F=y.transformTo("string",A(R)),q=y.transformTo("string",C.utf8encode(R)),X=k.length!==x.name.length,J=q.length!==R.length,j="",K="",B="",T=x.dir,W=x.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};L&&!U||(Y.crc32=V.crc32,Y.compressedSize=V.compressedSize,Y.uncompressedSize=V.uncompressedSize);var Q=0;L&&(Q|=8),P||!X&&!J||(Q|=2048);var Z=0,tt=0;T&&(Z|=16),H==="UNIX"?(tt=798,Z|=function(st,$){var nt=st;return st||(nt=$?16893:33204),(65535&nt)<<16}(x.unixPermissions,T)):(tt=20,Z|=function(st){return 63&(st||0)}(x.dosPermissions)),N=W.getUTCHours(),N<<=6,N|=W.getUTCMinutes(),N<<=5,N|=W.getUTCSeconds()/2,E=W.getUTCFullYear()-1980,E<<=4,E|=W.getUTCMonth()+1,E<<=5,E|=W.getUTCDate(),X&&(K=f(1,1)+f(S(M),4)+k,j+="up"+f(K.length,2)+K),J&&(B=f(1,1)+f(S(F),4)+q,j+="uc"+f(B.length,2)+B);var rt="";return rt+=`
\0`,rt+=f(Q,2),rt+=_.magic,rt+=f(N,2),rt+=f(E,2),rt+=f(Y.crc32,4),rt+=f(Y.compressedSize,4),rt+=f(Y.uncompressedSize,4),rt+=f(M.length,2),rt+=f(j.length,2),{fileRecord:I.LOCAL_FILE_HEADER+rt+M+j,dirRecord:I.CENTRAL_FILE_HEADER+f(tt,2)+rt+f(F.length,2)+"\0\0\0\0"+f(Z,4)+f(G,4)+M+j+F}}var y=h("../utils"),v=h("../stream/GenericWorker"),C=h("../utf8"),S=h("../crc32"),I=h("../signature");function z(V,L,U,G){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=U,this.encodeFileName=G,this.streamFiles=V,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(z,v),z.prototype.push=function(V){var L=V.meta.percent||0,U=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(V):(this.bytesWritten+=V.data.length,v.prototype.push.call(this,{data:V.data,meta:{currentFile:this.currentFile,percent:U?(L+100*(U-G-1))/U:100}}))},z.prototype.openedSource=function(V){this.currentSourceOffset=this.bytesWritten,this.currentFile=V.file.name;var L=this.streamFiles&&!V.file.dir;if(L){var U=m(V,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:U.fileRecord,meta:{percent:0}})}else this.accumulate=!0},z.prototype.closedSource=function(V){this.accumulate=!1;var L=this.streamFiles&&!V.file.dir,U=m(V,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(U.dirRecord),L)this.push({data:function(G){return I.DATA_DESCRIPTOR+f(G.crc32,4)+f(G.compressedSize,4)+f(G.uncompressedSize,4)}(V),meta:{percent:100}});else for(this.push({data:U.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},z.prototype.flush=function(){for(var V=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var U=this.bytesWritten-V,G=function(H,A,N,E,x){var _=y.transformTo("string",x(E));return I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(H,2)+f(H,2)+f(A,4)+f(N,4)+f(_.length,2)+_}(this.dirRecords.length,U,V,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},z.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},z.prototype.registerPrevious=function(V){this._sources.push(V);var L=this;return V.on("data",function(U){L.processChunk(U)}),V.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),V.on("error",function(U){L.error(U)}),this},z.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},z.prototype.error=function(V){var L=this._sources;if(!v.prototype.error.call(this,V))return!1;for(var U=0;U<L.length;U++)try{L[U].error(V)}catch(G){}return!0},z.prototype.lock=function(){v.prototype.lock.call(this);for(var V=this._sources,L=0;L<V.length;L++)V[L].lock()},p.exports=z},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,p,g){var f=h("../compressions"),m=h("./ZipFileWorker");g.generateWorker=function(y,v,C){var S=new m(v.streamFiles,C,v.platform,v.encodeFileName),I=0;try{y.forEach(function(z,V){I++;var L=function(A,N){var E=A||N,x=f[E];if(!x)throw new Error(E+" is not a valid compression method !");return x}(V.options.compression,v.compression),U=V.options.compressionOptions||v.compressionOptions||{},G=V.dir,H=V.date;V._compressWorker(L,U).withStreamInfo("file",{name:z,dir:G,date:H,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(S)}),S.entriesCount=I}catch(z){S.error(z)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,p,g){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var y in this)typeof this[y]!="function"&&(m[y]=this[y]);return m}}(f.prototype=h("./object")).loadAsync=h("./load"),f.support=h("./support"),f.defaults=h("./defaults"),f.version="3.10.1",f.loadAsync=function(m,y){return new f().loadAsync(m,y)},f.external=h("./external"),p.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,p,g){var f=h("./utils"),m=h("./external"),y=h("./utf8"),v=h("./zipEntries"),C=h("./stream/Crc32Probe"),S=h("./nodejsUtils");function I(z){return new m.Promise(function(V,L){var U=z.decompressed.getContentWorker().pipe(new C);U.on("error",function(G){L(G)}).on("end",function(){U.streamInfo.crc32!==z.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):V()}).resume()})}p.exports=function(z,V){var L=this;return V=f.extend(V||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),S.isNode&&S.isStream(z)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",z,!0,V.optimizedBinaryString,V.base64).then(function(U){var G=new v(V);return G.load(U),G}).then(function(U){var G=[m.Promise.resolve(U)],H=U.files;if(V.checkCRC32)for(var A=0;A<H.length;A++)G.push(I(H[A]));return m.Promise.all(G)}).then(function(U){for(var G=U.shift(),H=G.files,A=0;A<H.length;A++){var N=H[A],E=N.fileNameStr,x=f.resolve(N.fileNameStr);L.file(x,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:V.createFolders}),N.dir||(L.file(x).unsafeOriginalName=E)}return G.zipComment.length&&(L.comment=G.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,p,g){var f=h("../utils"),m=h("../stream/GenericWorker");function y(v,C){m.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(C)}f.inherits(y,m),y.prototype._bindStream=function(v){var C=this;(this._stream=v).pause(),v.on("data",function(S){C.push({data:S,meta:{percent:0}})}).on("error",function(S){C.isPaused?this.generatedError=S:C.error(S)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},y.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,p,g){var f=h("readable-stream").Readable;function m(y,v,C){f.call(this,v),this._helper=y;var S=this;y.on("data",function(I,z){S.push(I)||S._helper.pause(),C&&C(z)}).on("error",function(I){S.emit("error",I)}).on("end",function(){S.push(null)})}h("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},p.exports=m},{"../utils":32,"readable-stream":16}],14:[function(h,p,g){p.exports={isNode:i!==void 0,newBufferFrom:function(f,m){if(i.from&&i.from!==Uint8Array.from)return i.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new i(f,m)},allocBuffer:function(f){if(i.alloc)return i.alloc(f);var m=new i(f);return m.fill(0),m},isBuffer:function(f){return i.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(h,p,g){function f(x,_,P){var M,k=y.getTypeOf(_),R=y.extend(P||{},S);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(x=H(x)),R.createFolders&&(M=G(x))&&A.call(this,M,!0);var F=k==="string"&&R.binary===!1&&R.base64===!1;P&&P.binary!==void 0||(R.binary=!F),(_ instanceof I&&_.uncompressedSize===0||R.dir||!_||_.length===0)&&(R.base64=!1,R.binary=!0,_="",R.compression="STORE",k="string");var q;q=_ instanceof I||_ instanceof v?_:L.isNode&&L.isStream(_)?new U(x,_):y.prepareContent(x,_,R.binary,R.optimizedBinaryString,R.base64);var X=new z(x,q,R);this.files[x]=X}var m=h("./utf8"),y=h("./utils"),v=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),S=h("./defaults"),I=h("./compressedObject"),z=h("./zipObject"),V=h("./generate"),L=h("./nodejsUtils"),U=h("./nodejs/NodejsStreamInputAdapter"),G=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var _=x.lastIndexOf("/");return 0<_?x.substring(0,_):""},H=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},A=function(x,_){return _=_!==void 0?_:S.createFolders,x=H(x),this.files[x]||f.call(this,x,null,{dir:!0,createFolders:_}),this.files[x]};function N(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var _,P,M;for(_ in this.files)M=this.files[_],(P=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&x(P,M)},filter:function(x){var _=[];return this.forEach(function(P,M){x(P,M)&&_.push(M)}),_},file:function(x,_,P){if(arguments.length!==1)return x=this.root+x,f.call(this,x,_,P),this;if(N(x)){var M=x;return this.filter(function(R,F){return!F.dir&&M.test(R)})}var k=this.files[this.root+x];return k&&!k.dir?k:null},folder:function(x){if(!x)return this;if(N(x))return this.filter(function(k,R){return R.dir&&x.test(k)});var _=this.root+x,P=A.call(this,_),M=this.clone();return M.root=P.name,M},remove:function(x){x=this.root+x;var _=this.files[x];if(_||(x.slice(-1)!=="/"&&(x+="/"),_=this.files[x]),_&&!_.dir)delete this.files[x];else for(var P=this.filter(function(k,R){return R.name.slice(0,x.length)===x}),M=0;M<P.length;M++)delete this.files[P[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var _,P={};try{if((P=y.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");y.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var M=P.comment||this.comment||"";_=V.generateWorker(this,P,M)}catch(k){(_=new v("error")).error(k)}return new C(_,P.type||"string",P.mimeType)},generateAsync:function(x,_){return this.generateInternalStream(x).accumulate(_)},generateNodeStream:function(x,_){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(_)}};p.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,p,g){p.exports=h("stream")},{stream:void 0}],17:[function(h,p,g){var f=h("./DataReader");function m(y){f.call(this,y);for(var v=0;v<this.data.length;v++)y[v]=255&y[v]}h("../utils").inherits(m,f),m.prototype.byteAt=function(y){return this.data[this.zero+y]},m.prototype.lastIndexOfSignature=function(y){for(var v=y.charCodeAt(0),C=y.charCodeAt(1),S=y.charCodeAt(2),I=y.charCodeAt(3),z=this.length-4;0<=z;--z)if(this.data[z]===v&&this.data[z+1]===C&&this.data[z+2]===S&&this.data[z+3]===I)return z-this.zero;return-1},m.prototype.readAndCheckSignature=function(y){var v=y.charCodeAt(0),C=y.charCodeAt(1),S=y.charCodeAt(2),I=y.charCodeAt(3),z=this.readData(4);return v===z[0]&&C===z[1]&&S===z[2]&&I===z[3]},m.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},p.exports=m},{"../utils":32,"./DataReader":18}],18:[function(h,p,g){var f=h("../utils");function m(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var v,C=0;for(this.checkOffset(y),v=this.index+y-1;v>=this.index;v--)C=(C<<8)+this.byteAt(v);return this.index+=y,C},readString:function(y){return f.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},p.exports=m},{"../utils":32}],19:[function(h,p,g){var f=h("./Uint8ArrayReader");function m(y){f.call(this,y)}h("../utils").inherits(m,f),m.prototype.readData=function(y){this.checkOffset(y);var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},p.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,p,g){var f=h("./DataReader");function m(y){f.call(this,y)}h("../utils").inherits(m,f),m.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},m.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},m.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},m.prototype.readData=function(y){this.checkOffset(y);var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},p.exports=m},{"../utils":32,"./DataReader":18}],21:[function(h,p,g){var f=h("./ArrayReader");function m(y){f.call(this,y)}h("../utils").inherits(m,f),m.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},p.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(h,p,g){var f=h("../utils"),m=h("../support"),y=h("./ArrayReader"),v=h("./StringReader"),C=h("./NodeBufferReader"),S=h("./Uint8ArrayReader");p.exports=function(I){var z=f.getTypeOf(I);return f.checkSupport(z),z!=="string"||m.uint8array?z==="nodebuffer"?new C(I):m.uint8array?new S(f.transformTo("uint8array",I)):new y(f.transformTo("array",I)):new v(I)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,p,g){var f=h("./GenericWorker"),m=h("../utils");function y(v){f.call(this,"ConvertWorker to "+v),this.destType=v}m.inherits(y,f),y.prototype.processChunk=function(v){this.push({data:m.transformTo(this.destType,v.data),meta:v.meta})},p.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(h,p,g){var f=h("./GenericWorker"),m=h("../crc32");function y(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(y,f),y.prototype.processChunk=function(v){this.streamInfo.crc32=m(v.data,this.streamInfo.crc32||0),this.push(v)},p.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,p,g){var f=h("../utils"),m=h("./GenericWorker");function y(v){m.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}f.inherits(y,m),y.prototype.processChunk=function(v){if(v){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+v.data.length}m.prototype.processChunk.call(this,v)},p.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(h,p,g){var f=h("../utils"),m=h("./GenericWorker");function y(v){m.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(S){C.dataIsReady=!0,C.data=S,C.max=S&&S.length||0,C.type=f.getTypeOf(S),C.isPaused||C._tickAndRepeat()},function(S){C.error(S)})}f.inherits(y,m),y.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,C);break;case"uint8array":v=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":v=this.data.slice(this.index,C)}return this.index=C,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(h,p,g){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,y){return this._listeners[m].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,y){if(this._listeners[m])for(var v=0;v<this._listeners[m].length;v++)this._listeners[m][v].call(this,y)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var y=this;return m.on("data",function(v){y.processChunk(v)}),m.on("end",function(){y.end()}),m.on("error",function(v){y.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,y){return this.extraStreamInfo[m]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},p.exports=f},{}],29:[function(h,p,g){var f=h("../utils"),m=h("./ConvertWorker"),y=h("./GenericWorker"),v=h("../base64"),C=h("../support"),S=h("../external"),I=null;if(C.nodestream)try{I=h("../nodejs/NodejsStreamOutputAdapter")}catch(V){}function z(V,L,U){var G=L;switch(L){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=L,this._mimeType=U,f.checkSupport(G),this._worker=V.pipe(new m(G)),V.lock()}catch(H){this._worker=new y("error"),this._worker.error(H)}}z.prototype={accumulate:function(V){return function(L,U){return new S.Promise(function(G,H){var A=[],N=L._internalType,E=L._outputType,x=L._mimeType;L.on("data",function(_,P){A.push(_),U&&U(P)}).on("error",function(_){A=[],H(_)}).on("end",function(){try{var _=function(P,M,k){switch(P){case"blob":return f.newBlob(f.transformTo("arraybuffer",M),k);case"base64":return v.encode(M);default:return f.transformTo(P,M)}}(E,function(P,M){var k,R=0,F=null,q=0;for(k=0;k<M.length;k++)q+=M[k].length;switch(P){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(F=new Uint8Array(q),k=0;k<M.length;k++)F.set(M[k],R),R+=M[k].length;return F;case"nodebuffer":return i.concat(M);default:throw new Error("concat : unsupported type '"+P+"'")}}(N,A),x);G(_)}catch(P){H(P)}A=[]}).resume()})}(this,V)},on:function(V,L){var U=this;return V==="data"?this._worker.on(V,function(G){L.call(U,G.data,G.meta)}):this._worker.on(V,function(){f.delay(L,arguments,U)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new I(this,{objectMode:this._outputType!=="nodebuffer"},V)}},p.exports=z},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",g.nodebuffer=i!==void 0,g.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")g.blob=!1;else{var f=new ArrayBuffer(0);try{g.blob=new Blob([f],{type:"application/zip"}).size===0}catch(y){try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),g.blob=m.getBlob("application/zip").size===0}catch(v){g.blob=!1}}}try{g.nodestream=!!h("readable-stream").Readable}catch(y){g.nodestream=!1}},{"readable-stream":16}],31:[function(h,p,g){for(var f=h("./utils"),m=h("./support"),y=h("./nodejsUtils"),v=h("./stream/GenericWorker"),C=new Array(256),S=0;S<256;S++)C[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function I(){v.call(this,"utf-8 decode"),this.leftOver=null}function z(){v.call(this,"utf-8 encode")}C[254]=C[254]=1,g.utf8encode=function(V){return m.nodebuffer?y.newBufferFrom(V,"utf-8"):function(L){var U,G,H,A,N,E=L.length,x=0;for(A=0;A<E;A++)(64512&(G=L.charCodeAt(A)))==55296&&A+1<E&&(64512&(H=L.charCodeAt(A+1)))==56320&&(G=65536+(G-55296<<10)+(H-56320),A++),x+=G<128?1:G<2048?2:G<65536?3:4;for(U=m.uint8array?new Uint8Array(x):new Array(x),A=N=0;N<x;A++)(64512&(G=L.charCodeAt(A)))==55296&&A+1<E&&(64512&(H=L.charCodeAt(A+1)))==56320&&(G=65536+(G-55296<<10)+(H-56320),A++),G<128?U[N++]=G:(G<2048?U[N++]=192|G>>>6:(G<65536?U[N++]=224|G>>>12:(U[N++]=240|G>>>18,U[N++]=128|G>>>12&63),U[N++]=128|G>>>6&63),U[N++]=128|63&G);return U}(V)},g.utf8decode=function(V){return m.nodebuffer?f.transformTo("nodebuffer",V).toString("utf-8"):function(L){var U,G,H,A,N=L.length,E=new Array(2*N);for(U=G=0;U<N;)if((H=L[U++])<128)E[G++]=H;else if(4<(A=C[H]))E[G++]=65533,U+=A-1;else{for(H&=A===2?31:A===3?15:7;1<A&&U<N;)H=H<<6|63&L[U++],A--;1<A?E[G++]=65533:H<65536?E[G++]=H:(H-=65536,E[G++]=55296|H>>10&1023,E[G++]=56320|1023&H)}return E.length!==G&&(E.subarray?E=E.subarray(0,G):E.length=G),f.applyFromCharCode(E)}(V=f.transformTo(m.uint8array?"uint8array":"array",V))},f.inherits(I,v),I.prototype.processChunk=function(V){var L=f.transformTo(m.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var U=L;(L=new Uint8Array(U.length+this.leftOver.length)).set(this.leftOver,0),L.set(U,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var G=function(A,N){var E;for((N=N||A.length)>A.length&&(N=A.length),E=N-1;0<=E&&(192&A[E])==128;)E--;return E<0||E===0?N:E+C[A[E]]>N?E:N}(L),H=L;G!==L.length&&(m.uint8array?(H=L.subarray(0,G),this.leftOver=L.subarray(G,L.length)):(H=L.slice(0,G),this.leftOver=L.slice(G,L.length))),this.push({data:g.utf8decode(H),meta:V.meta})},I.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=I,f.inherits(z,v),z.prototype.processChunk=function(V){this.push({data:g.utf8encode(V.data),meta:V.meta})},g.Utf8EncodeWorker=z},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,p,g){var f=h("./support"),m=h("./base64"),y=h("./nodejsUtils"),v=h("./external");function C(U){return U}function S(U,G){for(var H=0;H<U.length;++H)G[H]=255&U.charCodeAt(H);return G}h("setimmediate"),g.newBlob=function(U,G){g.checkSupport("blob");try{return new Blob([U],{type:G})}catch(A){try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(U),H.getBlob(G)}catch(N){throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(U,G,H){var A=[],N=0,E=U.length;if(E<=H)return String.fromCharCode.apply(null,U);for(;N<E;)G==="array"||G==="nodebuffer"?A.push(String.fromCharCode.apply(null,U.slice(N,Math.min(N+H,E)))):A.push(String.fromCharCode.apply(null,U.subarray(N,Math.min(N+H,E)))),N+=H;return A.join("")},stringifyByChar:function(U){for(var G="",H=0;H<U.length;H++)G+=String.fromCharCode(U[H]);return G},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(U){return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch(U){return!1}}()}};function z(U){var G=65536,H=g.getTypeOf(U),A=!0;if(H==="uint8array"?A=I.applyCanBeUsed.uint8array:H==="nodebuffer"&&(A=I.applyCanBeUsed.nodebuffer),A)for(;1<G;)try{return I.stringifyByChunk(U,H,G)}catch(N){G=Math.floor(G/2)}return I.stringifyByChar(U)}function V(U,G){for(var H=0;H<U.length;H++)G[H]=U[H];return G}g.applyFromCharCode=z;var L={};L.string={string:C,array:function(U){return S(U,new Array(U.length))},arraybuffer:function(U){return L.string.uint8array(U).buffer},uint8array:function(U){return S(U,new Uint8Array(U.length))},nodebuffer:function(U){return S(U,y.allocBuffer(U.length))}},L.array={string:z,array:C,arraybuffer:function(U){return new Uint8Array(U).buffer},uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return y.newBufferFrom(U)}},L.arraybuffer={string:function(U){return z(new Uint8Array(U))},array:function(U){return V(new Uint8Array(U),new Array(U.byteLength))},arraybuffer:C,uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return y.newBufferFrom(new Uint8Array(U))}},L.uint8array={string:z,array:function(U){return V(U,new Array(U.length))},arraybuffer:function(U){return U.buffer},uint8array:C,nodebuffer:function(U){return y.newBufferFrom(U)}},L.nodebuffer={string:z,array:function(U){return V(U,new Array(U.length))},arraybuffer:function(U){return L.nodebuffer.uint8array(U).buffer},uint8array:function(U){return V(U,new Uint8Array(U.length))},nodebuffer:C},g.transformTo=function(U,G){if(G=G||"",!U)return G;g.checkSupport(U);var H=g.getTypeOf(G);return L[H][U](G)},g.resolve=function(U){for(var G=U.split("/"),H=[],A=0;A<G.length;A++){var N=G[A];N==="."||N===""&&A!==0&&A!==G.length-1||(N===".."?H.pop():H.push(N))}return H.join("/")},g.getTypeOf=function(U){return typeof U=="string"?"string":Object.prototype.toString.call(U)==="[object Array]"?"array":f.nodebuffer&&y.isBuffer(U)?"nodebuffer":f.uint8array&&U instanceof Uint8Array?"uint8array":f.arraybuffer&&U instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(U){if(!f[U.toLowerCase()])throw new Error(U+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(U){var G,H,A="";for(H=0;H<(U||"").length;H++)A+="\\x"+((G=U.charCodeAt(H))<16?"0":"")+G.toString(16).toUpperCase();return A},g.delay=function(U,G,H){l(function(){U.apply(H||null,G||[])})},g.inherits=function(U,G){function H(){}H.prototype=G.prototype,U.prototype=new H},g.extend=function(){var U,G,H={};for(U=0;U<arguments.length;U++)for(G in arguments[U])Object.prototype.hasOwnProperty.call(arguments[U],G)&&H[G]===void 0&&(H[G]=arguments[U][G]);return H},g.prepareContent=function(U,G,H,A,N){return v.Promise.resolve(G).then(function(E){return f.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader!="undefined"?new v.Promise(function(x,_){var P=new FileReader;P.onload=function(M){x(M.target.result)},P.onerror=function(M){_(M.target.error)},P.readAsArrayBuffer(E)}):E}).then(function(E){var x=g.getTypeOf(E);return x?(x==="arraybuffer"?E=g.transformTo("uint8array",E):x==="string"&&(N?E=m.decode(E):H&&A!==!0&&(E=function(_){return S(_,f.uint8array?new Uint8Array(_.length):new Array(_.length))}(E))),E):v.Promise.reject(new Error("Can't read the data of '"+U+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,p,g){var f=h("./reader/readerFor"),m=h("./utils"),y=h("./signature"),v=h("./zipEntry"),C=h("./support");function S(I){this.files=[],this.loadOptions=I}S.prototype={checkSignature:function(I){if(!this.reader.readAndCheckSignature(I)){this.reader.index-=4;var z=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(z)+", expected "+m.pretty(I)+")")}},isSignature:function(I,z){var V=this.reader.index;this.reader.setIndex(I);var L=this.reader.readString(4)===z;return this.reader.setIndex(V),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var I=this.reader.readData(this.zipCommentLength),z=C.uint8array?"uint8array":"array",V=m.transformTo(z,I);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var I,z,V,L=this.zip64EndOfCentralSize-44;0<L;)I=this.reader.readInt(2),z=this.reader.readInt(4),V=this.reader.readData(z),this.zip64ExtensibleData[I]={id:I,length:z,value:V}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var I,z;for(I=0;I<this.files.length;I++)z=this.files[I],this.reader.setIndex(z.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),z.readLocalPart(this.reader),z.handleUTF8(),z.processAttributes()},readCentralDir:function(){var I;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(I=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(I);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var I=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(I<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(I);var z=I;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(I=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(I),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var V=this.centralDirOffset+this.centralDirSize;this.zip64&&(V+=20,V+=12+this.zip64EndOfCentralSize);var L=z-V;if(0<L)this.isSignature(z,y.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(I){this.reader=f(I)},load:function(I){this.prepareReader(I),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,p,g){var f=h("./reader/readerFor"),m=h("./utils"),y=h("./compressedObject"),v=h("./crc32"),C=h("./utf8"),S=h("./compressions"),I=h("./support");function z(V,L){this.options=V,this.loadOptions=L}z.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(V){var L,U;if(V.skip(22),this.fileNameLength=V.readInt(2),U=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(U),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=function(G){for(var H in S)if(Object.prototype.hasOwnProperty.call(S,H)&&S[H].magic===G)return S[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,L,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var L=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip(L),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),V==0&&(this.dosPermissions=63&this.externalFileAttributes),V==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var V=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=V.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=V.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=V.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=V.readInt(4))}},readExtraFields:function(V){var L,U,G,H=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index+4<H;)L=V.readInt(2),U=V.readInt(2),G=V.readData(U),this.extraFields[L]={id:L,length:U,value:G};V.setIndex(H)},handleUTF8:function(){var V=I.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var U=m.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(U)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var H=m.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var L=f(V.value);return L.readInt(1)!==1||v(this.fileName)!==L.readInt(4)?null:C.utf8decode(L.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var L=f(V.value);return L.readInt(1)!==1||v(this.fileComment)!==L.readInt(4)?null:C.utf8decode(L.readData(V.length-5))}return null}},p.exports=z},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,p,g){function f(L,U,G){this.name=L,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=U,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var m=h("./stream/StreamHelper"),y=h("./stream/DataWorker"),v=h("./utf8"),C=h("./compressedObject"),S=h("./stream/GenericWorker");f.prototype={internalStream:function(L){var U=null,G="string";try{if(!L)throw new Error("No output type specified.");var H=(G=L.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),U=this._decompressWorker();var A=!this._dataBinary;A&&!H&&(U=U.pipe(new v.Utf8EncodeWorker)),!A&&H&&(U=U.pipe(new v.Utf8DecodeWorker))}catch(N){(U=new S("error")).error(N)}return new m(U,G,"")},async:function(L,U){return this.internalStream(L).accumulate(U)},nodeStream:function(L,U){return this.internalStream(L||"nodebuffer").toNodejsStream(U)},_compressWorker:function(L,U){if(this._data instanceof C&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new v.Utf8EncodeWorker)),C.createWorkerFrom(G,L,U)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof S?this._data:new y(this._data)}};for(var I=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],z=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},V=0;V<I.length;V++)f.prototype[I[V]]=z;p.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,p,g){(function(f){var m,y,v=f.MutationObserver||f.WebKitMutationObserver;if(v){var C=0,S=new v(L),I=f.document.createTextNode("");S.observe(I,{characterData:!0}),m=function(){I.data=C=++C%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var U=f.document.createElement("script");U.onreadystatechange=function(){L(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},f.document.documentElement.appendChild(U)}:function(){setTimeout(L,0)};else{var z=new f.MessageChannel;z.port1.onmessage=L,m=function(){z.port2.postMessage(0)}}var V=[];function L(){var U,G;y=!0;for(var H=V.length;H;){for(G=V,V=[],U=-1;++U<H;)G[U]();H=V.length}y=!1}p.exports=function(U){V.push(U)!==1||y||m()}}).call(this,r!==void 0?r:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(h,p,g){var f=h("immediate");function m(){}var y={},v=["REJECTED"],C=["FULFILLED"],S=["PENDING"];function I(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,H!==m&&U(this,H)}function z(H,A,N){this.promise=H,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function V(H,A,N){f(function(){var E;try{E=A(N)}catch(x){return y.reject(H,x)}E===H?y.reject(H,new TypeError("Cannot resolve promise with itself")):y.resolve(H,E)})}function L(H){var A=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof A=="function")return function(){A.apply(H,arguments)}}function U(H,A){var N=!1;function E(P){N||(N=!0,y.reject(H,P))}function x(P){N||(N=!0,y.resolve(H,P))}var _=G(function(){A(x,E)});_.status==="error"&&E(_.value)}function G(H,A){var N={};try{N.value=H(A),N.status="success"}catch(E){N.status="error",N.value=E}return N}(p.exports=I).prototype.finally=function(H){if(typeof H!="function")return this;var A=this.constructor;return this.then(function(N){return A.resolve(H()).then(function(){return N})},function(N){return A.resolve(H()).then(function(){throw N})})},I.prototype.catch=function(H){return this.then(null,H)},I.prototype.then=function(H,A){if(typeof H!="function"&&this.state===C||typeof A!="function"&&this.state===v)return this;var N=new this.constructor(m);return this.state!==S?V(N,this.state===C?H:A,this.outcome):this.queue.push(new z(N,H,A)),N},z.prototype.callFulfilled=function(H){y.resolve(this.promise,H)},z.prototype.otherCallFulfilled=function(H){V(this.promise,this.onFulfilled,H)},z.prototype.callRejected=function(H){y.reject(this.promise,H)},z.prototype.otherCallRejected=function(H){V(this.promise,this.onRejected,H)},y.resolve=function(H,A){var N=G(L,A);if(N.status==="error")return y.reject(H,N.value);var E=N.value;if(E)U(H,E);else{H.state=C,H.outcome=A;for(var x=-1,_=H.queue.length;++x<_;)H.queue[x].callFulfilled(A)}return H},y.reject=function(H,A){H.state=v,H.outcome=A;for(var N=-1,E=H.queue.length;++N<E;)H.queue[N].callRejected(A);return H},I.resolve=function(H){return H instanceof this?H:y.resolve(new this(m),H)},I.reject=function(H){var A=new this(m);return y.reject(A,H)},I.all=function(H){var A=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=H.length,E=!1;if(!N)return this.resolve([]);for(var x=new Array(N),_=0,P=-1,M=new this(m);++P<N;)k(H[P],P);return M;function k(R,F){A.resolve(R).then(function(q){x[F]=q,++_!==N||E||(E=!0,y.resolve(M,x))},function(q){E||(E=!0,y.reject(M,q))})}},I.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=H.length,N=!1;if(!A)return this.resolve([]);for(var E,x=-1,_=new this(m);++x<A;)E=H[x],this.resolve(E).then(function(P){N||(N=!0,y.resolve(_,P))},function(P){N||(N=!0,y.reject(_,P))});return _}},{immediate:36}],38:[function(h,p,g){var f={};(0,h("./lib/utils/common").assign)(f,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),p.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,p,g){var f=h("./zlib/deflate"),m=h("./utils/common"),y=h("./utils/strings"),v=h("./zlib/messages"),C=h("./zlib/zstream"),S=Object.prototype.toString;function I(V){if(!(this instanceof I))return new I(V);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},V||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var U=f.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(U!==0)throw new Error(v[U]);if(L.header&&f.deflateSetHeader(this.strm,L.header),L.dictionary){var G;if(G=typeof L.dictionary=="string"?y.string2buf(L.dictionary):S.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(U=f.deflateSetDictionary(this.strm,G))!==0)throw new Error(v[U]);this._dict_set=!0}}function z(V,L){var U=new I(L);if(U.push(V,!0),U.err)throw U.msg||v[U.err];return U.result}I.prototype.push=function(V,L){var U,G,H=this.strm,A=this.options.chunkSize;if(this.ended)return!1;G=L===~~L?L:L===!0?4:0,typeof V=="string"?H.input=y.string2buf(V):S.call(V)==="[object ArrayBuffer]"?H.input=new Uint8Array(V):H.input=V,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new m.Buf8(A),H.next_out=0,H.avail_out=A),(U=f.deflate(H,G))!==1&&U!==0)return this.onEnd(U),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(m.shrinkBuf(H.output,H.next_out))):this.onData(m.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&U!==1);return G===4?(U=f.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===0):G!==2||(this.onEnd(0),!(H.avail_out=0))},I.prototype.onData=function(V){this.chunks.push(V)},I.prototype.onEnd=function(V){V===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},g.Deflate=I,g.deflate=z,g.deflateRaw=function(V,L){return(L=L||{}).raw=!0,z(V,L)},g.gzip=function(V,L){return(L=L||{}).gzip=!0,z(V,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,p,g){var f=h("./zlib/inflate"),m=h("./utils/common"),y=h("./utils/strings"),v=h("./zlib/constants"),C=h("./zlib/messages"),S=h("./zlib/zstream"),I=h("./zlib/gzheader"),z=Object.prototype.toString;function V(U){if(!(this instanceof V))return new V(U);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},U||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||U&&U.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var H=f.inflateInit2(this.strm,G.windowBits);if(H!==v.Z_OK)throw new Error(C[H]);this.header=new I,f.inflateGetHeader(this.strm,this.header)}function L(U,G){var H=new V(G);if(H.push(U,!0),H.err)throw H.msg||C[H.err];return H.result}V.prototype.push=function(U,G){var H,A,N,E,x,_,P=this.strm,M=this.options.chunkSize,k=this.options.dictionary,R=!1;if(this.ended)return!1;A=G===~~G?G:G===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof U=="string"?P.input=y.binstring2buf(U):z.call(U)==="[object ArrayBuffer]"?P.input=new Uint8Array(U):P.input=U,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new m.Buf8(M),P.next_out=0,P.avail_out=M),(H=f.inflate(P,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&k&&(_=typeof k=="string"?y.string2buf(k):z.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,H=f.inflateSetDictionary(this.strm,_)),H===v.Z_BUF_ERROR&&R===!0&&(H=v.Z_OK,R=!1),H!==v.Z_STREAM_END&&H!==v.Z_OK)return this.onEnd(H),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&H!==v.Z_STREAM_END&&(P.avail_in!==0||A!==v.Z_FINISH&&A!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=y.utf8border(P.output,P.next_out),E=P.next_out-N,x=y.buf2string(P.output,N),P.next_out=E,P.avail_out=M-E,E&&m.arraySet(P.output,P.output,N,E,0),this.onData(x)):this.onData(m.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(R=!0)}while((0<P.avail_in||P.avail_out===0)&&H!==v.Z_STREAM_END);return H===v.Z_STREAM_END&&(A=v.Z_FINISH),A===v.Z_FINISH?(H=f.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===v.Z_OK):A!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(P.avail_out=0))},V.prototype.onData=function(U){this.chunks.push(U)},V.prototype.onEnd=function(U){U===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},g.Inflate=V,g.inflate=L,g.inflateRaw=function(U,G){return(G=G||{}).raw=!0,L(U,G)},g.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,p,g){var f=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";g.assign=function(v){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var S=C.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var I in S)S.hasOwnProperty(I)&&(v[I]=S[I])}}return v},g.shrinkBuf=function(v,C){return v.length===C?v:v.subarray?v.subarray(0,C):(v.length=C,v)};var m={arraySet:function(v,C,S,I,z){if(C.subarray&&v.subarray)v.set(C.subarray(S,S+I),z);else for(var V=0;V<I;V++)v[z+V]=C[S+V]},flattenChunks:function(v){var C,S,I,z,V,L;for(C=I=0,S=v.length;C<S;C++)I+=v[C].length;for(L=new Uint8Array(I),C=z=0,S=v.length;C<S;C++)V=v[C],L.set(V,z),z+=V.length;return L}},y={arraySet:function(v,C,S,I,z){for(var V=0;V<I;V++)v[z+V]=C[S+V]},flattenChunks:function(v){return[].concat.apply([],v)}};g.setTyped=function(v){v?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,m)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(f)},{}],42:[function(h,p,g){var f=h("./common"),m=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch(I){m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(I){y=!1}for(var v=new f.Buf8(256),C=0;C<256;C++)v[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function S(I,z){if(z<65537&&(I.subarray&&y||!I.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(I,z));for(var V="",L=0;L<z;L++)V+=String.fromCharCode(I[L]);return V}v[254]=v[254]=1,g.string2buf=function(I){var z,V,L,U,G,H=I.length,A=0;for(U=0;U<H;U++)(64512&(V=I.charCodeAt(U)))==55296&&U+1<H&&(64512&(L=I.charCodeAt(U+1)))==56320&&(V=65536+(V-55296<<10)+(L-56320),U++),A+=V<128?1:V<2048?2:V<65536?3:4;for(z=new f.Buf8(A),U=G=0;G<A;U++)(64512&(V=I.charCodeAt(U)))==55296&&U+1<H&&(64512&(L=I.charCodeAt(U+1)))==56320&&(V=65536+(V-55296<<10)+(L-56320),U++),V<128?z[G++]=V:(V<2048?z[G++]=192|V>>>6:(V<65536?z[G++]=224|V>>>12:(z[G++]=240|V>>>18,z[G++]=128|V>>>12&63),z[G++]=128|V>>>6&63),z[G++]=128|63&V);return z},g.buf2binstring=function(I){return S(I,I.length)},g.binstring2buf=function(I){for(var z=new f.Buf8(I.length),V=0,L=z.length;V<L;V++)z[V]=I.charCodeAt(V);return z},g.buf2string=function(I,z){var V,L,U,G,H=z||I.length,A=new Array(2*H);for(V=L=0;V<H;)if((U=I[V++])<128)A[L++]=U;else if(4<(G=v[U]))A[L++]=65533,V+=G-1;else{for(U&=G===2?31:G===3?15:7;1<G&&V<H;)U=U<<6|63&I[V++],G--;1<G?A[L++]=65533:U<65536?A[L++]=U:(U-=65536,A[L++]=55296|U>>10&1023,A[L++]=56320|1023&U)}return S(A,L)},g.utf8border=function(I,z){var V;for((z=z||I.length)>I.length&&(z=I.length),V=z-1;0<=V&&(192&I[V])==128;)V--;return V<0||V===0?z:V+v[I[V]]>z?V:z}},{"./common":41}],43:[function(h,p,g){p.exports=function(f,m,y,v){for(var C=65535&f|0,S=f>>>16&65535|0,I=0;y!==0;){for(y-=I=2e3<y?2e3:y;S=S+(C=C+m[v++]|0)|0,--I;);C%=65521,S%=65521}return C|S<<16|0}},{}],44:[function(h,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,p,g){var f=function(){for(var m,y=[],v=0;v<256;v++){m=v;for(var C=0;C<8;C++)m=1&m?3988292384^m>>>1:m>>>1;y[v]=m}return y}();p.exports=function(m,y,v,C){var S=f,I=C+v;m^=-1;for(var z=C;z<I;z++)m=m>>>8^S[255&(m^y[z])];return-1^m}},{}],46:[function(h,p,g){var f,m=h("../utils/common"),y=h("./trees"),v=h("./adler32"),C=h("./crc32"),S=h("./messages"),I=-2,z=258,V=262,L=113;function U(j,K){return j.msg=S[K],K}function G(j){return(j<<1)-(4<j?9:0)}function H(j){for(var K=j.length;0<=--K;)j[K]=0}function A(j){var K=j.state,B=K.pending;B>j.avail_out&&(B=j.avail_out),B!==0&&(m.arraySet(j.output,K.pending_buf,K.pending_out,B,j.next_out),j.next_out+=B,K.pending_out+=B,j.total_out+=B,j.avail_out-=B,K.pending-=B,K.pending===0&&(K.pending_out=0))}function N(j,K){y._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,K),j.block_start=j.strstart,A(j.strm)}function E(j,K){j.pending_buf[j.pending++]=K}function x(j,K){j.pending_buf[j.pending++]=K>>>8&255,j.pending_buf[j.pending++]=255&K}function _(j,K){var B,T,W=j.max_chain_length,Y=j.strstart,Q=j.prev_length,Z=j.nice_match,tt=j.strstart>j.w_size-V?j.strstart-(j.w_size-V):0,rt=j.window,st=j.w_mask,$=j.prev,nt=j.strstart+z,it=rt[Y+Q-1],ht=rt[Y+Q];j.prev_length>=j.good_match&&(W>>=2),Z>j.lookahead&&(Z=j.lookahead);do if(rt[(B=K)+Q]===ht&&rt[B+Q-1]===it&&rt[B]===rt[Y]&&rt[++B]===rt[Y+1]){Y+=2,B++;do;while(rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&rt[++Y]===rt[++B]&&Y<nt);if(T=z-(nt-Y),Y=nt-z,Q<T){if(j.match_start=K,Z<=(Q=T))break;it=rt[Y+Q-1],ht=rt[Y+Q]}}while((K=$[K&st])>tt&&--W!=0);return Q<=j.lookahead?Q:j.lookahead}function P(j){var K,B,T,W,Y,Q,Z,tt,rt,st,$=j.w_size;do{if(W=j.window_size-j.lookahead-j.strstart,j.strstart>=$+($-V)){for(m.arraySet(j.window,j.window,$,$,0),j.match_start-=$,j.strstart-=$,j.block_start-=$,K=B=j.hash_size;T=j.head[--K],j.head[K]=$<=T?T-$:0,--B;);for(K=B=$;T=j.prev[--K],j.prev[K]=$<=T?T-$:0,--B;);W+=$}if(j.strm.avail_in===0)break;if(Q=j.strm,Z=j.window,tt=j.strstart+j.lookahead,st=void 0,(rt=W)<(st=Q.avail_in)&&(st=rt),B=st===0?0:(Q.avail_in-=st,m.arraySet(Z,Q.input,Q.next_in,st,tt),Q.state.wrap===1?Q.adler=v(Q.adler,Z,st,tt):Q.state.wrap===2&&(Q.adler=C(Q.adler,Z,st,tt)),Q.next_in+=st,Q.total_in+=st,st),j.lookahead+=B,j.lookahead+j.insert>=3)for(Y=j.strstart-j.insert,j.ins_h=j.window[Y],j.ins_h=(j.ins_h<<j.hash_shift^j.window[Y+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[Y+3-1])&j.hash_mask,j.prev[Y&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=Y,Y++,j.insert--,!(j.lookahead+j.insert<3)););}while(j.lookahead<V&&j.strm.avail_in!==0)}function M(j,K){for(var B,T;;){if(j.lookahead<V){if(P(j),j.lookahead<V&&K===0)return 1;if(j.lookahead===0)break}if(B=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),B!==0&&j.strstart-B<=j.w_size-V&&(j.match_length=_(j,B)),j.match_length>=3)if(T=y._tr_tally(j,j.strstart-j.match_start,j.match_length-3),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=3){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else T=y._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(T&&(N(j,!1),j.strm.avail_out===0))return 1}return j.insert=j.strstart<2?j.strstart:2,K===4?(N(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?1:2}function k(j,K){for(var B,T,W;;){if(j.lookahead<V){if(P(j),j.lookahead<V&&K===0)return 1;if(j.lookahead===0)break}if(B=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=2,B!==0&&j.prev_length<j.max_lazy_match&&j.strstart-B<=j.w_size-V&&(j.match_length=_(j,B),j.match_length<=5&&(j.strategy===1||j.match_length===3&&4096<j.strstart-j.match_start)&&(j.match_length=2)),j.prev_length>=3&&j.match_length<=j.prev_length){for(W=j.strstart+j.lookahead-3,T=y._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-3),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=W&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=2,j.strstart++,T&&(N(j,!1),j.strm.avail_out===0))return 1}else if(j.match_available){if((T=y._tr_tally(j,0,j.window[j.strstart-1]))&&N(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return 1}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(T=y._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<2?j.strstart:2,K===4?(N(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?1:2}function R(j,K,B,T,W){this.good_length=j,this.max_lazy=K,this.nice_length=B,this.max_chain=T,this.func=W}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(j){var K;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=2,(K=j.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:L,j.adler=K.wrap===2?0:1,K.last_flush=0,y._tr_init(K),0):U(j,I)}function X(j){var K=q(j);return K===0&&function(B){B.window_size=2*B.w_size,H(B.head),B.max_lazy_match=f[B.level].max_lazy,B.good_match=f[B.level].good_length,B.nice_match=f[B.level].nice_length,B.max_chain_length=f[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=2,B.match_available=0,B.ins_h=0}(j.state),K}function J(j,K,B,T,W,Y){if(!j)return I;var Q=1;if(K===-1&&(K=6),T<0?(Q=0,T=-T):15<T&&(Q=2,T-=16),W<1||9<W||B!==8||T<8||15<T||K<0||9<K||Y<0||4<Y)return U(j,I);T===8&&(T=9);var Z=new F;return(j.state=Z).strm=j,Z.wrap=Q,Z.gzhead=null,Z.w_bits=T,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=W+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new m.Buf8(2*Z.w_size),Z.head=new m.Buf16(Z.hash_size),Z.prev=new m.Buf16(Z.w_size),Z.lit_bufsize=1<<W+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new m.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=K,Z.strategy=Y,Z.method=B,X(j)}f=[new R(0,0,0,0,function(j,K){var B=65535;for(B>j.pending_buf_size-5&&(B=j.pending_buf_size-5);;){if(j.lookahead<=1){if(P(j),j.lookahead===0&&K===0)return 1;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var T=j.block_start+B;if((j.strstart===0||j.strstart>=T)&&(j.lookahead=j.strstart-T,j.strstart=T,N(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-V&&(N(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,K===4?(N(j,!0),j.strm.avail_out===0?3:4):(j.strstart>j.block_start&&(N(j,!1),j.strm.avail_out),1)}),new R(4,4,8,4,M),new R(4,5,16,8,M),new R(4,6,32,32,M),new R(4,4,16,16,k),new R(8,16,32,32,k),new R(8,16,128,128,k),new R(8,32,128,256,k),new R(32,128,258,1024,k),new R(32,258,258,4096,k)],g.deflateInit=function(j,K){return J(j,K,8,15,8,0)},g.deflateInit2=J,g.deflateReset=X,g.deflateResetKeep=q,g.deflateSetHeader=function(j,K){return j&&j.state?j.state.wrap!==2?I:(j.state.gzhead=K,0):I},g.deflate=function(j,K){var B,T,W,Y;if(!j||!j.state||5<K||K<0)return j?U(j,I):I;if(T=j.state,!j.output||!j.input&&j.avail_in!==0||T.status===666&&K!==4)return U(j,j.avail_out===0?-5:I);if(T.strm=j,B=T.last_flush,T.last_flush=K,T.status===42)if(T.wrap===2)j.adler=0,E(T,31),E(T,139),E(T,8),T.gzhead?(E(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),E(T,255&T.gzhead.time),E(T,T.gzhead.time>>8&255),E(T,T.gzhead.time>>16&255),E(T,T.gzhead.time>>24&255),E(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),E(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(E(T,255&T.gzhead.extra.length),E(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(j.adler=C(j.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(E(T,0),E(T,0),E(T,0),E(T,0),E(T,0),E(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),E(T,3),T.status=L);else{var Q=8+(T.w_bits-8<<4)<<8;Q|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Q|=32),Q+=31-Q%31,T.status=L,x(T,Q),T.strstart!==0&&(x(T,j.adler>>>16),x(T,65535&j.adler)),j.adler=1}if(T.status===69)if(T.gzhead.extra){for(W=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),A(j),W=T.pending,T.pending!==T.pending_buf_size));)E(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){W=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),A(j),W=T.pending,T.pending===T.pending_buf_size)){Y=1;break}Y=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,E(T,Y)}while(Y!==0);T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),Y===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){W=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),A(j),W=T.pending,T.pending===T.pending_buf_size)){Y=1;break}Y=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,E(T,Y)}while(Y!==0);T.gzhead.hcrc&&T.pending>W&&(j.adler=C(j.adler,T.pending_buf,T.pending-W,W)),Y===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&A(j),T.pending+2<=T.pending_buf_size&&(E(T,255&j.adler),E(T,j.adler>>8&255),j.adler=0,T.status=L)):T.status=L),T.pending!==0){if(A(j),j.avail_out===0)return T.last_flush=-1,0}else if(j.avail_in===0&&G(K)<=G(B)&&K!==4)return U(j,-5);if(T.status===666&&j.avail_in!==0)return U(j,-5);if(j.avail_in!==0||T.lookahead!==0||K!==0&&T.status!==666){var Z=T.strategy===2?function(tt,rt){for(var st;;){if(tt.lookahead===0&&(P(tt),tt.lookahead===0)){if(rt===0)return 1;break}if(tt.match_length=0,st=y._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++,st&&(N(tt,!1),tt.strm.avail_out===0))return 1}return tt.insert=0,rt===4?(N(tt,!0),tt.strm.avail_out===0?3:4):tt.last_lit&&(N(tt,!1),tt.strm.avail_out===0)?1:2}(T,K):T.strategy===3?function(tt,rt){for(var st,$,nt,it,ht=tt.window;;){if(tt.lookahead<=z){if(P(tt),tt.lookahead<=z&&rt===0)return 1;if(tt.lookahead===0)break}if(tt.match_length=0,tt.lookahead>=3&&0<tt.strstart&&($=ht[nt=tt.strstart-1])===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]){it=tt.strstart+z;do;while($===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&$===ht[++nt]&&nt<it);tt.match_length=z-(it-nt),tt.match_length>tt.lookahead&&(tt.match_length=tt.lookahead)}if(tt.match_length>=3?(st=y._tr_tally(tt,1,tt.match_length-3),tt.lookahead-=tt.match_length,tt.strstart+=tt.match_length,tt.match_length=0):(st=y._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++),st&&(N(tt,!1),tt.strm.avail_out===0))return 1}return tt.insert=0,rt===4?(N(tt,!0),tt.strm.avail_out===0?3:4):tt.last_lit&&(N(tt,!1),tt.strm.avail_out===0)?1:2}(T,K):f[T.level].func(T,K);if(Z!==3&&Z!==4||(T.status=666),Z===1||Z===3)return j.avail_out===0&&(T.last_flush=-1),0;if(Z===2&&(K===1?y._tr_align(T):K!==5&&(y._tr_stored_block(T,0,0,!1),K===3&&(H(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),A(j),j.avail_out===0))return T.last_flush=-1,0}return K!==4?0:T.wrap<=0?1:(T.wrap===2?(E(T,255&j.adler),E(T,j.adler>>8&255),E(T,j.adler>>16&255),E(T,j.adler>>24&255),E(T,255&j.total_in),E(T,j.total_in>>8&255),E(T,j.total_in>>16&255),E(T,j.total_in>>24&255)):(x(T,j.adler>>>16),x(T,65535&j.adler)),A(j),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?0:1)},g.deflateEnd=function(j){var K;return j&&j.state?(K=j.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==L&&K!==666?U(j,I):(j.state=null,K===L?U(j,-3):0):I},g.deflateSetDictionary=function(j,K){var B,T,W,Y,Q,Z,tt,rt,st=K.length;if(!j||!j.state||(Y=(B=j.state).wrap)===2||Y===1&&B.status!==42||B.lookahead)return I;for(Y===1&&(j.adler=v(j.adler,K,st,0)),B.wrap=0,st>=B.w_size&&(Y===0&&(H(B.head),B.strstart=0,B.block_start=0,B.insert=0),rt=new m.Buf8(B.w_size),m.arraySet(rt,K,st-B.w_size,B.w_size,0),K=rt,st=B.w_size),Q=j.avail_in,Z=j.next_in,tt=j.input,j.avail_in=st,j.next_in=0,j.input=K,P(B);B.lookahead>=3;){for(T=B.strstart,W=B.lookahead-2;B.ins_h=(B.ins_h<<B.hash_shift^B.window[T+3-1])&B.hash_mask,B.prev[T&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=T,T++,--W;);B.strstart=T,B.lookahead=2,P(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=2,B.match_available=0,j.next_in=Z,j.input=tt,j.avail_in=Q,B.wrap=Y,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,p,g){p.exports=function(f,m){var y,v,C,S,I,z,V,L,U,G,H,A,N,E,x,_,P,M,k,R,F,q,X,J,j;y=f.state,v=f.next_in,J=f.input,C=v+(f.avail_in-5),S=f.next_out,j=f.output,I=S-(m-f.avail_out),z=S+(f.avail_out-257),V=y.dmax,L=y.wsize,U=y.whave,G=y.wnext,H=y.window,A=y.hold,N=y.bits,E=y.lencode,x=y.distcode,_=(1<<y.lenbits)-1,P=(1<<y.distbits)-1;t:do{N<15&&(A+=J[v++]<<N,N+=8,A+=J[v++]<<N,N+=8),M=E[A&_];e:for(;;){if(A>>>=k=M>>>24,N-=k,(k=M>>>16&255)==0)j[S++]=65535&M;else{if(!(16&k)){if(!(64&k)){M=E[(65535&M)+(A&(1<<k)-1)];continue e}if(32&k){y.mode=12;break t}f.msg="invalid literal/length code",y.mode=30;break t}R=65535&M,(k&=15)&&(N<k&&(A+=J[v++]<<N,N+=8),R+=A&(1<<k)-1,A>>>=k,N-=k),N<15&&(A+=J[v++]<<N,N+=8,A+=J[v++]<<N,N+=8),M=x[A&P];n:for(;;){if(A>>>=k=M>>>24,N-=k,!(16&(k=M>>>16&255))){if(!(64&k)){M=x[(65535&M)+(A&(1<<k)-1)];continue n}f.msg="invalid distance code",y.mode=30;break t}if(F=65535&M,N<(k&=15)&&(A+=J[v++]<<N,(N+=8)<k&&(A+=J[v++]<<N,N+=8)),V<(F+=A&(1<<k)-1)){f.msg="invalid distance too far back",y.mode=30;break t}if(A>>>=k,N-=k,(k=S-I)<F){if(U<(k=F-k)&&y.sane){f.msg="invalid distance too far back",y.mode=30;break t}if(X=H,(q=0)===G){if(q+=L-k,k<R){for(R-=k;j[S++]=H[q++],--k;);q=S-F,X=j}}else if(G<k){if(q+=L+G-k,(k-=G)<R){for(R-=k;j[S++]=H[q++],--k;);if(q=0,G<R){for(R-=k=G;j[S++]=H[q++],--k;);q=S-F,X=j}}}else if(q+=G-k,k<R){for(R-=k;j[S++]=H[q++],--k;);q=S-F,X=j}for(;2<R;)j[S++]=X[q++],j[S++]=X[q++],j[S++]=X[q++],R-=3;R&&(j[S++]=X[q++],1<R&&(j[S++]=X[q++]))}else{for(q=S-F;j[S++]=j[q++],j[S++]=j[q++],j[S++]=j[q++],2<(R-=3););R&&(j[S++]=j[q++],1<R&&(j[S++]=j[q++]))}break}}break}}while(v<C&&S<z);v-=R=N>>3,A&=(1<<(N-=R<<3))-1,f.next_in=v,f.next_out=S,f.avail_in=v<C?C-v+5:5-(v-C),f.avail_out=S<z?z-S+257:257-(S-z),y.hold=A,y.bits=N}},{}],49:[function(h,p,g){var f=h("../utils/common"),m=h("./adler32"),y=h("./crc32"),v=h("./inffast"),C=h("./inftrees"),S=-2;function I(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(_){var P;return _&&_.state?(P=_.state,_.total_in=_.total_out=P.total=0,_.msg="",P.wrap&&(_.adler=1&P.wrap),P.mode=1,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new f.Buf32(852),P.distcode=P.distdyn=new f.Buf32(592),P.sane=1,P.back=-1,0):S}function L(_){var P;return _&&_.state?((P=_.state).wsize=0,P.whave=0,P.wnext=0,V(_)):S}function U(_,P){var M,k;return _&&_.state?(k=_.state,P<0?(M=0,P=-P):(M=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?S:(k.window!==null&&k.wbits!==P&&(k.window=null),k.wrap=M,k.wbits=P,L(_))):S}function G(_,P){var M,k;return _?(k=new z,(_.state=k).window=null,(M=U(_,P))!==0&&(_.state=null),M):S}var H,A,N=!0;function E(_){if(N){var P;for(H=new f.Buf32(512),A=new f.Buf32(32),P=0;P<144;)_.lens[P++]=8;for(;P<256;)_.lens[P++]=9;for(;P<280;)_.lens[P++]=7;for(;P<288;)_.lens[P++]=8;for(C(1,_.lens,0,288,H,0,_.work,{bits:9}),P=0;P<32;)_.lens[P++]=5;C(2,_.lens,0,32,A,0,_.work,{bits:5}),N=!1}_.lencode=H,_.lenbits=9,_.distcode=A,_.distbits=5}function x(_,P,M,k){var R,F=_.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new f.Buf8(F.wsize)),k>=F.wsize?(f.arraySet(F.window,P,M-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(k<(R=F.wsize-F.wnext)&&(R=k),f.arraySet(F.window,P,M-k,R,F.wnext),(k-=R)?(f.arraySet(F.window,P,M-k,k,0),F.wnext=k,F.whave=F.wsize):(F.wnext+=R,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=R))),0}g.inflateReset=L,g.inflateReset2=U,g.inflateResetKeep=V,g.inflateInit=function(_){return G(_,15)},g.inflateInit2=G,g.inflate=function(_,P){var M,k,R,F,q,X,J,j,K,B,T,W,Y,Q,Z,tt,rt,st,$,nt,it,ht,ct,ut,gt=0,mt=new f.Buf8(4),xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return S;(M=_.state).mode===12&&(M.mode=13),q=_.next_out,R=_.output,J=_.avail_out,F=_.next_in,k=_.input,X=_.avail_in,j=M.hold,K=M.bits,B=X,T=J,ht=0;t:for(;;)switch(M.mode){case 1:if(M.wrap===0){M.mode=13;break}for(;K<16;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(2&M.wrap&&j===35615){mt[M.check=0]=255&j,mt[1]=j>>>8&255,M.check=y(M.check,mt,2,0),K=j=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&j)<<8)+(j>>8))%31){_.msg="incorrect header check",M.mode=30;break}if((15&j)!=8){_.msg="unknown compression method",M.mode=30;break}if(K-=4,it=8+(15&(j>>>=4)),M.wbits===0)M.wbits=it;else if(it>M.wbits){_.msg="invalid window size",M.mode=30;break}M.dmax=1<<it,_.adler=M.check=1,M.mode=512&j?10:12,K=j=0;break;case 2:for(;K<16;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(M.flags=j,(255&M.flags)!=8){_.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){_.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=j>>8&1),512&M.flags&&(mt[0]=255&j,mt[1]=j>>>8&255,M.check=y(M.check,mt,2,0)),K=j=0,M.mode=3;case 3:for(;K<32;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.head&&(M.head.time=j),512&M.flags&&(mt[0]=255&j,mt[1]=j>>>8&255,mt[2]=j>>>16&255,mt[3]=j>>>24&255,M.check=y(M.check,mt,4,0)),K=j=0,M.mode=4;case 4:for(;K<16;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.head&&(M.head.xflags=255&j,M.head.os=j>>8),512&M.flags&&(mt[0]=255&j,mt[1]=j>>>8&255,M.check=y(M.check,mt,2,0)),K=j=0,M.mode=5;case 5:if(1024&M.flags){for(;K<16;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.length=j,M.head&&(M.head.extra_len=j),512&M.flags&&(mt[0]=255&j,mt[1]=j>>>8&255,M.check=y(M.check,mt,2,0)),K=j=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(X<(W=M.length)&&(W=X),W&&(M.head&&(it=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),f.arraySet(M.head.extra,k,F,W,it)),512&M.flags&&(M.check=y(M.check,k,W,F)),X-=W,F+=W,M.length-=W),M.length))break t;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(X===0)break t;for(W=0;it=k[F+W++],M.head&&it&&M.length<65536&&(M.head.name+=String.fromCharCode(it)),it&&W<X;);if(512&M.flags&&(M.check=y(M.check,k,W,F)),X-=W,F+=W,it)break t}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(X===0)break t;for(W=0;it=k[F+W++],M.head&&it&&M.length<65536&&(M.head.comment+=String.fromCharCode(it)),it&&W<X;);if(512&M.flags&&(M.check=y(M.check,k,W,F)),X-=W,F+=W,it)break t}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;K<16;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(j!==(65535&M.check)){_.msg="header crc mismatch",M.mode=30;break}K=j=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),_.adler=M.check=0,M.mode=12;break;case 10:for(;K<32;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}_.adler=M.check=I(j),K=j=0,M.mode=11;case 11:if(M.havedict===0)return _.next_out=q,_.avail_out=J,_.next_in=F,_.avail_in=X,M.hold=j,M.bits=K,2;_.adler=M.check=1,M.mode=12;case 12:if(P===5||P===6)break t;case 13:if(M.last){j>>>=7&K,K-=7&K,M.mode=27;break}for(;K<3;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}switch(M.last=1&j,K-=1,3&(j>>>=1)){case 0:M.mode=14;break;case 1:if(E(M),M.mode=20,P!==6)break;j>>>=2,K-=2;break t;case 2:M.mode=17;break;case 3:_.msg="invalid block type",M.mode=30}j>>>=2,K-=2;break;case 14:for(j>>>=7&K,K-=7&K;K<32;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if((65535&j)!=(j>>>16^65535)){_.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&j,K=j=0,M.mode=15,P===6)break t;case 15:M.mode=16;case 16:if(W=M.length){if(X<W&&(W=X),J<W&&(W=J),W===0)break t;f.arraySet(R,k,F,W,q),X-=W,F+=W,J-=W,q+=W,M.length-=W;break}M.mode=12;break;case 17:for(;K<14;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(M.nlen=257+(31&j),j>>>=5,K-=5,M.ndist=1+(31&j),j>>>=5,K-=5,M.ncode=4+(15&j),j>>>=4,K-=4,286<M.nlen||30<M.ndist){_.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;K<3;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.lens[xt[M.have++]]=7&j,j>>>=3,K-=3}for(;M.have<19;)M.lens[xt[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ct={bits:M.lenbits},ht=C(0,M.lens,0,19,M.lencode,0,M.work,ct),M.lenbits=ct.bits,ht){_.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;tt=(gt=M.lencode[j&(1<<M.lenbits)-1])>>>16&255,rt=65535&gt,!((Z=gt>>>24)<=K);){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(rt<16)j>>>=Z,K-=Z,M.lens[M.have++]=rt;else{if(rt===16){for(ut=Z+2;K<ut;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(j>>>=Z,K-=Z,M.have===0){_.msg="invalid bit length repeat",M.mode=30;break}it=M.lens[M.have-1],W=3+(3&j),j>>>=2,K-=2}else if(rt===17){for(ut=Z+3;K<ut;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}K-=Z,it=0,W=3+(7&(j>>>=Z)),j>>>=3,K-=3}else{for(ut=Z+7;K<ut;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}K-=Z,it=0,W=11+(127&(j>>>=Z)),j>>>=7,K-=7}if(M.have+W>M.nlen+M.ndist){_.msg="invalid bit length repeat",M.mode=30;break}for(;W--;)M.lens[M.have++]=it}}if(M.mode===30)break;if(M.lens[256]===0){_.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ct={bits:M.lenbits},ht=C(1,M.lens,0,M.nlen,M.lencode,0,M.work,ct),M.lenbits=ct.bits,ht){_.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ct={bits:M.distbits},ht=C(2,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ct),M.distbits=ct.bits,ht){_.msg="invalid distances set",M.mode=30;break}if(M.mode=20,P===6)break t;case 20:M.mode=21;case 21:if(6<=X&&258<=J){_.next_out=q,_.avail_out=J,_.next_in=F,_.avail_in=X,M.hold=j,M.bits=K,v(_,T),q=_.next_out,R=_.output,J=_.avail_out,F=_.next_in,k=_.input,X=_.avail_in,j=M.hold,K=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;tt=(gt=M.lencode[j&(1<<M.lenbits)-1])>>>16&255,rt=65535&gt,!((Z=gt>>>24)<=K);){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(tt&&!(240&tt)){for(st=Z,$=tt,nt=rt;tt=(gt=M.lencode[nt+((j&(1<<st+$)-1)>>st)])>>>16&255,rt=65535&gt,!(st+(Z=gt>>>24)<=K);){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}j>>>=st,K-=st,M.back+=st}if(j>>>=Z,K-=Z,M.back+=Z,M.length=rt,tt===0){M.mode=26;break}if(32&tt){M.back=-1,M.mode=12;break}if(64&tt){_.msg="invalid literal/length code",M.mode=30;break}M.extra=15&tt,M.mode=22;case 22:if(M.extra){for(ut=M.extra;K<ut;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.length+=j&(1<<M.extra)-1,j>>>=M.extra,K-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;tt=(gt=M.distcode[j&(1<<M.distbits)-1])>>>16&255,rt=65535&gt,!((Z=gt>>>24)<=K);){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(!(240&tt)){for(st=Z,$=tt,nt=rt;tt=(gt=M.distcode[nt+((j&(1<<st+$)-1)>>st)])>>>16&255,rt=65535&gt,!(st+(Z=gt>>>24)<=K);){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}j>>>=st,K-=st,M.back+=st}if(j>>>=Z,K-=Z,M.back+=Z,64&tt){_.msg="invalid distance code",M.mode=30;break}M.offset=rt,M.extra=15&tt,M.mode=24;case 24:if(M.extra){for(ut=M.extra;K<ut;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}M.offset+=j&(1<<M.extra)-1,j>>>=M.extra,K-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){_.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(J===0)break t;if(W=T-J,M.offset>W){if((W=M.offset-W)>M.whave&&M.sane){_.msg="invalid distance too far back",M.mode=30;break}Y=W>M.wnext?(W-=M.wnext,M.wsize-W):M.wnext-W,W>M.length&&(W=M.length),Q=M.window}else Q=R,Y=q-M.offset,W=M.length;for(J<W&&(W=J),J-=W,M.length-=W;R[q++]=Q[Y++],--W;);M.length===0&&(M.mode=21);break;case 26:if(J===0)break t;R[q++]=M.length,J--,M.mode=21;break;case 27:if(M.wrap){for(;K<32;){if(X===0)break t;X--,j|=k[F++]<<K,K+=8}if(T-=J,_.total_out+=T,M.total+=T,T&&(_.adler=M.check=M.flags?y(M.check,R,T,q-T):m(M.check,R,T,q-T)),T=J,(M.flags?j:I(j))!==M.check){_.msg="incorrect data check",M.mode=30;break}K=j=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;K<32;){if(X===0)break t;X--,j+=k[F++]<<K,K+=8}if(j!==(4294967295&M.total)){_.msg="incorrect length check",M.mode=30;break}K=j=0}M.mode=29;case 29:ht=1;break t;case 30:ht=-3;break t;case 31:return-4;case 32:default:return S}return _.next_out=q,_.avail_out=J,_.next_in=F,_.avail_in=X,M.hold=j,M.bits=K,(M.wsize||T!==_.avail_out&&M.mode<30&&(M.mode<27||P!==4))&&x(_,_.output,_.next_out,T-_.avail_out)?(M.mode=31,-4):(B-=_.avail_in,T-=_.avail_out,_.total_in+=B,_.total_out+=T,M.total+=T,M.wrap&&T&&(_.adler=M.check=M.flags?y(M.check,R,T,_.next_out-T):m(M.check,R,T,_.next_out-T)),_.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(B==0&&T===0||P===4)&&ht===0&&(ht=-5),ht)},g.inflateEnd=function(_){if(!_||!_.state)return S;var P=_.state;return P.window&&(P.window=null),_.state=null,0},g.inflateGetHeader=function(_,P){var M;return _&&_.state&&2&(M=_.state).wrap?((M.head=P).done=!1,0):S},g.inflateSetDictionary=function(_,P){var M,k=P.length;return _&&_.state?(M=_.state).wrap!==0&&M.mode!==11?S:M.mode===11&&m(1,P,k,0)!==M.check?-3:x(_,P,k,k)?(M.mode=31,-4):(M.havedict=1,0):S},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,p,g){var f=h("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(S,I,z,V,L,U,G,H){var A,N,E,x,_,P,M,k,R,F=H.bits,q=0,X=0,J=0,j=0,K=0,B=0,T=0,W=0,Y=0,Q=0,Z=null,tt=0,rt=new f.Buf16(16),st=new f.Buf16(16),$=null,nt=0;for(q=0;q<=15;q++)rt[q]=0;for(X=0;X<V;X++)rt[I[z+X]]++;for(K=F,j=15;1<=j&&rt[j]===0;j--);if(j<K&&(K=j),j===0)return L[U++]=20971520,L[U++]=20971520,H.bits=1,0;for(J=1;J<j&&rt[J]===0;J++);for(K<J&&(K=J),q=W=1;q<=15;q++)if(W<<=1,(W-=rt[q])<0)return-1;if(0<W&&(S===0||j!==1))return-1;for(st[1]=0,q=1;q<15;q++)st[q+1]=st[q]+rt[q];for(X=0;X<V;X++)I[z+X]!==0&&(G[st[I[z+X]]++]=X);if(P=S===0?(Z=$=G,19):S===1?(Z=m,tt-=257,$=y,nt-=257,256):(Z=v,$=C,-1),q=J,_=U,T=X=Q=0,E=-1,x=(Y=1<<(B=K))-1,S===1&&852<Y||S===2&&592<Y)return 1;for(;;){for(M=q-T,R=G[X]<P?(k=0,G[X]):G[X]>P?(k=$[nt+G[X]],Z[tt+G[X]]):(k=96,0),A=1<<q-T,J=N=1<<B;L[_+(Q>>T)+(N-=A)]=M<<24|k<<16|R|0,N!==0;);for(A=1<<q-1;Q&A;)A>>=1;if(A!==0?(Q&=A-1,Q+=A):Q=0,X++,--rt[q]==0){if(q===j)break;q=I[z+G[X]]}if(K<q&&(Q&x)!==E){for(T===0&&(T=K),_+=J,W=1<<(B=q-T);B+T<j&&!((W-=rt[B+T])<=0);)B++,W<<=1;if(Y+=1<<B,S===1&&852<Y||S===2&&592<Y)return 1;L[E=Q&x]=K<<24|B<<16|_-U|0}}return Q!==0&&(L[_+Q]=q-T<<24|64<<16|0),H.bits=K,0}},{"../utils/common":41}],51:[function(h,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,p,g){var f=h("../utils/common");function m($){for(var nt=$.length;0<=--nt;)$[nt]=0}var y=256,v=286,C=30,S=15,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(576);m(U);var G=new Array(60);m(G);var H=new Array(512);m(H);var A=new Array(256);m(A);var N=new Array(29);m(N);var E,x,_,P=new Array(C);function M($,nt,it,ht,ct){this.static_tree=$,this.extra_bits=nt,this.extra_base=it,this.elems=ht,this.max_length=ct,this.has_stree=$&&$.length}function k($,nt){this.dyn_tree=$,this.max_code=0,this.stat_desc=nt}function R($){return $<256?H[$]:H[256+($>>>7)]}function F($,nt){$.pending_buf[$.pending++]=255&nt,$.pending_buf[$.pending++]=nt>>>8&255}function q($,nt,it){$.bi_valid>16-it?($.bi_buf|=nt<<$.bi_valid&65535,F($,$.bi_buf),$.bi_buf=nt>>16-$.bi_valid,$.bi_valid+=it-16):($.bi_buf|=nt<<$.bi_valid&65535,$.bi_valid+=it)}function X($,nt,it){q($,it[2*nt],it[2*nt+1])}function J($,nt){for(var it=0;it|=1&$,$>>>=1,it<<=1,0<--nt;);return it>>>1}function j($,nt,it){var ht,ct,ut=new Array(16),gt=0;for(ht=1;ht<=S;ht++)ut[ht]=gt=gt+it[ht-1]<<1;for(ct=0;ct<=nt;ct++){var mt=$[2*ct+1];mt!==0&&($[2*ct]=J(ut[mt]++,mt))}}function K($){var nt;for(nt=0;nt<v;nt++)$.dyn_ltree[2*nt]=0;for(nt=0;nt<C;nt++)$.dyn_dtree[2*nt]=0;for(nt=0;nt<19;nt++)$.bl_tree[2*nt]=0;$.dyn_ltree[512]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0}function B($){8<$.bi_valid?F($,$.bi_buf):0<$.bi_valid&&($.pending_buf[$.pending++]=$.bi_buf),$.bi_buf=0,$.bi_valid=0}function T($,nt,it,ht){var ct=2*nt,ut=2*it;return $[ct]<$[ut]||$[ct]===$[ut]&&ht[nt]<=ht[it]}function W($,nt,it){for(var ht=$.heap[it],ct=it<<1;ct<=$.heap_len&&(ct<$.heap_len&&T(nt,$.heap[ct+1],$.heap[ct],$.depth)&&ct++,!T(nt,ht,$.heap[ct],$.depth));)$.heap[it]=$.heap[ct],it=ct,ct<<=1;$.heap[it]=ht}function Y($,nt,it){var ht,ct,ut,gt,mt=0;if($.last_lit!==0)for(;ht=$.pending_buf[$.d_buf+2*mt]<<8|$.pending_buf[$.d_buf+2*mt+1],ct=$.pending_buf[$.l_buf+mt],mt++,ht===0?X($,ct,nt):(X($,(ut=A[ct])+y+1,nt),(gt=I[ut])!==0&&q($,ct-=N[ut],gt),X($,ut=R(--ht),it),(gt=z[ut])!==0&&q($,ht-=P[ut],gt)),mt<$.last_lit;);X($,256,nt)}function Q($,nt){var it,ht,ct,ut=nt.dyn_tree,gt=nt.stat_desc.static_tree,mt=nt.stat_desc.has_stree,xt=nt.stat_desc.elems,kt=-1;for($.heap_len=0,$.heap_max=573,it=0;it<xt;it++)ut[2*it]!==0?($.heap[++$.heap_len]=kt=it,$.depth[it]=0):ut[2*it+1]=0;for(;$.heap_len<2;)ut[2*(ct=$.heap[++$.heap_len]=kt<2?++kt:0)]=1,$.depth[ct]=0,$.opt_len--,mt&&($.static_len-=gt[2*ct+1]);for(nt.max_code=kt,it=$.heap_len>>1;1<=it;it--)W($,ut,it);for(ct=xt;it=$.heap[1],$.heap[1]=$.heap[$.heap_len--],W($,ut,1),ht=$.heap[1],$.heap[--$.heap_max]=it,$.heap[--$.heap_max]=ht,ut[2*ct]=ut[2*it]+ut[2*ht],$.depth[ct]=($.depth[it]>=$.depth[ht]?$.depth[it]:$.depth[ht])+1,ut[2*it+1]=ut[2*ht+1]=ct,$.heap[1]=ct++,W($,ut,1),2<=$.heap_len;);$.heap[--$.heap_max]=$.heap[1],function(At,Ct){var Lt,Rt,It,zt,St,_t,Tt=Ct.dyn_tree,Bt=Ct.max_code,Nt=Ct.stat_desc.static_tree,oe=Ct.stat_desc.has_stree,pe=Ct.stat_desc.extra_bits,Ot=Ct.stat_desc.extra_base,he=Ct.stat_desc.max_length,re=0;for(zt=0;zt<=S;zt++)At.bl_count[zt]=0;for(Tt[2*At.heap[At.heap_max]+1]=0,Lt=At.heap_max+1;Lt<573;Lt++)he<(zt=Tt[2*Tt[2*(Rt=At.heap[Lt])+1]+1]+1)&&(zt=he,re++),Tt[2*Rt+1]=zt,Bt<Rt||(At.bl_count[zt]++,St=0,Ot<=Rt&&(St=pe[Rt-Ot]),_t=Tt[2*Rt],At.opt_len+=_t*(zt+St),oe&&(At.static_len+=_t*(Nt[2*Rt+1]+St)));if(re!==0){do{for(zt=he-1;At.bl_count[zt]===0;)zt--;At.bl_count[zt]--,At.bl_count[zt+1]+=2,At.bl_count[he]--,re-=2}while(0<re);for(zt=he;zt!==0;zt--)for(Rt=At.bl_count[zt];Rt!==0;)Bt<(It=At.heap[--Lt])||(Tt[2*It+1]!==zt&&(At.opt_len+=(zt-Tt[2*It+1])*Tt[2*It],Tt[2*It+1]=zt),Rt--)}}($,nt),j(ut,kt,$.bl_count)}function Z($,nt,it){var ht,ct,ut=-1,gt=nt[1],mt=0,xt=7,kt=4;for(gt===0&&(xt=138,kt=3),nt[2*(it+1)+1]=65535,ht=0;ht<=it;ht++)ct=gt,gt=nt[2*(ht+1)+1],++mt<xt&&ct===gt||(mt<kt?$.bl_tree[2*ct]+=mt:ct!==0?(ct!==ut&&$.bl_tree[2*ct]++,$.bl_tree[32]++):mt<=10?$.bl_tree[34]++:$.bl_tree[36]++,ut=ct,kt=(mt=0)===gt?(xt=138,3):ct===gt?(xt=6,3):(xt=7,4))}function tt($,nt,it){var ht,ct,ut=-1,gt=nt[1],mt=0,xt=7,kt=4;for(gt===0&&(xt=138,kt=3),ht=0;ht<=it;ht++)if(ct=gt,gt=nt[2*(ht+1)+1],!(++mt<xt&&ct===gt)){if(mt<kt)for(;X($,ct,$.bl_tree),--mt!=0;);else ct!==0?(ct!==ut&&(X($,ct,$.bl_tree),mt--),X($,16,$.bl_tree),q($,mt-3,2)):mt<=10?(X($,17,$.bl_tree),q($,mt-3,3)):(X($,18,$.bl_tree),q($,mt-11,7));ut=ct,kt=(mt=0)===gt?(xt=138,3):ct===gt?(xt=6,3):(xt=7,4)}}m(P);var rt=!1;function st($,nt,it,ht){q($,0+(ht?1:0),3),function(ct,ut,gt,mt){B(ct),F(ct,gt),F(ct,~gt),f.arraySet(ct.pending_buf,ct.window,ut,gt,ct.pending),ct.pending+=gt}($,nt,it)}g._tr_init=function($){rt||(function(){var nt,it,ht,ct,ut,gt=new Array(16);for(ct=ht=0;ct<28;ct++)for(N[ct]=ht,nt=0;nt<1<<I[ct];nt++)A[ht++]=ct;for(A[ht-1]=ct,ct=ut=0;ct<16;ct++)for(P[ct]=ut,nt=0;nt<1<<z[ct];nt++)H[ut++]=ct;for(ut>>=7;ct<C;ct++)for(P[ct]=ut<<7,nt=0;nt<1<<z[ct]-7;nt++)H[256+ut++]=ct;for(it=0;it<=S;it++)gt[it]=0;for(nt=0;nt<=143;)U[2*nt+1]=8,nt++,gt[8]++;for(;nt<=255;)U[2*nt+1]=9,nt++,gt[9]++;for(;nt<=279;)U[2*nt+1]=7,nt++,gt[7]++;for(;nt<=287;)U[2*nt+1]=8,nt++,gt[8]++;for(j(U,287,gt),nt=0;nt<C;nt++)G[2*nt+1]=5,G[2*nt]=J(nt,5);E=new M(U,I,257,v,S),x=new M(G,z,0,C,S),_=new M(new Array(0),V,0,19,7)}(),rt=!0),$.l_desc=new k($.dyn_ltree,E),$.d_desc=new k($.dyn_dtree,x),$.bl_desc=new k($.bl_tree,_),$.bi_buf=0,$.bi_valid=0,K($)},g._tr_stored_block=st,g._tr_flush_block=function($,nt,it,ht){var ct,ut,gt=0;0<$.level?($.strm.data_type===2&&($.strm.data_type=function(mt){var xt,kt=4093624447;for(xt=0;xt<=31;xt++,kt>>>=1)if(1&kt&&mt.dyn_ltree[2*xt]!==0)return 0;if(mt.dyn_ltree[18]!==0||mt.dyn_ltree[20]!==0||mt.dyn_ltree[26]!==0)return 1;for(xt=32;xt<y;xt++)if(mt.dyn_ltree[2*xt]!==0)return 1;return 0}($)),Q($,$.l_desc),Q($,$.d_desc),gt=function(mt){var xt;for(Z(mt,mt.dyn_ltree,mt.l_desc.max_code),Z(mt,mt.dyn_dtree,mt.d_desc.max_code),Q(mt,mt.bl_desc),xt=18;3<=xt&&mt.bl_tree[2*L[xt]+1]===0;xt--);return mt.opt_len+=3*(xt+1)+5+5+4,xt}($),ct=$.opt_len+3+7>>>3,(ut=$.static_len+3+7>>>3)<=ct&&(ct=ut)):ct=ut=it+5,it+4<=ct&&nt!==-1?st($,nt,it,ht):$.strategy===4||ut===ct?(q($,2+(ht?1:0),3),Y($,U,G)):(q($,4+(ht?1:0),3),function(mt,xt,kt,At){var Ct;for(q(mt,xt-257,5),q(mt,kt-1,5),q(mt,At-4,4),Ct=0;Ct<At;Ct++)q(mt,mt.bl_tree[2*L[Ct]+1],3);tt(mt,mt.dyn_ltree,xt-1),tt(mt,mt.dyn_dtree,kt-1)}($,$.l_desc.max_code+1,$.d_desc.max_code+1,gt+1),Y($,$.dyn_ltree,$.dyn_dtree)),K($),ht&&B($)},g._tr_tally=function($,nt,it){return $.pending_buf[$.d_buf+2*$.last_lit]=nt>>>8&255,$.pending_buf[$.d_buf+2*$.last_lit+1]=255&nt,$.pending_buf[$.l_buf+$.last_lit]=255&it,$.last_lit++,nt===0?$.dyn_ltree[2*it]++:($.matches++,nt--,$.dyn_ltree[2*(A[it]+y+1)]++,$.dyn_dtree[2*R(nt)]++),$.last_lit===$.lit_bufsize-1},g._tr_align=function($){q($,2,3),X($,256,U),function(nt){nt.bi_valid===16?(F(nt,nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0):8<=nt.bi_valid&&(nt.pending_buf[nt.pending++]=255&nt.bi_buf,nt.bi_buf>>=8,nt.bi_valid-=8)}($)}},{"../utils/common":41}],53:[function(h,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,p,g){(function(f){(function(m,y){if(!m.setImmediate){var v,C,S,I,z=1,V={},L=!1,U=m.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(m);G=G&&G.setTimeout?G:m,v={}.toString.call(m.process)==="[object process]"?function(E){a.nextTick(function(){A(E)})}:function(){if(m.postMessage&&!m.importScripts){var E=!0,x=m.onmessage;return m.onmessage=function(){E=!1},m.postMessage("","*"),m.onmessage=x,E}}()?(I="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",N,!1):m.attachEvent("onmessage",N),function(E){m.postMessage(I+E,"*")}):m.MessageChannel?((S=new MessageChannel).port1.onmessage=function(E){A(E.data)},function(E){S.port2.postMessage(E)}):U&&"onreadystatechange"in U.createElement("script")?(C=U.documentElement,function(E){var x=U.createElement("script");x.onreadystatechange=function(){A(E),x.onreadystatechange=null,C.removeChild(x),x=null},C.appendChild(x)}):function(E){setTimeout(A,0,E)},G.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var x=new Array(arguments.length-1),_=0;_<x.length;_++)x[_]=arguments[_+1];var P={callback:E,args:x};return V[z]=P,v(z),z++},G.clearImmediate=H}function H(E){delete V[E]}function A(E){if(L)setTimeout(A,0,E);else{var x=V[E];if(x){L=!0;try{(function(_){var P=_.callback,M=_.args;switch(M.length){case 0:P();break;case 1:P(M[0]);break;case 2:P(M[0],M[1]);break;case 3:P(M[0],M[1],M[2]);break;default:P.apply(void 0,M)}})(x)}finally{H(E),L=!1}}}}function N(E){E.source===m&&typeof E.data=="string"&&E.data.indexOf(I)===0&&A(+E.data.slice(I.length))}})(typeof self=="undefined"?f===void 0?this:f:self)}).call(this,r!==void 0?r:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,c,u){(function(a){(function(){var r=/[\\^$.*+?()[\]{}|]/g,i=RegExp(r.source),s=typeof a=="object"&&a&&a.Object===Object&&a,e=typeof self=="object"&&self&&self.Object===Object&&self,n=s||e||Function("return this")(),d=Object.prototype.toString,l=n.Symbol,h=l?l.prototype:void 0,p=h?h.toString:void 0;function g(f){if(typeof f=="string")return f;if(function(y){return typeof y=="symbol"||function(v){return!!v&&typeof v=="object"}(y)&&d.call(y)=="[object Symbol]"}(f))return p?p.call(f):"";var m=f+"";return m=="0"&&1/f==-1/0?"-0":m}c.exports=function(f){var m;return(f=(m=f)==null?"":g(m))&&i.test(f)?f.replace(r,"\\$&"):f}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],443:[function(t,c,u){(function(a){(function(){var r="[object Arguments]",i="[object Map]",s="[object Object]",e="[object Set]",n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,l=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[r]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[i]=m["[object Number]"]=m[s]=m["[object RegExp]"]=m[e]=m["[object String]"]=m["[object WeakMap]"]=!1;var y=typeof a=="object"&&a&&a.Object===Object&&a,v=typeof self=="object"&&self&&self.Object===Object&&self,C=y||v||Function("return this")(),S=typeof u=="object"&&u&&!u.nodeType&&u,I=S&&typeof c=="object"&&c&&!c.nodeType&&c,z=I&&I.exports===S&&y.process,V=function(){try{return z&&z.binding("util")}catch(et){}}(),L=V&&V.isTypedArray;function U(et,pt,wt,vt){for(var Vt=-1,Mt=et?et.length:0;++Vt<Mt;){var Pt=et[Vt];pt(vt,Pt,wt(Pt),et)}return vt}function G(et,pt){for(var wt=-1,vt=et?et.length:0;++wt<vt;)if(pt(et[wt],wt,et))return!0;return!1}function H(et){var pt=!1;if(et!=null&&typeof et.toString!="function")try{pt=!!(et+"")}catch(wt){}return pt}function A(et){var pt=-1,wt=Array(et.size);return et.forEach(function(vt,Vt){wt[++pt]=[Vt,vt]}),wt}function N(et){var pt=-1,wt=Array(et.size);return et.forEach(function(vt){wt[++pt]=vt}),wt}var E,x,_,P=Array.prototype,M=Function.prototype,k=Object.prototype,R=C["__core-js_shared__"],F=(E=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",q=M.toString,X=k.hasOwnProperty,J=k.toString,j=RegExp("^"+q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=C.Symbol,B=C.Uint8Array,T=k.propertyIsEnumerable,W=P.splice,Y=(x=Object.keys,_=Object,function(et){return x(_(et))}),Q=Wt(C,"DataView"),Z=Wt(C,"Map"),tt=Wt(C,"Promise"),rt=Wt(C,"Set"),st=Wt(C,"WeakMap"),$=Wt(Object,"create"),nt=ft(Q),it=ft(Z),ht=ft(tt),ct=ft(rt),ut=ft(st),gt=K?K.prototype:void 0,mt=gt?gt.valueOf:void 0,xt=gt?gt.toString:void 0;function kt(et){var pt=-1,wt=et?et.length:0;for(this.clear();++pt<wt;){var vt=et[pt];this.set(vt[0],vt[1])}}function At(et){var pt=-1,wt=et?et.length:0;for(this.clear();++pt<wt;){var vt=et[pt];this.set(vt[0],vt[1])}}function Ct(et){var pt=-1,wt=et?et.length:0;for(this.clear();++pt<wt;){var vt=et[pt];this.set(vt[0],vt[1])}}function Lt(et){var pt=-1,wt=et?et.length:0;for(this.__data__=new Ct;++pt<wt;)this.add(et[pt])}function Rt(et){this.__data__=new At(et)}function It(et,pt){var wt=Ut(et)||Xt(et)?function(Pt,ie){for(var $t=-1,Qt=Array(Pt);++$t<Pt;)Qt[$t]=ie($t);return Qt}(et.length,String):[],vt=wt.length,Vt=!!vt;for(var Mt in et)!pt&&!X.call(et,Mt)||Vt&&(Mt=="length"||be(Mt,vt))||wt.push(Mt);return wt}function zt(et,pt){for(var wt=et.length;wt--;)if(Dt(et[wt][0],pt))return wt;return-1}function St(et,pt,wt,vt){return Tt(et,function(Vt,Mt,Pt){pt(vt,Vt,wt(Vt),Pt)}),vt}kt.prototype.clear=function(){this.__data__=$?$(null):{}},kt.prototype.delete=function(et){return this.has(et)&&delete this.__data__[et]},kt.prototype.get=function(et){var pt=this.__data__;if($){var wt=pt[et];return wt==="__lodash_hash_undefined__"?void 0:wt}return X.call(pt,et)?pt[et]:void 0},kt.prototype.has=function(et){var pt=this.__data__;return $?pt[et]!==void 0:X.call(pt,et)},kt.prototype.set=function(et,pt){return this.__data__[et]=$&&pt===void 0?"__lodash_hash_undefined__":pt,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(et){var pt=this.__data__,wt=zt(pt,et);return!(wt<0)&&(wt==pt.length-1?pt.pop():W.call(pt,wt,1),!0)},At.prototype.get=function(et){var pt=this.__data__,wt=zt(pt,et);return wt<0?void 0:pt[wt][1]},At.prototype.has=function(et){return zt(this.__data__,et)>-1},At.prototype.set=function(et,pt){var wt=this.__data__,vt=zt(wt,et);return vt<0?wt.push([et,pt]):wt[vt][1]=pt,this},Ct.prototype.clear=function(){this.__data__={hash:new kt,map:new(Z||At),string:new kt}},Ct.prototype.delete=function(et){return de(this,et).delete(et)},Ct.prototype.get=function(et){return de(this,et).get(et)},Ct.prototype.has=function(et){return de(this,et).has(et)},Ct.prototype.set=function(et,pt){return de(this,et).set(et,pt),this},Lt.prototype.add=Lt.prototype.push=function(et){return this.__data__.set(et,"__lodash_hash_undefined__"),this},Lt.prototype.has=function(et){return this.__data__.has(et)},Rt.prototype.clear=function(){this.__data__=new At},Rt.prototype.delete=function(et){return this.__data__.delete(et)},Rt.prototype.get=function(et){return this.__data__.get(et)},Rt.prototype.has=function(et){return this.__data__.has(et)},Rt.prototype.set=function(et,pt){var wt=this.__data__;if(wt instanceof At){var vt=wt.__data__;if(!Z||vt.length<199)return vt.push([et,pt]),this;wt=this.__data__=new Ct(vt)}return wt.set(et,pt),this};var _t,Tt=(_t=function(et,pt){return et&&Bt(et,pt,je)},function(et,pt){if(et==null)return et;if(!jt(et))return _t(et,pt);for(var wt=et.length,vt=-1,Vt=Object(et);++vt<wt&&pt(Vt[vt],vt,Vt)!==!1;);return et}),Bt=function(et){return function(pt,wt,vt){for(var Vt=-1,Mt=Object(pt),Pt=vt(pt),ie=Pt.length;ie--;){var $t=Pt[et?ie:++Vt];if(wt(Mt[$t],$t,Mt)===!1)break}return pt}}();function Nt(et,pt){for(var wt=0,vt=(pt=qt(pt,et)?[pt]:Yt(pt)).length;et!=null&&wt<vt;)et=et[at(pt[wt++])];return wt&&wt==vt?et:void 0}function oe(et,pt){return et!=null&&pt in Object(et)}function pe(et,pt,wt,vt,Vt){return et===pt||(et==null||pt==null||!ne(et)&&!Ae(pt)?et!=et&&pt!=pt:function(Mt,Pt,ie,$t,Qt,Ht){var ge=Ut(Mt),Me=Ut(Pt),le="[object Array]",Ee="[object Array]";ge||(le=(le=ae(Mt))==r?s:le),Me||(Ee=(Ee=ae(Pt))==r?s:Ee);var Ve=le==s&&!H(Mt),He=Ee==s&&!H(Pt),en=le==Ee;if(en&&!Ve)return Ht||(Ht=new Rt),ge||Le(Mt)?we(Mt,Pt,ie,$t,Qt,Ht):function(me,ce,un,vn,Xr,Je,ln){switch(un){case"[object DataView]":if(me.byteLength!=ce.byteLength||me.byteOffset!=ce.byteOffset)return!1;me=me.buffer,ce=ce.buffer;case"[object ArrayBuffer]":return!(me.byteLength!=ce.byteLength||!vn(new B(me),new B(ce)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Dt(+me,+ce);case"[object Error]":return me.name==ce.name&&me.message==ce.message;case"[object RegExp]":case"[object String]":return me==ce+"";case i:var fn=A;case e:var Zn=2&Je;if(fn||(fn=N),me.size!=ce.size&&!Zn)return!1;var Kr=ln.get(me);if(Kr)return Kr==ce;Je|=1,ln.set(me,ce);var In=we(fn(me),fn(ce),vn,Xr,Je,ln);return ln.delete(me),In;case"[object Symbol]":if(mt)return mt.call(me)==mt.call(ce)}return!1}(Mt,Pt,le,ie,$t,Qt,Ht);if(!(2&Qt)){var rn=Ve&&X.call(Mt,"__wrapped__"),Vn=He&&X.call(Pt,"__wrapped__");if(rn||Vn){var Bn=rn?Mt.value():Mt,Rn=Vn?Pt.value():Pt;return Ht||(Ht=new Rt),ie(Bn,Rn,$t,Qt,Ht)}}return en?(Ht||(Ht=new Rt),function(me,ce,un,vn,Xr,Je){var ln=2&Xr,fn=je(me),Zn=fn.length,Kr=je(ce).length;if(Zn!=Kr&&!ln)return!1;for(var In=Zn;In--;){var pn=fn[In];if(!(ln?pn in ce:X.call(ce,pn)))return!1}var ss=Je.get(me);if(ss&&Je.get(ce))return ss==ce;var Yr=!0;Je.set(me,ce),Je.set(ce,me);for(var Si=ln;++In<Zn;){pn=fn[In];var Zr=me[pn],Jr=ce[pn];if(vn)var as=ln?vn(Jr,Zr,pn,ce,me,Je):vn(Zr,Jr,pn,me,ce,Je);if(!(as===void 0?Zr===Jr||un(Zr,Jr,vn,Xr,Je):as)){Yr=!1;break}Si||(Si=pn=="constructor")}if(Yr&&!Si){var Qr=me.constructor,$r=ce.constructor;Qr==$r||!("constructor"in me)||!("constructor"in ce)||typeof Qr=="function"&&Qr instanceof Qr&&typeof $r=="function"&&$r instanceof $r||(Yr=!1)}return Je.delete(me),Je.delete(ce),Yr}(Mt,Pt,ie,$t,Qt,Ht)):!1}(et,pt,pe,wt,vt,Vt))}function Ot(et){return!(!ne(et)||function(pt){return!!F&&F in pt}(et))&&(Zt(et)||H(et)?j:g).test(ft(et))}function he(et){return typeof et=="function"?et:et==null?Ye:typeof et=="object"?Ut(et)?function(vt,Vt){return qt(vt)&&fe(Vt)?ye(at(vt),Vt):function(Mt){var Pt=function(ie,$t,Qt){var Ht=ie==null?void 0:Nt(ie,$t);return Ht===void 0?Qt:Ht}(Mt,vt);return Pt===void 0&&Pt===Vt?function(ie,$t){return ie!=null&&function(Qt,Ht,ge){Ht=qt(Ht,Qt)?[Ht]:Yt(Ht);for(var Me,le=-1,Ee=Ht.length;++le<Ee;){var Ve=at(Ht[le]);if(!(Me=Qt!=null&&ge(Qt,Ve)))break;Qt=Qt[Ve]}return Me||!!(Ee=Qt?Qt.length:0)&&Kt(Ee)&&be(Ve,Ee)&&(Ut(Qt)||Xt(Qt))}(ie,$t,oe)}(Mt,vt):pe(Vt,Pt,void 0,3)}}(et[0],et[1]):function(vt){var Vt=function(Mt){for(var Pt=je(Mt),ie=Pt.length;ie--;){var $t=Pt[ie],Qt=Mt[$t];Pt[ie]=[$t,Qt,fe(Qt)]}return Pt}(vt);return Vt.length==1&&Vt[0][2]?ye(Vt[0][0],Vt[0][1]):function(Mt){return Mt===vt||function(Pt,ie,$t,Qt){var Ht=$t.length,ge=Ht,Me=!Qt;if(Pt==null)return!ge;for(Pt=Object(Pt);Ht--;){var le=$t[Ht];if(Me&&le[2]?le[1]!==Pt[le[0]]:!(le[0]in Pt))return!1}for(;++Ht<ge;){var Ee=(le=$t[Ht])[0],Ve=Pt[Ee],He=le[1];if(Me&&le[2]){if(Ve===void 0&&!(Ee in Pt))return!1}else{var en=new Rt;if(Qt)var rn=Qt(Ve,He,Ee,Pt,ie,en);if(!(rn===void 0?pe(He,Ve,Qt,3,en):rn))return!1}}return!0}(Mt,vt,Vt)}}(et):qt(pt=et)?(wt=at(pt),function(vt){return vt==null?void 0:vt[wt]}):function(vt){return function(Vt){return Nt(Vt,vt)}}(pt);var pt,wt}function re(et){if(wt=(pt=et)&&pt.constructor,vt=typeof wt=="function"&&wt.prototype||k,pt!==vt)return Y(et);var pt,wt,vt,Vt=[];for(var Mt in Object(et))X.call(et,Mt)&&Mt!="constructor"&&Vt.push(Mt);return Vt}function Yt(et){return Ut(et)?et:Jt(et)}function we(et,pt,wt,vt,Vt,Mt){var Pt=2&Vt,ie=et.length,$t=pt.length;if(ie!=$t&&!(Pt&&$t>ie))return!1;var Qt=Mt.get(et);if(Qt&&Mt.get(pt))return Qt==pt;var Ht=-1,ge=!0,Me=1&Vt?new Lt:void 0;for(Mt.set(et,pt),Mt.set(pt,et);++Ht<ie;){var le=et[Ht],Ee=pt[Ht];if(vt)var Ve=Pt?vt(Ee,le,Ht,pt,et,Mt):vt(le,Ee,Ht,et,pt,Mt);if(Ve!==void 0){if(Ve)continue;ge=!1;break}if(Me){if(!G(pt,function(He,en){if(!Me.has(en)&&(le===He||wt(le,He,vt,Vt,Mt)))return Me.add(en)})){ge=!1;break}}else if(le!==Ee&&!wt(le,Ee,vt,Vt,Mt)){ge=!1;break}}return Mt.delete(et),Mt.delete(pt),ge}function de(et,pt){var wt,vt,Vt=et.__data__;return((vt=typeof(wt=pt))=="string"||vt=="number"||vt=="symbol"||vt=="boolean"?wt!=="__proto__":wt===null)?Vt[typeof pt=="string"?"string":"hash"]:Vt.map}function Wt(et,pt){var wt=function(vt,Vt){return vt==null?void 0:vt[Vt]}(et,pt);return Ot(wt)?wt:void 0}var ae=function(et){return J.call(et)};function be(et,pt){return!!(pt=pt==null?9007199254740991:pt)&&(typeof et=="number"||f.test(et))&&et>-1&&et%1==0&&et<pt}function qt(et,pt){if(Ut(et))return!1;var wt=typeof et;return!(wt!="number"&&wt!="symbol"&&wt!="boolean"&&et!=null&&!xe(et))||d.test(et)||!n.test(et)||pt!=null&&et in Object(pt)}function fe(et){return et==et&&!ne(et)}function ye(et,pt){return function(wt){return wt!=null&&wt[et]===pt&&(pt!==void 0||et in Object(wt))}}(Q&&ae(new Q(new ArrayBuffer(1)))!="[object DataView]"||Z&&ae(new Z)!=i||tt&&ae(tt.resolve())!="[object Promise]"||rt&&ae(new rt)!=e||st&&ae(new st)!="[object WeakMap]")&&(ae=function(et){var pt=J.call(et),wt=pt==s?et.constructor:void 0,vt=wt?ft(wt):void 0;if(vt)switch(vt){case nt:return"[object DataView]";case it:return i;case ht:return"[object Promise]";case ct:return e;case ut:return"[object WeakMap]"}return pt});var Jt=Ft(function(et){var pt;et=(pt=et)==null?"":function(vt){if(typeof vt=="string")return vt;if(xe(vt))return xt?xt.call(vt):"";var Vt=vt+"";return Vt=="0"&&1/vt==-1/0?"-0":Vt}(pt);var wt=[];return l.test(et)&&wt.push(""),et.replace(h,function(vt,Vt,Mt,Pt){wt.push(Mt?Pt.replace(p,"$1"):Vt||vt)}),wt});function at(et){if(typeof et=="string"||xe(et))return et;var pt=et+"";return pt=="0"&&1/et==-1/0?"-0":pt}function ft(et){if(et!=null){try{return q.call(et)}catch(pt){}try{return et+""}catch(pt){}}return""}var bt,Et=(bt=function(et,pt,wt){X.call(et,wt)?et[wt].push(pt):et[wt]=[pt]},function(et,pt){var wt=Ut(et)?U:St,vt={};return wt(et,bt,he(pt),vt)});function Ft(et,pt){if(typeof et!="function"||pt&&typeof pt!="function")throw new TypeError("Expected a function");var wt=function(){var vt=arguments,Vt=pt?pt.apply(this,vt):vt[0],Mt=wt.cache;if(Mt.has(Vt))return Mt.get(Vt);var Pt=et.apply(this,vt);return wt.cache=Mt.set(Vt,Pt),Pt};return wt.cache=new(Ft.Cache||Ct),wt}function Dt(et,pt){return et===pt||et!=et&&pt!=pt}function Xt(et){return function(pt){return Ae(pt)&&jt(pt)}(et)&&X.call(et,"callee")&&(!T.call(et,"callee")||J.call(et)==r)}Ft.Cache=Ct;var Ut=Array.isArray;function jt(et){return et!=null&&Kt(et.length)&&!Zt(et)}function Zt(et){var pt=ne(et)?J.call(et):"";return pt=="[object Function]"||pt=="[object GeneratorFunction]"}function Kt(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=9007199254740991}function ne(et){var pt=typeof et;return!!et&&(pt=="object"||pt=="function")}function Ae(et){return!!et&&typeof et=="object"}function xe(et){return typeof et=="symbol"||Ae(et)&&J.call(et)=="[object Symbol]"}var Le=L?function(et){return function(pt){return et(pt)}}(L):function(et){return Ae(et)&&Kt(et.length)&&!!m[J.call(et)]};function je(et){return jt(et)?It(et):re(et)}function Ye(et){return et}c.exports=Et}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],444:[function(t,c,u){var a=Object.prototype.toString;c.exports=function(r){return r===!0||r===!1||function(i){return!!i&&typeof i=="object"}(r)&&a.call(r)=="[object Boolean]"}},{}],445:[function(t,c,u){(function(a){(function(){var r="[object Arguments]",i="[object Map]",s="[object Object]",e="[object Set]",n=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[r]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[i]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l[e]=l["[object String]"]=l["[object WeakMap]"]=!1;var h=typeof a=="object"&&a&&a.Object===Object&&a,p=typeof self=="object"&&self&&self.Object===Object&&self,g=h||p||Function("return this")(),f=typeof u=="object"&&u&&!u.nodeType&&u,m=f&&typeof c=="object"&&c&&!c.nodeType&&c,y=m&&m.exports===f,v=y&&h.process,C=function(){try{return v&&v.binding&&v.binding("util")}catch(at){}}(),S=C&&C.isTypedArray;function I(at,ft){for(var bt=-1,Et=at==null?0:at.length;++bt<Et;)if(ft(at[bt],bt,at))return!0;return!1}function z(at){var ft=-1,bt=Array(at.size);return at.forEach(function(Et,Ft){bt[++ft]=[Ft,Et]}),bt}function V(at){var ft=-1,bt=Array(at.size);return at.forEach(function(Et){bt[++ft]=Et}),bt}var L,U,G,H=Array.prototype,A=Function.prototype,N=Object.prototype,E=g["__core-js_shared__"],x=A.toString,_=N.hasOwnProperty,P=(L=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",M=N.toString,k=RegExp("^"+x.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y?g.Buffer:void 0,F=g.Symbol,q=g.Uint8Array,X=N.propertyIsEnumerable,J=H.splice,j=F?F.toStringTag:void 0,K=Object.getOwnPropertySymbols,B=R?R.isBuffer:void 0,T=(U=Object.keys,G=Object,function(at){return U(G(at))}),W=oe(g,"DataView"),Y=oe(g,"Map"),Q=oe(g,"Promise"),Z=oe(g,"Set"),tt=oe(g,"WeakMap"),rt=oe(Object,"create"),st=re(W),$=re(Y),nt=re(Q),it=re(Z),ht=re(tt),ct=F?F.prototype:void 0,ut=ct?ct.valueOf:void 0;function gt(at){var ft=-1,bt=at==null?0:at.length;for(this.clear();++ft<bt;){var Et=at[ft];this.set(Et[0],Et[1])}}function mt(at){var ft=-1,bt=at==null?0:at.length;for(this.clear();++ft<bt;){var Et=at[ft];this.set(Et[0],Et[1])}}function xt(at){var ft=-1,bt=at==null?0:at.length;for(this.clear();++ft<bt;){var Et=at[ft];this.set(Et[0],Et[1])}}function kt(at){var ft=-1,bt=at==null?0:at.length;for(this.__data__=new xt;++ft<bt;)this.add(at[ft])}function At(at){var ft=this.__data__=new mt(at);this.size=ft.size}function Ct(at,ft){var bt=de(at),Et=!bt&&we(at),Ft=!bt&&!Et&&Wt(at),Dt=!bt&&!Et&&!Ft&&ye(at),Xt=bt||Et||Ft||Dt,Ut=Xt?function(Kt,ne){for(var Ae=-1,xe=Array(Kt);++Ae<Kt;)xe[Ae]=ne(Ae);return xe}(at.length,String):[],jt=Ut.length;for(var Zt in at)!ft&&!_.call(at,Zt)||Xt&&(Zt=="length"||Ft&&(Zt=="offset"||Zt=="parent")||Dt&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||he(Zt,jt))||Ut.push(Zt);return Ut}function Lt(at,ft){for(var bt=at.length;bt--;)if(Yt(at[bt][0],ft))return bt;return-1}function Rt(at){return at==null?at===void 0?"[object Undefined]":"[object Null]":j&&j in Object(at)?function(ft){var bt=_.call(ft,j),Et=ft[j];try{ft[j]=void 0;var Ft=!0}catch(Xt){}var Dt=M.call(ft);return Ft&&(bt?ft[j]=Et:delete ft[j]),Dt}(at):function(ft){return M.call(ft)}(at)}function It(at){return fe(at)&&Rt(at)==r}function zt(at,ft,bt,Et,Ft){return at===ft||(at==null||ft==null||!fe(at)&&!fe(ft)?at!=at&&ft!=ft:function(Dt,Xt,Ut,jt,Zt,Kt){var ne=de(Dt),Ae=de(Xt),xe=ne?"[object Array]":Ot(Dt),Le=Ae?"[object Array]":Ot(Xt),je=(xe=xe==r?s:xe)==s,Ye=(Le=Le==r?s:Le)==s,et=xe==Le;if(et&&Wt(Dt)){if(!Wt(Xt))return!1;ne=!0,je=!1}if(et&&!je)return Kt||(Kt=new At),ne||ye(Dt)?Tt(Dt,Xt,Ut,jt,Zt,Kt):function(Mt,Pt,ie,$t,Qt,Ht,ge){switch(ie){case"[object DataView]":if(Mt.byteLength!=Pt.byteLength||Mt.byteOffset!=Pt.byteOffset)return!1;Mt=Mt.buffer,Pt=Pt.buffer;case"[object ArrayBuffer]":return!(Mt.byteLength!=Pt.byteLength||!Ht(new q(Mt),new q(Pt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Yt(+Mt,+Pt);case"[object Error]":return Mt.name==Pt.name&&Mt.message==Pt.message;case"[object RegExp]":case"[object String]":return Mt==Pt+"";case i:var Me=z;case e:var le=1&$t;if(Me||(Me=V),Mt.size!=Pt.size&&!le)return!1;var Ee=ge.get(Mt);if(Ee)return Ee==Pt;$t|=2,ge.set(Mt,Pt);var Ve=Tt(Me(Mt),Me(Pt),$t,Qt,Ht,ge);return ge.delete(Mt),Ve;case"[object Symbol]":if(ut)return ut.call(Mt)==ut.call(Pt)}return!1}(Dt,Xt,xe,Ut,jt,Zt,Kt);if(!(1&Ut)){var pt=je&&_.call(Dt,"__wrapped__"),wt=Ye&&_.call(Xt,"__wrapped__");if(pt||wt){var vt=pt?Dt.value():Dt,Vt=wt?Xt.value():Xt;return Kt||(Kt=new At),Zt(vt,Vt,Ut,jt,Kt)}}return et?(Kt||(Kt=new At),function(Mt,Pt,ie,$t,Qt,Ht){var ge=1&ie,Me=Bt(Mt),le=Me.length,Ee=Bt(Pt).length;if(le!=Ee&&!ge)return!1;for(var Ve=le;Ve--;){var He=Me[Ve];if(!(ge?He in Pt:_.call(Pt,He)))return!1}var en=Ht.get(Mt);if(en&&Ht.get(Pt))return en==Pt;var rn=!0;Ht.set(Mt,Pt),Ht.set(Pt,Mt);for(var Vn=ge;++Ve<le;){He=Me[Ve];var Bn=Mt[He],Rn=Pt[He];if($t)var me=ge?$t(Rn,Bn,He,Pt,Mt,Ht):$t(Bn,Rn,He,Mt,Pt,Ht);if(!(me===void 0?Bn===Rn||Qt(Bn,Rn,ie,$t,Ht):me)){rn=!1;break}Vn||(Vn=He=="constructor")}if(rn&&!Vn){var ce=Mt.constructor,un=Pt.constructor;ce==un||!("constructor"in Mt)||!("constructor"in Pt)||typeof ce=="function"&&ce instanceof ce&&typeof un=="function"&&un instanceof un||(rn=!1)}return Ht.delete(Mt),Ht.delete(Pt),rn}(Dt,Xt,Ut,jt,Zt,Kt)):!1}(at,ft,bt,Et,zt,Ft))}function St(at){return!(!qt(at)||function(ft){return!!P&&P in ft}(at))&&(ae(at)?k:n).test(re(at))}function _t(at){if(bt=(ft=at)&&ft.constructor,Et=typeof bt=="function"&&bt.prototype||N,ft!==Et)return T(at);var ft,bt,Et,Ft=[];for(var Dt in Object(at))_.call(at,Dt)&&Dt!="constructor"&&Ft.push(Dt);return Ft}function Tt(at,ft,bt,Et,Ft,Dt){var Xt=1&bt,Ut=at.length,jt=ft.length;if(Ut!=jt&&!(Xt&&jt>Ut))return!1;var Zt=Dt.get(at);if(Zt&&Dt.get(ft))return Zt==ft;var Kt=-1,ne=!0,Ae=2&bt?new kt:void 0;for(Dt.set(at,ft),Dt.set(ft,at);++Kt<Ut;){var xe=at[Kt],Le=ft[Kt];if(Et)var je=Xt?Et(Le,xe,Kt,ft,at,Dt):Et(xe,Le,Kt,at,ft,Dt);if(je!==void 0){if(je)continue;ne=!1;break}if(Ae){if(!I(ft,function(Ye,et){if(pt=et,!Ae.has(pt)&&(xe===Ye||Ft(xe,Ye,bt,Et,Dt)))return Ae.push(et);var pt})){ne=!1;break}}else if(xe!==Le&&!Ft(xe,Le,bt,Et,Dt)){ne=!1;break}}return Dt.delete(at),Dt.delete(ft),ne}function Bt(at){return function(ft,bt,Et){var Ft=bt(ft);return de(ft)?Ft:function(Dt,Xt){for(var Ut=-1,jt=Xt.length,Zt=Dt.length;++Ut<jt;)Dt[Zt+Ut]=Xt[Ut];return Dt}(Ft,Et(ft))}(at,Jt,pe)}function Nt(at,ft){var bt,Et,Ft=at.__data__;return((Et=typeof(bt=ft))=="string"||Et=="number"||Et=="symbol"||Et=="boolean"?bt!=="__proto__":bt===null)?Ft[typeof ft=="string"?"string":"hash"]:Ft.map}function oe(at,ft){var bt=function(Et,Ft){return Et==null?void 0:Et[Ft]}(at,ft);return St(bt)?bt:void 0}gt.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},gt.prototype.delete=function(at){var ft=this.has(at)&&delete this.__data__[at];return this.size-=ft?1:0,ft},gt.prototype.get=function(at){var ft=this.__data__;if(rt){var bt=ft[at];return bt==="__lodash_hash_undefined__"?void 0:bt}return _.call(ft,at)?ft[at]:void 0},gt.prototype.has=function(at){var ft=this.__data__;return rt?ft[at]!==void 0:_.call(ft,at)},gt.prototype.set=function(at,ft){var bt=this.__data__;return this.size+=this.has(at)?0:1,bt[at]=rt&&ft===void 0?"__lodash_hash_undefined__":ft,this},mt.prototype.clear=function(){this.__data__=[],this.size=0},mt.prototype.delete=function(at){var ft=this.__data__,bt=Lt(ft,at);return!(bt<0)&&(bt==ft.length-1?ft.pop():J.call(ft,bt,1),--this.size,!0)},mt.prototype.get=function(at){var ft=this.__data__,bt=Lt(ft,at);return bt<0?void 0:ft[bt][1]},mt.prototype.has=function(at){return Lt(this.__data__,at)>-1},mt.prototype.set=function(at,ft){var bt=this.__data__,Et=Lt(bt,at);return Et<0?(++this.size,bt.push([at,ft])):bt[Et][1]=ft,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(Y||mt),string:new gt}},xt.prototype.delete=function(at){var ft=Nt(this,at).delete(at);return this.size-=ft?1:0,ft},xt.prototype.get=function(at){return Nt(this,at).get(at)},xt.prototype.has=function(at){return Nt(this,at).has(at)},xt.prototype.set=function(at,ft){var bt=Nt(this,at),Et=bt.size;return bt.set(at,ft),this.size+=bt.size==Et?0:1,this},kt.prototype.add=kt.prototype.push=function(at){return this.__data__.set(at,"__lodash_hash_undefined__"),this},kt.prototype.has=function(at){return this.__data__.has(at)},At.prototype.clear=function(){this.__data__=new mt,this.size=0},At.prototype.delete=function(at){var ft=this.__data__,bt=ft.delete(at);return this.size=ft.size,bt},At.prototype.get=function(at){return this.__data__.get(at)},At.prototype.has=function(at){return this.__data__.has(at)},At.prototype.set=function(at,ft){var bt=this.__data__;if(bt instanceof mt){var Et=bt.__data__;if(!Y||Et.length<199)return Et.push([at,ft]),this.size=++bt.size,this;bt=this.__data__=new xt(Et)}return bt.set(at,ft),this.size=bt.size,this};var pe=K?function(at){return at==null?[]:(at=Object(at),function(ft,bt){for(var Et=-1,Ft=ft==null?0:ft.length,Dt=0,Xt=[];++Et<Ft;){var Ut=ft[Et];bt(Ut,Et,ft)&&(Xt[Dt++]=Ut)}return Xt}(K(at),function(ft){return X.call(at,ft)}))}:function(){return[]},Ot=Rt;function he(at,ft){return!!(ft=ft==null?9007199254740991:ft)&&(typeof at=="number"||d.test(at))&&at>-1&&at%1==0&&at<ft}function re(at){if(at!=null){try{return x.call(at)}catch(ft){}try{return at+""}catch(ft){}}return""}function Yt(at,ft){return at===ft||at!=at&&ft!=ft}(W&&Ot(new W(new ArrayBuffer(1)))!="[object DataView]"||Y&&Ot(new Y)!=i||Q&&Ot(Q.resolve())!="[object Promise]"||Z&&Ot(new Z)!=e||tt&&Ot(new tt)!="[object WeakMap]")&&(Ot=function(at){var ft=Rt(at),bt=ft==s?at.constructor:void 0,Et=bt?re(bt):"";if(Et)switch(Et){case st:return"[object DataView]";case $:return i;case nt:return"[object Promise]";case it:return e;case ht:return"[object WeakMap]"}return ft});var we=It(function(){return arguments}())?It:function(at){return fe(at)&&_.call(at,"callee")&&!X.call(at,"callee")},de=Array.isArray,Wt=B||function(){return!1};function ae(at){if(!qt(at))return!1;var ft=Rt(at);return ft=="[object Function]"||ft=="[object GeneratorFunction]"||ft=="[object AsyncFunction]"||ft=="[object Proxy]"}function be(at){return typeof at=="number"&&at>-1&&at%1==0&&at<=9007199254740991}function qt(at){var ft=typeof at;return at!=null&&(ft=="object"||ft=="function")}function fe(at){return at!=null&&typeof at=="object"}var ye=S?function(at){return function(ft){return at(ft)}}(S):function(at){return fe(at)&&be(at.length)&&!!l[Rt(at)]};function Jt(at){return(ft=at)!=null&&be(ft.length)&&!ae(ft)?Ct(at):_t(at);var ft}c.exports=function(at,ft){return zt(at,ft)}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],446:[function(t,c,u){(function(a){(function(){var r=typeof a=="object"&&a&&a.Object===Object&&a,i=typeof self=="object"&&self&&self.Object===Object&&self,s=r||i||Function("return this")(),e=Object.prototype,n=e.hasOwnProperty,d=e.toString,l=s.Symbol,h=l?l.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":h&&h in Object(g)?function(f){var m=n.call(f,h),y=f[h];try{f[h]=void 0;var v=!0}catch(S){}var C=d.call(f);return v&&(m?f[h]=y:delete f[h]),C}(g):function(f){return d.call(f)}(g)}c.exports=function(g){if(!function(m){var y=typeof m;return m!=null&&(y=="object"||y=="function")}(g))return!1;var f=p(g);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],447:[function(t,c,u){c.exports=function(a){return a==null}},{}],448:[function(t,c,u){c.exports=function(a){return a===void 0}},{}],449:[function(t,c,u){(function(a){(function(){var r=/^\[object .+?Constructor\]$/,i=typeof a=="object"&&a&&a.Object===Object&&a,s=typeof self=="object"&&self&&self.Object===Object&&self,e=i||s||Function("return this")();function n(q,X){return!!(q&&q.length)&&function(J,j,K){if(j!=j)return function(W,Y,Q,Z){for(var tt=W.length,rt=Q+(Z?1:-1);Z?rt--:++rt<tt;)if(Y(W[rt],rt,W))return rt;return-1}(J,l,K);for(var B=K-1,T=J.length;++B<T;)if(J[B]===j)return B;return-1}(q,X,0)>-1}function d(q,X,J){for(var j=-1,K=q?q.length:0;++j<K;)if(J(X,q[j]))return!0;return!1}function l(q){return q!=q}function h(q,X){return q.has(X)}function p(q){var X=-1,J=Array(q.size);return q.forEach(function(j){J[++X]=j}),J}var g,f=Array.prototype,m=Function.prototype,y=Object.prototype,v=e["__core-js_shared__"],C=(g=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",S=m.toString,I=y.hasOwnProperty,z=y.toString,V=RegExp("^"+S.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=f.splice,U=R(e,"Map"),G=R(e,"Set"),H=R(Object,"create");function A(q){var X=-1,J=q?q.length:0;for(this.clear();++X<J;){var j=q[X];this.set(j[0],j[1])}}function N(q){var X=-1,J=q?q.length:0;for(this.clear();++X<J;){var j=q[X];this.set(j[0],j[1])}}function E(q){var X=-1,J=q?q.length:0;for(this.clear();++X<J;){var j=q[X];this.set(j[0],j[1])}}function x(q){var X=-1,J=q?q.length:0;for(this.__data__=new E;++X<J;)this.add(q[X])}function _(q,X){for(var J,j,K=q.length;K--;)if((J=q[K][0])===(j=X)||J!=J&&j!=j)return K;return-1}function P(q){return!(!F(q)||(X=q,C&&C in X))&&(function(J){var j=F(J)?z.call(J):"";return j=="[object Function]"||j=="[object GeneratorFunction]"}(q)||function(J){var j=!1;if(J!=null&&typeof J.toString!="function")try{j=!!(J+"")}catch(K){}return j}(q)?V:r).test(function(J){if(J!=null){try{return S.call(J)}catch(j){}try{return J+""}catch(j){}}return""}(q));var X}A.prototype.clear=function(){this.__data__=H?H(null):{}},A.prototype.delete=function(q){return this.has(q)&&delete this.__data__[q]},A.prototype.get=function(q){var X=this.__data__;if(H){var J=X[q];return J==="__lodash_hash_undefined__"?void 0:J}return I.call(X,q)?X[q]:void 0},A.prototype.has=function(q){var X=this.__data__;return H?X[q]!==void 0:I.call(X,q)},A.prototype.set=function(q,X){return this.__data__[q]=H&&X===void 0?"__lodash_hash_undefined__":X,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(q){var X=this.__data__,J=_(X,q);return!(J<0)&&(J==X.length-1?X.pop():L.call(X,J,1),!0)},N.prototype.get=function(q){var X=this.__data__,J=_(X,q);return J<0?void 0:X[J][1]},N.prototype.has=function(q){return _(this.__data__,q)>-1},N.prototype.set=function(q,X){var J=this.__data__,j=_(J,q);return j<0?J.push([q,X]):J[j][1]=X,this},E.prototype.clear=function(){this.__data__={hash:new A,map:new(U||N),string:new A}},E.prototype.delete=function(q){return k(this,q).delete(q)},E.prototype.get=function(q){return k(this,q).get(q)},E.prototype.has=function(q){return k(this,q).has(q)},E.prototype.set=function(q,X){return k(this,q).set(q,X),this},x.prototype.add=x.prototype.push=function(q){return this.__data__.set(q,"__lodash_hash_undefined__"),this},x.prototype.has=function(q){return this.__data__.has(q)};var M=G&&1/p(new G([,-0]))[1]==1/0?function(q){return new G(q)}:function(){};function k(q,X){var J,j,K=q.__data__;return((j=typeof(J=X))=="string"||j=="number"||j=="symbol"||j=="boolean"?J!=="__proto__":J===null)?K[typeof X=="string"?"string":"hash"]:K.map}function R(q,X){var J=function(j,K){return j==null?void 0:j[K]}(q,X);return P(J)?J:void 0}function F(q){var X=typeof q;return!!q&&(X=="object"||X=="function")}c.exports=function(q){return q&&q.length?function(X,J,j){var K=-1,B=n,T=X.length,W=!0,Y=[],Q=Y;if(j)W=!1,B=d;else if(T>=200){var Z=J?null:M(X);if(Z)return p(Z);W=!1,B=h,Q=new x}else Q=J?[]:Y;t:for(;++K<T;){var tt=X[K],rt=J?J(tt):tt;if(tt=j||tt!==0?tt:0,W&&rt==rt){for(var st=Q.length;st--;)if(Q[st]===rt)continue t;J&&Q.push(rt),Y.push(tt)}else B(Q,rt,j)||(Q!==Y&&Q.push(rt),Y.push(tt))}return Y}(q):[]}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],450:[function(t,c,u){var a=t("inherits"),r=t("hash-base"),i=t("safe-buffer").Buffer,s=new Array(16);function e(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(g,f){return g<<f|g>>>32-f}function d(g,f,m,y,v,C,S){return n(g+(f&m|~f&y)+v+C|0,S)+f|0}function l(g,f,m,y,v,C,S){return n(g+(f&y|m&~y)+v+C|0,S)+f|0}function h(g,f,m,y,v,C,S){return n(g+(f^m^y)+v+C|0,S)+f|0}function p(g,f,m,y,v,C,S){return n(g+(m^(f|~y))+v+C|0,S)+f|0}a(e,r),e.prototype._update=function(){for(var g=s,f=0;f<16;++f)g[f]=this._block.readInt32LE(4*f);var m=this._a,y=this._b,v=this._c,C=this._d;m=d(m,y,v,C,g[0],3614090360,7),C=d(C,m,y,v,g[1],3905402710,12),v=d(v,C,m,y,g[2],606105819,17),y=d(y,v,C,m,g[3],3250441966,22),m=d(m,y,v,C,g[4],4118548399,7),C=d(C,m,y,v,g[5],1200080426,12),v=d(v,C,m,y,g[6],2821735955,17),y=d(y,v,C,m,g[7],4249261313,22),m=d(m,y,v,C,g[8],1770035416,7),C=d(C,m,y,v,g[9],2336552879,12),v=d(v,C,m,y,g[10],4294925233,17),y=d(y,v,C,m,g[11],2304563134,22),m=d(m,y,v,C,g[12],1804603682,7),C=d(C,m,y,v,g[13],4254626195,12),v=d(v,C,m,y,g[14],2792965006,17),m=l(m,y=d(y,v,C,m,g[15],1236535329,22),v,C,g[1],4129170786,5),C=l(C,m,y,v,g[6],3225465664,9),v=l(v,C,m,y,g[11],643717713,14),y=l(y,v,C,m,g[0],3921069994,20),m=l(m,y,v,C,g[5],3593408605,5),C=l(C,m,y,v,g[10],38016083,9),v=l(v,C,m,y,g[15],3634488961,14),y=l(y,v,C,m,g[4],3889429448,20),m=l(m,y,v,C,g[9],568446438,5),C=l(C,m,y,v,g[14],3275163606,9),v=l(v,C,m,y,g[3],4107603335,14),y=l(y,v,C,m,g[8],1163531501,20),m=l(m,y,v,C,g[13],2850285829,5),C=l(C,m,y,v,g[2],4243563512,9),v=l(v,C,m,y,g[7],1735328473,14),m=h(m,y=l(y,v,C,m,g[12],2368359562,20),v,C,g[5],4294588738,4),C=h(C,m,y,v,g[8],2272392833,11),v=h(v,C,m,y,g[11],1839030562,16),y=h(y,v,C,m,g[14],4259657740,23),m=h(m,y,v,C,g[1],2763975236,4),C=h(C,m,y,v,g[4],1272893353,11),v=h(v,C,m,y,g[7],4139469664,16),y=h(y,v,C,m,g[10],3200236656,23),m=h(m,y,v,C,g[13],681279174,4),C=h(C,m,y,v,g[0],3936430074,11),v=h(v,C,m,y,g[3],3572445317,16),y=h(y,v,C,m,g[6],76029189,23),m=h(m,y,v,C,g[9],3654602809,4),C=h(C,m,y,v,g[12],3873151461,11),v=h(v,C,m,y,g[15],530742520,16),m=p(m,y=h(y,v,C,m,g[2],3299628645,23),v,C,g[0],4096336452,6),C=p(C,m,y,v,g[7],1126891415,10),v=p(v,C,m,y,g[14],2878612391,15),y=p(y,v,C,m,g[5],4237533241,21),m=p(m,y,v,C,g[12],1700485571,6),C=p(C,m,y,v,g[3],2399980690,10),v=p(v,C,m,y,g[10],4293915773,15),y=p(y,v,C,m,g[1],2240044497,21),m=p(m,y,v,C,g[8],1873313359,6),C=p(C,m,y,v,g[15],4264355552,10),v=p(v,C,m,y,g[6],2734768916,15),y=p(y,v,C,m,g[13],1309151649,21),m=p(m,y,v,C,g[4],4149444226,6),C=p(C,m,y,v,g[11],3174756917,10),v=p(v,C,m,y,g[2],718787259,15),y=p(y,v,C,m,g[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+y|0,this._c=this._c+v|0,this._d=this._d+C|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=i.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},c.exports=e},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,c,u){var a=t("bn.js"),r=t("brorand");function i(s){this.rand=s||new r.Rand}c.exports=i,i.create=function(s){return new i(s)},i.prototype._randbelow=function(s){var e=s.bitLength(),n=Math.ceil(e/8);do var d=new a(this.rand.generate(n));while(d.cmp(s)>=0);return d},i.prototype._randrange=function(s,e){var n=e.sub(s);return s.add(this._randbelow(n))},i.prototype.test=function(s,e,n){var d=s.bitLength(),l=a.mont(s),h=new a(1).toRed(l);e||(e=Math.max(1,d/48|0));for(var p=s.subn(1),g=0;!p.testn(g);g++);for(var f=s.shrn(g),m=p.toRed(l);e>0;e--){var y=this._randrange(new a(2),p);n&&n(y);var v=y.toRed(l).redPow(f);if(v.cmp(h)!==0&&v.cmp(m)!==0){for(var C=1;C<g;C++){if((v=v.redSqr()).cmp(h)===0)return!1;if(v.cmp(m)===0)break}if(C===g)return!1}}return!0},i.prototype.getDivisor=function(s,e){var n=s.bitLength(),d=a.mont(s),l=new a(1).toRed(d);e||(e=Math.max(1,n/48|0));for(var h=s.subn(1),p=0;!h.testn(p);p++);for(var g=s.shrn(p),f=h.toRed(d);e>0;e--){var m=this._randrange(new a(2),h),y=s.gcd(m);if(y.cmpn(1)!==0)return y;var v=m.toRed(d).redPow(g);if(v.cmp(l)!==0&&v.cmp(f)!==0){for(var C=1;C<p;C++){if((v=v.redSqr()).cmp(l)===0)return v.fromRed().subn(1).gcd(s);if(v.cmp(f)===0)break}if(C===p)return(v=v.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,c,u){arguments[4][184][0].apply(u,arguments)},{buffer:188,dup:184}],453:[function(t,c,u){function a(r,i){if(!r)throw new Error(i||"Assertion failed")}c.exports=a,a.equal=function(r,i,s){if(r!=i)throw new Error(s||"Assertion failed: "+r+" != "+i)}},{}],454:[function(t,c,u){var a=u;function r(s){return s.length===1?"0"+s:s}function i(s){for(var e="",n=0;n<s.length;n++)e+=r(s[n].toString(16));return e}a.toArray=function(s,e){if(Array.isArray(s))return s.slice();if(!s)return[];var n=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)n[d]=0|s[d];return n}if(e==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),d=0;d<s.length;d+=2)n.push(parseInt(s[d]+s[d+1],16));else for(d=0;d<s.length;d++){var l=s.charCodeAt(d),h=l>>8,p=255&l;h?n.push(h,p):n.push(p)}return n},a.zero2=r,a.toHex=i,a.encode=function(s,e){return e==="hex"?i(s):s}},{}],455:[function(t,c,u){c.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,c,u){var a=t("asn1.js");u.certificate=t("./certificate");var r=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});u.RSAPrivateKey=r;var i=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});u.RSAPublicKey=i;var s=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e),this.key("subjectPublicKey").bitstr())});u.PublicKey=s;var e=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),n=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("subjectPrivateKey").octstr())});u.PrivateKey=n;var d=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});u.EncryptedPrivateKey=d;var l=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});u.DSAPrivateKey=l,u.DSAparam=a.define("DSAparam",function(){this.int()});var h=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});u.ECPrivateKey=h;var p=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});u.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,c,u){var a=t("asn1.js"),r=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),n=a.define("RelativeDistinguishedName",function(){this.setof(i)}),d=a.define("RDNSequence",function(){this.seqof(n)}),l=a.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),h=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),p=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),f=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});c.exports=f},{"asn1.js":170}],458:[function(t,c,u){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=t("evp_bytestokey"),e=t("browserify-aes"),n=t("safe-buffer").Buffer;c.exports=function(d,l){var h,p=d.toString(),g=p.match(a);if(g){var f="aes"+g[1],m=n.from(g[2],"hex"),y=n.from(g[3].replace(/[\r\n]/g,""),"base64"),v=s(l,m.slice(0,8),parseInt(g[1],10)).key,C=[],S=e.createDecipheriv(f,v,m);C.push(S.update(y)),C.push(S.final()),h=n.concat(C)}else{var I=p.match(i);h=n.from(I[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(r)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,c,u){var a=t("./asn1"),r=t("./aesid.json"),i=t("./fixProc"),s=t("browserify-aes"),e=t("pbkdf2"),n=t("safe-buffer").Buffer;function d(l){var h;typeof l!="object"||n.isBuffer(l)||(h=l.passphrase,l=l.key),typeof l=="string"&&(l=n.from(l));var p,g,f=i(l,h),m=f.tag,y=f.data;switch(m){case"CERTIFICATE":g=a.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(y,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=function(v,C){var S=v.algorithm.decrypt.kde.kdeparams.salt,I=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),z=r[v.algorithm.decrypt.cipher.algo.join(".")],V=v.algorithm.decrypt.cipher.iv,L=v.subjectPrivateKey,U=parseInt(z.split("-")[1],10)/8,G=e.pbkdf2Sync(C,S,I,U,"sha1"),H=s.createDecipheriv(z,G,V),A=[];return A.push(H.update(L)),A.push(H.final()),n.concat(A)}(y=a.EncryptedPrivateKey.decode(y,"der"),h);case"PRIVATE KEY":switch(p=(g=a.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=a.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+m)}}c.exports=d,d.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,c,u){u.pbkdf2=t("./lib/async"),u.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,c,u){(function(a){(function(){var r,i,s=t("safe-buffer").Buffer,e=t("./precondition"),n=t("./default-encoding"),d=t("./sync"),l=t("./to-buffer"),h=a.crypto&&a.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function f(){return i||(i=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function m(y,v,C,S,I){return h.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return h.deriveBits({name:"PBKDF2",salt:v,iterations:C,hash:{name:I}},z,S<<3)}).then(function(z){return s.from(z)})}c.exports=function(y,v,C,S,I,z){typeof I=="function"&&(z=I,I=void 0);var V=p[(I=I||"sha1").toLowerCase()];if(V&&typeof a.Promise=="function"){if(e(C,S),y=l(y,n,"Password"),v=l(v,n,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");(function(L,U){L.then(function(G){f()(function(){U(null,G)})},function(G){f()(function(){U(G)})})})(function(L){if(a.process&&!a.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(g[L]!==void 0)return g[L];var U=m(r=r||s.alloc(8),r,10,128,L).then(function(){return!0}).catch(function(){return!1});return g[L]=U,U}(V).then(function(L){return L?m(y,v,C,S,V):d(y,v,C,S,I)}),z)}else f()(function(){var L;try{L=d(y,v,C,S,I)}catch(U){return z(U)}z(null,L)})}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,c,u){(function(a,r){(function(){var i;r.process&&r.process.browser?i="utf-8":r.process&&r.process.version?i=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":i="utf-8",c.exports=i}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:467}],463:[function(t,c,u){var a=Math.pow(2,30)-1;c.exports=function(r,i){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof i!="number")throw new TypeError("Key length not a number");if(i<0||i>a||i!=i)throw new TypeError("Bad key length")}},{}],464:[function(t,c,u){var a=t("create-hash/md5"),r=t("ripemd160"),i=t("sha.js"),s=t("safe-buffer").Buffer,e=t("./precondition"),n=t("./default-encoding"),d=t("./to-buffer"),l=s.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,f,m){var y=function(V){function L(U){return i(V).update(U).digest()}return V==="rmd160"||V==="ripemd160"?function(U){return new r().update(U).digest()}:V==="md5"?a:L}(g),v=g==="sha512"||g==="sha384"?128:64;f.length>v?f=y(f):f.length<v&&(f=s.concat([f,l],v));for(var C=s.allocUnsafe(v+h[g]),S=s.allocUnsafe(v+h[g]),I=0;I<v;I++)C[I]=54^f[I],S[I]=92^f[I];var z=s.allocUnsafe(v+m+4);C.copy(z,0,0,v),this.ipad1=z,this.ipad2=C,this.opad=S,this.alg=g,this.blocksize=v,this.hash=y,this.size=h[g]}p.prototype.run=function(g,f){return g.copy(f,this.blocksize),this.hash(f).copy(this.opad,this.blocksize),this.hash(this.opad)},c.exports=function(g,f,m,y,v){e(m,y);var C=new p(v=v||"sha1",g=d(g,n,"Password"),(f=d(f,n,"Salt")).length),S=s.allocUnsafe(y),I=s.allocUnsafe(f.length+4);f.copy(I,0,0,f.length);for(var z=0,V=h[v],L=Math.ceil(y/V),U=1;U<=L;U++){I.writeUInt32BE(U,f.length);for(var G=C.run(I,C.ipad1),H=G,A=1;A<m;A++){H=C.run(H,C.ipad2);for(var N=0;N<V;N++)G[N]^=H[N]}G.copy(S,z),z+=V}return S}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,c,u){var a=t("safe-buffer").Buffer;c.exports=function(r,i,s){if(a.isBuffer(r))return r;if(typeof r=="string")return a.from(r,i);if(ArrayBuffer.isView(r))return a.from(r.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,c,u){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?c.exports={nextTick:function(r,i,s,e){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var n,d,l=arguments.length;switch(l){case 0:case 1:return a.nextTick(r);case 2:return a.nextTick(function(){r.call(null,i)});case 3:return a.nextTick(function(){r.call(null,i,s)});case 4:return a.nextTick(function(){r.call(null,i,s,e)});default:for(n=new Array(l-1),d=0;d<n.length;)n[d++]=arguments[d];return a.nextTick(function(){r.apply(null,n)})}}}:c.exports=a}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,c,u){var a,r,i=c.exports={};function s(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function n(v){if(a===setTimeout)return setTimeout(v,0);if((a===s||!a)&&setTimeout)return a=setTimeout,setTimeout(v,0);try{return a(v,0)}catch(C){try{return a.call(null,v,0)}catch(S){return a.call(this,v,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:s}catch(v){a=s}try{r=typeof clearTimeout=="function"?clearTimeout:e}catch(v){r=e}})();var d,l=[],h=!1,p=-1;function g(){h&&d&&(h=!1,d.length?l=d.concat(l):p=-1,l.length&&f())}function f(){if(!h){var v=n(g);h=!0;for(var C=l.length;C;){for(d=l,l=[];++p<C;)d&&d[p].run();p=-1,C=l.length}d=null,h=!1,function(S){if(r===clearTimeout)return clearTimeout(S);if((r===e||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(S);try{r(S)}catch(I){try{return r.call(null,S)}catch(z){return r.call(this,S)}}}(v)}}function m(v,C){this.fun=v,this.array=C}function y(){}i.nextTick=function(v){var C=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)C[S-1]=arguments[S];l.push(new m(v,C)),l.length!==1||h||n(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(v){return[]},i.binding=function(v){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(v){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],468:[function(t,c,u){u.publicEncrypt=t("./publicEncrypt"),u.privateDecrypt=t("./privateDecrypt"),u.privateEncrypt=function(a,r){return u.publicEncrypt(a,r,!0)},u.publicDecrypt=function(a,r){return u.privateDecrypt(a,r,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,c,u){var a=t("create-hash"),r=t("safe-buffer").Buffer;function i(s){var e=r.allocUnsafe(4);return e.writeUInt32BE(s,0),e}c.exports=function(s,e){for(var n,d=r.alloc(0),l=0;d.length<e;)n=i(l++),d=r.concat([d,a("sha1").update(s).update(n).digest()]);return d.slice(0,e)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,c,u){arguments[4][184][0].apply(u,arguments)},{buffer:188,dup:184}],471:[function(t,c,u){var a=t("parse-asn1"),r=t("./mgf"),i=t("./xor"),s=t("bn.js"),e=t("browserify-rsa"),n=t("create-hash"),d=t("./withPublic"),l=t("safe-buffer").Buffer;c.exports=function(h,p,g){var f;f=h.padding?h.padding:g?1:4;var m,y=a(h),v=y.modulus.byteLength();if(p.length>v||new s(p).cmp(y.modulus)>=0)throw new Error("decryption error");m=g?d(new s(p),y):e(p,y);var C=l.alloc(v-m.length);if(m=l.concat([C,m],v),f===4)return function(S,I){var z=S.modulus.byteLength(),V=n("sha1").update(l.alloc(0)).digest(),L=V.length;if(I[0]!==0)throw new Error("decryption error");var U=I.slice(1,L+1),G=I.slice(L+1),H=i(U,r(G,L)),A=i(G,r(H,z-L-1));if(function(E,x){E=l.from(E),x=l.from(x);var _=0,P=E.length;E.length!==x.length&&(_++,P=Math.min(E.length,x.length));for(var M=-1;++M<P;)_+=E[M]^x[M];return _}(V,A.slice(0,L)))throw new Error("decryption error");for(var N=L;A[N]===0;)N++;if(A[N++]!==1)throw new Error("decryption error");return A.slice(N)}(y,m);if(f===1)return function(S,I,z){for(var V=I.slice(0,2),L=2,U=0;I[L++]!==0;)if(L>=I.length){U++;break}var G=I.slice(2,L-1);if((V.toString("hex")!=="0002"&&!z||V.toString("hex")!=="0001"&&z)&&U++,G.length<8&&U++,U)throw new Error("decryption error");return I.slice(L)}(0,m,g);if(f===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,c,u){var a=t("parse-asn1"),r=t("randombytes"),i=t("create-hash"),s=t("./mgf"),e=t("./xor"),n=t("bn.js"),d=t("./withPublic"),l=t("browserify-rsa"),h=t("safe-buffer").Buffer;c.exports=function(p,g,f){var m;m=p.padding?p.padding:f?1:4;var y,v=a(p);if(m===4)y=function(C,S){var I=C.modulus.byteLength(),z=S.length,V=i("sha1").update(h.alloc(0)).digest(),L=V.length,U=2*L;if(z>I-U-2)throw new Error("message too long");var G=h.alloc(I-z-U-2),H=I-L-1,A=r(L),N=e(h.concat([V,G,h.alloc(1,1),S],H),s(A,H)),E=e(A,s(N,L));return new n(h.concat([h.alloc(1),E,N],I))}(v,g);else if(m===1)y=function(C,S,I){var z,V=S.length,L=C.modulus.byteLength();if(V>L-11)throw new Error("message too long");return z=I?h.alloc(L-V-3,255):function(U){for(var G,H=h.allocUnsafe(U),A=0,N=r(2*U),E=0;A<U;)E===N.length&&(N=r(2*U),E=0),(G=N[E++])&&(H[A++]=G);return H}(L-V-3),new n(h.concat([h.from([0,I?1:2]),z,h.alloc(1),S],L))}(v,g,f);else{if(m!==3)throw new Error("unknown padding");if((y=new n(g)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return f?l(y,v):d(y,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,c,u){var a=t("bn.js"),r=t("safe-buffer").Buffer;c.exports=function(i,s){return r.from(i.toRed(a.mont(s.modulus)).redPow(new a(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,c,u){c.exports=function(a,r){for(var i=a.length,s=-1;++s<i;)a[s]^=r[s];return a}},{}],475:[function(t,c,u){(function(a,r){(function(){var i=t("safe-buffer").Buffer,s=r.crypto||r.msCrypto;s&&s.getRandomValues?c.exports=function(e,n){if(e>4294967295)throw new RangeError("requested too many random bytes");var d=i.allocUnsafe(e);if(e>0)if(e>65536)for(var l=0;l<e;l+=65536)s.getRandomValues(d.slice(l,l+65536));else s.getRandomValues(d);return typeof n=="function"?a.nextTick(function(){n(null,d)}):d}:c.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,c,u){(function(a,r){(function(){function i(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=t("safe-buffer"),e=t("randombytes"),n=s.Buffer,d=s.kMaxLength,l=r.crypto||r.msCrypto,h=Math.pow(2,32)-1;function p(m,y){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>h||m<0)throw new TypeError("offset must be a uint32");if(m>d||m>y)throw new RangeError("offset out of range")}function g(m,y,v){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>h||m<0)throw new TypeError("size must be a uint32");if(m+y>v||m>d)throw new RangeError("buffer too small")}function f(m,y,v,C){if(a.browser){var S=m.buffer,I=new Uint8Array(S,y,v);return l.getRandomValues(I),C?void a.nextTick(function(){C(null,m)}):m}if(!C)return e(v).copy(m,y),m;e(v,function(z,V){if(z)return C(z);V.copy(m,y),C(null,m)})}l&&l.getRandomValues||!a.browser?(u.randomFill=function(m,y,v,C){if(!(n.isBuffer(m)||m instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")C=y,y=0,v=m.length;else if(typeof v=="function")C=v,v=m.length-y;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return p(y,m.length),g(v,y,m.length),f(m,y,v,C)},u.randomFillSync=function(m,y,v){if(y===void 0&&(y=0),!(n.isBuffer(m)||m instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(y,m.length),v===void 0&&(v=m.length-y),g(v,y,m.length),f(m,y,v)}):(u.randomFill=i,u.randomFillSync=i)}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,c,u){var a={};function r(s,e,n){n||(n=Error);var d=function(l){var h,p;function g(f,m,y){return l.call(this,function(v,C,S){return typeof e=="string"?e:e(v,C,S)}(f,m,y))||this}return p=l,(h=g).prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p,g}(n);d.prototype.name=n.name,d.prototype.code=s,a[s]=d}function i(s,e){if(Array.isArray(s)){var n=s.length;return s=s.map(function(d){return String(d)}),n>2?"one of ".concat(e," ").concat(s.slice(0,n-1).join(", "),", or ")+s[n-1]:n===2?"one of ".concat(e," ").concat(s[0]," or ").concat(s[1]):"of ".concat(e," ").concat(s[0])}return"of ".concat(e," ").concat(String(s))}r("ERR_INVALID_OPT_VALUE",function(s,e){return'The value "'+e+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,e,n){var d,l,h;if(typeof e=="string"&&(l="not ",e.substr(0,l.length)===l)?(d="must not be",e=e.replace(/^not /,"")):d="must be",function(g,f,m){return(m===void 0||m>g.length)&&(m=g.length),g.substring(m-f.length,m)===f}(s," argument"))h="The ".concat(s," ").concat(d," ").concat(i(e,"type"));else{var p=function(g,f,m){return typeof m!="number"&&(m=0),!(m+f.length>g.length)&&g.indexOf(f,m)!==-1}(s,".")?"property":"argument";h='The "'.concat(s,'" ').concat(p," ").concat(d," ").concat(i(e,"type"))}return h+=". Received type ".concat(typeof n)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),c.exports.codes=a},{}],478:[function(t,c,u){(function(a){(function(){var r=Object.keys||function(g){var f=[];for(var m in g)f.push(m);return f};c.exports=l;var i=t("./_stream_readable"),s=t("./_stream_writable");t("inherits")(l,i);for(var e=r(s.prototype),n=0;n<e.length;n++){var d=e[n];l.prototype[d]||(l.prototype[d]=s.prototype[d])}function l(g){if(!(this instanceof l))return new l(g);i.call(this,g),s.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||a.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,c,u){c.exports=r;var a=t("./_stream_transform");function r(i){if(!(this instanceof r))return new r(i);a.call(this,i)}t("inherits")(r,a),r.prototype._transform=function(i,s,e){e(null,i)}},{"./_stream_transform":481,inherits:440}],480:[function(t,c,u){(function(a,r){(function(){var i;c.exports=H,H.ReadableState=G,t("events").EventEmitter;var s=function(B,T){return B.listeners(T).length},e=t("./internal/streams/stream"),n=t("buffer").Buffer,d=(r!==void 0?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){},l,h=t("util");l=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g,f,m=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),v=t("./internal/streams/state").getHighWaterMark,C=t("../errors").codes,S=C.ERR_INVALID_ARG_TYPE,I=C.ERR_STREAM_PUSH_AFTER_EOF,z=C.ERR_METHOD_NOT_IMPLEMENTED,V=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(H,e);var L=y.errorOrDestroy,U=["error","close","destroy","pause","resume"];function G(B,T,W){i=i||t("./_stream_duplex"),B=B||{},typeof W!="boolean"&&(W=T instanceof i),this.objectMode=!!B.objectMode,W&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=v(this,B,"readableHighWaterMark",W),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(B.encoding),this.encoding=B.encoding)}function H(B){if(i=i||t("./_stream_duplex"),!(this instanceof H))return new H(B);var T=this instanceof i;this._readableState=new G(B,this,T),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),e.call(this)}function A(B,T,W,Y,Q){l("readableAddChunk",T);var Z,tt=B._readableState;if(T===null)tt.reading=!1,function(rt,st){if(l("onEofChunk"),!st.ended){if(st.decoder){var $=st.decoder.end();$&&$.length&&(st.buffer.push($),st.length+=st.objectMode?1:$.length)}st.ended=!0,st.sync?x(rt):(st.needReadable=!1,st.emittedReadable||(st.emittedReadable=!0,_(rt)))}}(B,tt);else if(Q||(Z=function(rt,st){var $;nt=st,n.isBuffer(nt)||nt instanceof d||typeof st=="string"||st===void 0||rt.objectMode||($=new S("chunk",["string","Buffer","Uint8Array"],st));var nt;return $}(tt,T)),Z)L(B,Z);else if(tt.objectMode||T&&T.length>0)if(typeof T=="string"||tt.objectMode||Object.getPrototypeOf(T)===n.prototype||(T=function(rt){return n.from(rt)}(T)),Y)tt.endEmitted?L(B,new V):N(B,tt,T,!0);else if(tt.ended)L(B,new I);else{if(tt.destroyed)return!1;tt.reading=!1,tt.decoder&&!W?(T=tt.decoder.write(T),tt.objectMode||T.length!==0?N(B,tt,T,!1):P(B,tt)):N(B,tt,T,!1)}else Y||(tt.reading=!1,P(B,tt));return!tt.ended&&(tt.length<tt.highWaterMark||tt.length===0)}function N(B,T,W,Y){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,B.emit("data",W)):(T.length+=T.objectMode?1:W.length,Y?T.buffer.unshift(W):T.buffer.push(W),T.needReadable&&x(B)),P(B,T)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),H.prototype.destroy=y.destroy,H.prototype._undestroy=y.undestroy,H.prototype._destroy=function(B,T){T(B)},H.prototype.push=function(B,T){var W,Y=this._readableState;return Y.objectMode?W=!0:typeof B=="string"&&((T=T||Y.defaultEncoding)!==Y.encoding&&(B=n.from(B,T),T=""),W=!0),A(this,B,T,!1,W)},H.prototype.unshift=function(B){return A(this,B,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(B){p||(p=t("string_decoder/").StringDecoder);var T=new p(B);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,Y="";W!==null;)Y+=T.write(W.data),W=W.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};function E(B,T){return B<=0||T.length===0&&T.ended?0:T.objectMode?1:B!=B?T.flowing&&T.length?T.buffer.head.data.length:T.length:(B>T.highWaterMark&&(T.highWaterMark=function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(B)),B<=T.length?B:T.ended?T.length:(T.needReadable=!0,0))}function x(B){var T=B._readableState;l("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,a.nextTick(_,B))}function _(B){var T=B._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),T.destroyed||!T.length&&!T.ended||(B.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,q(B)}function P(B,T){T.readingMore||(T.readingMore=!0,a.nextTick(M,B,T))}function M(B,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var W=T.length;if(l("maybeReadMore read 0"),B.read(0),W===T.length)break}T.readingMore=!1}function k(B){var T=B._readableState;T.readableListening=B.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:B.listenerCount("data")>0&&B.resume()}function R(B){l("readable nexttick read 0"),B.read(0)}function F(B,T){l("resume",T.reading),T.reading||B.read(0),T.resumeScheduled=!1,B.emit("resume"),q(B),T.flowing&&!T.reading&&B.read(0)}function q(B){var T=B._readableState;for(l("flow",T.flowing);T.flowing&&B.read()!==null;);}function X(B,T){return T.length===0?null:(T.objectMode?W=T.buffer.shift():!B||B>=T.length?(W=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.first():T.buffer.concat(T.length),T.buffer.clear()):W=T.buffer.consume(B,T.decoder),W);var W}function J(B){var T=B._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,a.nextTick(j,T,B))}function j(B,T){if(l("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,T.readable=!1,T.emit("end"),B.autoDestroy)){var W=T._writableState;(!W||W.autoDestroy&&W.finished)&&T.destroy()}}function K(B,T){for(var W=0,Y=B.length;W<Y;W++)if(B[W]===T)return W;return-1}H.prototype.read=function(B){l("read",B),B=parseInt(B,10);var T=this._readableState,W=B;if(B!==0&&(T.emittedReadable=!1),B===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?J(this):x(this),null;if((B=E(B,T))===0&&T.ended)return T.length===0&&J(this),null;var Y,Q=T.needReadable;return l("need readable",Q),(T.length===0||T.length-B<T.highWaterMark)&&l("length less than watermark",Q=!0),T.ended||T.reading?l("reading or ended",Q=!1):Q&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(B=E(W,T))),(Y=B>0?X(B,T):null)===null?(T.needReadable=T.length<=T.highWaterMark,B=0):(T.length-=B,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),W!==B&&T.ended&&J(this)),Y!==null&&this.emit("data",Y),Y},H.prototype._read=function(B){L(this,new z("_read()"))},H.prototype.pipe=function(B,T){var W=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=B;break;case 1:Y.pipes=[Y.pipes,B];break;default:Y.pipes.push(B)}Y.pipesCount+=1,l("pipe count=%d opts=%j",Y.pipesCount,T);var Q=(!T||T.end!==!1)&&B!==a.stdout&&B!==a.stderr?tt:ct;function Z(ut,gt){l("onunpipe"),ut===W&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,l("cleanup"),B.removeListener("close",it),B.removeListener("finish",ht),B.removeListener("drain",rt),B.removeListener("error",nt),B.removeListener("unpipe",Z),W.removeListener("end",tt),W.removeListener("end",ct),W.removeListener("data",$),st=!0,!Y.awaitDrain||B._writableState&&!B._writableState.needDrain||rt())}function tt(){l("onend"),B.end()}Y.endEmitted?a.nextTick(Q):W.once("end",Q),B.on("unpipe",Z);var rt=function(ut){return function(){var gt=ut._readableState;l("pipeOnDrain",gt.awaitDrain),gt.awaitDrain&&gt.awaitDrain--,gt.awaitDrain===0&&s(ut,"data")&&(gt.flowing=!0,q(ut))}}(W);B.on("drain",rt);var st=!1;function $(ut){l("ondata");var gt=B.write(ut);l("dest.write",gt),gt===!1&&((Y.pipesCount===1&&Y.pipes===B||Y.pipesCount>1&&K(Y.pipes,B)!==-1)&&!st&&(l("false write response, pause",Y.awaitDrain),Y.awaitDrain++),W.pause())}function nt(ut){l("onerror",ut),ct(),B.removeListener("error",nt),s(B,"error")===0&&L(B,ut)}function it(){B.removeListener("finish",ht),ct()}function ht(){l("onfinish"),B.removeListener("close",it),ct()}function ct(){l("unpipe"),W.unpipe(B)}return W.on("data",$),function(ut,gt,mt){if(typeof ut.prependListener=="function")return ut.prependListener(gt,mt);ut._events&&ut._events[gt]?Array.isArray(ut._events[gt])?ut._events[gt].unshift(mt):ut._events[gt]=[mt,ut._events[gt]]:ut.on(gt,mt)}(B,"error",nt),B.once("close",it),B.once("finish",ht),B.emit("pipe",W),Y.flowing||(l("pipe resume"),W.resume()),B},H.prototype.unpipe=function(B){var T=this._readableState,W={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return B&&B!==T.pipes||(B||(B=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,B&&B.emit("unpipe",this,W)),this;if(!B){var Y=T.pipes,Q=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var Z=0;Z<Q;Z++)Y[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var tt=K(T.pipes,B);return tt===-1||(T.pipes.splice(tt,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),B.emit("unpipe",this,W)),this},H.prototype.on=function(B,T){var W=e.prototype.on.call(this,B,T),Y=this._readableState;return B==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):B==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,l("on readable",Y.length,Y.reading),Y.length?x(this):Y.reading||a.nextTick(R,this))),W},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(B,T){var W=e.prototype.removeListener.call(this,B,T);return B==="readable"&&a.nextTick(k,this),W},H.prototype.removeAllListeners=function(B){var T=e.prototype.removeAllListeners.apply(this,arguments);return B!=="readable"&&B!==void 0||a.nextTick(k,this),T},H.prototype.resume=function(){var B=this._readableState;return B.flowing||(l("resume"),B.flowing=!B.readableListening,function(T,W){W.resumeScheduled||(W.resumeScheduled=!0,a.nextTick(F,T,W))}(this,B)),B.paused=!1,this},H.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(B){var T=this,W=this._readableState,Y=!1;for(var Q in B.on("end",function(){if(l("wrapped end"),W.decoder&&!W.ended){var tt=W.decoder.end();tt&&tt.length&&T.push(tt)}T.push(null)}),B.on("data",function(tt){l("wrapped data"),W.decoder&&(tt=W.decoder.write(tt)),W.objectMode&&tt==null||(W.objectMode||tt&&tt.length)&&(T.push(tt)||(Y=!0,B.pause()))}),B)this[Q]===void 0&&typeof B[Q]=="function"&&(this[Q]=function(tt){return function(){return B[tt].apply(B,arguments)}}(Q));for(var Z=0;Z<U.length;Z++)B.on(U[Z],this.emit.bind(this,U[Z]));return this._read=function(tt){l("wrapped _read",tt),Y&&(Y=!1,B.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),H._fromList=X,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(B,T){return f===void 0&&(f=t("./internal/streams/from")),f(H,B,T)})}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,c,u){c.exports=l;var a=t("../errors").codes,r=a.ERR_METHOD_NOT_IMPLEMENTED,i=a.ERR_MULTIPLE_CALLBACK,s=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,e=a.ERR_TRANSFORM_WITH_LENGTH_0,n=t("./_stream_duplex");function d(g,f){var m=this._transformState;m.transforming=!1;var y=m.writecb;if(y===null)return this.emit("error",new i);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),y(g);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function l(g){if(!(this instanceof l))return new l(g);n.call(this,g),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",h)}function h(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(f,m){p(g,f,m)})}function p(g,f,m){if(f)return g.emit("error",f);if(m!=null&&g.push(m),g._writableState.length)throw new e;if(g._transformState.transforming)throw new s;return g.push(null)}t("inherits")(l,n),l.prototype.push=function(g,f){return this._transformState.needTransform=!1,n.prototype.push.call(this,g,f)},l.prototype._transform=function(g,f,m){m(new r("_transform()"))},l.prototype._write=function(g,f,m){var y=this._transformState;if(y.writecb=m,y.writechunk=g,y.writeencoding=f,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},l.prototype._read=function(g){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},l.prototype._destroy=function(g,f){n.prototype._destroy.call(this,g,function(m){f(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,c,u){(function(a,r){(function(){function i(M){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(R,F,q){var X=R.entry;for(R.entry=null;X;){var J=X.callback;F.pendingcb--,J(q),X=X.next}F.corkedRequestsFree.next=R})(k,M)}}var s;c.exports=H,H.WritableState=G;var e={deprecate:t("util-deprecate")},n=t("./internal/streams/stream"),d=t("buffer").Buffer,l=(r!==void 0?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){},h,p=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,f=t("../errors").codes,m=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,C=f.ERR_STREAM_CANNOT_PIPE,S=f.ERR_STREAM_DESTROYED,I=f.ERR_STREAM_NULL_VALUES,z=f.ERR_STREAM_WRITE_AFTER_END,V=f.ERR_UNKNOWN_ENCODING,L=p.errorOrDestroy;function U(){}function G(M,k,R){s=s||t("./_stream_duplex"),M=M||{},typeof R!="boolean"&&(R=k instanceof s),this.objectMode=!!M.objectMode,R&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=g(this,M,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=M.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(X,J){var j=X._writableState,K=j.sync,B=j.writecb;if(typeof B!="function")throw new v;if(function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(j),J)(function(W,Y,Q,Z,tt){--Y.pendingcb,Q?(a.nextTick(tt,Z),a.nextTick(P,W,Y),W._writableState.errorEmitted=!0,L(W,Z)):(tt(Z),W._writableState.errorEmitted=!0,L(W,Z),P(W,Y))})(X,j,K,J,B);else{var T=x(j)||X.destroyed;T||j.corked||j.bufferProcessing||!j.bufferedRequest||E(X,j),K?a.nextTick(N,X,j,T,B):N(X,j,T,B)}})(k,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function H(M){var k=this instanceof(s=s||t("./_stream_duplex"));if(!k&&!h.call(H,this))return new H(M);this._writableState=new G(M,this,k),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),n.call(this)}function A(M,k,R,F,q,X,J){k.writelen=F,k.writecb=J,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new S("write")):R?M._writev(q,k.onwrite):M._write(q,X,k.onwrite),k.sync=!1}function N(M,k,R,F){R||function(q,X){X.length===0&&X.needDrain&&(X.needDrain=!1,q.emit("drain"))}(M,k),k.pendingcb--,F(),P(M,k)}function E(M,k){k.bufferProcessing=!0;var R=k.bufferedRequest;if(M._writev&&R&&R.next){var F=k.bufferedRequestCount,q=new Array(F),X=k.corkedRequestsFree;X.entry=R;for(var J=0,j=!0;R;)q[J]=R,R.isBuf||(j=!1),R=R.next,J+=1;q.allBuffers=j,A(M,k,!0,k.length,q,"",X.finish),k.pendingcb++,k.lastBufferedRequest=null,X.next?(k.corkedRequestsFree=X.next,X.next=null):k.corkedRequestsFree=new i(k),k.bufferedRequestCount=0}else{for(;R;){var K=R.chunk,B=R.encoding,T=R.callback;if(A(M,k,!1,k.objectMode?1:K.length,K,B,T),R=R.next,k.bufferedRequestCount--,k.writing)break}R===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=R,k.bufferProcessing=!1}function x(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function _(M,k){M._final(function(R){k.pendingcb--,R&&L(M,R),k.prefinished=!0,M.emit("prefinish"),P(M,k)})}function P(M,k){var R=x(k);if(R&&(function(q,X){X.prefinished||X.finalCalled||(typeof q._final!="function"||X.destroyed?(X.prefinished=!0,q.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,a.nextTick(_,q,X)))}(M,k),k.pendingcb===0&&(k.finished=!0,M.emit("finish"),k.autoDestroy))){var F=M._readableState;(!F||F.autoDestroy&&F.endEmitted)&&M.destroy()}return R}t("inherits")(H,n),G.prototype.getBuffer=function(){for(var M=this.bufferedRequest,k=[];M;)k.push(M),M=M.next;return k},function(){try{Object.defineProperty(G.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(M){}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(M){return!!h.call(this,M)||this===H&&M&&M._writableState instanceof G}})):h=function(M){return M instanceof this},H.prototype.pipe=function(){L(this,new C)},H.prototype.write=function(M,k,R){var F,q=this._writableState,X=!1,J=!q.objectMode&&(F=M,d.isBuffer(F)||F instanceof l);return J&&!d.isBuffer(M)&&(M=function(j){return d.from(j)}(M)),typeof k=="function"&&(R=k,k=null),J?k="buffer":k||(k=q.defaultEncoding),typeof R!="function"&&(R=U),q.ending?function(j,K){var B=new z;L(j,B),a.nextTick(K,B)}(this,R):(J||function(j,K,B,T){var W;return B===null?W=new I:typeof B=="string"||K.objectMode||(W=new m("chunk",["string","Buffer"],B)),!W||(L(j,W),a.nextTick(T,W),!1)}(this,q,M,R))&&(q.pendingcb++,X=function(j,K,B,T,W,Y){if(!B){var Q=function(st,$,nt){return st.objectMode||st.decodeStrings===!1||typeof $!="string"||($=d.from($,nt)),$}(K,T,W);T!==Q&&(B=!0,W="buffer",T=Q)}var Z=K.objectMode?1:T.length;K.length+=Z;var tt=K.length<K.highWaterMark;if(tt||(K.needDrain=!0),K.writing||K.corked){var rt=K.lastBufferedRequest;K.lastBufferedRequest={chunk:T,encoding:W,isBuf:B,callback:Y,next:null},rt?rt.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else A(j,K,!1,Z,T,W,Y);return tt}(this,q,J,M,k,R)),X},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,M.writing||M.corked||M.bufferProcessing||!M.bufferedRequest||E(this,M))},H.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new V(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(M,k,R){R(new y("_write()"))},H.prototype._writev=null,H.prototype.end=function(M,k,R){var F=this._writableState;return typeof M=="function"?(R=M,M=null,k=null):typeof k=="function"&&(R=k,k=null),M!=null&&this.write(M,k),F.corked&&(F.corked=1,this.uncork()),F.ending||function(q,X,J){X.ending=!0,P(q,X),J&&(X.finished?a.nextTick(J):q.once("finish",J)),X.ended=!0,q.writable=!1}(this,F,R),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(M,k){k(M)}}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,c,u){(function(a){(function(){var r;function i(S,I,z){return(I=function(V){var L=function(U,G){if(typeof U!="object"||U===null)return U;var H=U[Symbol.toPrimitive];if(H!==void 0){var A=H.call(U,G||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(U)}(V,"string");return typeof L=="symbol"?L:String(L)}(I))in S?Object.defineProperty(S,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):S[I]=z,S}var s=t("./end-of-stream"),e=Symbol("lastResolve"),n=Symbol("lastReject"),d=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function f(S,I){return{value:S,done:I}}function m(S){var I=S[e];if(I!==null){var z=S[g].read();z!==null&&(S[h]=null,S[e]=null,S[n]=null,I(f(z,!1)))}}function y(S){a.nextTick(m,S)}var v=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((i(r={get stream(){return this[g]},next:function(){var S=this,I=this[d];if(I!==null)return Promise.reject(I);if(this[l])return Promise.resolve(f(void 0,!0));if(this[g].destroyed)return new Promise(function(U,G){a.nextTick(function(){S[d]?G(S[d]):U(f(void 0,!0))})});var z,V=this[h];if(V)z=new Promise(function(U,G){return function(H,A){U.then(function(){G[l]?H(f(void 0,!0)):G[p](H,A)},A)}}(V,this));else{var L=this[g].read();if(L!==null)return Promise.resolve(f(L,!1));z=new Promise(this[p])}return this[h]=z,z}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var S=this;return new Promise(function(I,z){S[g].destroy(null,function(V){V?z(V):I(f(void 0,!0))})})}),r),v);c.exports=function(S){var I,z=Object.create(C,(i(I={},g,{value:S,writable:!0}),i(I,e,{value:null,writable:!0}),i(I,n,{value:null,writable:!0}),i(I,d,{value:null,writable:!0}),i(I,l,{value:S._readableState.endEmitted,writable:!0}),i(I,p,{value:function(V,L){var U=z[g].read();U?(z[h]=null,z[e]=null,z[n]=null,V(f(U,!1))):(z[e]=V,z[n]=L)},writable:!0}),I));return z[h]=null,s(S,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=z[n];return L!==null&&(z[h]=null,z[e]=null,z[n]=null,L(V)),void(z[d]=V)}var U=z[e];U!==null&&(z[h]=null,z[e]=null,z[n]=null,U(f(void 0,!0))),z[l]=!0}),S.on("readable",y.bind(null,z)),z}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,c,u){function a(h,p){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);p&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),g.push.apply(g,f)}return g}function r(h){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(f){i(h,f,g[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(g,f))})}return h}function i(h,p,g){return(p=e(p))in h?Object.defineProperty(h,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[p]=g,h}function s(h,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,e(f.key),f)}}function e(h){var p=function(g,f){if(typeof g!="object"||g===null)return g;var m=g[Symbol.toPrimitive];if(m!==void 0){var y=m.call(g,f||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}(h,"string");return typeof p=="symbol"?p:String(p)}var n=t("buffer").Buffer,d=t("util").inspect,l=d&&d.custom||"inspect";c.exports=function(){function h(){(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var p,g;return p=h,(g=[{key:"push",value:function(f){var m={data:f,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(f){var m={data:f,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var m=this.head,y=""+m.data;m=m.next;)y+=f+m.data;return y}},{key:"concat",value:function(f){if(this.length===0)return n.alloc(0);for(var m,y,v,C=n.allocUnsafe(f>>>0),S=this.head,I=0;S;)m=S.data,y=C,v=I,n.prototype.copy.call(m,y,v),I+=S.data.length,S=S.next;return C}},{key:"consume",value:function(f,m){var y;return f<this.head.data.length?(y=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):y=f===this.head.data.length?this.shift():m?this._getString(f):this._getBuffer(f),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var m=this.head,y=1,v=m.data;for(f-=v.length;m=m.next;){var C=m.data,S=f>C.length?C.length:f;if(S===C.length?v+=C:v+=C.slice(0,f),(f-=S)==0){S===C.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=C.slice(S));break}++y}return this.length-=y,v}},{key:"_getBuffer",value:function(f){var m=n.allocUnsafe(f),y=this.head,v=1;for(y.data.copy(m),f-=y.data.length;y=y.next;){var C=y.data,S=f>C.length?C.length:f;if(C.copy(m,m.length-f,0,S),(f-=S)==0){S===C.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=C.slice(S));break}++v}return this.length-=v,m}},{key:l,value:function(f,m){return d(this,r(r({},m),{},{depth:0,customInspect:!1}))}}])&&s(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(t,c,u){(function(a){(function(){function r(e,n){s(e,n),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,n){e.emit("error",n)}c.exports={destroy:function(e,n){var d=this,l=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return l||h?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,e)):a.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(p){!n&&p?d._writableState?d._writableState.errorEmitted?a.nextTick(i,d):(d._writableState.errorEmitted=!0,a.nextTick(r,d,p)):a.nextTick(r,d,p):n?(a.nextTick(i,d),n(p)):a.nextTick(i,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,n){var d=e._readableState,l=e._writableState;d&&d.autoDestroy||l&&l.autoDestroy?e.destroy(n):e.emit("error",n)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,c,u){var a=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}c.exports=function i(s,e,n){if(typeof e=="function")return i(s,null,e);e||(e={}),n=function(S){var I=!1;return function(){if(!I){I=!0;for(var z=arguments.length,V=new Array(z),L=0;L<z;L++)V[L]=arguments[L];S.apply(this,V)}}}(n||r);var d=e.readable||e.readable!==!1&&s.readable,l=e.writable||e.writable!==!1&&s.writable,h=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){l=!1,p=!0,d||n.call(s)},f=s._readableState&&s._readableState.endEmitted,m=function(){d=!1,f=!0,l||n.call(s)},y=function(S){n.call(s,S)},v=function(){var S;return d&&!f?(s._readableState&&s._readableState.ended||(S=new a),n.call(s,S)):l&&!p?(s._writableState&&s._writableState.ended||(S=new a),n.call(s,S)):void 0},C=function(){s.req.on("finish",g)};return function(S){return S.setHeader&&typeof S.abort=="function"}(s)?(s.on("complete",g),s.on("abort",v),s.req?C():s.on("request",C)):l&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",m),s.on("finish",g),e.error!==!1&&s.on("error",y),s.on("close",v),function(){s.removeListener("complete",g),s.removeListener("abort",v),s.removeListener("request",C),s.req&&s.req.removeListener("finish",g),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",g),s.removeListener("end",m),s.removeListener("error",y),s.removeListener("close",v)}}},{"../../../errors":477}],487:[function(t,c,u){c.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,c,u){var a,r=t("../../../errors").codes,i=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function e(p){if(p)throw p}function n(p,g,f,m){m=function(C){var S=!1;return function(){S||(S=!0,C.apply(void 0,arguments))}}(m);var y=!1;p.on("close",function(){y=!0}),a===void 0&&(a=t("./end-of-stream")),a(p,{readable:g,writable:f},function(C){if(C)return m(C);y=!0,m()});var v=!1;return function(C){if(!y&&!v)return v=!0,function(S){return S.setHeader&&typeof S.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void m(C||new s("pipe"))}}function d(p){p()}function l(p,g){return p.pipe(g)}function h(p){return p.length?typeof p[p.length-1]!="function"?e:p.pop():e}c.exports=function(){for(var p=arguments.length,g=new Array(p),f=0;f<p;f++)g[f]=arguments[f];var m,y=h(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new i("streams");var v=g.map(function(C,S){var I=S<g.length-1;return n(C,I,S>0,function(z){m||(m=z),z&&v.forEach(d),I||(v.forEach(d),y(m))})});return g.reduce(l)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,c,u){var a=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;c.exports={getHighWaterMark:function(r,i,s,e){var n=function(d,l,h){return d.highWaterMark!=null?d.highWaterMark:l?d[h]:null}(i,e,s);if(n!=null){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new a(e?s:"highWaterMark",n);return Math.floor(n)}return r.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,c,u){c.exports=t("events").EventEmitter},{events:422}],491:[function(t,c,u){(u=c.exports=t("./lib/_stream_readable.js")).Stream=u,u.Readable=u,u.Writable=t("./lib/_stream_writable.js"),u.Duplex=t("./lib/_stream_duplex.js"),u.Transform=t("./lib/_stream_transform.js"),u.PassThrough=t("./lib/_stream_passthrough.js"),u.finished=t("./lib/internal/streams/end-of-stream.js"),u.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,c,u){var a=function(r){var i=Object.prototype,s=i.hasOwnProperty,e=Object.defineProperty||function(P,M,k){P[M]=k.value},n=typeof Symbol=="function"?Symbol:{},d=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",h=n.toStringTag||"@@toStringTag";function p(P,M,k){return Object.defineProperty(P,M,{value:k,enumerable:!0,configurable:!0,writable:!0}),P[M]}try{p({},"")}catch(P){p=function(M,k,R){return M[k]=R}}function g(P,M,k,R){var F=M&&M.prototype instanceof y?M:y,q=Object.create(F.prototype),X=new E(R||[]);return e(q,"_invoke",{value:G(P,k,X)}),q}function f(P,M,k){try{return{type:"normal",arg:P.call(M,k)}}catch(R){return{type:"throw",arg:R}}}r.wrap=g;var m={};function y(){}function v(){}function C(){}var S={};p(S,d,function(){return this});var I=Object.getPrototypeOf,z=I&&I(I(x([])));z&&z!==i&&s.call(z,d)&&(S=z);var V=C.prototype=y.prototype=Object.create(S);function L(P){["next","throw","return"].forEach(function(M){p(P,M,function(k){return this._invoke(M,k)})})}function U(P,M){var k;e(this,"_invoke",{value:function(R,F){function q(){return new M(function(X,J){(function j(K,B,T,W){var Y=f(P[K],P,B);if(Y.type!=="throw"){var Q=Y.arg,Z=Q.value;return Z&&typeof Z=="object"&&s.call(Z,"__await")?M.resolve(Z.__await).then(function(tt){j("next",tt,T,W)},function(tt){j("throw",tt,T,W)}):M.resolve(Z).then(function(tt){Q.value=tt,T(Q)},function(tt){return j("throw",tt,T,W)})}W(Y.arg)})(R,F,X,J)})}return k=k?k.then(q,q):q()}})}function G(P,M,k){var R="suspendedStart";return function(F,q){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(F==="throw")throw q;return _()}for(k.method=F,k.arg=q;;){var X=k.delegate;if(X){var J=H(X,k);if(J){if(J===m)continue;return J}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(R==="suspendedStart")throw R="completed",k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);R="executing";var j=f(P,M,k);if(j.type==="normal"){if(R=k.done?"completed":"suspendedYield",j.arg===m)continue;return{value:j.arg,done:k.done}}j.type==="throw"&&(R="completed",k.method="throw",k.arg=j.arg)}}}function H(P,M){var k=M.method,R=P.iterator[k];if(R===void 0)return M.delegate=null,k==="throw"&&P.iterator.return&&(M.method="return",M.arg=void 0,H(P,M),M.method==="throw")||k!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+k+"' method")),m;var F=f(R,P.iterator,M.arg);if(F.type==="throw")return M.method="throw",M.arg=F.arg,M.delegate=null,m;var q=F.arg;return q?q.done?(M[P.resultName]=q.value,M.next=P.nextLoc,M.method!=="return"&&(M.method="next",M.arg=void 0),M.delegate=null,m):q:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,m)}function A(P){var M={tryLoc:P[0]};1 in P&&(M.catchLoc=P[1]),2 in P&&(M.finallyLoc=P[2],M.afterLoc=P[3]),this.tryEntries.push(M)}function N(P){var M=P.completion||{};M.type="normal",delete M.arg,P.completion=M}function E(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(A,this),this.reset(!0)}function x(P){if(P){var M=P[d];if(M)return M.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var k=-1,R=function F(){for(;++k<P.length;)if(s.call(P,k))return F.value=P[k],F.done=!1,F;return F.value=void 0,F.done=!0,F};return R.next=R}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=C,e(V,"constructor",{value:C,configurable:!0}),e(C,"constructor",{value:v,configurable:!0}),v.displayName=p(C,h,"GeneratorFunction"),r.isGeneratorFunction=function(P){var M=typeof P=="function"&&P.constructor;return!!M&&(M===v||(M.displayName||M.name)==="GeneratorFunction")},r.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,C):(P.__proto__=C,p(P,h,"GeneratorFunction")),P.prototype=Object.create(V),P},r.awrap=function(P){return{__await:P}},L(U.prototype),p(U.prototype,l,function(){return this}),r.AsyncIterator=U,r.async=function(P,M,k,R,F){F===void 0&&(F=Promise);var q=new U(g(P,M,k,R),F);return r.isGeneratorFunction(M)?q:q.next().then(function(X){return X.done?X.value:q.next()})},L(V),p(V,h,"Generator"),p(V,d,function(){return this}),p(V,"toString",function(){return"[object Generator]"}),r.keys=function(P){var M=Object(P),k=[];for(var R in M)k.push(R);return k.reverse(),function F(){for(;k.length;){var q=k.pop();if(q in M)return F.value=q,F.done=!1,F}return F.done=!0,F}},r.values=x,E.prototype={constructor:E,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!P)for(var M in this)M.charAt(0)==="t"&&s.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=void 0)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var M=this;function k(j,K){return q.type="throw",q.arg=P,M.next=j,K&&(M.method="next",M.arg=void 0),!!K}for(var R=this.tryEntries.length-1;R>=0;--R){var F=this.tryEntries[R],q=F.completion;if(F.tryLoc==="root")return k("end");if(F.tryLoc<=this.prev){var X=s.call(F,"catchLoc"),J=s.call(F,"finallyLoc");if(X&&J){if(this.prev<F.catchLoc)return k(F.catchLoc,!0);if(this.prev<F.finallyLoc)return k(F.finallyLoc)}else if(X){if(this.prev<F.catchLoc)return k(F.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return k(F.finallyLoc)}}}},abrupt:function(P,M){for(var k=this.tryEntries.length-1;k>=0;--k){var R=this.tryEntries[k];if(R.tryLoc<=this.prev&&s.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var F=R;break}}F&&(P==="break"||P==="continue")&&F.tryLoc<=M&&M<=F.finallyLoc&&(F=null);var q=F?F.completion:{};return q.type=P,q.arg=M,F?(this.method="next",this.next=F.finallyLoc,m):this.complete(q)},complete:function(P,M){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&M&&(this.next=M),m},finish:function(P){for(var M=this.tryEntries.length-1;M>=0;--M){var k=this.tryEntries[M];if(k.finallyLoc===P)return this.complete(k.completion,k.afterLoc),N(k),m}},catch:function(P){for(var M=this.tryEntries.length-1;M>=0;--M){var k=this.tryEntries[M];if(k.tryLoc===P){var R=k.completion;if(R.type==="throw"){var F=R.arg;N(k)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(P,M,k){return this.delegate={iterator:x(P),resultName:M,nextLoc:k},this.method==="next"&&(this.arg=void 0),m}},r}(typeof c=="object"?c.exports:{});try{regeneratorRuntime=a}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(t,c,u){var a=t("buffer").Buffer,r=t("inherits"),i=t("hash-base"),s=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(I,z){return I<<z|I>>>32-z}function m(I,z,V,L,U,G,H,A){return f(I+(z^V^L)+G+H|0,A)+U|0}function y(I,z,V,L,U,G,H,A){return f(I+(z&V|~z&L)+G+H|0,A)+U|0}function v(I,z,V,L,U,G,H,A){return f(I+((z|~V)^L)+G+H|0,A)+U|0}function C(I,z,V,L,U,G,H,A){return f(I+(z&L|V&~L)+G+H|0,A)+U|0}function S(I,z,V,L,U,G,H,A){return f(I+(z^(V|~L))+G+H|0,A)+U|0}r(g,i),g.prototype._update=function(){for(var I=s,z=0;z<16;++z)I[z]=this._block.readInt32LE(4*z);for(var V=0|this._a,L=0|this._b,U=0|this._c,G=0|this._d,H=0|this._e,A=0|this._a,N=0|this._b,E=0|this._c,x=0|this._d,_=0|this._e,P=0;P<80;P+=1){var M,k;P<16?(M=m(V,L,U,G,H,I[e[P]],h[0],d[P]),k=S(A,N,E,x,_,I[n[P]],p[0],l[P])):P<32?(M=y(V,L,U,G,H,I[e[P]],h[1],d[P]),k=C(A,N,E,x,_,I[n[P]],p[1],l[P])):P<48?(M=v(V,L,U,G,H,I[e[P]],h[2],d[P]),k=v(A,N,E,x,_,I[n[P]],p[2],l[P])):P<64?(M=C(V,L,U,G,H,I[e[P]],h[3],d[P]),k=y(A,N,E,x,_,I[n[P]],p[3],l[P])):(M=S(V,L,U,G,H,I[e[P]],h[4],d[P]),k=m(A,N,E,x,_,I[n[P]],p[4],l[P])),V=H,H=G,G=f(U,10),U=L,L=M,A=_,_=x,x=f(E,10),E=N,N=k}var R=this._b+U+x|0;this._b=this._c+G+_|0,this._c=this._d+H+A|0,this._d=this._e+V+N|0,this._e=this._a+L+E|0,this._a=R},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=a.alloc?a.alloc(20):new a(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},c.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,c,u){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=t("buffer"),r=a.Buffer;function i(e,n){for(var d in e)n[d]=e[d]}function s(e,n,d){return r(e,n,d)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?c.exports=a:(i(a,u),u.Buffer=s),s.prototype=Object.create(r.prototype),i(r,s),s.from=function(e,n,d){if(typeof e=="number")throw new TypeError("Argument must not be a number");return r(e,n,d)},s.alloc=function(e,n,d){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=r(e);return n!==void 0?typeof d=="string"?l.fill(n,d):l.fill(n):l.fill(0),l},s.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},{buffer:220}],495:[function(t,c,u){(function(a){(function(){var r,i=t("buffer"),s=i.Buffer,e={};for(r in i)i.hasOwnProperty(r)&&r!=="SlowBuffer"&&r!=="Buffer"&&(e[r]=i[r]);var n=e.Buffer={};for(r in s)s.hasOwnProperty(r)&&r!=="allocUnsafe"&&r!=="allocUnsafeSlow"&&(n[r]=s[r]);if(e.Buffer.prototype=s.prototype,n.from&&n.from!==Uint8Array.from||(n.from=function(d,l,h){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return s(d,l,h)}),n.alloc||(n.alloc=function(d,l,h){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var p=s(d);return l&&l.length!==0?typeof h=="string"?p.fill(l,h):p.fill(l):p.fill(0),p}),!e.kStringMaxLength)try{e.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch(d){}e.constants||(e.constants={MAX_LENGTH:e.kMaxLength},e.kStringMaxLength&&(e.constants.MAX_STRING_LENGTH=e.kStringMaxLength)),c.exports=e}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0});const a=t("xmlchars/xml/1.0/ed5"),r=t("xmlchars/xml/1.1/ed2"),i=t("xmlchars/xmlns/1.0/ed3");var s=a.isS,e=a.isChar,n=a.isNameStartChar,d=a.isNameChar,l=a.S_LIST,h=a.NAME_RE,p=r.isChar,g=i.isNCNameStartChar,f=i.isNCNameChar,m=i.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:y,xmlns:v},S={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},I=x=>x===34||x===39,z=[34,39],V=[...z,91,62],L=[...z,60,93],U=[61,63,...l],G=[...l,62,38,60];function H(x,_,P){switch(_){case"xml":P!==y&&x.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":P!==v&&x.fail(`xmlns prefix must be bound to ${v}.`)}switch(P){case v:x.fail(_===""?`the default namespace may not be set to ${P}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case y:switch(_){case"xml":break;case"":x.fail(`the default namespace may not be set to ${P}.`);break;default:x.fail("may not assign the xml namespace to another prefix.")}}}const A=x=>m.test(x),N=x=>h.test(x);u.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};u.SaxesParser=class{constructor(x){this.opt=x!=null?x:{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=g,this.nameCheck=f,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const P=this.opt.additionalNamespaces;P!=null&&(function(M,k){for(const R of Object.keys(k))H(M,R,k[R])}(this,P),Object.assign(this.ns,P))}else this.nameStartCheck=n,this.nameCheck=d,this.isName=N,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var x;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:P}=this.opt;if(P===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");P="1.0"}this.setXMLVersion(P),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(S),(x=this.readyHandler)===null||x===void 0||x.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(x,_){this[E[x]]=_}off(x){this[E[x]]=void 0}makeError(x){var _;let P=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(P.length>0&&(P+=":"),P+=`${this.line}:${this.column}`),P.length>0&&(P+=": "),new Error(P+x)}fail(x){const _=this.makeError(x),P=this.errorHandler;if(P===void 0)throw _;return P(_),this}write(x){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;x===null?(_=!0,x=""):typeof x=="object"&&(x=x.toString()),this.carriedFromPrevious!==void 0&&(x=`${this.carriedFromPrevious}${x}`,this.carriedFromPrevious=void 0);let P=x.length;const M=x.charCodeAt(P-1);!_&&(M===13||M>=55296&&M<=56319)&&(this.carriedFromPrevious=x[P-1],P--,x=x.slice(0,P));const{stateTable:k}=this;for(this.chunk=x,this.i=0;this.i<P;)k[this.state].call(this);return this.chunkPosition+=P,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:x,i:_}=this;if(this.prevI=_,this.i=_+1,_>=x.length)return-1;const P=x.charCodeAt(_);if(this.column++,P<55296){if(P>=32||P===9)return P;switch(P){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return x.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),P}}if(P>56319)return P>=57344&&P<=65533||this.fail("disallowed character."),P;const M=65536+1024*(P-55296)+(x.charCodeAt(_+1)-56320);return this.i=_+2,M>1114111&&this.fail("disallowed character."),M}getCode11(){const{chunk:x,i:_}=this;if(this.prevI=_,this.i=_+1,_>=x.length)return-1;const P=x.charCodeAt(_);if(this.column++,P<55296){if(P>31&&P<127||P>159&&P!==8232||P===9)return P;switch(P){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const k=x.charCodeAt(_+1);k!==10&&k!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),P}}if(P>56319)return P>=57344&&P<=65533||this.fail("disallowed character."),P;const M=65536+1024*(P-55296)+(x.charCodeAt(_+1)-56320);return this.i=_+2,M>1114111&&this.fail("disallowed character."),M}getCodeNorm(){const x=this.getCode();return x===-2?10:x}unget(){this.i=this.prevI,this.column--}captureTo(x){let{i:_}=this;const{chunk:P}=this;for(;;){const M=this.getCode(),k=M===-2,R=k?10:M;if(R===-1||x.includes(R))return this.text+=P.slice(_,this.prevI),R;k&&(this.text+=P.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(x){let{i:_}=this;const{chunk:P}=this;for(;;){let M=this.getCode();switch(M){case-2:this.text+=P.slice(_,this.prevI)+`
`,_=this.i,M=10;break;case-1:return this.text+=P.slice(_),!1}if(M===x)return this.text+=P.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:x,i:_}=this;for(;;){const P=this.getCode();if(P===-1)return this.name+=x.slice(_),-1;if(!d(P))return this.name+=x.slice(_,this.prevI),P===-2?10:P}}skipSpaces(){for(;;){const x=this.getCodeNorm();if(x===-1||!s(x))return x}}setXMLVersion(x){this.currentXMLVersion=x,x==="1.0"?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const x=this.i,_=this.skipSpaces();switch(this.prevI!==x&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var x;const _=this.captureTo(V);switch(_){case 62:(x=this.doctypeHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:I(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.q=null,this.state=2)}sDTD(){const x=this.captureTo(L);x!==-1&&(this.text+=String.fromCodePoint(x),x===93?this.state=2:x===60?this.state=6:I(x)&&(this.state=5,this.q=x))}sDTDQuoted(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.state=4,this.q=null)}sDTDOpenWaka(){const x=this.getCodeNorm();switch(this.text+=String.fromCodePoint(x),x){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const x=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=x;this.text+=x,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),this.state=x===45?10:8}sDTDCommentEnded(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:x}=this;const{chunk:_}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(x,this.prevI)+`
`,x=this.i;break;case 59:{const{entityReturnState:P}=this,M=this.entity+_.slice(x,this.prevI);let k;this.state=P,M===""?(this.fail("empty entity name."),k="&;"):(k=this.parseEntity(M),this.entity=""),P===13&&this.textHandler===void 0||(this.text+=k);break t}case-1:this.entity+=_.slice(x);break t}}sOpenWaka(){const x=this.getCode();if(n(x))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(x){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var x;const _=this.getCodeNorm();_===45?(this.state=19,(x=this.commentHandler)===null||x===void 0||x.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const x=this.getCodeNorm();x!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(x),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const x=this.getCodeNorm();x===93?this.state=22:(this.text+="]"+String.fromCodePoint(x),this.state=20)}sCDataEnding2(){var x;const _=this.getCodeNorm();switch(_){case 62:(x=this.cdataHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const x=this.getCodeNorm();this.nameStartCheck(x)?(this.piTarget+=String.fromCodePoint(x),this.state=24):x===63||s(x)?(this.fail("processing instruction without a target."),this.state=x===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x),this.state=24)}sPIRest(){const{chunk:x,i:_}=this;for(;;){const P=this.getCodeNorm();if(P===-1)return void(this.piTarget+=x.slice(_));if(!this.nameCheck(P)){this.piTarget+=x.slice(_,this.prevI);const M=P===63;M||s(P)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=M?33:27):this.state=M?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(P));break}}}sPIBody(){if(this.text.length===0){const x=this.getCodeNorm();x===63?this.state=26:s(x)||(this.text=String.fromCodePoint(x))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var x;const _=this.getCodeNorm();if(_===62){const{piTarget:P}=this;P.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(x=this.piHandler)===null||x===void 0||x.call(this,{target:P,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const x=this.skipSpaces();x!==63?x!==-1&&(this.state=28,this.name=String.fromCodePoint(x)):this.state=33}sXMLDeclName(){const x=this.captureTo(U);if(x===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(x)||x===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=x===61?30:29}}sXMLDeclEq(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(x)||(x!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(x)||(I(x)?this.q=x:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const x=this.captureTo([this.q,63]);if(x===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(x===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const P=_;this.xmlDecl.version=P,/^1\.[0-9]+$/.test(P)?this.opt.forceXMLVersion||this.setXMLVersion(P):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const x=this.getCodeNorm();x!==63?(s(x)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var x;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(x=this.xmldeclHandler)===null||x===void 0||x.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var x;const _=this.captureNameChars();if(_===-1)return;const P=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=P.ns=Object.create(null)),(x=this.openTagStartHandler)===null||x===void 0||x.call(this,P),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:s(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const x=this.skipSpaces();x!==-1&&(n(x)?(this.unget(),this.state=37):x===62?this.openTag():x===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const x=this.captureNameChars();x===61?this.state=39:s(x)?this.state=38:x===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):x!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const x=this.skipSpaces();switch(x){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",x===62?this.openTag():n(x)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const x=this.getCodeNorm();I(x)?(this.q=x,this.state=40):s(x)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:x,chunk:_}=this;let{i:P}=this;for(;;)switch(this.getCode()){case x:return this.pushAttrib(this.name,this.text+_.slice(P,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(P,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(P,this.prevI)+" ",P=this.i;break;case 60:return this.text+=_.slice(P,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(P))}}sAttribValueClosed(){const x=this.getCodeNorm();s(x)?this.state=36:x===62?this.openTag():x===47?this.state=35:n(x)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const x=this.captureTo(G);switch(x){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",x===62?this.openTag():this.state=36}}sCloseTag(){const x=this.captureNameChars();x===62?this.closeTag():s(x)?this.state=44:x!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:x,forbiddenState:_}=this;const{chunk:P,textHandler:M}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,M!==void 0){const{text:k}=this,R=P.slice(x,this.prevI);k.length!==0?(M(k+R),this.text=""):R.length!==0&&M(R)}_=0;break t;case 38:this.state=14,this.entityReturnState=13,M!==void 0&&(this.text+=P.slice(x,this.prevI)),_=0;break t;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:M!==void 0&&(this.text+=P.slice(x,this.prevI)+`
`),x=this.i,_=0;break;case-1:M!==void 0&&(this.text+=P.slice(x));break t;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:x}=this;const{chunk:_,textHandler:P}=this;let M=!1;t:for(;;){const k=this.getCode();switch(k){case 60:if(this.state=15,P!==void 0){const{text:R}=this,F=_.slice(x,this.prevI);R.length!==0?(P(R+F),this.text=""):F.length!==0&&P(F)}break t;case 38:this.state=14,this.entityReturnState=13,P!==void 0&&(this.text+=_.slice(x,this.prevI)),M=!0;break t;case-2:P!==void 0&&(this.text+=_.slice(x,this.prevI)+`
`),x=this.i;break;case-1:P!==void 0&&(this.text+=_.slice(x));break t;default:s(k)||(M=!0)}}M&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(x,_){var P;const{prefix:M,local:k}=this.qname(x),R={name:x,prefix:M,local:k,value:_};if(this.attribList.push(R),(P=this.attributeHandler)===null||P===void 0||P.call(this,R),M==="xmlns"){const F=_.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[k]=F,H(this,k,F)}else if(x==="xmlns"){const F=_.trim();this.topNS[""]=F,H(this,"",F)}}pushAttribPlain(x,_){var P;const M={name:x,value:_};this.attribList.push(M),(P=this.attributeHandler)===null||P===void 0||P.call(this,M)}end(){var x,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:P}=this;for(;P.length>0;){const k=P.pop();this.fail("unclosed tag: "+k.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:M}=this;return M.length!==0&&((x=this.textHandler)===null||x===void 0||x.call(this,M),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(x){var _,P;let M=this.topNS[x];if(M!==void 0)return M;const{tags:k}=this;for(let R=k.length-1;R>=0;R--)if(M=k[R].ns[x],M!==void 0)return M;return M=this.ns[x],M!==void 0?M:(P=(_=this.opt).resolvePrefix)===null||P===void 0?void 0:P.call(_,x)}qname(x){const _=x.indexOf(":");if(_===-1)return{prefix:"",local:x};const P=x.slice(_+1),M=x.slice(0,_);return(M===""||P===""||P.includes(":"))&&this.fail(`malformed name: ${x}.`),{prefix:M,local:P}}processAttribsNS(){var x;const{attribList:_}=this,P=this.tag;{const{prefix:R,local:F}=this.qname(P.name);P.prefix=R,P.local=F;const q=P.uri=(x=this.resolve(R))!==null&&x!==void 0?x:"";R!==""&&(R==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(R)}.`),P.uri=R))}if(_.length===0)return;const{attributes:M}=P,k=new Set;for(const R of _){const{name:F,prefix:q,local:X}=R;let J,j;q===""?(J=F==="xmlns"?v:"",j=F):(J=this.resolve(q),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),J=q),j=`{${J}}${X}`),k.has(j)&&this.fail(`duplicate attribute: ${j}.`),k.add(j),R.uri=J,M[F]=R}this.attribList=[]}processAttribsPlain(){const{attribList:x}=this,_=this.tag.attributes;for(const{name:P,value:M}of x)_[P]!==void 0&&this.fail(`duplicate attribute: ${P}.`),_[P]=M;this.attribList=[]}openTag(){var x;this.processAttribs();const{tags:_}=this,P=this.tag;P.isSelfClosing=!1,(x=this.openTagHandler)===null||x===void 0||x.call(this,P),_.push(P),this.state=13,this.name=""}openSelfClosingTag(){var x,_,P;this.processAttribs();const{tags:M}=this,k=this.tag;k.isSelfClosing=!0,(x=this.openTagHandler)===null||x===void 0||x.call(this,k),(_=this.closeTagHandler)===null||_===void 0||_.call(this,k),(this.tag=(P=M[M.length-1])!==null&&P!==void 0?P:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:x,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const P=this.closeTagHandler;let M=x.length;for(;M-- >0;){const k=this.tag=x.pop();if(this.topNS=k.ns,P==null||P(k),k.name===_)break;this.fail("unexpected close tag.")}M===0?this.closedRoot=!0:M<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(x){if(x[0]!=="#"){const P=this.ENTITIES[x];return P!==void 0?P:(this.fail(this.isName(x)?"undefined entity.":"disallowed character in entity name."),`&${x};`)}let _=NaN;return x[1]==="x"&&/^#x[0-9a-f]+$/i.test(x)?_=parseInt(x.slice(2),16):/^#[0-9]+$/.test(x)&&(_=parseInt(x.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${x};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,c,u){var a=t("safe-buffer").Buffer;function r(i,s){this._block=a.alloc(i),this._finalSize=s,this._blockSize=i,this._len=0}r.prototype.update=function(i,s){typeof i=="string"&&(s=s||"utf8",i=a.from(i,s));for(var e=this._block,n=this._blockSize,d=i.length,l=this._len,h=0;h<d;){for(var p=l%n,g=Math.min(d-h,n-p),f=0;f<g;f++)e[p+f]=i[h+f];h+=g,(l+=g)%n==0&&this._update(e)}return this._len+=d,this},r.prototype.digest=function(i){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var n=(4294967295&e)>>>0,d=(e-n)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var l=this._hash();return i?l.toString(i):l},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},c.exports=r},{"safe-buffer":494}],498:[function(t,c,u){var a=c.exports=function(r){r=r.toLowerCase();var i=a[r];if(!i)throw new Error(r+" is not supported (we accept pull requests)");return new i};a.sha=t("./sha"),a.sha1=t("./sha1"),a.sha224=t("./sha224"),a.sha256=t("./sha256"),a.sha384=t("./sha384"),a.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,c,u){var a=t("inherits"),r=t("./hash"),i=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function n(){this.init(),this._w=e,r.call(this,64,56)}function d(h){return h<<30|h>>>2}function l(h,p,g,f){return h===0?p&g|~p&f:h===2?p&g|p&f|g&f:p^g^f}a(n,r),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(h){for(var p,g=this._w,f=0|this._a,m=0|this._b,y=0|this._c,v=0|this._d,C=0|this._e,S=0;S<16;++S)g[S]=h.readInt32BE(4*S);for(;S<80;++S)g[S]=g[S-3]^g[S-8]^g[S-14]^g[S-16];for(var I=0;I<80;++I){var z=~~(I/20),V=0|((p=f)<<5|p>>>27)+l(z,m,y,v)+C+g[I]+s[z];C=v,v=y,y=d(m),m=f,f=V}this._a=f+this._a|0,this._b=m+this._b|0,this._c=y+this._c|0,this._d=v+this._d|0,this._e=C+this._e|0},n.prototype._hash=function(){var h=i.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},c.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,c,u){var a=t("inherits"),r=t("./hash"),i=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function n(){this.init(),this._w=e,r.call(this,64,56)}function d(p){return p<<5|p>>>27}function l(p){return p<<30|p>>>2}function h(p,g,f,m){return p===0?g&f|~g&m:p===2?g&f|g&m|f&m:g^f^m}a(n,r),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(p){for(var g,f=this._w,m=0|this._a,y=0|this._b,v=0|this._c,C=0|this._d,S=0|this._e,I=0;I<16;++I)f[I]=p.readInt32BE(4*I);for(;I<80;++I)f[I]=(g=f[I-3]^f[I-8]^f[I-14]^f[I-16])<<1|g>>>31;for(var z=0;z<80;++z){var V=~~(z/20),L=d(m)+h(V,y,v,C)+S+f[z]+s[V]|0;S=C,C=v,v=l(y),y=m,m=L}this._a=m+this._a|0,this._b=y+this._b|0,this._c=v+this._c|0,this._d=C+this._d|0,this._e=S+this._e|0},n.prototype._hash=function(){var p=i.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},c.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,c,u){var a=t("inherits"),r=t("./sha256"),i=t("./hash"),s=t("safe-buffer").Buffer,e=new Array(64);function n(){this.init(),this._w=e,i.call(this,64,56)}a(n,r),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var d=s.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},c.exports=n},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,c,u){var a=t("inherits"),r=t("./hash"),i=t("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=new Array(64);function n(){this.init(),this._w=e,r.call(this,64,56)}function d(f,m,y){return y^f&(m^y)}function l(f,m,y){return f&m|y&(f|m)}function h(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function p(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function g(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}a(n,r),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(f){for(var m,y=this._w,v=0|this._a,C=0|this._b,S=0|this._c,I=0|this._d,z=0|this._e,V=0|this._f,L=0|this._g,U=0|this._h,G=0;G<16;++G)y[G]=f.readInt32BE(4*G);for(;G<64;++G)y[G]=0|(((m=y[G-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+y[G-7]+g(y[G-15])+y[G-16];for(var H=0;H<64;++H){var A=U+p(z)+d(z,V,L)+s[H]+y[H]|0,N=h(v)+l(v,C,S)|0;U=L,L=V,V=z,z=I+A|0,I=S,S=C,C=v,v=A+N|0}this._a=v+this._a|0,this._b=C+this._b|0,this._c=S+this._c|0,this._d=I+this._d|0,this._e=z+this._e|0,this._f=V+this._f|0,this._g=L+this._g|0,this._h=U+this._h|0},n.prototype._hash=function(){var f=i.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},c.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,c,u){var a=t("inherits"),r=t("./sha512"),i=t("./hash"),s=t("safe-buffer").Buffer,e=new Array(160);function n(){this.init(),this._w=e,i.call(this,128,112)}a(n,r),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var d=s.allocUnsafe(48);function l(h,p,g){d.writeInt32BE(h,g),d.writeInt32BE(p,g+4)}return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),d},c.exports=n},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,c,u){var a=t("inherits"),r=t("./hash"),i=t("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],e=new Array(160);function n(){this.init(),this._w=e,r.call(this,128,112)}function d(C,S,I){return I^C&(S^I)}function l(C,S,I){return C&S|I&(C|S)}function h(C,S){return(C>>>28|S<<4)^(S>>>2|C<<30)^(S>>>7|C<<25)}function p(C,S){return(C>>>14|S<<18)^(C>>>18|S<<14)^(S>>>9|C<<23)}function g(C,S){return(C>>>1|S<<31)^(C>>>8|S<<24)^C>>>7}function f(C,S){return(C>>>1|S<<31)^(C>>>8|S<<24)^(C>>>7|S<<25)}function m(C,S){return(C>>>19|S<<13)^(S>>>29|C<<3)^C>>>6}function y(C,S){return(C>>>19|S<<13)^(S>>>29|C<<3)^(C>>>6|S<<26)}function v(C,S){return C>>>0<S>>>0?1:0}a(n,r),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(C){for(var S=this._w,I=0|this._ah,z=0|this._bh,V=0|this._ch,L=0|this._dh,U=0|this._eh,G=0|this._fh,H=0|this._gh,A=0|this._hh,N=0|this._al,E=0|this._bl,x=0|this._cl,_=0|this._dl,P=0|this._el,M=0|this._fl,k=0|this._gl,R=0|this._hl,F=0;F<32;F+=2)S[F]=C.readInt32BE(4*F),S[F+1]=C.readInt32BE(4*F+4);for(;F<160;F+=2){var q=S[F-30],X=S[F-30+1],J=g(q,X),j=f(X,q),K=m(q=S[F-4],X=S[F-4+1]),B=y(X,q),T=S[F-14],W=S[F-14+1],Y=S[F-32],Q=S[F-32+1],Z=j+W|0,tt=J+T+v(Z,j)|0;tt=(tt=tt+K+v(Z=Z+B|0,B)|0)+Y+v(Z=Z+Q|0,Q)|0,S[F]=tt,S[F+1]=Z}for(var rt=0;rt<160;rt+=2){tt=S[rt],Z=S[rt+1];var st=l(I,z,V),$=l(N,E,x),nt=h(I,N),it=h(N,I),ht=p(U,P),ct=p(P,U),ut=s[rt],gt=s[rt+1],mt=d(U,G,H),xt=d(P,M,k),kt=R+ct|0,At=A+ht+v(kt,R)|0;At=(At=(At=At+mt+v(kt=kt+xt|0,xt)|0)+ut+v(kt=kt+gt|0,gt)|0)+tt+v(kt=kt+Z|0,Z)|0;var Ct=it+$|0,Lt=nt+st+v(Ct,it)|0;A=H,R=k,H=G,k=M,G=U,M=P,U=L+At+v(P=_+kt|0,_)|0,L=V,_=x,V=z,x=E,z=I,E=N,I=At+Lt+v(N=kt+Ct|0,kt)|0}this._al=this._al+N|0,this._bl=this._bl+E|0,this._cl=this._cl+x|0,this._dl=this._dl+_|0,this._el=this._el+P|0,this._fl=this._fl+M|0,this._gl=this._gl+k|0,this._hl=this._hl+R|0,this._ah=this._ah+I+v(this._al,N)|0,this._bh=this._bh+z+v(this._bl,E)|0,this._ch=this._ch+V+v(this._cl,x)|0,this._dh=this._dh+L+v(this._dl,_)|0,this._eh=this._eh+U+v(this._el,P)|0,this._fh=this._fh+G+v(this._fl,M)|0,this._gh=this._gh+H+v(this._gl,k)|0,this._hh=this._hh+A+v(this._hl,R)|0},n.prototype._hash=function(){var C=i.allocUnsafe(64);function S(I,z,V){C.writeInt32BE(I,V),C.writeInt32BE(z,V+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),C},c.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,c,u){c.exports=r;var a=t("events").EventEmitter;function r(){a.call(this)}t("inherits")(r,a),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(i,s){var e=this;function n(m){i.writable&&i.write(m)===!1&&e.pause&&e.pause()}function d(){e.readable&&e.resume&&e.resume()}e.on("data",n),i.on("drain",d),i._isStdio||s&&s.end===!1||(e.on("end",h),e.on("close",p));var l=!1;function h(){l||(l=!0,i.end())}function p(){l||(l=!0,typeof i.destroy=="function"&&i.destroy())}function g(m){if(f(),a.listenerCount(this,"error")===0)throw m}function f(){e.removeListener("data",n),i.removeListener("drain",d),e.removeListener("end",h),e.removeListener("close",p),e.removeListener("error",g),i.removeListener("error",g),e.removeListener("end",f),e.removeListener("close",f),i.removeListener("close",f)}return e.on("error",g),i.on("error",g),e.on("end",f),e.on("close",f),i.on("close",f),i.emit("pipe",e),i}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,c,u){var a={}.toString;c.exports=Array.isArray||function(r){return a.call(r)=="[object Array]"}},{}],507:[function(t,c,u){c.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,c,u){var a=t("process-nextick-args"),r=Object.keys||function(f){var m=[];for(var y in f)m.push(y);return m};c.exports=h;var i=Object.create(t("core-util-is"));i.inherits=t("inherits");var s=t("./_stream_readable"),e=t("./_stream_writable");i.inherits(h,s);for(var n=r(e.prototype),d=0;d<n.length;d++){var l=n[d];h.prototype[l]||(h.prototype[l]=e.prototype[l])}function h(f){if(!(this instanceof h))return new h(f);s.call(this,f),e.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(f){f.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),h.prototype._destroy=function(f,m){this.push(null),this.end(),a.nextTick(m,f)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,c,u){c.exports=i;var a=t("./_stream_transform"),r=Object.create(t("core-util-is"));function i(s){if(!(this instanceof i))return new i(s);a.call(this,s)}r.inherits=t("inherits"),r.inherits(i,a),i.prototype._transform=function(s,e,n){n(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,c,u){(function(a,r){(function(){var i=t("process-nextick-args");c.exports=I;var s,e=t("isarray");I.ReadableState=S,t("events").EventEmitter;var n=function(R,F){return R.listeners(F).length},d=t("./internal/streams/stream"),l=t("safe-buffer").Buffer,h=(r!==void 0?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){},p=Object.create(t("core-util-is"));p.inherits=t("inherits");var g=t("util"),f=void 0;f=g&&g.debuglog?g.debuglog("stream"):function(){};var m,y=t("./internal/streams/BufferList"),v=t("./internal/streams/destroy");p.inherits(I,d);var C=["error","close","destroy","pause","resume"];function S(R,F){R=R||{};var q=F instanceof(s=s||t("./_stream_duplex"));this.objectMode=!!R.objectMode,q&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var X=R.highWaterMark,J=R.readableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:q&&(J||J===0)?J:j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(m||(m=t("string_decoder/").StringDecoder),this.decoder=new m(R.encoding),this.encoding=R.encoding)}function I(R){if(s=s||t("./_stream_duplex"),!(this instanceof I))return new I(R);this._readableState=new S(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),d.call(this)}function z(R,F,q,X,J){var j,K=R._readableState;return F===null?(K.reading=!1,function(B,T){if(!T.ended){if(T.decoder){var W=T.decoder.end();W&&W.length&&(T.buffer.push(W),T.length+=T.objectMode?1:W.length)}T.ended=!0,U(B)}}(R,K)):(J||(j=function(B,T){var W;Y=T,l.isBuffer(Y)||Y instanceof h||typeof T=="string"||T===void 0||B.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var Y;return W}(K,F)),j?R.emit("error",j):K.objectMode||F&&F.length>0?(typeof F=="string"||K.objectMode||Object.getPrototypeOf(F)===l.prototype||(F=function(B){return l.from(B)}(F)),X?K.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):V(R,K,F,!0):K.ended?R.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!q?(F=K.decoder.write(F),K.objectMode||F.length!==0?V(R,K,F,!1):H(R,K)):V(R,K,F,!1))):X||(K.reading=!1)),function(B){return!B.ended&&(B.needReadable||B.length<B.highWaterMark||B.length===0)}(K)}function V(R,F,q,X){F.flowing&&F.length===0&&!F.sync?(R.emit("data",q),R.read(0)):(F.length+=F.objectMode?1:q.length,X?F.buffer.unshift(q):F.buffer.push(q),F.needReadable&&U(R)),H(R,F)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),I.prototype.destroy=v.destroy,I.prototype._undestroy=v.undestroy,I.prototype._destroy=function(R,F){this.push(null),F(R)},I.prototype.push=function(R,F){var q,X=this._readableState;return X.objectMode?q=!0:typeof R=="string"&&((F=F||X.defaultEncoding)!==X.encoding&&(R=l.from(R,F),F=""),q=!0),z(this,R,F,!1,q)},I.prototype.unshift=function(R){return z(this,R,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(R){return m||(m=t("string_decoder/").StringDecoder),this._readableState.decoder=new m(R),this._readableState.encoding=R,this};function L(R,F){return R<=0||F.length===0&&F.ended?0:F.objectMode?1:R!=R?F.flowing&&F.length?F.buffer.head.data.length:F.length:(R>F.highWaterMark&&(F.highWaterMark=function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(R)),R<=F.length?R:F.ended?F.length:(F.needReadable=!0,0))}function U(R){var F=R._readableState;F.needReadable=!1,F.emittedReadable||(f("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?i.nextTick(G,R):G(R))}function G(R){f("emit readable"),R.emit("readable"),x(R)}function H(R,F){F.readingMore||(F.readingMore=!0,i.nextTick(A,R,F))}function A(R,F){for(var q=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(f("maybeReadMore read 0"),R.read(0),q!==F.length);)q=F.length;F.readingMore=!1}function N(R){f("readable nexttick read 0"),R.read(0)}function E(R,F){F.reading||(f("resume read 0"),R.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,R.emit("resume"),x(R),F.flowing&&!F.reading&&R.read(0)}function x(R){var F=R._readableState;for(f("flow",F.flowing);F.flowing&&R.read()!==null;);}function _(R,F){return F.length===0?null:(F.objectMode?q=F.buffer.shift():!R||R>=F.length?(q=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):q=function(X,J,j){var K;return X<J.head.data.length?(K=J.head.data.slice(0,X),J.head.data=J.head.data.slice(X)):K=X===J.head.data.length?J.shift():j?function(B,T){var W=T.head,Y=1,Q=W.data;for(B-=Q.length;W=W.next;){var Z=W.data,tt=B>Z.length?Z.length:B;if(tt===Z.length?Q+=Z:Q+=Z.slice(0,B),(B-=tt)===0){tt===Z.length?(++Y,W.next?T.head=W.next:T.head=T.tail=null):(T.head=W,W.data=Z.slice(tt));break}++Y}return T.length-=Y,Q}(X,J):function(B,T){var W=l.allocUnsafe(B),Y=T.head,Q=1;for(Y.data.copy(W),B-=Y.data.length;Y=Y.next;){var Z=Y.data,tt=B>Z.length?Z.length:B;if(Z.copy(W,W.length-B,0,tt),(B-=tt)===0){tt===Z.length?(++Q,Y.next?T.head=Y.next:T.head=T.tail=null):(T.head=Y,Y.data=Z.slice(tt));break}++Q}return T.length-=Q,W}(X,J),K}(R,F.buffer,F.decoder),q);var q}function P(R){var F=R._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,i.nextTick(M,F,R))}function M(R,F){R.endEmitted||R.length!==0||(R.endEmitted=!0,F.readable=!1,F.emit("end"))}function k(R,F){for(var q=0,X=R.length;q<X;q++)if(R[q]===F)return q;return-1}I.prototype.read=function(R){f("read",R),R=parseInt(R,10);var F=this._readableState,q=R;if(R!==0&&(F.emittedReadable=!1),R===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return f("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?P(this):U(this),null;if((R=L(R,F))===0&&F.ended)return F.length===0&&P(this),null;var X,J=F.needReadable;return f("need readable",J),(F.length===0||F.length-R<F.highWaterMark)&&f("length less than watermark",J=!0),F.ended||F.reading?f("reading or ended",J=!1):J&&(f("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(R=L(q,F))),(X=R>0?_(R,F):null)===null?(F.needReadable=!0,R=0):F.length-=R,F.length===0&&(F.ended||(F.needReadable=!0),q!==R&&F.ended&&P(this)),X!==null&&this.emit("data",X),X},I.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(R,F){var q=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=R;break;case 1:X.pipes=[X.pipes,R];break;default:X.pipes.push(R)}X.pipesCount+=1,f("pipe count=%d opts=%j",X.pipesCount,F);var J=(!F||F.end!==!1)&&R!==a.stdout&&R!==a.stderr?K:rt;function j(st,$){f("onunpipe"),st===q&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,f("cleanup"),R.removeListener("close",Z),R.removeListener("finish",tt),R.removeListener("drain",B),R.removeListener("error",Q),R.removeListener("unpipe",j),q.removeListener("end",K),q.removeListener("end",rt),q.removeListener("data",Y),T=!0,!X.awaitDrain||R._writableState&&!R._writableState.needDrain||B())}function K(){f("onend"),R.end()}X.endEmitted?i.nextTick(J):q.once("end",J),R.on("unpipe",j);var B=function(st){return function(){var $=st._readableState;f("pipeOnDrain",$.awaitDrain),$.awaitDrain&&$.awaitDrain--,$.awaitDrain===0&&n(st,"data")&&($.flowing=!0,x(st))}}(q);R.on("drain",B);var T=!1,W=!1;function Y(st){f("ondata"),W=!1,R.write(st)!==!1||W||((X.pipesCount===1&&X.pipes===R||X.pipesCount>1&&k(X.pipes,R)!==-1)&&!T&&(f("false write response, pause",X.awaitDrain),X.awaitDrain++,W=!0),q.pause())}function Q(st){f("onerror",st),rt(),R.removeListener("error",Q),n(R,"error")===0&&R.emit("error",st)}function Z(){R.removeListener("finish",tt),rt()}function tt(){f("onfinish"),R.removeListener("close",Z),rt()}function rt(){f("unpipe"),q.unpipe(R)}return q.on("data",Y),function(st,$,nt){if(typeof st.prependListener=="function")return st.prependListener($,nt);st._events&&st._events[$]?e(st._events[$])?st._events[$].unshift(nt):st._events[$]=[nt,st._events[$]]:st.on($,nt)}(R,"error",Q),R.once("close",Z),R.once("finish",tt),R.emit("pipe",q),X.flowing||(f("pipe resume"),q.resume()),R},I.prototype.unpipe=function(R){var F=this._readableState,q={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return R&&R!==F.pipes||(R||(R=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,R&&R.emit("unpipe",this,q)),this;if(!R){var X=F.pipes,J=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var j=0;j<J;j++)X[j].emit("unpipe",this,{hasUnpiped:!1});return this}var K=k(F.pipes,R);return K===-1||(F.pipes.splice(K,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),R.emit("unpipe",this,q)),this},I.prototype.on=function(R,F){var q=d.prototype.on.call(this,R,F);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&U(this):i.nextTick(N,this))}return q},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var R=this._readableState;return R.flowing||(f("resume"),R.flowing=!0,function(F,q){q.resumeScheduled||(q.resumeScheduled=!0,i.nextTick(E,F,q))}(this,R)),this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(R){var F=this,q=this._readableState,X=!1;for(var J in R.on("end",function(){if(f("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&F.push(K)}F.push(null)}),R.on("data",function(K){f("wrapped data"),q.decoder&&(K=q.decoder.write(K)),q.objectMode&&K==null||(q.objectMode||K&&K.length)&&(F.push(K)||(X=!0,R.pause()))}),R)this[J]===void 0&&typeof R[J]=="function"&&(this[J]=function(K){return function(){return R[K].apply(R,arguments)}}(J));for(var j=0;j<C.length;j++)R.on(C[j],this.emit.bind(this,C[j]));return this._read=function(K){f("wrapped _read",K),X&&(X=!1,R.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=_}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,c,u){c.exports=s;var a=t("./_stream_duplex"),r=Object.create(t("core-util-is"));function i(d,l){var h=this._transformState;h.transforming=!1;var p=h.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,l!=null&&this.push(l),p(d);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(d){if(!(this instanceof s))return new s(d);a.call(this,d),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",e)}function e(){var d=this;typeof this._flush=="function"?this._flush(function(l,h){n(d,l,h)}):n(this,null,null)}function n(d,l,h){if(l)return d.emit("error",l);if(h!=null&&d.push(h),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}r.inherits=t("inherits"),r.inherits(s,a),s.prototype.push=function(d,l){return this._transformState.needTransform=!1,a.prototype.push.call(this,d,l)},s.prototype._transform=function(d,l,h){throw new Error("_transform() is not implemented")},s.prototype._write=function(d,l,h){var p=this._transformState;if(p.writecb=h,p.writechunk=d,p.writeencoding=l,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(d){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},s.prototype._destroy=function(d,l){var h=this;a.prototype._destroy.call(this,d,function(p){l(p),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,c,u){(function(a,r,i){(function(){var s=t("process-nextick-args");function e(H){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(N,E,x){var _=N.entry;for(N.entry=null;_;){var P=_.callback;E.pendingcb--,P(x),_=_.next}E.corkedRequestsFree.next=N})(A,H)}}c.exports=S;var n,d=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?i:s.nextTick;S.WritableState=C;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var h={deprecate:t("util-deprecate")},p=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,f=(r!==void 0?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){},m,y=t("./internal/streams/destroy");function v(){}function C(H,A){n=n||t("./_stream_duplex"),H=H||{};var N=A instanceof n;this.objectMode=!!H.objectMode,N&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var E=H.highWaterMark,x=H.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:N&&(x||x===0)?x:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=H.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){(function(k,R){var F=k._writableState,q=F.sync,X=F.writecb;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(F),R)(function(j,K,B,T,W){--K.pendingcb,B?(s.nextTick(W,T),s.nextTick(G,j,K),j._writableState.errorEmitted=!0,j.emit("error",T)):(W(T),j._writableState.errorEmitted=!0,j.emit("error",T),G(j,K))})(k,F,q,R,X);else{var J=L(F);J||F.corked||F.bufferProcessing||!F.bufferedRequest||V(k,F),q?d(z,k,F,J,X):z(k,F,J,X)}})(A,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function S(H){if(n=n||t("./_stream_duplex"),!(m.call(S,this)||this instanceof n))return new S(H);this._writableState=new C(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),p.call(this)}function I(H,A,N,E,x,_,P){A.writelen=E,A.writecb=P,A.writing=!0,A.sync=!0,N?H._writev(x,A.onwrite):H._write(x,_,A.onwrite),A.sync=!1}function z(H,A,N,E){N||function(x,_){_.length===0&&_.needDrain&&(_.needDrain=!1,x.emit("drain"))}(H,A),A.pendingcb--,E(),G(H,A)}function V(H,A){A.bufferProcessing=!0;var N=A.bufferedRequest;if(H._writev&&N&&N.next){var E=A.bufferedRequestCount,x=new Array(E),_=A.corkedRequestsFree;_.entry=N;for(var P=0,M=!0;N;)x[P]=N,N.isBuf||(M=!1),N=N.next,P+=1;x.allBuffers=M,I(H,A,!0,A.length,x,"",_.finish),A.pendingcb++,A.lastBufferedRequest=null,_.next?(A.corkedRequestsFree=_.next,_.next=null):A.corkedRequestsFree=new e(A),A.bufferedRequestCount=0}else{for(;N;){var k=N.chunk,R=N.encoding,F=N.callback;if(I(H,A,!1,A.objectMode?1:k.length,k,R,F),N=N.next,A.bufferedRequestCount--,A.writing)break}N===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=N,A.bufferProcessing=!1}function L(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function U(H,A){H._final(function(N){A.pendingcb--,N&&H.emit("error",N),A.prefinished=!0,H.emit("prefinish"),G(H,A)})}function G(H,A){var N=L(A);return N&&(function(E,x){x.prefinished||x.finalCalled||(typeof E._final=="function"?(x.pendingcb++,x.finalCalled=!0,s.nextTick(U,E,x)):(x.prefinished=!0,E.emit("prefinish")))}(H,A),A.pendingcb===0&&(A.finished=!0,H.emit("finish"))),N}l.inherits(S,p),C.prototype.getBuffer=function(){for(var H=this.bufferedRequest,A=[];H;)A.push(H),H=H.next;return A},function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(H){}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(H){return!!m.call(this,H)||this===S&&H&&H._writableState instanceof C}})):m=function(H){return H instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(H,A,N){var E,x=this._writableState,_=!1,P=!x.objectMode&&(E=H,g.isBuffer(E)||E instanceof f);return P&&!g.isBuffer(H)&&(H=function(M){return g.from(M)}(H)),typeof A=="function"&&(N=A,A=null),P?A="buffer":A||(A=x.defaultEncoding),typeof N!="function"&&(N=v),x.ended?function(M,k){var R=new Error("write after end");M.emit("error",R),s.nextTick(k,R)}(this,N):(P||function(M,k,R,F){var q=!0,X=!1;return R===null?X=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||k.objectMode||(X=new TypeError("Invalid non-string/buffer chunk")),X&&(M.emit("error",X),s.nextTick(F,X),q=!1),q}(this,x,H,N))&&(x.pendingcb++,_=function(M,k,R,F,q,X){if(!R){var J=function(T,W,Y){return T.objectMode||T.decodeStrings===!1||typeof W!="string"||(W=g.from(W,Y)),W}(k,F,q);F!==J&&(R=!0,q="buffer",F=J)}var j=k.objectMode?1:F.length;k.length+=j;var K=k.length<k.highWaterMark;if(K||(k.needDrain=!0),k.writing||k.corked){var B=k.lastBufferedRequest;k.lastBufferedRequest={chunk:F,encoding:q,isBuf:R,callback:X,next:null},B?B.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else I(M,k,!1,j,F,q,X);return K}(this,x,P,H,A,N)),_},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||V(this,H))},S.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(H,A,N){N(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(H,A,N){var E=this._writableState;typeof H=="function"?(N=H,H=null,A=null):typeof A=="function"&&(N=A,A=null),H!=null&&this.write(H,A),E.corked&&(E.corked=1,this.uncork()),E.ending||function(x,_,P){_.ending=!0,G(x,_),P&&(_.finished?s.nextTick(P):x.once("finish",P)),_.ended=!0,x.writable=!1}(this,E,N)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),S.prototype.destroy=y.destroy,S.prototype._undestroy=y.undestroy,S.prototype._destroy=function(H,A){this.end(),A(H)}}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,c,u){var a=t("safe-buffer").Buffer,r=t("util");c.exports=function(){function i(){(function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(s){var e={data:s,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},i.prototype.unshift=function(s){var e={data:s,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length},i.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(s){if(this.length===0)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=s+e.data;return n},i.prototype.concat=function(s){if(this.length===0)return a.alloc(0);for(var e,n,d,l=a.allocUnsafe(s>>>0),h=this.head,p=0;h;)e=h.data,n=l,d=p,e.copy(n,d),p+=h.data.length,h=h.next;return l},i}(),r&&r.inspect&&r.inspect.custom&&(c.exports.prototype[r.inspect.custom]=function(){var i=r.inspect({length:this.length});return this.constructor.name+" "+i})},{"safe-buffer":520,util:188}],514:[function(t,c,u){var a=t("process-nextick-args");function r(i,s){i.emit("error",s)}c.exports={destroy:function(i,s){var e=this,n=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return n||d?(s?s(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(r,this,i)):a.nextTick(r,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(l){!s&&l?e._writableState?e._writableState.errorEmitted||(e._writableState.errorEmitted=!0,a.nextTick(r,e,l)):a.nextTick(r,e,l):s&&s(l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,c,u){arguments[4][490][0].apply(u,arguments)},{dup:490,events:422}],516:[function(t,c,u){c.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,c,u){(u=c.exports=t("./lib/_stream_readable.js")).Stream=u,u.Readable=u,u.Writable=t("./lib/_stream_writable.js"),u.Duplex=t("./lib/_stream_duplex.js"),u.Transform=t("./lib/_stream_transform.js"),u.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,c,u){c.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,c,u){c.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,c,u){arguments[4][217][0].apply(u,arguments)},{buffer:220,dup:217}],521:[function(t,c,u){arguments[4][218][0].apply(u,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,c,u){arguments[4][218][0].apply(u,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,c,u){(function(a,r){(function(){var i=t("process/browser.js").nextTick,s=Function.prototype.apply,e=Array.prototype.slice,n={},d=0;function l(h,p){this._id=h,this._clearFn=p}u.setTimeout=function(){return new l(s.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new l(s.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(h){h.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(h,p){clearTimeout(h._idleTimeoutId),h._idleTimeout=p},u.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},u._unrefActive=u.active=function(h){clearTimeout(h._idleTimeoutId);var p=h._idleTimeout;p>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},p))},u.setImmediate=typeof a=="function"?a:function(h){var p=d++,g=!(arguments.length<2)&&e.call(arguments,1);return n[p]=!0,i(function(){n[p]&&(g?h.apply(null,g):h.call(null),u.clearImmediate(p))}),p},u.clearImmediate=typeof r=="function"?r:function(h){delete n[h]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,c,u){(function(a){(function(){function r(i){try{if(!a.localStorage)return!1}catch(e){return!1}var s=a.localStorage[i];return s!=null&&String(s).toLowerCase()==="true"}c.exports=function(i,s){if(r("noDeprecation"))return i;var e=!1;return function(){if(!e){if(r("throwDeprecation"))throw new Error(s);r("traceDeprecation")?console.trace(s):console.warn(s),e=!0}return i.apply(this,arguments)}}}).call(this)}).call(this,typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],525:[function(t,c,u){typeof Object.create=="function"?c.exports=function(a,r){a.super_=r,a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(a,r){a.super_=r;var i=function(){};i.prototype=r.prototype,a.prototype=new i,a.prototype.constructor=a}},{}],526:[function(t,c,u){c.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(t,c,u){(function(a,r){(function(){var i=/%[sdj%]/g;u.format=function(x){if(!C(x)){for(var _=[],P=0;P<arguments.length;P++)_.push(n(arguments[P]));return _.join(" ")}P=1;for(var M=arguments,k=M.length,R=String(x).replace(i,function(q){if(q==="%%")return"%";if(P>=k)return q;switch(q){case"%s":return String(M[P++]);case"%d":return Number(M[P++]);case"%j":try{return JSON.stringify(M[P++])}catch(X){return"[Circular]"}default:return q}}),F=M[P];P<k;F=M[++P])y(F)||!z(F)?R+=" "+F:R+=" "+n(F);return R},u.deprecate=function(x,_){if(S(r.process))return function(){return u.deprecate(x,_).apply(this,arguments)};if(a.noDeprecation===!0)return x;var P=!1;return function(){if(!P){if(a.throwDeprecation)throw new Error(_);a.traceDeprecation?console.trace(_):console.error(_),P=!0}return x.apply(this,arguments)}};var s,e={};function n(x,_){var P={seen:[],stylize:l};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),m(_)?P.showHidden=_:_&&u._extend(P,_),S(P.showHidden)&&(P.showHidden=!1),S(P.depth)&&(P.depth=2),S(P.colors)&&(P.colors=!1),S(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=d),h(P,x,P.depth)}function d(x,_){var P=n.styles[_];return P?"\x1B["+n.colors[P][0]+"m"+x+"\x1B["+n.colors[P][1]+"m":x}function l(x,_){return x}function h(x,_,P){if(x.customInspect&&_&&U(_.inspect)&&_.inspect!==u.inspect&&(!_.constructor||_.constructor.prototype!==_)){var M=_.inspect(P,x);return C(M)||(M=h(x,M,P)),M}var k=function(B,T){if(S(T))return B.stylize("undefined","undefined");if(C(T)){var W="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(W,"string")}if(v(T))return B.stylize(""+T,"number");if(m(T))return B.stylize(""+T,"boolean");if(y(T))return B.stylize("null","null")}(x,_);if(k)return k;var R=Object.keys(_),F=function(B){var T={};return B.forEach(function(W,Y){T[W]=!0}),T}(R);if(x.showHidden&&(R=Object.getOwnPropertyNames(_)),L(_)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return p(_);if(R.length===0){if(U(_)){var q=_.name?": "+_.name:"";return x.stylize("[Function"+q+"]","special")}if(I(_))return x.stylize(RegExp.prototype.toString.call(_),"regexp");if(V(_))return x.stylize(Date.prototype.toString.call(_),"date");if(L(_))return p(_)}var X,J="",j=!1,K=["{","}"];return f(_)&&(j=!0,K=["[","]"]),U(_)&&(J=" [Function"+(_.name?": "+_.name:"")+"]"),I(_)&&(J=" "+RegExp.prototype.toString.call(_)),V(_)&&(J=" "+Date.prototype.toUTCString.call(_)),L(_)&&(J=" "+p(_)),R.length!==0||j&&_.length!=0?P<0?I(_)?x.stylize(RegExp.prototype.toString.call(_),"regexp"):x.stylize("[Object]","special"):(x.seen.push(_),X=j?function(B,T,W,Y,Q){for(var Z=[],tt=0,rt=T.length;tt<rt;++tt)E(T,String(tt))?Z.push(g(B,T,W,Y,String(tt),!0)):Z.push("");return Q.forEach(function(st){st.match(/^\d+$/)||Z.push(g(B,T,W,Y,st,!0))}),Z}(x,_,P,F,R):R.map(function(B){return g(x,_,P,F,B,j)}),x.seen.pop(),function(B,T,W){return B.reduce(function(Y,Q){return Q.indexOf(`
`)>=0,Y+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?W[0]+(T===""?"":T+`
 `)+" "+B.join(`,
  `)+" "+W[1]:W[0]+T+" "+B.join(", ")+" "+W[1]}(X,J,K)):K[0]+J+K[1]}function p(x){return"["+Error.prototype.toString.call(x)+"]"}function g(x,_,P,M,k,R){var F,q,X;if((X=Object.getOwnPropertyDescriptor(_,k)||{value:_[k]}).get?q=X.set?x.stylize("[Getter/Setter]","special"):x.stylize("[Getter]","special"):X.set&&(q=x.stylize("[Setter]","special")),E(M,k)||(F="["+k+"]"),q||(x.seen.indexOf(X.value)<0?(q=y(P)?h(x,X.value,null):h(x,X.value,P-1)).indexOf(`
`)>-1&&(q=R?q.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+q.split(`
`).map(function(J){return"   "+J}).join(`
`)):q=x.stylize("[Circular]","special")),S(F)){if(R&&k.match(/^\d+$/))return q;(F=JSON.stringify(""+k)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=x.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=x.stylize(F,"string"))}return F+": "+q}function f(x){return Array.isArray(x)}function m(x){return typeof x=="boolean"}function y(x){return x===null}function v(x){return typeof x=="number"}function C(x){return typeof x=="string"}function S(x){return x===void 0}function I(x){return z(x)&&G(x)==="[object RegExp]"}function z(x){return typeof x=="object"&&x!==null}function V(x){return z(x)&&G(x)==="[object Date]"}function L(x){return z(x)&&(G(x)==="[object Error]"||x instanceof Error)}function U(x){return typeof x=="function"}function G(x){return Object.prototype.toString.call(x)}function H(x){return x<10?"0"+x.toString(10):x.toString(10)}u.debuglog=function(x){if(S(s)&&(s=a.env.NODE_DEBUG||""),x=x.toUpperCase(),!e[x])if(new RegExp("\\b"+x+"\\b","i").test(s)){var _=a.pid;e[x]=function(){var P=u.format.apply(u,arguments);console.error("%s %d: %s",x,_,P)}}else e[x]=function(){};return e[x]},u.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},u.isArray=f,u.isBoolean=m,u.isNull=y,u.isNullOrUndefined=function(x){return x==null},u.isNumber=v,u.isString=C,u.isSymbol=function(x){return typeof x=="symbol"},u.isUndefined=S,u.isRegExp=I,u.isObject=z,u.isDate=V,u.isError=L,u.isFunction=U,u.isPrimitive=function(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||x===void 0},u.isBuffer=t("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var x=new Date,_=[H(x.getHours()),H(x.getMinutes()),H(x.getSeconds())].join(":");return[x.getDate(),A[x.getMonth()],_].join(" ")}function E(x,_){return Object.prototype.hasOwnProperty.call(x,_)}u.log=function(){console.log("%s - %s",N(),u.format.apply(u,arguments))},u.inherits=t("inherits"),u._extend=function(x,_){if(!_||!z(_))return x;for(var P=Object.keys(_),M=P.length;M--;)x[P[M]]=_[P[M]];return x}}).call(this)}).call(this,t("_process"),typeof ee!="undefined"?ee:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(u,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(u,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(u,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(u,"NIL",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(u,"version",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(u,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(u,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(u,"parse",{enumerable:!0,get:function(){return h.default}});var a=p(t("./v1.js")),r=p(t("./v3.js")),i=p(t("./v4.js")),s=p(t("./v5.js")),e=p(t("./nil.js")),n=p(t("./version.js")),d=p(t("./validate.js")),l=p(t("./stringify.js")),h=p(t("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,c,u){function a(h){return 14+(h+64>>>9<<4)+1}function r(h,p){const g=(65535&h)+(65535&p);return(h>>16)+(p>>16)+(g>>16)<<16|65535&g}function i(h,p,g,f,m,y){return r((v=r(r(p,h),r(f,y)))<<(C=m)|v>>>32-C,g);var v,C}function s(h,p,g,f,m,y,v){return i(p&g|~p&f,h,p,m,y,v)}function e(h,p,g,f,m,y,v){return i(p&f|g&~f,h,p,m,y,v)}function n(h,p,g,f,m,y,v){return i(p^g^f,h,p,m,y,v)}function d(h,p,g,f,m,y,v){return i(g^(p|~f),h,p,m,y,v)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=function(h){if(typeof h=="string"){const p=unescape(encodeURIComponent(h));h=new Uint8Array(p.length);for(let g=0;g<p.length;++g)h[g]=p.charCodeAt(g)}return function(p){const g=[],f=32*p.length;for(let m=0;m<f;m+=8){const y=p[m>>5]>>>m%32&255,v=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(v)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[a(g)-1]=g;let f=1732584193,m=-271733879,y=-1732584194,v=271733878;for(let C=0;C<p.length;C+=16){const S=f,I=m,z=y,V=v;f=s(f,m,y,v,p[C],7,-680876936),v=s(v,f,m,y,p[C+1],12,-389564586),y=s(y,v,f,m,p[C+2],17,606105819),m=s(m,y,v,f,p[C+3],22,-1044525330),f=s(f,m,y,v,p[C+4],7,-176418897),v=s(v,f,m,y,p[C+5],12,1200080426),y=s(y,v,f,m,p[C+6],17,-1473231341),m=s(m,y,v,f,p[C+7],22,-45705983),f=s(f,m,y,v,p[C+8],7,1770035416),v=s(v,f,m,y,p[C+9],12,-1958414417),y=s(y,v,f,m,p[C+10],17,-42063),m=s(m,y,v,f,p[C+11],22,-1990404162),f=s(f,m,y,v,p[C+12],7,1804603682),v=s(v,f,m,y,p[C+13],12,-40341101),y=s(y,v,f,m,p[C+14],17,-1502002290),m=s(m,y,v,f,p[C+15],22,1236535329),f=e(f,m,y,v,p[C+1],5,-165796510),v=e(v,f,m,y,p[C+6],9,-1069501632),y=e(y,v,f,m,p[C+11],14,643717713),m=e(m,y,v,f,p[C],20,-373897302),f=e(f,m,y,v,p[C+5],5,-701558691),v=e(v,f,m,y,p[C+10],9,38016083),y=e(y,v,f,m,p[C+15],14,-660478335),m=e(m,y,v,f,p[C+4],20,-405537848),f=e(f,m,y,v,p[C+9],5,568446438),v=e(v,f,m,y,p[C+14],9,-1019803690),y=e(y,v,f,m,p[C+3],14,-187363961),m=e(m,y,v,f,p[C+8],20,1163531501),f=e(f,m,y,v,p[C+13],5,-1444681467),v=e(v,f,m,y,p[C+2],9,-51403784),y=e(y,v,f,m,p[C+7],14,1735328473),m=e(m,y,v,f,p[C+12],20,-1926607734),f=n(f,m,y,v,p[C+5],4,-378558),v=n(v,f,m,y,p[C+8],11,-2022574463),y=n(y,v,f,m,p[C+11],16,1839030562),m=n(m,y,v,f,p[C+14],23,-35309556),f=n(f,m,y,v,p[C+1],4,-1530992060),v=n(v,f,m,y,p[C+4],11,1272893353),y=n(y,v,f,m,p[C+7],16,-155497632),m=n(m,y,v,f,p[C+10],23,-1094730640),f=n(f,m,y,v,p[C+13],4,681279174),v=n(v,f,m,y,p[C],11,-358537222),y=n(y,v,f,m,p[C+3],16,-722521979),m=n(m,y,v,f,p[C+6],23,76029189),f=n(f,m,y,v,p[C+9],4,-640364487),v=n(v,f,m,y,p[C+12],11,-421815835),y=n(y,v,f,m,p[C+15],16,530742520),m=n(m,y,v,f,p[C+2],23,-995338651),f=d(f,m,y,v,p[C],6,-198630844),v=d(v,f,m,y,p[C+7],10,1126891415),y=d(y,v,f,m,p[C+14],15,-1416354905),m=d(m,y,v,f,p[C+5],21,-57434055),f=d(f,m,y,v,p[C+12],6,1700485571),v=d(v,f,m,y,p[C+3],10,-1894986606),y=d(y,v,f,m,p[C+10],15,-1051523),m=d(m,y,v,f,p[C+1],21,-2054922799),f=d(f,m,y,v,p[C+8],6,1873313359),v=d(v,f,m,y,p[C+15],10,-30611744),y=d(y,v,f,m,p[C+6],15,-1560198380),m=d(m,y,v,f,p[C+13],21,1309151649),f=d(f,m,y,v,p[C+4],6,-145523070),v=d(v,f,m,y,p[C+11],10,-1120210379),y=d(y,v,f,m,p[C+2],15,718787259),m=d(m,y,v,f,p[C+9],21,-343485551),f=r(f,S),m=r(m,I),y=r(y,z),v=r(v,V)}return[f,m,y,v]}(function(p){if(p.length===0)return[];const g=8*p.length,f=new Uint32Array(a(g));for(let m=0;m<g;m+=8)f[m>>5]|=(255&p[m/8])<<m%32;return f}(h),8*h.length))};u.default=l},{}],530:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,u.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a,r=(a=t("./validate.js"))&&a.__esModule?a:{default:a},i=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(s.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(s.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(s.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(s.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};u.default=i},{"./validate.js":541}],532:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,u.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,c,u){let a;Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(){if(!a&&(a=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)};const r=new Uint8Array(16)},{}],534:[function(t,c,u){function a(s,e,n,d){switch(s){case 0:return e&n^~e&d;case 1:return e^n^d;case 2:return e&n^e&d^n&d;case 3:return e^n^d}}function r(s,e){return s<<e|s>>>32-e}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=function(s){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const p=unescape(encodeURIComponent(s));s=[];for(let g=0;g<p.length;++g)s.push(p.charCodeAt(g))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const d=s.length/4+2,l=Math.ceil(d/16),h=new Array(l);for(let p=0;p<l;++p){const g=new Uint32Array(16);for(let f=0;f<16;++f)g[f]=s[64*p+4*f]<<24|s[64*p+4*f+1]<<16|s[64*p+4*f+2]<<8|s[64*p+4*f+3];h[p]=g}h[l-1][14]=8*(s.length-1)/Math.pow(2,32),h[l-1][14]=Math.floor(h[l-1][14]),h[l-1][15]=8*(s.length-1)&4294967295;for(let p=0;p<l;++p){const g=new Uint32Array(80);for(let S=0;S<16;++S)g[S]=h[p][S];for(let S=16;S<80;++S)g[S]=r(g[S-3]^g[S-8]^g[S-14]^g[S-16],1);let f=n[0],m=n[1],y=n[2],v=n[3],C=n[4];for(let S=0;S<80;++S){const I=Math.floor(S/20),z=r(f,5)+a(I,m,y,v)+C+e[I]+g[S]>>>0;C=v,v=y,y=r(m,30)>>>0,m=f,f=z}n[0]=n[0]+f>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};u.default=i},{}],535:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a,r=(a=t("./validate.js"))&&a.__esModule?a:{default:a};const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).substr(1));var s=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(i[e[n+0]]+i[e[n+1]]+i[e[n+2]]+i[e[n+3]]+"-"+i[e[n+4]]+i[e[n+5]]+"-"+i[e[n+6]]+i[e[n+7]]+"-"+i[e[n+8]]+i[e[n+9]]+"-"+i[e[n+10]]+i[e[n+11]]+i[e[n+12]]+i[e[n+13]]+i[e[n+14]]+i[e[n+15]]).toLowerCase();if(!(0,r.default)(d))throw TypeError("Stringified UUID is invalid");return d};u.default=s},{"./validate.js":541}],536:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=i(t("./rng.js")),r=i(t("./stringify.js"));function i(h){return h&&h.__esModule?h:{default:h}}let s,e,n=0,d=0;var l=function(h,p,g){let f=p&&g||0;const m=p||new Array(16);let y=(h=h||{}).node||s,v=h.clockseq!==void 0?h.clockseq:e;if(y==null||v==null){const L=h.random||(h.rng||a.default)();y==null&&(y=s=[1|L[0],L[1],L[2],L[3],L[4],L[5]]),v==null&&(v=e=16383&(L[6]<<8|L[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),S=h.nsecs!==void 0?h.nsecs:d+1;const I=C-n+(S-d)/1e4;if(I<0&&h.clockseq===void 0&&(v=v+1&16383),(I<0||C>n)&&h.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=C,d=S,e=v,C+=122192928e5;const z=(1e4*(268435455&C)+S)%4294967296;m[f++]=z>>>24&255,m[f++]=z>>>16&255,m[f++]=z>>>8&255,m[f++]=255&z;const V=C/4294967296*1e4&268435455;m[f++]=V>>>8&255,m[f++]=255&V,m[f++]=V>>>24&15|16,m[f++]=V>>>16&255,m[f++]=v>>>8|128,m[f++]=255&v;for(let L=0;L<6;++L)m[f+L]=y[L];return p||(0,r.default)(m)};u.default=l},{"./rng.js":533,"./stringify.js":535}],537:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=i(t("./v35.js")),r=i(t("./md5.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)("v3",48,r.default);u.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(n,d,l){function h(p,g,f,m){if(typeof p=="string"&&(p=function(v){v=unescape(encodeURIComponent(v));const C=[];for(let S=0;S<v.length;++S)C.push(v.charCodeAt(S));return C}(p)),typeof g=="string"&&(g=(0,r.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+p.length);if(y.set(g),y.set(p,g.length),y=l(y),y[6]=15&y[6]|d,y[8]=63&y[8]|128,f){m=m||0;for(let v=0;v<16;++v)f[m+v]=y[v];return f}return(0,a.default)(y)}try{h.name=n}catch(p){}return h.DNS=s,h.URL=e,h},u.URL=u.DNS=void 0;var a=i(t("./stringify.js")),r=i(t("./parse.js"));function i(n){return n&&n.__esModule?n:{default:n}}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";u.DNS=s;const e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";u.URL=e},{"./parse.js":531,"./stringify.js":535}],539:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=i(t("./rng.js")),r=i(t("./stringify.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e,n,d){const l=(e=e||{}).random||(e.rng||a.default)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,n){d=d||0;for(let h=0;h<16;++h)n[d+h]=l[h];return n}return(0,r.default)(l)};u.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=i(t("./v35.js")),r=i(t("./sha1.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)("v5",80,r.default);u.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a,r=(a=t("./regex.js"))&&a.__esModule?a:{default:a},i=function(s){return typeof s=="string"&&r.default.test(s)};u.default=i},{"./regex.js":532}],542:[function(t,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a,r=(a=t("./validate.js"))&&a.__esModule?a:{default:a},i=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};u.default=i},{"./validate.js":541}],543:[function(t,c,u){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(u,"__esModule",{value:!0}),u.CHAR=`	
\r -퟿-�𐀀-􏿿`,u.S=` 	\r
`,u.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",u.NAME_CHAR="-"+u.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",u.CHAR_RE=new RegExp("^["+u.CHAR+"]$","u"),u.S_RE=new RegExp("^["+u.S+"]+$","u"),u.NAME_START_CHAR_RE=new RegExp("^["+u.NAME_START_CHAR+"]$","u"),u.NAME_CHAR_RE=new RegExp("^["+u.NAME_CHAR+"]$","u"),u.NAME_RE=new RegExp("^["+u.NAME_START_CHAR+"]["+u.NAME_CHAR+"]*$","u"),u.NMTOKEN_RE=new RegExp("^["+u.NAME_CHAR+"]+$","u");function a(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}u.S_LIST=[32,10,13,9],u.isChar=function(r){return r>=32&&r<=55295||r===10||r===13||r===9||r>=57344&&r<=65533||r>=65536&&r<=1114111},u.isS=function(r){return r===32||r===10||r===13||r===9},u.isNameStartChar=a,u.isNameChar=function(r){return a(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],544:[function(t,c,u){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(u,"__esModule",{value:!0}),u.CHAR="-퟿-�𐀀-􏿿",u.RESTRICTED_CHAR="-\b\v\f---",u.S=` 	\r
`,u.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",u.NAME_CHAR="-"+u.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",u.CHAR_RE=new RegExp("^["+u.CHAR+"]$","u"),u.RESTRICTED_CHAR_RE=new RegExp("^["+u.RESTRICTED_CHAR+"]$","u"),u.S_RE=new RegExp("^["+u.S+"]+$","u"),u.NAME_START_CHAR_RE=new RegExp("^["+u.NAME_START_CHAR+"]$","u"),u.NAME_CHAR_RE=new RegExp("^["+u.NAME_CHAR+"]$","u"),u.NAME_RE=new RegExp("^["+u.NAME_START_CHAR+"]["+u.NAME_CHAR+"]*$","u"),u.NMTOKEN_RE=new RegExp("^["+u.NAME_CHAR+"]+$","u");function a(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}u.S_LIST=[32,10,13,9],u.isChar=function(r){return r>=1&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},u.isRestrictedChar=function(r){return r>=1&&r<=8||r===11||r===12||r>=14&&r<=31||r>=127&&r<=132||r>=134&&r<=159},u.isCharAndNotRestricted=function(r){return r===9||r===10||r===13||r>31&&r<127||r===133||r>159&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},u.isS=function(r){return r===32||r===10||r===13||r===9},u.isNameStartChar=a,u.isNameChar=function(r){return a(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],545:[function(t,c,u){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}Object.defineProperty(u,"__esModule",{value:!0}),u.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",u.NC_NAME_CHAR="-"+u.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",u.NC_NAME_START_CHAR_RE=new RegExp("^["+u.NC_NAME_START_CHAR+"]$","u"),u.NC_NAME_CHAR_RE=new RegExp("^["+u.NC_NAME_CHAR+"]$","u"),u.NC_NAME_RE=new RegExp("^["+u.NC_NAME_START_CHAR+"]["+u.NC_NAME_CHAR+"]*$","u"),u.isNCNameStartChar=a,u.isNCNameChar=function(r){return a(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}]},{},[15])(15)})})(zo);var Oo=zo.exports,Fo={exports:{}};(function(D,o){(function(t,c){c()})(ee,function(){function t(e,n){return typeof n=="undefined"?n={autoBom:!1}:typeof n!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function c(e,n,d){var l=new XMLHttpRequest;l.open("GET",e),l.responseType="blob",l.onload=function(){s(l.response,n,d)},l.onerror=function(){console.error("could not download file")},l.send()}function u(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(d){}return 200<=n.status&&299>=n.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(d){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ee=="object"&&ee.global===ee?ee:void 0,i=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,n,d){var l=r.URL||r.webkitURL,h=document.createElement("a");n=n||e.name||"download",h.download=n,h.rel="noopener",typeof e=="string"?(h.href=e,h.origin===location.origin?a(h):u(h.href)?c(e,n,d):a(h,h.target="_blank")):(h.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,d){if(n=n||e.name||"download",typeof e!="string")navigator.msSaveOrOpenBlob(t(e,d),n);else if(u(e))c(e,n,d);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){a(l)})}}:function(e,n,d,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof e=="string")return c(e,n,d);var h=e.type==="application/octet-stream",p=/constructor/i.test(r.HTMLElement)||r.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||h&&p||i)&&typeof FileReader!="undefined"){var f=new FileReader;f.onloadend=function(){var v=f.result;v=g?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=v:location=v,l=null},f.readAsDataURL(e)}else{var m=r.URL||r.webkitURL,y=m.createObjectURL(e);l?l.location=y:location.href=y,l=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});r.saveAs=s.saveAs=s,D.exports=s})})(Fo);var zd=Fo.exports;const Uo=D=>(b.pushScopeId("data-v-2c43af00"),D=D(),b.popScopeId(),D),Od={style:{"margin-top":"10px",padding:"5px",position:"relative"}},Fd={class:"static-title"},Ud={class:"custom-ellipsis"},Hd={class:"custom-ellipsis"},Wd={class:"filter-options"},Gd={class:"custom-ellipsis"},qd={class:"filter-options"},Xd={class:"custom-ellipsis"},Kd=["onClick"],Yd={class:"font-weight-bold mr-2"},Zd={class:"custom-ellipsis"},Jd={class:"summary-box"},Qd=Uo(()=>b.createElementVNode("br",null,null,-1)),$d=Uo(()=>b.createElementVNode("br",null,null,-1)),tu={class:"custom-ellipsis"},eu={style:{padding:"10px"}},nu={class:"custom-ellipsis"},ru={class:"filterBox"},iu={style:{display:"flex","justify-content":"space-evenly","margin-bottom":"20px"}},ou={key:1},su=b.defineComponent({__name:"MeasurementStatistics",setup(D){const o=b.ref("all"),t=b.ref(!1),c=b.ref(!1),u=b.ref(te.Length);b.ref(!1);const a=b.ref(!1),r=b.ref(""),i=b.ref(!1),s=b.ref(""),e=[{name:O("长度"),value:te.Length},{name:O("面积"),value:te.Area}],n=[{title:O("序号"),value:"index"},{title:O("颜色"),value:"color"},{title:O("面积"),value:"areaVal"},{title:O("周长"),value:"perimeter"},{title:O("分类"),value:"category"}],d=[{title:O("序号"),value:"index"},{title:O("颜色"),value:"color"},{title:O("长度"),value:"lengthVal"},{title:O("分类"),value:"category"}],l=b.reactive([]),h=b.reactive([]),p=(M=!0,k=!1)=>ot(this,null,function*(){l.length=0;const R=new w.MxCADSelectionSet,F=new w.MxCADResbuf;F.AddString("CUSTOMENTITY",5020),M?yield R.allSelect(F):yield R.userSelect(O("请点选或框选标注，右键结束选择"),F),R.forEach(q=>{const X=q.getMcDbEntity();if(X instanceof qe&&(X.dimType===te.Area||X.dimType===te.Length)){const J={id:X.getHandle(),color:xd(X.trueColor.red,X.trueColor.green,X.trueColor.blue),category:X.categoryName,dimType:X.dimType,entity:X,isChecked:!1};X.dimType===te.Area?(J.perimeter=X.weeklyValue,J.areaVal=X.areaValue):J.lengthVal=X.lengthValue,l.push(J),!h.find(j=>j.id===X.getHandle())&&!M&&h.push(J)}}),k&&(H.length=0,H.push(...Array.from(new Set(l.map(q=>q.color)))),A.length=0,A.push(...Array.from(new Set(l.map(q=>q.category))))),f()}),g=b.reactive([]),f=()=>{o.value==="manual"&&(l.length=0,l.push(...h));const M=l.filter(k=>{let R=!0,F=!0;return t.value&&(R=H.includes(k.color)),c.value&&(F=A.includes(k.category)),R&&F});g.length=0,g.push(...M)},m=()=>g.filter(M=>M.dimType===u.value);b.onMounted(()=>{dn.value=500,p(!0,!0)});const y=b.computed(()=>({totalLength:l.map(M=>M.lengthVal||0).reduce((M,k)=>M+k,0).toFixed(3),totalArea:l.map(M=>M.areaVal||0).reduce((M,k)=>M+k,0).toFixed(3),totalPerimeter:l.map(M=>M.perimeter||0).reduce((M,k)=>M+k,0).toFixed(3)}));function v(){const M=`${O("总长度：")}${y.value.totalLength};
${O("总面积：")}${y.value.totalArea}；
${O("总周长：")}${y.value.totalPerimeter};`;navigator.clipboard.writeText(M)}const C=M=>{const{minPt:k,maxPt:R}=M.entity.getBoundingBox(),F=k.clone().addvec(R.sub(k).mult(1/2));let q=lt.MxFun.getCurrentDraw();q.getTempMarkDraw().clear(),q.getTempMarkDraw().drawCircleMark(F.toVector3(),q.viewCoordLong2Cad(50),16711680),q.updateDisplay(),w.MxCpp.getCurrentMxCAD().zoomCenter(F.x,F.y),l.forEach(X=>X.isChecked=!1),M.isChecked=!0},S=()=>ot(this,null,function*(){Wn.value=!1,yield p(!1),Wn.value=!0}),I=b.reactive([]),z=b.reactive([]),V=b.reactive([]);function L(M,k){const R=[];for(let F=0;F<M.length;F+=k)R.push(M.slice(F,F+k));return R}const U=b.ref(""),G=M=>{U.value=M;const k=l.filter(F=>F.category!=="未分类"),R=O(M==="color"?"颜色":"分类");if(!l.length||M==="category"&&!k.length){a.value=!0,r.value=R;return}else{i.value=!0,s.value=O(M==="color"?"选择颜色分类":"选择标注分类"),(U.value==="color"?z:V).length=0;const F=Array.from(new Set(l.map(q=>M==="color"?q.color:q.category)));L(F,4).forEach(q=>{const X=q.map(J=>({value:J,isChecked:(U.value==="color"?H:A).includes(J)}));(U.value==="color"?z:V).push(X)})}I.length=0,I.push(...U.value==="color"?z:V)},H=[],A=[],N=()=>{i.value=!1,U.value==="color"?H.length=0:A.length=0,(U.value==="color"?z:V).forEach(M=>{(U.value==="color"?H:A).push(...M.filter(k=>k.isChecked===!0).map(k=>k.value))}),f()},E=()=>{if(o.value==="all")return p(!0);if(o.value==="manual")return f()},x=()=>ot(this,null,function*(){try{const M=new Oo.Workbook,k=M.addWorksheet("测量数据统计");e.forEach((q,X)=>{const J=(q.value===te.Length?d:n).filter(W=>W.value!=="color"),j=g.filter(W=>W.dimType===q.value);X!==0&&k.addRow([]);const K=k.addRow(J.map(W=>W.title));_(K,"FFD3D3D3"),j.map((W,Y)=>J.map(Q=>{const Z=Q.value==="index"?Y+1:W[Q.value];return Z!==void 0?Z:""})).forEach(W=>{const Y=k.addRow(W);P(Y)});const B=[];for(let W=0;W<J.length;W++)if(W===0)B.push("总计");else if(J[W].value==="category")B.push("");else{const Y=j.map(Q=>Q[J[W].value]).reduce((Q,Z)=>Q+Z,0);B.push(Y)}const T=k.addRow(B);P(T)}),k.eachRow(q=>{q.eachCell(X=>{X.value!==null&&X.value!==void 0&&(X.alignment={horizontal:"center",vertical:"middle"})})});const R=yield M.xlsx.writeBuffer(),F=new Blob([R],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});zd.saveAs(F,"测量结果统计.xlsx")}catch(M){console.error("导出 Excel 出错:",M),alert("导出 Excel 失败，请重试。")}});function _(M,k){M.eachCell(R=>{R.font={bold:!0},R.fill={type:"pattern",pattern:"solid",fgColor:{argb:k}}})}function P(M){M.eachCell(k=>{k.alignment={horizontal:"center",vertical:"middle"},k.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}return(M,k)=>(b.openBlock(),b.createElementBlock("div",Od,[b.createVNode(b.unref(dt.VRow),{class:"static"},{default:b.withCtx(()=>[b.createElementVNode("span",Fd,b.toDisplayString(b.unref(O)("统计范围")),1),b.createVNode(b.unref(dt.VCol),{cols:"12",md:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadioGroup),{modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=R=>o.value=R),onChange:E},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("所有标注"),value:"all"},null,8,["label"]),b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("手动选择标注"),value:"manual"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"12",md:"8",class:"d-flex align-end"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{class:"mr-2",disabled:o.value!=="manual",onClick:S},{default:b.withCtx(()=>[b.createElementVNode("span",Ud,b.toDisplayString(b.unref(O)("选择标注")),1)]),_:1},8,["disabled"]),b.createVNode(b.unref(dt.VBtn),{disabled:o.value!=="manual",onClick:k[1]||(k[1]=()=>{l.length=0,h.length=0,f()})},{default:b.withCtx(()=>[b.createElementVNode("span",Hd,b.toDisplayString(b.unref(O)("清空选择")),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),b.createElementVNode("div",Wd,[b.createVNode(b.unref(dt.VCheckbox),{modelValue:t.value,"onUpdate:modelValue":k[2]||(k[2]=R=>t.value=R),label:b.unref(O)("按标注颜色进行过滤"),"hide-details":"",density:"compact",onChange:f},null,8,["modelValue","label"]),b.createVNode(b.unref(dt.VBtn),{class:"ml-2",disabled:!t.value,onClick:k[3]||(k[3]=R=>G("color"))},{default:b.withCtx(()=>[b.createElementVNode("span",Gd,b.toDisplayString(b.unref(O)("打开颜色选择框")),1)]),_:1},8,["disabled"])]),b.createElementVNode("div",qd,[b.createVNode(b.unref(dt.VCheckbox),{modelValue:c.value,"onUpdate:modelValue":k[4]||(k[4]=R=>c.value=R),label:b.unref(O)("按标注分类进行过滤"),"hide-details":"",density:"compact",onChange:f},null,8,["modelValue","label"]),b.createVNode(b.unref(dt.VBtn),{class:"ml-2",disabled:!c.value,onClick:k[5]||(k[5]=R=>G("category"))},{default:b.withCtx(()=>[b.createElementVNode("span",Xd,b.toDisplayString(b.unref(O)("打开分类选择框")),1)]),_:1},8,["disabled"])]),b.createVNode(b.unref(dt.VTabs),{modelValue:u.value,"onUpdate:modelValue":k[6]||(k[6]=R=>u.value=R),class:"mt-2 mb-2","bg-color":"rgb(var(--v-theme-prominent))"},{default:b.withCtx(()=>[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(e,R=>b.createVNode(b.unref(dt.VTab),{value:R.value,key:R.name,class:b.normalizeClass(R.value===u.value?"activeTab":"")},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(R.name),1)]),_:2},1032,["value","class"])),64))]),_:1},8,["modelValue"]),b.createVNode(b.unref(dt.VDataTable),{headers:u.value===b.unref(te).Area?n:d,items:m(),height:g.length?200:100,"fixed-header":!0,"hide-default-footer":"",class:"text-caption",density:"compact","item-value":"name",hover:"","no-data-text":b.unref(O)("暂无数据")},{item:b.withCtx(({item:R,index:F})=>[b.createElementVNode("tr",{class:b.normalizeClass(R.isChecked?"text-no-wrap checkedTr":"text-no-wrap"),onClick:q=>C(R)},[b.createElementVNode("td",null,b.toDisplayString(F+1),1),b.createElementVNode("td",null,[b.createElementVNode("div",{class:"color-box",style:b.normalizeStyle({backgroundColor:R.color})},null,4)]),b.withDirectives(b.createElementVNode("td",null,b.toDisplayString(R.areaVal),513),[[b.vShow,u.value===b.unref(te).Area]]),b.withDirectives(b.createElementVNode("td",null,b.toDisplayString(R.perimeter),513),[[b.vShow,u.value===b.unref(te).Area]]),b.withDirectives(b.createElementVNode("td",null,b.toDisplayString(R.lengthVal),513),[[b.vShow,u.value===b.unref(te).Length]]),b.createElementVNode("td",null,b.toDisplayString(R.category),1)],10,Kd)]),_:1},8,["headers","items","height","no-data-text"]),b.createVNode(b.unref(dt.VRow),{class:"mt-2"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"12",md:"9",class:"d-flex align-center"},{default:b.withCtx(()=>[b.createElementVNode("span",Yd,b.toDisplayString(b.unref(O)("总计：")),1)]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"12",md:"3",class:"justify-start"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{onClick:v},{default:b.withCtx(()=>[b.createElementVNode("span",Zd,b.toDisplayString(b.unref(O)("复制统计结果")),1)]),_:1})]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"12"},{default:b.withCtx(()=>[b.createElementVNode("div",Jd,[b.createElementVNode("p",null,[b.createTextVNode(b.toDisplayString(b.unref(O)("总长度："))+" "+b.toDisplayString(y.value.totalLength)+"; ",1),Qd,b.createTextVNode(" "+b.toDisplayString(b.unref(O)("总面积："))+" "+b.toDisplayString(y.value.totalArea)+"; ",1),$d,b.createTextVNode(" "+b.toDisplayString(b.unref(O)("总周长："))+" "+b.toDisplayString(y.value.totalPerimeter)+"; ",1)])])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VBtn),{color:"primary",onClick:x,class:"exportBtn",disabled:!g.length},{default:b.withCtx(()=>[b.createElementVNode("span",tu,b.toDisplayString(b.unref(O)("导出表格到Excel")),1)]),_:1},8,["disabled"]),b.createVNode(b.unref(dt.VDialog),{modelValue:a.value,"onUpdate:modelValue":k[8]||(k[8]=R=>a.value=R),"max-width":"200"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCard),null,{actions:b.withCtx(()=>[b.createVNode(b.unref(dt.VSpacer)),b.createVNode(b.unref(dt.VBtn),{onClick:k[7]||(k[7]=R=>a.value=!1)},{default:b.withCtx(()=>[b.createElementVNode("span",nu,b.toDisplayString(b.unref(O)("确定")),1)]),_:1})]),default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCardTitle),{style:{"font-size":"1.2em"}},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("提示")),1)]),_:1}),b.createElementVNode("div",eu,[b.createElementVNode("p",null,b.toDisplayString(b.unref(O)("表格中没有带"))+b.toDisplayString(r.value)+b.toDisplayString(b.unref(O)("的标注"))+","+b.toDisplayString(b.unref(O)("无法选择标注"))+b.toDisplayString(r.value)+b.toDisplayString(b.unref(O)("进行过滤")),1)])]),_:1})]),_:1},8,["modelValue"]),b.createVNode(b.unref(dt.VDialog),{modelValue:i.value,"onUpdate:modelValue":k[13]||(k[13]=R=>i.value=R),"max-width":"300"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCard),null,{actions:b.withCtx(()=>[b.createVNode(b.unref(dt.VSpacer)),b.createVNode(b.unref(dt.VBtn),{onClick:k[11]||(k[11]=R=>N()),style:{border:"1px solid #89cbfa"}},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("确定")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{onClick:k[12]||(k[12]=R=>i.value=!1),style:{border:"1px solid #89cbfa"}},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("取消")),1)]),_:1})]),default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCardTitle),{style:{"font-size":"1.2em"}},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)(s.value)),1)]),_:1}),b.createElementVNode("div",ru,[b.createElementVNode("div",iu,[b.createVNode(b.unref(dt.VBtn),{style:{border:"1px solid #ccc",padding:"0px",height:"25px"},onClick:k[9]||(k[9]=()=>{I.forEach(R=>R.forEach(F=>F.isChecked=!0))})},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("全选")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{style:{border:"1px solid #ccc",padding:"0px",height:"25px"},onClick:k[10]||(k[10]=()=>{I.forEach(R=>R.forEach(F=>F.isChecked=!1))})},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("全不选")),1)]),_:1})]),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(I,R=>(b.openBlock(),b.createElementBlock("div",{key:R,style:{display:"flex","justify-content":"space-around","align-items":"center"}},[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(R,F=>(b.openBlock(),b.createBlock(b.unref(dt.VCheckbox),{key:F,modelValue:F.isChecked,"onUpdate:modelValue":q=>F.isChecked=q},{label:b.withCtx(()=>[U.value==="color"?(b.openBlock(),b.createElementBlock("div",{key:0,class:"color-box",style:b.normalizeStyle({backgroundColor:F.value})},null,4)):(b.openBlock(),b.createElementBlock("span",ou,b.toDisplayString(F.value),1))]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))),128))])]),_:1})]),_:1},8,["modelValue"])]))}}),x2="",au=_e(su,[["__scopeId","data-v-2c43af00"],["__file","MeasurementStatistics.vue"]]),lu={style:{padding:"5px",position:"relative"}},cu={class:"static"},hu={class:"static-title"},du={class:"fc",style:{width:"60%"}},uu={class:"fc",style:{"margin-top":"10px",color:"red"}},fu={class:"static"},pu={class:"static-title"},gu={style:{display:"flex","align-items":"flex-end"}},mu={class:"fc",style:{width:"60%"}},bu={class:"custom-ellipsis"},yu={class:"fc",style:{"margin-top":"10px"}},wu={class:"static"},xu={class:"static-title"},vu={class:"fc",style:{"margin-top":"5px",width:"50%"}},_u=b.defineComponent({__name:"AnnotationSettingDialog",setup(D){const o=b.reactive({color:Gn.value,textHeight:De.value,accuracy:-1}),t=b.ref(De.value?"manual":"auto");b.ref(se.ActualValue);const c=b.ref(te.Length),u=b.reactive([]),a=b.reactive({fixedNum:-1,showType:se.ActualValue}),r=[{name:O("长度"),value:te.Length},{name:O("面积"),value:te.Area},{name:O("坐标"),value:te.Coordinate}],i=[{text:O("自动"),value:-1},{text:"0",value:0},{text:"0.0",value:1},{text:"0.00",value:2},{text:"0.000",value:3}],s=()=>{u.forEach(l=>{l.type===c.value&&(l.fixedNum=a.fixedNum,l.showType=a.showType)})},e=()=>{u.forEach(l=>{l.type===c.value&&(a.fixedNum=l.fixedNum,a.showType=l.showType)})};b.onMounted(()=>{dn.value=400,u.length=0,u.push(...Oe),e()});const n=()=>{Gn.value=o.color,De.value=o.textHeight,Oe.length=0,Oe.push(...u),Ie.showDialog(!1);let l=new w.MxCADResbuf;l.AddString("CUSTOMENTITY",5020);const h=new w.MxCADSelectionSet;h.allSelect(l),h.count()!==0&&(h.forEach(p=>{const g=p.getMcDbEntity();g instanceof qe&&g.setDimSettingForm(Oe)}),w.MxCpp.getCurrentMxCAD().regen())},d=()=>ot(this,null,function*(){Wn.value=!1;const l=new w.MxCADUiPrDist;l.setMessage(O("请选择一条线段的起始点，取线长作为文字的高度")),(yield l.go())&&(o.textHeight=Number(l.value().toFixed(2))),Wn.value=!0});return(l,h)=>(b.openBlock(),b.createElementBlock("div",lu,[b.createElementVNode("div",cu,[b.createElementVNode("span",hu,b.toDisplayString(b.unref(O)("标注颜色")),1),b.createElementVNode("div",du,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("未分类标注颜色：")),1),b.createVNode(b.unref(dt.VSelect),{items:b.unref(Ei),modelValue:o.color,"onUpdate:modelValue":h[0]||(h[0]=p=>o.color=p),style:{width:"20%"}},{selection:b.withCtx(()=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:o.color}),class:"color-box"},null,4)]),item:b.withCtx(({item:p,props:g})=>[b.createVNode(b.unref(dt.VListItem),{onClick:()=>{g.onClick()}},{default:b.withCtx(()=>[b.createElementVNode("span",{style:b.normalizeStyle({backgroundColor:p.value}),class:"color-box"},null,4)]),_:2},1032,["onClick"])]),_:1},8,["items","modelValue"])]),b.createElementVNode("span",uu,b.toDisplayString(b.unref(O)("提示:这里只修改未分类标注的默认颜色，如果需要修改分类标注的颜色，可以在标注分类管理界面里修改")),1)]),b.createElementVNode("div",fu,[b.createElementVNode("span",pu,b.toDisplayString(b.unref(O)("文字高度")),1),b.createElementVNode("div",gu,[b.createVNode(b.unref(dt.VRadioGroup),{modelValue:t.value,"onUpdate:modelValue":h[1]||(h[1]=p=>t.value=p),onChange:s},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("自动"),value:"auto"},null,8,["label"]),b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("手动设置"),value:"manual"},null,8,["label"])]),_:1},8,["modelValue"]),b.createElementVNode("div",mu,[b.createVNode(b.unref(dt.VTextField),{modelValue:o.textHeight,"onUpdate:modelValue":h[2]||(h[2]=p=>o.textHeight=p),type:"number",placeholder:"0.00",disabled:t.value==="auto"},null,8,["modelValue","disabled"]),b.createVNode(b.unref(dt.VBtn),{class:"ml-2",disabled:t.value==="auto",onClick:d},{default:b.withCtx(()=>[b.createElementVNode("span",bu,b.toDisplayString(b.unref(O)("在屏幕中指定")),1)]),_:1},8,["disabled"])])]),b.createElementVNode("span",yu,b.toDisplayString(b.unref(O)("(以上设置修改后，对新添加的标注生效)")),1)]),b.createElementVNode("div",wu,[b.createElementVNode("span",xu,b.toDisplayString(b.unref(O)("显示与精度设置")),1),b.createVNode(b.unref(dt.VTabs),{modelValue:c.value,"onUpdate:modelValue":[h[3]||(h[3]=p=>c.value=p),e],class:"mt-2 mb-2","bg-color":"rgb(var(--v-theme-prominent))"},{default:b.withCtx(()=>[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(r,p=>b.createVNode(b.unref(dt.VTab),{value:p.value,key:p.name,class:b.normalizeClass(p.value===c.value?"activeTab":"")},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(p.name),1)]),_:2},1032,["value","class"])),64))]),_:1},8,["modelValue"]),b.createVNode(b.unref(dt.VRadioGroup),{modelValue:a.showType,"onUpdate:modelValue":h[4]||(h[4]=p=>a.showType=p),onChange:s},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("按实际数值显示"),value:b.unref(se).ActualValue},null,8,["label","value"]),b.createVNode(b.unref(dt.VRadio),{label:`${b.unref(O)("图纸单位为mm,")}${r.find(p=>p.value===c.value).name}${b.unref(O)("数值按照")}${r.find(p=>p.value===c.value).name===b.unref(te).Area?"m²":"m"}${b.unref(O)("显示")}`,value:b.unref(se).SquareMeter},null,8,["label","value"])]),_:1},8,["modelValue"]),b.createElementVNode("div",vu,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("显示精度：")),1),b.createVNode(b.unref(dt.VSelect),{items:i,modelValue:a.fixedNum,"onUpdate:modelValue":[h[5]||(h[5]=p=>a.fixedNum=p),s],"item-title":"text","item-value":"value"},null,8,["modelValue"])])]),b.createVNode(b.unref(dt.VBtn),{class:"save_btn",color:"primary",onClick:n},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("保存")),1)]),_:1})]))}}),v2="",Mu=_e(_u,[["__scopeId","data-v-0022e465"],["__file","AnnotationSettingDialog.vue"]]),Pu={class:"contents"},Cu={class:"static"},Eu={class:"static-title"},Du={style:{"min-width":"100px"}},Au={class:"static",style:{display:"flex","justify-content":"space-around"}},ku={class:"static-title"},Su={class:"footerBtn"},Tu=b.defineComponent({__name:"MatchPropertiesDialog",setup(D){const o=b.reactive([]),t=b.reactive([]),c=a=>{[o,t].forEach(r=>{r.forEach(i=>{!i.isReadOnly&&i.key===a.key&&(i.isChecked=!i.isChecked)})})};b.onMounted(()=>{dn.value=350,o.push(...Tn),t.push(...Xn),window.addEventListener("keydown",c)});const u=()=>{Tn.length=0,Tn.push(...o),Xn.length=0,Xn.push(...t),Ie.showDialog(!1)};return b.onUnmounted(()=>{window.removeEventListener("keydown",c)}),(a,r)=>(b.openBlock(),b.createElementBlock("div",Pu,[b.createElementVNode("div",Cu,[b.createElementVNode("span",Eu,b.toDisplayString(b.unref(O)("基本特性")),1),(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(o,i=>(b.openBlock(),b.createElementBlock("div",{class:"base-options",key:i.key},[b.createElementVNode("div",Du,[b.createVNode(b.unref(dt.VCheckbox),{modelValue:i.isChecked,"onUpdate:modelValue":s=>i.isChecked=s,label:b.unref(O)(i.name),disabled:i.isReadOnly,"hide-details":"",density:"compact"},null,8,["modelValue","onUpdate:modelValue","label","disabled"])]),b.withDirectives(b.createElementVNode("div",{class:"color_box",style:b.normalizeStyle({backgroundColor:i.color})},null,4),[[b.vShow,i.value=="trueColor"]]),b.createElementVNode("span",{style:b.normalizeStyle(i.value=="trueColor"?"margin-left: 5px":"margin-left: 45px")},b.toDisplayString((i==null?void 0:i.entProperty)||""),5)]))),128))]),b.createElementVNode("div",Au,[b.createElementVNode("span",ku,b.toDisplayString(b.unref(O)("特殊特性")),1),b.createVNode(b.unref(dt.VRow),{justify:"space-around"},{default:b.withCtx(()=>[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(t,i=>(b.openBlock(),b.createBlock(b.unref(dt.VCol),{key:i.key,cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{modelValue:i.isChecked,"onUpdate:modelValue":s=>i.isChecked=s,label:b.unref(O)(i.name),"hide-details":"",disabled:i.isReadOnly,density:"compact"},null,8,["modelValue","onUpdate:modelValue","label","disabled"])]),_:2},1024))),128))]),_:1})]),b.createElementVNode("div",Su,[b.createVNode(b.unref(dt.VBtn),{color:"primary",onClick:u},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("确定")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{style:{"margin-left":"10px"},onClick:r[0]||(r[0]=()=>b.unref(Ie).showDialog(!1))},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("取消")),1)]),_:1})])]))}}),_2="",Nu=_e(Tu,[["__scopeId","data-v-0458f2f1"],["__file","MatchPropertiesDialog.vue"]]);function Vu(D){return ot(this,null,function*(){const o=new Ru;o.direct=D.direct,o.length=D.frameSizeLength,o.width=D.frameSizeWidth,o.tableScale=D.scale,o.isAddTitle=D.isAddTitle,o.isAddCos=D.isAddCos,o.framePos=new w.McGePoint3d(0,0,0),o.getAllEntity();const t=new w.MxCADUiPrPoint;t.setMessage(O("请设置图框位置")),t.setUserDraw((a,r)=>{o.allEntityArr.forEach(i=>{const s=i.clone();s.move(o.framePos,a),r.drawMcDbEntity(s)})});let c=yield t.go();if(!c)return;const u=w.MxCpp.getCurrentMxCAD();o.allEntityArr.forEach(a=>{const r=a.clone();r.move(o.framePos,c),u.drawEntity(r)})})}function Bu(){return ot(this,null,function*(){sn.value="InsterFrameDialog",Ie.showDialog(!0,{title:O("插入图框"),isShowFooter:!1})})}var Vr=(D=>(D.Transverse="T",D.Portrait="P",D))(Vr||{});class Ru{constructor(){this.length=0,this.width=0,this.direct="T",this.scale=1,this.tableData=[{width:18,data:[{rowNum:1},{label:"比例",value:`1:${this.scale}`,rowNum:1},{label:"尺寸",value:`${this.length}*${this.width}`,rowNum:1}]},{width:30,data:[{label:"日期",rowNum:1},{label:"审核",rowNum:1},{label:"绘制",rowNum:1}]},{width:45,data:[{label:"图号",rowNum:1},{label:"图名",rowNum:2}]}],this.framePos=new w.McGePoint3d,this.rowNum=3,this.lableWidth=18,this.lableHeight=6,this.isAddTitle=!0,this.isAddCos=!0,this.allEntityArr=[],this._pos=new w.McGePoint3d,this.drawFrameOutside=()=>{w.MxCpp.getCurrentMxCAD();const o=this.getFrameSpecifications(this.direct),t=w.McGeVector3d.kYAxis.clone().mult(o.height),c=w.McGeVector3d.kXAxis.clone().negate().mult(o.width),u=this.framePos.clone().addvec(t),a=this.framePos.clone().addvec(c),r=this.framePos.clone().addvec(t).addvec(c),i=new w.McDbPolyline;if(i.addVertexAt(this.framePos),i.addVertexAt(u),i.addVertexAt(r),i.addVertexAt(a),i.isClosed=!0,this.allEntityArr.push(i),this.isAddTitle){const s=this.framePos.clone().addvec(r.sub(this.framePos).mult(.5)),e=5*this.scale;let n=new w.McDbPolyline;i.offsetCurves(e,s).forEach(d=>{n=d.clone(),this.allEntityArr.push(d)}),this._pos=n.getPointAt(0).val}else this._pos=i.getPointAt(0).val},this.drawContent=()=>{w.MxCpp.getCurrentMxCAD();const o=this.tableData.reduce((s,e)=>s+e.width,0)*this.scale,t=w.McGeVector3d.kXAxis.clone().negate().mult(this.tableData.length*this.lableWidth+o),c=w.McGeVector3d.kYAxis.clone().mult(this.lableHeight*this.rowNum),u=this._pos.clone().addvec(c),a=this._pos.clone().addvec(t).addvec(c),r=new w.McDbLine(u,a);this.allEntityArr.push(r);let i=this._pos.clone();this.tableData.forEach(s=>{const e=w.McGeVector3d.kXAxis.clone().negate().mult(s.width*this.scale),n=w.McGeVector3d.kXAxis.clone().negate().mult(this.lableWidth);let d=0;const l=i.clone();s.data.forEach((h,p)=>{d+=h.rowNum;const g=w.McGeVector3d.kYAxis.clone().mult(this.lableHeight*d),f=l.clone().addvec(e),m=l.clone().addvec(g),y=l.clone().addvec(g).addvec(e),v=new w.McDbLine(f,y),C=new w.McDbLine(m,y);if(h.value){const L=C.getPointAtDist(C.getLength().val/2).val,U=this.getText(L,h.value,this.lableHeight,h.rowNum);this.allEntityArr.push(U)}const S=y.clone().addvec(n),I=f.clone().addvec(n);p===0&&(i=I.clone());const z=new w.McDbLine(S,y),V=new w.McDbLine(S,I);if(p<s.data.length-1&&(this.allEntityArr.push(C),this.allEntityArr.push(z)),p===s.data.length-1&&(this.allEntityArr.push(v),this.allEntityArr.push(V)),h.label){const L=z.getPointAtDist(z.getLength().val/2).val,U=this.getText(L,h.label,this.lableHeight,h.rowNum);this.allEntityArr.push(U)}})})},this.getText=(o,t,c,u)=>{const a=new w.McDbText;return a.textString=t,a.height=c*(3/5),a.position=a.alignmentPoint=o.clone().subvec(w.McGeVector3d.kYAxis.clone().mult(u*c/2+a.height*(1/2))),a.horizontalMode=w.McDb.TextHorzMode.kTextCenter,a},this.getFrameSpecifications=o=>{if(o==="P")return{height:this.length*this.scale,width:this.width*this.scale};if(o==="T")return{height:this.width*this.scale,width:this.length*this.scale}},this.getAllEntity=()=>{if(this.allEntityArr.length=0,this.tableData.forEach(o=>{o.data.forEach(t=>{t.label==="尺寸"&&(t.value=`${this.length}*${this.width}`)})}),this.direct==="T"){const o={width:55,data:[{label:"建设单位",rowNum:1},{label:"设计单位",rowNum:1},{label:"工程名称",rowNum:1}]};this.tableData.find(c=>JSON.stringify(c)===JSON.stringify(o))||this.tableData.push(o)}this.lableWidth=this.lableWidth*this.scale,this.lableHeight=this.lableHeight*this.scale,this.drawFrameOutside(),this.isAddCos&&this.drawContent()}}set tableScale(o){this.scale=Number(o.split(":")[1]),this.tableData.forEach(t=>{t.data.forEach(c=>{c.label==="比例"&&(c.value=`1:${this.scale}`)})})}get tableScale(){return`1:${this.scale}`}}const Iu={class:"contents"},Lu={class:"static"},ju={class:"static-title"},zu={class:"static"},Ou={class:"static-title"},Fu={class:"static"},Uu={class:"static-title"},Hu={class:"static"},Wu={class:"static-title"},Gu={class:"footerBtn"},qu=b.defineComponent({__name:"InsterFrameDialog",setup(D){const o=b.ref(!1),t=b.reactive({direct:Vr.Transverse,isAddTitle:!0,isAddCos:!0,frameSizeLength:297,frameSizeWidth:210,scale:"1:10"}),c=b.ref(4),u=b.reactive([{name:"A1",length:1189,width:841,value:1},{name:"A2",length:841,width:594,value:2},{name:"A3",length:420,width:297,value:3},{name:"A4",length:297,width:210,value:4}]),a=()=>{const s=u.find(e=>e.value===c.value);s&&(t.frameSizeLength=s.length,t.frameSizeWidth=s.width)},r=b.reactive(["1:1","1:5","1:10","1:20","1:25","1:30","1:50","1:100"]),i=()=>{Ie.showDialog(!1),Vu(t)};return(s,e)=>(b.openBlock(),b.createElementBlock("div",Iu,[b.createElementVNode("div",Lu,[b.createElementVNode("span",ju,b.toDisplayString(b.unref(O)("图框方向")),1),b.createVNode(b.unref(dt.VRadioGroup),{modelValue:t.direct,"onUpdate:modelValue":e[0]||(e[0]=n=>t.direct=n)},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRow),{justify:"space-around"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("横向图框"),value:b.unref(Vr).Transverse},null,8,["label","value"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VRadio),{label:b.unref(O)("纵向图框"),value:b.unref(Vr).Portrait},null,8,["label","value"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b.createElementVNode("div",zu,[b.createElementVNode("span",Ou,b.toDisplayString(b.unref(O)("附加项")),1),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{modelValue:t.isAddTitle,"onUpdate:modelValue":e[1]||(e[1]=n=>t.isAddTitle=n),label:b.unref(O)("加入标题栏"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{modelValue:t.isAddCos,"onUpdate:modelValue":e[2]||(e[2]=n=>t.isAddCos=n),label:b.unref(O)("加入会签栏"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1})]),_:1})]),b.createElementVNode("div",Fu,[b.createElementVNode("span",Uu,b.toDisplayString(b.unref(O)("图框尺寸")),1),b.createVNode(b.unref(dt.VRow),{justify:"space-around"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6",class:"fc"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("标 准：")),1),b.createVNode(b.unref(dt.VSelect),{items:u,modelValue:c.value,"onUpdate:modelValue":[e[3]||(e[3]=n=>c.value=n),a],"item-title":"name","item-value":"value",width:"50%"},null,8,["items","modelValue"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6",class:"fc"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{modelValue:o.value,"onUpdate:modelValue":e[4]||(e[4]=n=>o.value=n),label:b.unref(O)("自定义"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),{justify:"space-around"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6",class:"fc"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("长度：")),1),b.createVNode(b.unref(dt.VTextField),{modelValue:t.frameSizeLength,"onUpdate:modelValue":e[5]||(e[5]=n=>t.frameSizeLength=n),type:"number",width:"50%",readonly:!o.value},null,8,["modelValue","readonly"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6",class:"fc"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("宽度：")),1),b.createVNode(b.unref(dt.VTextField),{modelValue:t.frameSizeWidth,"onUpdate:modelValue":e[6]||(e[6]=n=>t.frameSizeWidth=n),type:"number",width:"50%",readonly:!o.value},null,8,["modelValue","readonly"])]),_:1})]),_:1})]),b.createElementVNode("div",Hu,[b.createElementVNode("span",Wu,b.toDisplayString(b.unref(O)("尺寸比例")),1),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6",class:"fc"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("比例：")),1),b.createVNode(b.unref(dt.VSelect),{items:r,modelValue:t.scale,"onUpdate:modelValue":e[7]||(e[7]=n=>t.scale=n)},null,8,["items","modelValue"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6"})]),_:1})]),b.createElementVNode("div",Gu,[b.createVNode(b.unref(dt.VBtn),{color:"primary",onClick:i},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("确定")),1)]),_:1}),b.createVNode(b.unref(dt.VBtn),{style:{"margin-left":"10px"},onClick:e[8]||(e[8]=()=>b.unref(Ie).showDialog(!1))},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("取消")),1)]),_:1})])]))}}),M2="",Xu=_e(qu,[["__scopeId","data-v-b94ec293"],["__file","InsterFrameDialog.vue"]]),Ku=_e(b.defineComponent({__name:"dialog",setup(D){const{MxDialog:o}=MxPluginContext.components,{isShow:t,onReveal:c}=Ie,u=b.ref("弹框标题"),a=b.ref({});c(n=>{n.title&&(u.value=n.title),n!=null&&n.paramData&&(a.value=n.paramData),i.length=0,n!=null&&n.isShowFooterBtn&&i.push({name:O("取消"),fun:()=>{const d=w.MxCpp.getCurrentMxCAD();Ie.cancel(s),t.value=!1,d.mxdraw.clearMxCurrentSelect(),d.updateDisplay()}},{name:O("确定"),primary:!0,fun:()=>{Ie.confirm(s),t.value=!1}})});const r={ExtoolsDialog:bd,SetDimScaleDialog:wd,MeasurementSet:Ad,CategoryManage:jd,MeasurementStatistics:au,AnnotationSettingDialog:Mu,MatchPropertiesDialog:Nu,InsterFrameDialog:Xu},i=b.reactive([{name:O("取消"),fun:()=>{const n=w.MxCpp.getCurrentMxCAD();Ie.cancel(s),t.value=!1,n.mxdraw.clearMxCurrentSelect(),n.updateDisplay()}},{name:O("确定"),primary:!0,fun:()=>{Ie.confirm(s),t.value=!1}}]);let s;const e=n=>{s=n};return(n,d)=>b.withDirectives((b.openBlock(),b.createElementBlock("div",null,[b.createVNode(b.unref(o),{title:u.value,modelValue:b.unref(t),"onUpdate:modelValue":d[0]||(d[0]=l=>b.isRef(t)?t.value=l:null),"max-width":b.unref(dn),footerBtnList:i},{default:b.withCtx(()=>[(b.openBlock(),b.createBlock(b.resolveDynamicComponent(r[b.unref(sn)]),{onReceiveParameters:e,paramData:a.value},null,40,["paramData"]))]),_:1},8,["title","modelValue","max-width","footerBtnList"])],512)),[[b.vShow,b.unref(Wn)]])}}),[["__file","dialog.vue"]]);function Yu(){const D=document.createElement("div");document.body.appendChild(D);const o=b.createVNode(Ku),t=MxPluginContext.getApp();o.appContext=t._context,b.render(o,D)}class Br extends w.McDbCustomEntity{constructor(o){super(o),this._text="",this._textsize=20,this._radius=15}create(o){return new Br(o)}getTypeName(){return"McDbExtoolRectBoxLeadComment"}set text(o){this._text=o}get text(){return this._text}set textsize(o){this._textsize=o}get textsize(){return this._textsize}set radius(o){this._radius=o}get radius(){return this._radius}dwgInFields(o){return this.pt1=o.readPoint("pt1").val,this.pt2=o.readPoint("pt2").val,this.pt3=o.readPoint("pt3").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this._text=o.readString("text").val,this._textsize=o.readDouble("textsize").val,!0}dwgOutFields(o){return o.writePoint("pt1",this.pt1),o.writePoint("pt2",this.pt2),o.writePoint("pt3",this.pt3),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("text",this._text),o.writeDouble("textsize",this._textsize),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.pt1.x+=t,this.pt1.y+=c,this.pt1.z+=u):o===1?(this.pt2.x+=t,this.pt2.y+=c,this.pt2.z+=u):o===2&&(this.pt3.x+=t,this.pt3.y+=c,this.pt3.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.pt1),o.append(this.pt2),o.append(this.pt3),o}worldDraw(o){const t=[],c=this._radius;if(this.pt1.x<this.pt2.x){const l=this.pt2.x-this.pt1.x,h=parseInt((l/(c*2)).toString());this.pt2.x=this.pt1.x+c*2*h}else{const l=this.pt1.x-this.pt2.x,h=parseInt((l/(c*2)).toString());this.pt1.x=this.pt2.x+c*2*h}if(this.pt1.y<this.pt2.y){const l=this.pt2.y-this.pt1.y,h=parseInt((l/(c*2)).toString());this.pt2.y=this.pt1.y+c*2*h}else{const l=this.pt1.y-this.pt2.y,h=parseInt((l/(c*2)).toString());this.pt1.y=this.pt2.y+c*2*h}const u=new w.McDbPolyline;u.isClosed=!0,u.addVertexAt(this.pt1),u.addVertexAt(new w.McGePoint3d(this.pt2.x,this.pt1.y)),u.addVertexAt(this.pt2),u.addVertexAt(new w.McGePoint3d(this.pt1.x,this.pt2.y));let r=u.getLength().val/c;const i=[];for(let l=1;l<=r;l++){const h=u.getPointAtDist(c*l).val;i.push(h)}i.forEach((l,h)=>{const p=new w.McDbCircle(l.x,l.y,l.z,c);if(h%2===0){const g=[];p.IntersectWith(u,w.McDb.Intersect.kOnBothOperands).forEach(f=>{g.push(f)}),p.splitCurves(g).forEach(f=>{const m=f.getPointAtDist(f.getLength().val/2).val;(m.x<Math.min(this.pt1.x,this.pt2.x)||m.x>Math.max(this.pt1.x,this.pt2.x))&&(o.drawEntity(f),t.push(f)),(m.y<Math.min(this.pt1.y,this.pt2.y)||m.y>Math.max(this.pt1.y,this.pt2.y))&&(o.drawEntity(f),t.push(f))})}});const s=[];for(let l=0;l<u.numVerts();l++){const h=u.getPointAt(l).val.distanceTo(this.pt3);s.push(h)}const e=s.indexOf(Math.min(...s)),n=u.getPointAt(e).val,d=new w.McDbPolyline;if(d.addVertexAt(n),d.addVertexAt(this.pt3),this._text){const l=new w.McDbText;l.textString=this._text,l.position=l.alignmentPoint=this.pt3,l.height=20,o.drawEntity(l),t.push(l);const{minPt:h,maxPt:p,ret:g}=l.getBoundingBox();if(!g)return;const f=p.x-h.x;d.addVertexAt(new w.McGePoint3d(this.pt3.x+f,this.pt3.y)),o.drawEntity(d),t.push(d)}else o.drawEntity(d),t.push(d);this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setPoint1(o){this.assertWrite(),this.pt1=o.clone()}setPoint2(o){this.assertWrite(),this.pt2=o.clone()}setPoint3(o){this.assertWrite(),this.pt3=o.clone()}getPoint1(){return this.pt1}getPoint2(){return this.pt2}getPoint3(){return this.pt3}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Zu(){return ot(this,null,function*(){const D=new Br,o=new w.MxCADUiPrString;o.setMessage(O("请输入审批意见"));let t=yield o.go();t||(t="审批意见XXXX"),D.text=t;const c=new w.MxCADUiPrPoint;c.setMessage(O("指定云线框起始点"));const u=yield c.go();if(!u)return;const a=new w.MxCADUiPrPoint;a.setMessage(O("指定云线框终止点")),a.setUserDraw((e,n)=>{D.setPoint1(u),D.setPoint2(e),D.setPoint3(e),n.drawMcDbEntity(D)});const r=yield a.go();if(!r)return;D.setPoint2(r);const i=new w.MxCADUiPrPoint;i.setMessage(O("指定审图标注点")),i.setUserDraw((e,n)=>{D.setPoint3(e),n.drawMcDbEntity(D)});const s=yield i.go();s&&(D.setPoint3(s),w.MxCpp.getCurrentMxCAD().drawEntity(D))})}class Rr extends w.McDbCustomEntity{constructor(o){super(o),this.pt1=new w.McGePoint3d,this.pt2=new w.McGePoint3d}create(o){return new Rr(o)}getTypeName(){return"McDbExtoolAnnotatedRectangle"}dwgInFields(o){return this.pt1=o.readPoint("pt1").val,this.pt2=o.readPoint("pt2").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("pt1",this.pt1),o.writePoint("pt2",this.pt2),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o==0?(this.pt1.x+=t,this.pt1.y+=c,this.pt1.z+=u):o==1&&(this.pt2.x+=t,this.pt2.y+=c,this.pt2.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.pt1),o.append(this.pt2),o}worldDraw(o){const t=[],c=new w.McDbPolyline;c.isClosed=!0,c.addVertexAt(this.pt1),c.addVertexAt(new w.McGePoint3d(this.pt2.x,this.pt1.y)),c.addVertexAt(this.pt2),c.addVertexAt(new w.McGePoint3d(this.pt1.x,this.pt2.y)),o.drawEntity(c),t.push(c);let u=w.MxCpp.getCurrentMxCAD();const a=new w.McGePoint3d(this.pt2.x,this.pt1.y);u.addDimStyle("MyDimStyle","41,0.18,141,0.09,40,200","77,1,271,3","",""),u.drawDimStyle="MyDimStyle";const r=u.drawDimAligned(this.pt1.x,this.pt1.y+20,a.x,a.y+20,(this.pt1.x+a.x)/2,this.pt1.y+20);o.drawEntity(r.getMcDbEntity()),t.push(r.getMcDbEntity()),r.erase();const i=u.drawDimAligned(this.pt2.x+20,this.pt2.y,a.x+20,a.y,a.x+20,(this.pt2.y+a.y)/2);o.drawEntity(i.getMcDbEntity()),t.push(i.getMcDbEntity()),i.erase(),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setPoint1(o){this.assertWrite(),this.pt1=o.clone()}setPoint2(o){this.assertWrite(),this.pt2=o.clone()}getPoint1(){return this.pt1}getPoint2(){return this.pt2}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Ju(){return ot(this,null,function*(){let D=w.MxCpp.getCurrentMxCAD();const o=new w.MxCADUiPrPoint;o.setMessage(O("指定第一个角点:"));let t=yield o.go();if(!t)return;const c=new Rr;c.setPoint1(t),o.setMessage(O("指定第二个角点:")),o.setUserDraw((a,r)=>{c.setPoint2(a),r.drawMcDbEntity(c)});let u=yield o.go();u&&(c.setPoint2(u),D.drawEntity(c))})}class qn extends w.McDbCustomEntity{constructor(o){super(o),this.center=new w.McGePoint3d,this._radius=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new qn(o)}getTypeName(){return"MxDbExtoolDivide"}set radius(o){this._radius=o}get radius(){return this._radius}dwgInFields(o){return this.center=o.readPoint("center").val,this._radius=o.readDouble("radius").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("center",this.center),o.writeDouble("radius",this._radius),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.center.x+=t,this.center.y+=c,this.center.z+=u}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.center),o}worldDraw(o){const t=[],c=new w.McDbCircle(this.center.x,this.center.y,this.center.z,this._radius);o.drawEntity(c);const{minPt:u,maxPt:a,ret:r}=c.getBoundingBox();if(!r)return;const i=new w.McDbLine(u,a),s=new w.McDbLine(new w.McGePoint3d(u.x,a.y,0),new w.McGePoint3d(a.x,u.y,0));o.drawEntity(i),o.drawEntity(s),t.push(c),t.push(i),t.push(s),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setCenter(o){this.assertWrite(),this.center=o.clone()}getCenter(){return this.center}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Qu(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage("选择要对齐水平标注或竖直标注："),D.setKeyWords("[水平(H)/竖直(V)]");const o=yield D.go();if(!o)return;const t=new w.MxCADSelectionSet;if(!(yield t.userSelect("选择对齐标注:"))||t.count()==0)return;const c=[];if(t.forEach(e=>{const n=e.getMcDbEntity();if(n.objectName==="McDbRotatedDimension"){const d=n.clone(),l=Math.abs(d.xLine1Point.x-d.xLine2Point.x).toFixed(0),h=Math.abs(d.xLine1Point.y-d.xLine2Point.y).toFixed(0),p=Math.abs(d.dimLinePoint.x-d.xLine1Point.x)+Math.abs(d.dimLinePoint.x-d.xLine2Point.x),g=Math.abs(d.dimLinePoint.y-d.xLine1Point.y)+Math.abs(d.dimLinePoint.y-d.xLine2Point.y);o==="H"&&p.toFixed(0)==l&&c.push(n),o==="V"&&g.toFixed(0)==h&&c.push(n)}}),c.length===0)return;const u=w.MxCpp.getCurrentMxCAD(),a=new w.MxCADUiPrPoint;a.setMessage("设置尺寸线位置");const r=yield a.go();if(!r)return;c.forEach(e=>{e.dimLinePoint=r}),u.updateDisplay();const i=new w.MxCADUiPrPoint;i.setMessage("设置尺寸线界限");const s=yield i.go();s&&(c.forEach(e=>{o==="H"?(e.xLine1Point=new w.McGePoint3d(e.xLine1Point.x,s.y),e.xLine2Point=new w.McGePoint3d(e.xLine2Point.x,s.y)):o==="V"&&(e.xLine1Point=new w.McGePoint3d(s.x,e.xLine1Point.y),e.xLine2Point=new w.McGePoint3d(s.x,e.xLine2Point.y))}),u.updateDisplay())})}class Ir extends w.McDbCustomEntity{constructor(o){super(o),this.numPos=new w.McGePoint3d,this.labelPos=new w.McGePoint3d,this.labelSize=lt.MxFun.screenCoordLong2Doc(5),this.numSize=lt.MxFun.screenCoordLong2Doc(10),this.index="1",this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Ir(o)}getTypeName(){return"McDbExtoolIndex"}set symbolIndex(o){this.index=o}get symbolIndex(){return this.index}dwgInFields(o){return this.numPos=o.readPoint("numPos").val,this.labelPos=o.readPoint("labelPos").val,this.index=o.readString("index").val,this.labelSize=o.readDouble("labelSize").val,this.numSize=o.readDouble("numSize").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("labelPos",this.labelPos),o.writePoint("numPos",this.numPos),o.writeString("index",this.index),o.writeDouble("labelSize",this.labelSize),o.writeDouble("numSize",this.numSize),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.labelPos.x+=t,this.labelPos.y+=c,this.labelPos.z+=u):(this.numPos.x+=t,this.numPos.y+=c,this.numPos.z+=u,this.labelPos.x+=t,this.labelPos.y+=c,this.labelPos.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.labelPos),o.append(this.numPos),o}worldDraw(o){const t=[],c=new w.McDbHatch;c.appendCircleLoop(this.labelPos.x,this.labelPos.y,this.labelSize),o.drawEntity(c),t.push(c);const u=new w.McDbText;u.textString=this.index,u.height=this.numSize*(4/5),u.position=this.numPos.clone().subvec(w.McGeVector3d.kYAxis.clone().mult(this.numSize*(2/5))),u.alignmentPoint=u.position,u.horizontalMode=w.McDb.TextHorzMode.kTextMid,o.drawEntity(u),t.push(u);const a=new w.McDbCircle(this.numPos.x,this.numPos.y,this.numPos.z,this.numSize);o.drawEntity(a),t.push(a);const r=this.labelPos.sub(this.numPos).normalize().mult(this.numSize),i=this.numPos.addvec(r),s=new w.McDbLine(this.labelPos,i);o.drawEntity(s),t.push(s),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setLabelPos(o){this.labelPos=o.clone()}getLabelPos(){return this.labelPos}setNumPos(o){this.numPos=o.clone()}getNumPos(){return this.numPos}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function $u(){return ot(this,null,function*(){let D=1;for(;;){const o=new w.MxCADUiPrPoint;o.setMessage(O("指定标注点:"));let t=yield o.go();if(!t)break;const c=new Ir;c.setLabelPos(t);const u=new w.MxCADUiPrPoint;u.setMessage(O("指定序号位置:")),u.setUserDraw((i,s)=>{const e=c.clone();e.setNumPos(i),s.drawMcDbEntity(e)});let a=yield u.go();if(!a)break;c.setNumPos(a),c.symbolIndex=D.toString(),w.MxCpp.getCurrentMxCAD().drawEntity(c),D+=1}})}function tf(){new Br().rxInit(),new Rr().rxInit(),new qn().rxInit(),new Ir().rxInit(),lt.MxFun.addCommand("Mx_Extool_Approval",Zu),lt.MxFun.addCommand("Mx_Extool_AnnotatedRectangle",Ju),lt.MxFun.addCommand("Mx_Extool_Alignment",Qu),lt.MxFun.addCommand("Mx_Extool_indexSymbol",$u)}function ef(){return ot(this,null,function*(){let D=new w.MxCADSelectionSet;if(!(yield D.userSelect(O("选择对象:")))||D.count()==0)return;const o=[],t=w.MxCpp.getCurrentMxCAD(),c=new w.MxCADUiPrPoint;c.setMessage(O("指定基点"));const u=yield c.go();if(u)for(;;){const a=new w.MxCADUiPrPoint;a.setMessage(O("指定第二个点 ")),o.length>0?a.setKeyWords(`[${O("阵列")}(A)/${O("退出")}(E)/${O("放弃")}(U)]`):a.setKeyWords(`[${O("阵列")}(A)/${O("退出")}(E)]`),a.setUserDraw((i,s)=>{s.drawLine(i.toVector3(),u.toVector3()),D.forEach(e=>{let n=e.getMcDbEntity();if(!n)return;let d=n.clone();d.move(u,i),s.drawMcDbEntity(d)})});const r=yield a.go();if(a.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){if(a.isKeyWordPicked("E"))return;if(a.isKeyWordPicked("U"))if(o.length>0)o[o.length-1].forEach(i=>{i.erase()}),o.pop();else return;else if(a.isKeyWordPicked("A")){const i=new w.MxCADUiPrInt;i.clearLastInputPoint(),i.setMessage(O("输入要进行阵列的项目数 "));const s=(yield i.go())||1;let e=[];if(a.setUserDraw((d,l)=>{l.drawLine(d.toVector3(),u.toVector3()),e.length=0;let h=d.clone();e.push(h);for(let p=0;p<s-1;p++)h=h.clone().addvec(d.sub(u)),e.push(h);D.forEach(p=>{let g=p.getMcDbEntity();g&&e.forEach(f=>{let m=new w.McGeMatrix3d,y=g.clone();m.clone(),m.setToTranslation(f.sub(u)),y.transformBy(m),l.drawMcDbEntity(y)})})}),!(yield a.go()))return;o.push([]),D.forEach(d=>{let l=d.getMcDbEntity();l&&e.forEach(h=>{let p=new w.McGeMatrix3d,g=l.clone();p.clone(),p.setToTranslation(h.sub(u)),g.transformBy(p),o[o.length-1].push(t.drawEntity(g))})})}}else if(a.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){if(!r)return;o.push([]),D.forEach(i=>{let s=i.getMcDbEntity();if(!s)return;let e=s.clone();e.move(u,r),o[o.length-1].push(t.drawEntity(e))})}else return}})}function nf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("ARC");let o=yield w.MxCADUtility.userSelect(O("选择圆弧对象"),D);o.length!=0&&o.forEach(t=>ot(this,null,function*(){let c=yield t.getMcDbEntity(),u=c,a=u.center,r=u.radius,i=new w.McDbCircle;i.center=a,i.radius=r,c.erase(),w.MxCpp.getCurrentMxCAD().drawEntity(i)}))})}function rf(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD();let o=new w.MxCADSelectionSet;if(!(yield o.userSelect(O("选择复制旋转对象:")))||o.count()==0)return;const t=new w.MxCADUiPrPoint;t.setMessage(O("指定基点"));const c=yield t.go(),u=new w.MxCADUiPrPoint;u.setMessage(O("请指定目标点 ")),u.setUserDraw((n,d)=>{d.drawLine(n.toVector3(),c.toVector3()),o.forEach(l=>{let h=l.getMcDbEntity();if(!h)return;let p=h.clone();p.move(c,n),d.drawMcDbEntity(p)})});const a=yield u.go();if(!a)return;let r=[];o.forEach(n=>{let d=n.getMcDbEntity();if(!d)return;let l=d.clone();l.move(c,a),r.push(D.drawEntity(l))});let i=new w.MxCADUiPrAngle;if(i.setMessage(O("请指定旋转角度")),i.setBasePt(a),i.setUserDraw((n,d)=>{d.drawLine(n.toVector3(),a.toVector3()),r.forEach(l=>{let h=l.getMcDbEntity();if(!h)return;let p=h.clone(),g=n.sub(a).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);p.rotate(a,g),d.drawMcDbEntity(p)})}),!(yield i.go()))return;const e=i.value();r.forEach(n=>{let d=n.getMcDbEntity();if(!d)return;let l=d.clone();l.rotate(a,e),D.drawEntity(l),d.erase()})})}function of(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("CIRCLE");let o=yield w.MxCADUtility.userSelect(O("选择要转成多边形的对象"),D);if(o.length==0)return;let t=new w.MxCADUiPrInt;t.setMessage(O("设置多边形边数"));let c=(yield t.go())||5;if(t.clearLastInputPoint(),!c)return;const u=new w.MxCADUiPrPoint;u.setMessage(O(" 输入选项")),u.setKeyWords(`[${O("内接于圆")}(I)/${O("外切于圆")}(C)]`),u.clearLastInputPoint(),yield u.go();let a="inside";u.isKeyWordPicked("i")&&(a="inside"),u.isKeyWordPicked("c")&&(a="outside");let r=w.MxCpp.getCurrentMxCAD();o.forEach(i=>ot(this,null,function*(){let s=yield i.getMcDbEntity(),e=s,n=[];if(a==="inside"){for(let l=0;l<c;l++){let h=e.getPointAtDist(e.getLength().val/c*l);h.ret&&n.push(h.val)}let d=new w.McDbPolyline;n.forEach(l=>{d.addVertexAt(l)}),d.isClosed=!0,r.drawEntity(d)}else if(a==="outside"){let d=90-360/(c*2),l=Math.sin(d*Math.PI/180),h=e.radius/l,p=new w.McDbCircle;p.center=e.center,p.radius=h;let g=[];for(let m=0;m<c;m++){let y=p.getPointAtDist(p.getLength().val/c*m);y.ret&&g.push(y.val)}let f=new w.McDbPolyline;g.forEach(m=>{f.addVertexAt(m)}),f.isClosed=!0,r.drawEntity(f)}s.erase()}))})}function sf(){return ot(this,null,function*(){let D=yield w.MxCADUtility.userSelect(O("选择要修改颜色的对象"));if(D.length==0)return;const o=new w.MxCADUiPrInt;o.setMessage(`${O("输入颜色索引")}(0~256)`);let t=(yield o.go())||20,c=new w.McCmColor;c.setColorIndex(t),D.forEach(u=>ot(this,null,function*(){let a=u.getMcDbEntity();a.trueColor=c}))})}function af(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("ARC");let o=yield w.MxCADUtility.userSelect(O("选择圆弧对象"),D);o.length!=0&&o.forEach(t=>ot(this,null,function*(){let c=yield t.getMcDbEntity();if(!c)return;let u=c.clone(),a=u.getLength(),r=u.getStartPoint().val,i=w.MxCpp.getCurrentMxCAD(),s=new w.McDbCircle;s.center=u.center,s.radius=u.radius;let e=s.getDistAtPoint(r),n=s.getPointAtDist(a.val+e.val).val,d=u.getFirstDeriv(r);if(!d.ret)return;let l=r.clone();l.addvec(d.val);let h=u.getFirstDeriv(n);if(!h.ret)return;let p=n.clone();p.addvec(h.val);let g=new w.McDbLine;g.startPoint=r,g.endPoint=l;let f=new w.McDbLine;f.startPoint=n,f.endPoint=p;let m=g.IntersectWith(f,w.McDb.Intersect.kExtendBoth);if(m.length()===0)return;let y=m.at(0);g.endPoint=y,f.endPoint=y,i.drawEntity(g),i.drawEntity(f)}))})}function lf(){return ot(this,null,function*(){let D=w.MxCpp.getCurrentMxCAD();const o=new w.MxCADUiPrKeyWord;o.setMessage(O(" 输入选项")),o.setKeyWords(`[${O("隐藏")}(A)/${O("隐藏未选")}(B)/${O("全部显示")}(C)]`);const t=yield o.go();if(t){if(t==="A"||t==="B"){let c=yield w.MxCADUtility.userSelect(O("选择目标的对象"));if(c.length==0)return;let u=[];if(c.forEach(a=>u.push(a.id)),t==="A")c.forEach(a=>ot(this,null,function*(){let r=yield a.getMcDbEntity();r&&(r.visible=!1)}));else if(t==="B"){let a=new w.MxCADSelectionSet;a.allSelect(),a.forEach(r=>ot(this,null,function*(){if(!u.includes(r.id)){let i=yield r.getMcDbEntity();i&&(i.visible=!1)}}))}}else if(t==="C"){let c=new w.MxCADSelectionSet;c.allSelect(),c.forEach(u=>ot(this,null,function*(){let a=yield u.getMcDbEntity();a&&a.visible===!1&&(a.visible=!0)}))}else return;D.updateDisplay()}})}function cf(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADUiPrEntity;o.setMessage(O(" 请选择角度复制对象"));const t=yield o.go();if(t===null)return;const c=yield t.getMcDbEntity(),u=new w.MxCADUiPrInt;u.setMessage(O(" 请输入角度复制数量"));const a=(yield u.go())||1,r=new w.MxCADUiPrPoint;r.setMessage(O(" 请输入角度复制的基点"));const i=yield r.go();if(!i)return;const s=new w.MxCADUiPrAngle;if(s.setMessage(O(" 请输入复制角度")),s.setBasePt(i),s.setUserDraw((d,l)=>{const h=d.sub(i).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);for(let p=1;p<a+1;p++){let g=c.clone();g.rotate(i,h*p),l.drawMcDbEntity(g)}}),!(yield s.go()))return;const n=s.value();for(let d=1;d<a+1;d++){let l=c.clone();l.rotate(i,n*d),D.drawEntity(l)}})}function hf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LWPOLYLINE");let o=yield w.MxCADUtility.userSelect(O("请选择顶点对象"),D);if(o.length==0)return;let t=yield w.MxCADUtility.userSelect(O("请选择复制对象"));if(t.length==0)return;const c=new w.MxCADUiPrPoint;c.setMessage(O("请确定复制基点"));const u=yield c.go();if(!u)return;const a=w.MxCpp.getCurrentMxCAD();o.forEach(r=>{let i=r.getMcDbEntity();if(!i)return;let s=i.numVerts();for(let e=0;e<s;e++){const n=i.getPointAt(e).val;t.forEach(d=>{const h=d.getMcDbEntity().clone();h.move(u,n),a.drawEntity(h)})}})})}function df(){return ot(this,null,function*(){let D=new w.MxCADUiPrEntity;D.setMessage(O("请选择参考曲线"));let o=yield D.go(),t=yield o.getMcDbEntity();if(t===null)return;const c=w.MxCpp.App.getCurrentMxCAD();let u=t.clone(),a=new w.MxCADResbuf;a.AddMcDbEntityTypes("CIRCLE,ARC,LINE,LWPOLYLINE,ELLIPSE");let r=yield w.MxCADUtility.userSelect(O("选择打断对象"),a);if(r.length==0)return;let i=c.mxdraw.viewCoordLong2Cad(.5);r.forEach(s=>ot(this,null,function*(){if(s.id!==o.id){let e=yield s.getMcDbEntity(),n=e.IntersectWith(u,w.McDb.Intersect.kOnBothOperands);if(n.length()!=0){let d=[];n.forEach(p=>{d.push(p)});let l=[];d.forEach(p=>{let g=e.getClosestPointTo(p,!1);if(!g.ret)return;let f=e.getFirstDeriv(g.val);if(!f.ret)return;f.val.normalize().mult(lt.MxFun.viewCoordLong2Cad(10));let m=g.val.clone();m.addvec(f.val);let y=g.val.clone();y.subvec(f.val);const v=e.getPointAtDist(0).val,C=e.getPointAtDist(e.getLength().val).val;if(v.distanceTo(g.val)<i||C.distanceTo(g.val)<i){const S=e.getDistAtPoint(m);l.push(g.val),S.ret?l.push(m):l.push(y)}else l.push(m),l.push(y)});let h=e.splitCurves(l);if(h.empty()){e.highlight(!1);return}h.forEach((p,g)=>{g%2==0&&c.drawEntity(p)}),e.erase()}}}))})}function uf(){return ot(this,null,function*(){let D=w.MxCpp.App.getCurrentMxCAD(),o=new w.MxCADResbuf;o.AddMcDbEntityTypes("CIRCLE,ARC,LINE,LWPOLYLINE,ELLIPSE");let t=new w.MxCADUiPrEntity;t.setFilter(o),t.setMessage(O("指定偏移对象"));let c=yield t.go();if(!c)return;const u=new w.MxCADUiPrDist;if(u.setMessage(O("请输入偏移距离")),!(yield u.go()))return;const r=u.value();let i=yield c.getMcDbEntity();const s=i.getStartPoint().val,n=i.getFirstDeriv(s).val.rotateBy(w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis)),d=s.clone().addvec(n),l=s.clone().subvec(n);let h=i.offsetCurves(r,d);if(h.length()===0)return;h.forEach(g=>{D.drawEntity(g)});let p=i.offsetCurves(r,l);p.length()!==0&&p.forEach(g=>{D.drawEntity(g)})})}function ff(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("ARC,LINE,LWPOLYLINE");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("指定伸缩对象(选择直线、多段线、圆弧)"));const t=yield o.go();if(!t)return;const c=w.MxCpp.App.getCurrentMxCAD(),u=t.getMcDbEntity();if(u instanceof w.McDbArc){const a=u.clone(),r=a.center,i=new w.MxCADUiPrPoint;i.setMessage(O("伸缩至")),u.visible=!1,i.setUserDraw((e,n)=>{a.endAngle=e.sub(r).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),n.drawMcDbEntity(a)});const s=yield i.go();if(u.visible=!0,!s)return;u.endAngle=s.sub(r).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),c.updateDisplay()}else if(u instanceof w.McDbLine){const a=u.clone(),r=new w.MxCADUiPrPoint;r.setMessage(O("伸缩至")),u.visible=!1;let i;r.setUserDraw((e,n)=>{i=a.getClosestPointTo(e,!0).val,a.endPoint=i,n.drawMcDbEntity(a)});const s=yield r.go();if(u.visible=!0,!s)return;u.endPoint=i,c.updateDisplay()}else if(u instanceof w.McDbPolyline){const a=u.clone(),r=new w.MxCADUiPrPoint;r.setMessage(O("伸缩至")),u.visible=!1;let i;const s=u.numVerts(),e=u.getBulgeAt(s-1),n=u.getWidthsAt(s-1);r.setUserDraw((l,h)=>{i=a.getClosestPointTo(l,!0).val,a.setPointAt(s-1,i),a.setBulgeAt(s-1,e),a.setWidthsAt(s-1,n.val1,n.val2),h.drawMcDbEntity(a)});const d=yield r.go();if(u.visible=!0,!d)return;u.setPointAt(s-1,i),u.setBulgeAt(s-1,e),u.setWidthsAt(s-1,n.val1,n.val2),c.updateDisplay()}})}function pf(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("CIRCLE");let o=yield w.MxCADUtility.userSelect(O("选择对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrDist;t.setMessage(O("请输入圆半径"));const c=o[0].getMcDbEntity();if(t.setBasePt(c.center),t.setUserDraw((r,i)=>{const s=r.distanceTo(c.center);o.forEach(e=>{const d=e.getMcDbEntity().clone();d.radius=s,i.drawMcDbEntity(d)})}),!(yield t.go()))return;const a=t.value();o.forEach(r=>{const i=r.getMcDbEntity();i.radius=a})})}function gf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LWPOLYLINE,ARC,LINE,CIRCLE,ELLIPSE");let o=yield w.MxCADUtility.userSelect(O("选择要修改线型比例的对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrString;if(t.setMessage(O("请输入线型比例")),!(yield t.go()))return;const u=Number(t.value());u&&o.forEach(a=>ot(this,null,function*(){let r=a.getMcDbEntity();r.linetypeScale=u}))})}function mf(){return ot(this,null,function*(){const D=w.MxCpp.App.getCurrentMxCAD(),o=new w.MxCADUiPrDist;if(o.setMessage(O("请输入阵列间距")),!(yield o.go()))return;const c=o.value(),u=new w.MxCADResbuf;u.AddMcDbEntityTypes("ARC");const a=new w.MxCADUiPrEntity;a.setFilter(u),a.setMessage(O("请选择圆弧"));const r=yield a.go();if(!r.id)return;const i=r.getMcDbEntity(),s=yield w.MxCADUtility.userSelect(O("选择排列对象"));if(s.length==0)return;const e=new w.MxCADUiPrPoint;e.setMessage(O("指定排列基点"));const n=yield e.go();n&&s.forEach(d=>ot(this,null,function*(){let l=d.getMcDbEntity(),h=i.getLength().val/c;if(!(h<1))for(let p=0;p<h;p++){let g=l.clone(),f=i.getPointAtDist(p*c);if(!f.ret)return;let m=f.val.sub(n),y=new w.McGeMatrix3d;y.setToTranslation(m),g.transformBy(y);let S=i.getFirstDeriv(f.val).val.rotateBy(w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis)).negate().angleTo2(w.McGeVector3d.kYAxis,w.McGeVector3d.kNegateZAxis);g.rotate(f.val,S),D.drawEntity(g)}}))})}function bf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LWPOLYLINE");let o=new w.MxCADSelectionSet;if(!(yield o.userSelect(O("选择目标多段线:"),D))||o.count()==0)return;const t=new w.MxCADUiPrDist;t.setMessage(O("请输入圆角半径<5>"));let c=5;(yield t.go())&&(c=t.value());const a=w.MxCpp.getCurrentMxCAD();o.forEach(r=>{const i=r.getMcDbEntity(),s=new w.McDbPolyline;s.trueColor=i.trueColor,s.isClosed=i.isClosed,s.colorIndex=i.colorIndex,s.layerId=i.layerId;const e=i.numVerts(),n=[];for(let d=0;d<e;d++)n.push(i.getPointAt(d).val);i.isClosed===!0&&n.push(n[0],n[1]),n.forEach((d,l)=>{if(l+2>=n.length)return;const h=n[l+1],p=n[l+2],g=new w.McDbLine(h,d),f=new w.McDbLine(h,p),m=d.sub(h).angleTo2(p.sub(h),w.McGeVector3d.kNegateZAxis);let y=c*Math.sin(Math.PI/2-m/2)/Math.sin(m/2);y<0&&(y=-y);const v=g.getPointAtDist(y).val,C=f.getPointAtDist(y).val;g.rotate(v,Math.PI/2),f.rotate(C,Math.PI/2);const S=g.IntersectWith(f,w.McDb.Intersect.kExtendBoth);if(!S.length())return;const I=S.at(0),V=new w.McDbLine(I,h).getPointAtDist(c).val;let L=w.MxCADUtility.calcBulge(v,V,C).val;if(l===0&&i.isClosed===!1){let G=i.getWidthsAt(l);s.addVertexAt(d,0,G.val1,G.val2)}let U;i.isClosed===!0&&l+2===n.length-1?U=i.getWidthsAt(l):U=i.getWidthsAt(l+1),s.addVertexAt(v,L,U.val1,U.val2),s.addVertexAt(C,0,U.val1,U.val2),l+2===n.length-1&&i.isClosed===!1&&s.addVertexAt(p,0,U.val1,U.val2)}),i.erase(),a.drawEntity(s)})})}function yf(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LWPOLYLINE");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择线对象")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=c.clone(),a=c.numVerts();for(let i=a-1;i>=0;i--){const s=u.getPointAt(i).val;if(i>0){const e=u.getWidthsAt(i-1),n=u.getBulgeAt(i-1);c.setPointAt(a-1-i,s),c.setBulgeAt(a-1-i,-n),c.setWidthsAt(a-1-i,e.val2,e.val1)}else{const e=u.getWidthsAt(i),n=u.getBulgeAt(i);c.setPointAt(a-1-i,s),c.setBulgeAt(a-1-i,-n),c.setWidthsAt(a-1-i,e.val2,e.val1)}}w.MxCpp.getCurrentMxCAD().updateDisplay()})}function wf(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage(O("选择等分模式")),D.setKeyWords(`[${O("定距等分")}(ME)/${O("定数等分")}(DIV)/${O("偏移等分")}(O)/${O("复制等分")}(CO)]`);let o=yield D.go();if(!o)return;const t=new w.MxCADResbuf;t.AddMcDbEntityTypes("LINE");const c=new w.MxCADUiPrEntity;c.setFilter(t),o==="O"?c.setMessage(O("请选择偏移等分对象")):o==="CO"?c.setMessage(O("请选择复制等分对象")):c.setMessage(O("请选择需要等分的线段"));const u=yield c.go();if(!u.id)return;const a=u.getMcDbEntity(),r=a.getLength().val,i=w.MxCpp.getCurrentMxCAD();if(o==="ME"){const s=new w.MxCADUiPrDist;if(s.setMessage(O("请设置等分距离")),!(yield s.go()))return;const n=s.value(),d=r/n;for(let l=1;l<d;l++){const h=a.getPointAtDist(l*n).val,p=new qn;p.setCenter(h),i.drawEntity(p)}}else if(o==="DIV"){const s=new w.MxCADUiPrInt;if(s.setMessage(O("请设置等分的数量")),!(yield s.go()))return;const n=s.value(),d=r/n;for(let l=1;l<n;l++){const h=a.getPointAtDist(l*d).val,p=new qn;p.setCenter(h),i.drawEntity(p)}}else if(o==="O"){const s=new w.MxCADUiPrDist;if(s.setMessage(O("请设置偏移距离")),!(yield s.go()))return;const n=s.value();let d=1;for(;;){const l=new w.MxCADUiPrPoint;l.setMessage(O("请指定偏移点")),l.setUserDraw((p,g)=>{a.offsetCurves(n*d,p).forEach(f=>{g.drawMcDbEntity(f)})});const h=yield l.go();if(!h)return;a.offsetCurves(n*d,h).forEach(p=>{i.drawEntity(p),d++})}}else if(o==="CO"){const s=new w.MxCADUiPrPoint;s.setMessage(O("请指定复制基点"));const e=yield s.go();if(!e)return;const n=new w.MxCADUiPrInt;if(n.setMessage(O("请指定复制等分数量")),!(yield n.go()))return;const l=n.value(),h=new w.MxCADUiPrPoint;h.setMessage(O("请指定复制等分端点")),h.setUserDraw((m,y)=>{const v=new w.McDbLine(e,m);y.drawMcDbEntity(v);const C=v.getLength().val/l;for(let S=1;S<l+1;S++){const I=a.clone();I.move(e,v.getPointAtDist(C*S).val),y.drawMcDbEntity(I)}});const p=yield h.go();if(!p)return;const g=new w.McDbLine(e,p),f=g.getLength().val/l;for(let m=1;m<l+1;m++){const y=a.clone();y.move(e,g.getPointAtDist(f*m).val),i.drawEntity(y)}}})}function xf(){return ot(this,null,function*(){let D=new w.MxCADSelectionSet;if(!(yield D.userSelect(O("请选择需要矩形缩放的实体:")))||D.count()==0)return;let o=w.MxCpp.getCurrentMxCAD(),c=o.getDatabase().getBlockTable().add(new w.McDbBlockTableRecord),u=c.getMcDbBlockTableRecord();if(u==null)return;D.forEach(y=>{const v=y.getMcDbEntity();if(!v)return;const C=v.clone();u.appendAcDbEntity(C)});let a=new w.McDbBlockReference;a.blockTableRecordId=c;const{ret:r,maxPt:i,minPt:s}=a.getBoundingBox();if(!r)return;const e=new w.McDbLine(s,i),n=e.getLength().val;u.origin=e.getPointAtDist(n/2).val;const d=new w.MxCADUiPrPoint;d.setMessage(O("请指定矩形的角点1"));const l=yield d.go();if(!l)return;const h=new w.MxCADUiPrPoint;h.setMessage(O("请指定矩形角点2")),h.setUserDraw((y,v)=>{let C=new w.McDbPolyline;C.addVertexAt(l),C.addVertexAt(new w.McGePoint3d(l.x,y.y)),C.addVertexAt(y),C.addVertexAt(new w.McGePoint3d(y.x,l.y)),C.isClosed=!0,v.drawMcDbEntity(C)});const p=yield h.go();if(!p)return;const g=Math.abs(l.x-p.x)/Math.abs(s.x-i.x),f=Math.abs(l.y-p.y)/Math.abs(s.y-i.y);a.scaleFactors=new w.McGePoint3d(g,f,0);const m=new w.McDbLine(l,p);a.position=m.getPointAtDist(m.getLength().val/2).val,o.drawEntity(a)})}class Lr extends w.McDbCustomEntity{constructor(o){super(o),this.center=new w.McGePoint3d,this.radius=20,this.scale=50,this.position=new w.McGePoint3d,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new Lr(o)}getTypeName(){return"McDbExtoolEnlarge"}set enlargeCenter(o){this.center=o}get enlargeCenter(){return this.center}set enlargeRadius(o){this.radius=o}get enlargeRadius(){return this.radius}set enlargeScale(o){this.scale=o}get enlargeScale(){return this.scale}dwgInFields(o){return this.center=o.readPoint("center").val,this.position=o.readPoint("position").val,this.radius=o.readDouble("radius").val,this.scale=o.readDouble("scale").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("center",this.center),o.writePoint("position",this.position),o.writeDouble("radius",this.radius),o.writeDouble("scale",this.scale),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o==0?(this.center.x+=t,this.center.y+=c,this.center.z+=u):o==1&&(this.position.x+=t,this.position.y+=c,this.position.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.center),o.append(this.position),o}worldDraw(o){const t=[],c=new w.McDbCircle;c.center=this.center,c.radius=this.radius,o.drawEntity(c),t.push(c);const{minPt:u,maxPt:a,ret:r}=c.getBoundingBox();if(!r)return;let i=new w.MxCADSelectionSet;i.crossingSelect(u.x,u.y,a.x,a.y);const s=w.MxCpp.getCurrentMxCAD();let e=s.getDatabase().getBlockTable(),n=new w.McDbBlockTableRecord,d=e.add(n),l=d.getMcDbBlockTableRecord();if(l==null)return;i.forEach(z=>{let V=z.getMcDbEntity();if(!V)return;let L=V.clone();l.appendAcDbEntity(L)}),l.origin=new w.McGePoint3d(this.center.x,this.center.y,0);let h=new w.McDbBlockReference;h.blockTableRecordId=d,h.position=this.position;const p=s.drawEntity(h);h=p.getMcDbEntity();let g=c.getSamplePoints(this.radius*1e-5),f=new w.McGePoint3dArray;g.forEach((z,V,L)=>{if(L===1010){const U=new w.McGePoint3d(z.x,z.y,z.z);f.append(U)}}),h.createSpatialFilter(),h.setScale(this.scale),h.getSpatialFilterId().getMcDbObject().setBoundary(f),o.drawEntity(h),t.push(h),p.erase();const v=this.position.sub(this.center).normalize(),C=this.center.clone().addvec(v.mult(this.radius)),S=this.position.clone().subvec(v.mult(this.scale)),I=new w.McDbLine(C,S);o.drawEntity(I),t.push(I),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setPosition(o){this.assertWrite(),this.position=o.clone()}getPosition(){return this.position}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function vf(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("请选择放大中心点"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrDist;if(t.setMessage(O("请选择放大范围")),t.setBasePt(o),t.setUserDraw((h,p)=>{const g=o.distanceTo(h),f=new w.McDbCircle(o.x,o.y,o.z,g);p.drawMcDbEntity(f)}),!(yield t.go()))return;const u=t.value(),a=w.MxCpp.getCurrentMxCAD(),r=new w.McDbCircle(o.x,o.y,o.z,u),i=new w.MxCADUiPrDist;if(i.setMessage(O("请设置放大倍数")),i.setBasePt(o),i.setUserDraw((h,p)=>{const g=o.distanceTo(h),f=new w.McDbCircle(o.x,o.y,o.z,g);p.drawMcDbEntity(f),p.drawMcDbEntity(r)}),!(yield i.go()))return;const e=i.value(),n=new w.MxCADUiPrPoint;n.setMessage(O("请选择放大插入点")),n.setUserDraw((h,p)=>{const g=new w.McDbCircle(h.x,h.y,h.z,e);p.drawMcDbEntity(g),p.drawMcDbEntity(r)});const d=yield n.go();if(!d)return;const l=new Lr;l.enlargeCenter=o,l.enlargeRadius=u,l.enlargeScale=e/u,l.setPosition(d),a.drawEntity(l)})}function _f(){return ot(this,null,function*(){const D=new w.MxCADUiPrEntity;D.setMessage(O("请选择一条需要打断的曲线"));const o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE,LINE,ARC,CIRCLE,ELLIPSE"]);D.setFilter(o);const t=yield D.go();if(!t.id)return;const c=t.getMcDbEntity();c.highlight(!0);const u=new w.MxCADUiPrPoint;u.setMessage(O("请在曲线上选取打断点"));const a=[],r=lt.MxFun.screenCoordLong2Doc(5);for(;;){u.setUserDraw((e,n)=>{a.length>0&&a.forEach(d=>{const l=new w.McDbCircle;l.center=d,l.radius=r,n.drawMcDbEntity(l)}),n.drawCircle(new THREE.Vector3(e.x,e.y),r)});const s=yield u.go();if(!s)break;a.push(s)}const i=w.MxCpp.getCurrentMxCAD();a.length!==0&&(c.splitCurves(a).forEach(s=>{i.drawEntity(s)}),c.highlight(!1),t.erase(),i.updateDisplay())})}function Mf(){return ot(this,null,function*(){const D=new w.MxCADUiPrInt;D.setMessage(`${O("请输入阵列数量")}<5>`);let o=yield D.go();o||(o=5);const t=new w.MxCADUiPrKeyWord;t.setMessage(`${O("是否开启旋转")}？<N>`),t.setKeyWords(`[${O("是")}(Y)/${O("否")}(N)]`);let c=yield t.go();c||(c="N");const u=new w.MxCADSelectionSet;if(!(yield u.userSelect(O("请选择需要阵列的图形:")))||u.count()==0)return;let a=null,r=null;u.forEach(l=>{const h=l.getMcDbEntity();if(!h)return;const{minPt:p,maxPt:g,ret:f}=h.getBoundingBox();a||(a=p.clone()),r||(r=g.clone()),console.log(a,r),p.x<a.x&&(a.x=p.x),p.y<a.y&&(a.y=p.y),g.x>r.x&&(r.x=g.x),g.y>r.y&&(r.y=g.y)});const i=new w.McDbLine(a,r),s=i.getPointAtDist(i.getLength().val/2).val,e=new w.MxCADUiPrPoint;e.setMessage(O("请选择阵列中心点"));let n=[];e.setUserDraw((l,h)=>{n.length=0;const p=l.distanceTo(s),g=new w.McDbCircle(l.x,l.y,l.z,p);h.drawMcDbEntity(g);const f=g.getLength().val,m=g.getDistAtPoint(s).val,y=f/o;for(let v=1;v<o;v++){const C=g.getPointAtDist(v*y+m).val,I=g.getFirstDeriv(C).val.angleTo2(w.McGeVector3d.kXAxis);u.forEach(z=>{const V=z.getMcDbEntity();if(!V)return;const L=V.clone();c==="Y"&&L.rotate(s,I),L.move(s,C),h.drawMcDbEntity(L),n.push(L)})}}),(yield e.go())&&n.forEach(l=>{w.MxCpp.getCurrentMxCAD().drawEntity(l)})})}function Pf(D,o,t){if(!Array.isArray(D))throw new Error("第一个参数必须是数组");if(!Array.isArray(o)||o.length!==2)throw new Error("第二个参数必须是一个包含两个元素的数组");function c(u,a){let r=0,i=u.length-1;for(;r<=i;){const s=Math.floor((r+i)/2),e=t.getDistAtPoint(u[s]).val,n=t.getDistAtPoint(a).val;e<n?r=s+1:i=s-1}return r}for(const u of o){const a=c(D,u);D.splice(a,0,u)}return D=Sn(D),{array:D}}function Cf(){return ot(this,null,function*(){const D=new w.MxCADUiPrEntity;D.setMessage("请选择一条PL线");const o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]);D.setFilter(o);const t=yield D.go();if(!t.id)return;const c=t.getMcDbEntity();if(!c.isClosed)return lt.MxFun.acutPrintf(O("请选择闭合多边形！"));const u=[],a=c.numVerts();for(let f=0;f<a;f++)u.push(c.getPointAt(f).val);const r=new w.MxCADUiPrPoint;r.setMessage(O("请选择第一个点"));const i=yield r.go();if(!i)return;const s=c.getClosestPointTo(i,!1).val,e=new w.MxCADUiPrPoint;e.setMessage(O("请选择第二个点")),e.setUserDraw((f,m)=>{m.drawMcDbEntity(new w.McDbLine(i,f))});const n=yield e.go();if(!n)return;const d=c.getClosestPointTo(n,!1).val,l=Pf(u,[s,d],c),h=[];l.array.forEach((f,m)=>{f.distanceTo(s)<1e-4&&h.push(m),f.distanceTo(d)<1e-4&&h.push(m)}),h.sort((f,m)=>f-m);const p=l.array.slice(h[0],h[1]+1),g=l.array.slice(0,h[0]+1).concat(l.array.slice(h[1]));Ho([p,g]),t.erase()})}const Ho=D=>{D.forEach(o=>{const t=new w.McDbPolyline;o.forEach(c=>t.addVertexAt(c)),t.isClosed=!0,w.MxCpp.getCurrentMxCAD().drawEntity(Sf(t))})};function Ef(){return ot(this,null,function*(){new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]);const D=new w.MxCADUiPrEntity;D.setMessage(O("请选择第一个闭合多边形"));const o=yield D.go();if(!o.id)return;const t=o.getMcDbEntity().clone();D.setMessage(O("请选择第二个闭合多边形"));const c=yield D.go();if(!c.id)return;const u=c.getMcDbEntity().clone();if(!t.isClosed||!u.isClosed)return lt.MxFun.acutPrintf(O("请选择两个闭合多边形"));const a=w.MxCpp.getCurrentMxCAD(),r=t.IntersectWith(u,w.McDb.Intersect.kOnBothOperands);if(r.length()<2)return lt.MxFun.acutPrintf(O("两个多边形没有重合边！"));const i=[t,u];let s=[],e=[];i.forEach((d,l)=>{const h=[],p=d.numVerts();for(let f=0;f<p;f++){const m=d.getPointAt(f).val;h.push({point:m,dist:d.getDistAtPoint(m).val})}const g=Af(h,d,r);l===0?s.push(...g):e.push(...g)});let n=[];s[0].distanceTo(e[0])<1e-5?n.push(...s,...e.reverse()):n.push(...s,...e),n=Sn(n),Ho([n]),o.erase(),c.erase(),a.updateDisplay()})}function Sn(D){const o=[];return D.forEach((t,c)=>{D.filter((a,r)=>r>c&&t.distanceTo(a)<1e-5).length||o.push(t)}),o}function Df(D){function o(a){for(let r=1;r<a.length;r++)if(a[r]-a[r-1]!==1)return!1;return!0}const t=Array.from(new Set(D)).sort((a,r)=>a-r);if(o(t))return t.reverse();const c=[];let u=[t[0]];for(let a=1;a<t.length;a++)Number(t[a])-Number(t[a-1])===1?u.push(t[a]):(c.push(u),u=[t[a]]);return u.length&&c.push(u),c.forEach(a=>a.sort((r,i)=>i-r)),c.sort((a,r)=>a[a.length-1]-r[r.length-1]),c.flat()}function Af(D,o,t){let c=[];for(let n=0;n<t.length();n++)c.push(t.at(n));c=Sn(c);const u=Sn([...D.map(n=>n.point),...c]);u.sort((n,d)=>o.getDistAtPoint(n).val-o.getDistAtPoint(d).val);let a=[];u.forEach((n,d)=>{c.includes(n)&&a.push(d)});const r=new w.McDbPolyline;a=Df(a);for(let n=0;n<a.length;n++){const d=u[a[n]];r.addVertexAt(d)}const i=D.filter(n=>r.getClosestPointTo(n.point,!1).val.distanceTo(n.point)>1e-5),s=[r.getPointAt(0).val,r.getPointAt(a.length-1).val];return s.forEach(n=>{const d=i.map(g=>g.dist),l=o.getDistAtPoint(n).val;let h=0,p=d.length-1;for(;h<=p;){const g=Math.floor((h+p)/2);d[g]<l?h=g+1:p=g-1}i.splice(h,0,{point:n,dist:l})}),kf(i.map(n=>n.point),s[0],s[1])}function Wo(D,o){let t=0,c=1/0;for(let u=0;u<D.length;u++){const a=D[u],r=o.distanceTo(a);r<c&&(c=r,t=u)}return t}function kf(D,o,t){if(!Array.isArray(D)||D.length<2)throw new Error("至少需要两个点");const c=Wo(D,o),u=Wo(D,t),a=D.length,r=[...D,...D],i=[];let s=c;for(;i.push(r[s]),!(s===u||(s=(s+1)%a,s===c)););return i}function Sf(D){const o=D.numVerts(),t=[];for(let e=0;e<o;e++){const n=D.getPointAt(e).val;t.push(n)}const c=[...t];c.push(D.getPointAt(0).val);const u=[];let a=null;c.forEach((e,n)=>{let d=new w.McGeVector3d;if(n<c.length-1?d=c[n+1].sub(e):d=c[1].sub(e),a){const l=a.angleTo2(w.McGeVector3d.kXAxis),h=d.angleTo2(w.McGeVector3d.kXAxis);Math.abs(l-h)<1e-4&&u.push(n)}a=d.clone()});const r=u.findIndex(e=>e===c.length-1);r>0&&(u[r]=0);const i=u.length>0?t.filter((e,n)=>!u.includes(n)):t,s=new w.McDbPolyline;return i.forEach(e=>{s.addVertexAt(e)}),s.isClosed=!0,s}function Go(D,o){const t=[];for(let a=0;a<D.numVerts();a++){const r=D.getDistAtPoint(D.getPointAt(a).val).val;t.push(r)}let c=0,u=t.length-1;for(;c<=u;){const a=Math.floor((c+u)/2);t[a]===o||t[a]<o?c=a+1:u=a-1}return t.splice(c,0,o),{index:c,newArray:t}}function Tf(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]),t=new w.MxCADUiPrEntity;t.setMessage(O("请选择目标多边形")),t.setFilter(o);const c=yield t.go();if(!c)return;const u=c.getMcDbEntity(),a=new w.MxCADUiPrPoint;a.setMessage(O("请选择多边形需要添加顶点的边"));const r=yield a.go();if(!r)return;const i=u.getClosestPointTo(r,!1);if(!i.ret)return;const s=u.getDistAtPoint(i.val).val,{index:e}=Go(u,s),{val2:n}=u.getWidthsAt(e),{val1:d}=u.getWidthsAt(e+1===u.numVerts()?0:e+1),l=new w.MxCADUiPrPoint;l.setMessage(O("请设置添加的顶点位置")),l.setUserDraw((p,g)=>{const f=u.clone();f.addVertexAt(p,0,n,d,e),g.drawMcDbEntity(f)});const h=yield l.go();h&&(u.addVertexAt(h,0,n,d,e),D.updateDisplay())})}function Nf(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]),t=new w.MxCADUiPrEntity;t.setMessage(O("请选择目标多边形")),t.setFilter(o);const c=yield t.go();if(!c)return;const u=c.getMcDbEntity(),a=new w.MxCADUiPrPoint;a.setMessage(O("请选择多边形需要删除的顶点"));const r=yield a.go();if(!r)return;const i=u.getClosestPointTo(r,!1);if(!i.ret)return;const s=u.numVerts(),e=[];for(let d=0;d<s;d++){const l=i.val.distanceTo(u.getPointAt(d).val);e.push({index:d,dist:l})}e.sort((d,l)=>d.dist-l.dist);const n=e[0].index;u.removeVertexAt(n),D.updateDisplay()})}function Vf(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADResbuf([w.DxfCode.kEntityType,"LWPOLYLINE"]),t=new w.MxCADUiPrEntity;t.setMessage(O("请选择目标多边形")),t.setFilter(o);const c=yield t.go();if(!c)return;const u=c.getMcDbEntity(),a=new w.MxCADUiPrPoint;a.setMessage(O("请选择多边形需要拉伸的边"));const r=yield a.go();if(!r)return;const i=u.getClosestPointTo(r,!1);if(!i.ret)return;const s=u.getDistAtPoint(i.val).val;let{index:e}=Go(u,s);e===u.numVerts()&&(e=0);const n=e-1<0?u.numVerts()-1:e-1,d=u.getPointAt(e).val,l=u.getPointAt(n).val,h=d.clone().addvec(l.sub(d).mult(1/2)),p=new w.MxCADUiPrPoint;p.setMessage(O("请指定拉伸位置")),p.setUserDraw((m,y)=>{const v=u.clone(),C=m.sub(h);v.setPointAt(e,d.clone().addvec(C)),v.setPointAt(n,l.clone().addvec(C)),y.drawMcDbEntity(v)});const f=(yield p.go()).sub(h);u.setPointAt(e,d.clone().addvec(f)),u.setPointAt(n,l.clone().addvec(f)),D.updateDisplay()})}function Bf(){new Lr().rxInit(),lt.MxFun.addCommand("Mx_Extool_Multicopy",ef),lt.MxFun.addCommand("Mx_Extool_ArcToCircle",nf),lt.MxFun.addCommand("Mx_Extool_CopyRotation",rf),lt.MxFun.addCommand("Mx_Extool_CricleTotoll",of),lt.MxFun.addCommand("Mx_Extool_ChangeColor",sf),lt.MxFun.addCommand("Mx_Extool_ArcToAngle",af),lt.MxFun.addCommand("Mx_Extool_TemHiding",lf),lt.MxFun.addCommand("Mx_Extool_AngleCopy",cf),lt.MxFun.addCommand("Mx_Extool_VertexRep",hf),lt.MxFun.addCommand("Mx_Extool_IntersectBreak",df),lt.MxFun.addCommand("Mx_Extool_DoubleOff",uf),lt.MxFun.addCommand("Mx_Extool_Telescoping",ff),lt.MxFun.addCommand("Mx_Extool_EitCircle",pf),lt.MxFun.addCommand("Mx_Extool_LayerTypeScale",gf),lt.MxFun.addCommand("Mx_Extool_ArcOrder",mf),lt.MxFun.addCommand("Mx_Extool_PlRoundCorners",bf),lt.MxFun.addCommand("Mx_Extool_PlReverse",yf),lt.MxFun.addCommand("Mx_Extool_Bisection",wf),lt.MxFun.addCommand("Mx_Extool_RectangularScaling",xf),lt.MxFun.addCommand("Mx_Extool_Enlarge",vf),lt.MxFun.addCommand("Mx_Extool_Interrupt",_f),lt.MxFun.addCommand("Mx_Extool_PolarArray",Mf),lt.MxFun.addCommand("Mx_Extool_PolygonClipping",Cf),lt.MxFun.addCommand("Mx_Extool_MergePolygons",Ef),MxPluginContext.addCommand("Mx_Extool_AddVertex",Tf),MxPluginContext.addCommand("Mx_Extool_DeleteVertex",Nf),MxPluginContext.addCommand("Mx_Extool_StretchPolygon",Vf)}function Rf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择目标块对象")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=new w.MxCADUiPrString;c.setMessage(O("请输入新块名"));const u=yield c.go();if(!u)return;const a=t.getMcDbEntity().blockTableRecordId.getMcDbBlockTableRecord();console.log("原块名",a.name),a.name=u,console.log("新块名",a.name)})}function If(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("选择需要修改基点的块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=new w.MxCADUiPrPoint,a=w.MxCpp.getCurrentMxCAD();u.setMessage(O("设置基点"));const r=yield u.go();if(!r)return;let i=c.blockTableRecordId.getMcDbBlockTableRecord(),s=i.origin.clone(),e=c.blockTransform;s.transformBy(e);const n=r.sub(s);e.invert(),r.transformBy(e),i.origin=r,c.position=c.position.addvec(n),a.updateDisplay()})}function qo(D){D.getAllEntityId().forEach(o=>{let t=o.getMcDbEntity();t.colorIndex=w.ColorIndexType.kByblock,t instanceof w.McDbBlockReference&&qo(t.blockTableRecordId.getMcDbBlockTableRecord())})}function Lf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("选择需要修改颜色的块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity();let u=c.blockTableRecordId.getMcDbBlockTableRecord();qo(u);const a=new w.MxCADUiPrInt;a.setMessage(O("输入颜色索引(0~256)"));let r=(yield a.go())||0,i=new w.McCmColor;i.setColorIndex(r),c.trueColor=i,w.MxCpp.getCurrentMxCAD().updateDisplay()})}function jf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择源块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity();let u=new w.MxCADSelectionSet;(yield u.userSelect(O("选择要刷的目标块:"),D))&&u.count()!=0&&u.forEach(a=>{const r=a.getMcDbEntity(),i=c.clone();i.position=r.position,a.erase(),w.MxCpp.getCurrentMxCAD().drawEntity(i)})})}function zf(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage(O("选择连接方式")),D.setKeyWords(`[${O("手动逐个连线")}(H)/${O("自动批量连线")}(A)]`);const o=yield D.go();if(!o)return;const t=w.MxCpp.getCurrentMxCAD();let c=new w.MxCADResbuf;if(c.AddMcDbEntityTypes("INSERT"),o==="A"){let u=new w.MxCADSelectionSet;if(!(yield u.userSelect(O("选择要刷的目标块:"),c))||u.count()==0)return;const a=new w.McDbPolyline;u.forEach(r=>{const i=r.getMcDbEntity();a.addVertexAt(i.position)}),t.drawEntity(a)}else if(o==="H"){const u=new w.McDbPolyline;for(;;){const a=new w.MxCADUiPrEntity;a.setMessage(O("请选择连线的块")),a.setFilter(c),a.setUserDraw((s,e)=>{const n=u.clone();n.addVertexAt(s),e.drawMcDbEntity(n)});const r=yield a.go();if(!r.id)break;const i=r.getMcDbEntity();u.addVertexAt(i.position)}t.drawEntity(u)}})}function Of(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择连线的块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;let u=t.getMcDbEntity().getBoundingBox();const a=new w.McDbPolyline;a.addVertexAt(u.minPt),a.addVertexAt(u.maxPt);const r=a.getPointAtDist(a.getLength().val/2).val,i=new w.MxCADUiPrDist;i.setMessage(O("设置中心线长度")),i.setBasePt(r),i.setUserDraw((h,p)=>{const g=h.distanceTo(r);let f=new w.McDbLine(r.x+g,r.y,r.z,r.x-g,r.y,r.z),m=f.clone();m.rotate(r,Math.PI/2),p.drawMcDbEntity(m),p.drawMcDbEntity(f)});const s=yield i.go();let e=10;s&&(e=i.value());const n=w.MxCpp.App.getCurrentMxCAD();let d=new w.McDbLine(r.x+e,r.y,r.z,r.x-e,r.y,r.z);d.trueColor=new w.McCmColor(255,0,0);let l=d.clone();l.rotate(r,Math.PI/2),n.drawEntity(l),n.drawEntity(d)})}function Ff(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");let o=new w.MxCADSelectionSet;if(!(yield o.userSelect(O("选择要旋转的目标块:"),D))||o.count()==0)return;const t=o.item(0).getMcDbEntity(),c=new w.MxCADUiPrDist;c.setMessage(O("设置旋转角度")),c.setBasePt(t.position);let u=0;c.setUserDraw((i,s)=>{u=i.sub(t.position).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),o.forEach(e=>{const d=e.getMcDbEntity().clone();d.rotate(d.position,u),s.drawMcDbEntity(d)})});const a=yield c.go();if(!a)return;c.getDetailedResult()===lt.DetailedResult.kCoordIn&&(u=a*Math.PI/180),o.forEach(i=>{const s=i.getMcDbEntity();s.rotate(s.position,u)}),w.MxCpp.getCurrentMxCAD().updateDisplay()})}function Uf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");let o=new w.MxCADSelectionSet;if(!(yield o.userSelect("选择要旋转的目标块:",D))||o.count()==0)return;const t=new w.MxCADUiPrDist;t.setMessage(O("请设置缩放比例"));let c=o.item(0).getMcDbEntity();if(t.setBasePt(c.position),t.setUserDraw((i,s)=>{const e=i.distanceTo(c.position);o.forEach(n=>{const l=n.getMcDbEntity().clone();let h=new w.McGeMatrix3d;h.setToScaling(e,l.position),l.transformBy(h),s.drawMcDbEntity(l)})}),!(yield t.go()))return;const a=t.value()||1;o.forEach(i=>{const s=i.getMcDbEntity();let e=new w.McGeMatrix3d;e.setToScaling(a,s.position),s.transformBy(e)}),w.MxCpp.getCurrentMxCAD().updateDisplay()})}function Hf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择源块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const u=t.getMcDbEntity().rotation;let a=new w.MxCADSelectionSet;if(!(yield a.userSelect("选择要刷的目标块:",D))||a.count()==0)return;a.forEach(i=>{const s=i.getMcDbEntity();s.rotation=u}),w.MxCpp.getCurrentMxCAD().updateDisplay()})}function Wf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择源块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const u=t.getMcDbEntity().blockName;let a=new w.MxCADSelectionSet;(yield a.userSelect(O("请设置选择范围:"),D))&&a.count()!=0&&a.forEach(r=>{r.getMcDbEntity().blockName==u&&w.MxCpp.getCurrentMxCAD().addCurrentSelect(r)})})}function Gf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择目标块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const u=t.getMcDbEntity().blockName;let a=new w.MxCADSelectionSet;a.allSelect(D),a.count()!=0&&a.forEach(r=>{r.getMcDbEntity().blockName==u&&w.MxCpp.getCurrentMxCAD().addCurrentSelect(r)})})}function qf(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择目标块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const u=t.getMcDbEntity().blockName,a=new w.MxCADSelectionSet;if(!(yield a.userSelect(O("请设置统计范围"),D))||a.count()==0)return;let r=0;a.forEach(i=>{i.getMcDbEntity().blockName==u&&(r+=1)}),console.log(`找到块${u}：共${r}个`)})}function Xf(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择目标块")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=w.MxCpp.getCurrentMxCAD(),a=u.addLayer("测试图层");c.layerId=a,console.log(c.layer),u.updateDisplay()})}function Kf(){lt.MxFun.addCommand("Mx_Extool_ChangeBN",Rf),lt.MxFun.addCommand("Mx_Extool_BushBlk",jf),lt.MxFun.addCommand("Mx_Extool_ConBlk",zf),lt.MxFun.addCommand("Mx_Extool_BlkCenterLine",Of),lt.MxFun.addCommand("Mx_Extool_BlkPt",If),lt.MxFun.addCommand("Mx_Extool_BlkColor",Lf),lt.MxFun.addCommand("Mx_Extool_BlkRotate",Ff),lt.MxFun.addCommand("Mx_Extool_BlkScale",Uf),lt.MxFun.addCommand("Mx_Extool_BlkAngle",Hf),lt.MxFun.addCommand("Mx_Extool_BlkSelect",Wf),lt.MxFun.addCommand("Mx_Extool_BlkAllSelect",Gf),lt.MxFun.addCommand("Mx_Extool_SSBlk",qf),lt.MxFun.addCommand("Mx_Extool_BlkLayer",Xf)}function Yf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LINE");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择目标对齐线对象(选择直线)")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=new w.MxCADUiPrEntity;let a=new w.MxCADResbuf;a.AddMcDbEntityTypes("TEXT"),u.setMessage(O("请选择目标文字对象")),u.setFilter(a);const r=yield u.go();if(!r.id)return;const i=r.getMcDbEntity();let e=c.getFirstDeriv(c.getStartPoint().val).val.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis),n=i.rotation;i.rotate(i.position,e-n),w.MxCpp.App.getCurrentMxCAD().updateDisplay()})}function Zf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT, MTEXT");const o=yield w.MxCADUtility.userSelect(O("选择文字对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrString;t.setMessage(O("请设置字高"));const c=yield t.go();!c||!Number(c)||(o.forEach(u=>{const a=u.getMcDbEntity();a.height=Number(c)}),w.MxCpp.getCurrentMxCAD().updateDisplay())})}function Jf(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT, MTEXT");const o=yield w.MxCADUtility.userSelect(O("选择文字对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrString;t.setMessage(O("请设置字宽"));const c=yield t.go();!c||!Number(c)||(o.forEach(u=>{const a=u.getMcDbEntity();a.widthFactor=Number(c)}),w.MxCpp.getCurrentMxCAD().updateDisplay())})}function Qf(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择源文字")),o.setFilter(D);const t=yield o.go();if(!(t!=null&&t.id))return;const c=t.getMcDbEntity();let u=yield w.MxCADUtility.userSelect(O("请选择目标文字"),D);if(u.length==0)return;const a=w.MxCpp.App.getCurrentMxCAD();u.forEach(r=>{let i=r.getMcDbEntity();i.textString=c.textString}),a.updateDisplay()})}function $f(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("请选择第一个文字"));const t=yield o.go();if(!(t!=null&&t.id))return;const c=t.getMcDbEntity(),u=w.MxCpp.App.getCurrentMxCAD(),a=new w.MxCADUiPrEntity;a.setFilter(D),a.setMessage(O("请选择第二个文字"));const r=yield a.go();if(!(r!=null&&r.id))return;const i=r.getMcDbEntity();let s=c.textString,e=i.textString,n=c.clone(),d=i.clone();n.textString=e,d.textString=s,u.drawEntity(n),u.drawEntity(d),t.erase(),r.erase()})}function t1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择需要对齐的文字"),D);if(o.length==0)return;const t=new w.MxCADUiPrKeyWord;t.setMessage(O("请选择对齐方式")),t.setKeyWords(`[${O("左")}(L)/${O("中")}(M)/${O("右")}(R)]`);const c=yield t.go();if(!c)return;const u=new w.MxCADUiPrPoint;u.setMessage(O("请选择对齐基点"));const a=yield u.go();if(!a)return;const r=w.MxCpp.getCurrentMxCAD();c==="L"?o.forEach(i=>{const s=i.getMcDbEntity(),e=s.clone(),n=s.alignmentPoint,d=s.position;e.horizontalMode=w.McDb.TextHorzMode.kTextLeft,e.alignmentPoint=new w.McGePoint3d(a.x,n.y),e.position=new w.McGePoint3d(a.x,d.y),r.drawEntity(e),i.erase()}):c==="R"?o.forEach(i=>{const s=i.getMcDbEntity(),e=s.clone(),n=s.alignmentPoint,d=s.position;e.horizontalMode=w.McDb.TextHorzMode.kTextRight,e.alignmentPoint=new w.McGePoint3d(a.x,n.y),e.position=new w.McGePoint3d(a.x,d.y),r.drawEntity(e),i.erase()}):c==="M"&&o.forEach(i=>{const s=i.getMcDbEntity(),e=s.clone(),n=s.alignmentPoint,d=s.position;e.horizontalMode=w.McDb.TextHorzMode.kTextCenter,e.alignmentPoint=new w.McGePoint3d(a.x,n.y),e.position=new w.McGePoint3d(a.x,d.y),r.drawEntity(e),i.erase()})})}function e1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择需要对齐的文字"),D);if(o.length==0)return;const t=new w.MxCADUiPrPoint;t.setMessage(O("请选择对齐基点"));const c=yield t.go();c&&(o.forEach(u=>{const a=u.getMcDbEntity(),r=a.position;a.alignmentPoint=a.position=new w.McGePoint3d(r.x,c.y)}),w.MxCpp.getCurrentMxCAD().updateDisplay())})}function n1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择需要反转的文字"),D);if(o.length==0)return;const t=w.MxCpp.App.getCurrentMxCAD();o.forEach(c=>{const u=c.getMcDbEntity(),a=u.clone();let r=u.getBoundingBox();if(!r.ret)return;const i=r.maxPt,s=r.minPt,e=new w.McDbLine(s,i),n=e.getPointAtDist(e.getLength().val/2).val,d=w.McGeVector3d.kXAxis.angleTo1(new w.McGeVector3d(-1,0,0))+u.rotation;a.rotate(n,d),c.erase(),t.drawEntity(a)})})}function r1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT, MTEXT");let o=yield w.MxCADUtility.userSelect(O("请选择需要去空格的文字"),D);o.length!=0&&o.forEach(t=>{const c=t.getMcDbEntity();let u;c instanceof w.McDbText?(u=c.clone(),u.textString=c.textString.replace(/\s+/g,"")):c instanceof w.McDbMText&&(u=c.clone(),u.contents=c.contents.replace(/\s+/g,"")),t.erase(),w.MxCpp.App.getCurrentMxCAD().drawEntity(u)})})}function i1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT, MTEXT");let o=yield w.MxCADUtility.userSelect(O("请选择文字对象"),D);o.length!=0&&o.forEach(t=>{let u=t.getMcDbEntity().getBoundingBox();if(!u.ret)return;const a=u.maxPt,r=u.minPt,i=new w.McGePoint3d(r.x,a.y),s=new w.McGePoint3d(a.x,r.y),e=r.clone().sub(a).normalize().mult(2),n=i.clone().sub(s).normalize().mult(2),d=new w.McDbPolyline;d.addVertexAt(r.addvec(e)),d.addVertexAt(i.addvec(n)),d.addVertexAt(a.subvec(e)),d.addVertexAt(s.subvec(n)),d.isClosed=!0,w.MxCpp.getCurrentMxCAD().drawEntity(d)})})}function o1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择文字对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrInt;t.setMessage(O("请输入下划线宽度 "));const c=(yield t.go())||0,u=new w.MxCADUiPrDist;u.setMessage(O("请设置下划线距离 "));const a=yield u.go();let r=0;a&&(r=u.value());const i=new w.MxCADUiPrDist;i.setMessage(O("请设置下划线延长距离 "));const s=yield i.go();let e=0;s&&(e=i.value()),o.forEach(n=>{let l=n.getMcDbEntity().getBoundingBox();if(!l.ret)return;const h=l.maxPt,p=l.minPt,g=new w.McDbLine(p.x,p.y,0,h.x,p.y,0),f=new w.McDbLine(h.x,p.y,0,p.x,p.y,0),m=f.getLength().val,y=g.getPointAtDist(m+e).val,v=f.getPointAtDist(m+e).val,C=new w.McDbPolyline;C.addVertexAt(y,0,c,c),C.addVertexAt(v,0,c,c);const S=C.getClosestPointTo(h,!0).val,I=S.clone().sub(h);I.normalize().mult(r);const z=S.clone().addvec(I),V=new w.McGeMatrix3d;V.setToTranslation(z.sub(S)),C.transformBy(V),w.MxCpp.getCurrentMxCAD().drawEntity(C)})})}function s1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择文字对象"),D);o.length!=0&&o.forEach(t=>{let u=t.getMcDbEntity().getBoundingBox();if(!u.ret)return;const a=u.maxPt,r=u.minPt,i=new w.McDbPolyline;i.addVertexAt(r,0,2,2),i.addVertexAt(new w.McGePoint3d(a.x,r.y),0,2,2);const s=new w.McDbPolyline;s.addVertexAt(r),s.addVertexAt(new w.McGePoint3d(a.x,r.y));const e=i.getClosestPointTo(a,!0).val,n=e.clone().sub(a),d=e.clone().sub(a);n.normalize().mult(2),d.normalize().mult(4);const l=e.clone().addvec(n),h=e.clone().addvec(d),p=new w.McGeMatrix3d,g=new w.McGeMatrix3d;p.setToTranslation(l.sub(e)),i.transformBy(p),g.setToTranslation(h.sub(e)),s.transformBy(g),w.MxCpp.getCurrentMxCAD().drawEntity(i),w.MxCpp.getCurrentMxCAD().drawEntity(s)})})}function a1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择文字对象"),D);if(o.length==0)return;const t=new w.MxCADUiPrKeyWord;t.setMessage(O("请选择操作选项 ")),t.setKeyWords(`[${O("大写")}(C)/${O("小写")}(S)/${O("句首大写")}(I)]`);const c=yield t.go();if(!c)return;const u=w.MxCpp.getCurrentMxCAD();c==="C"?o.forEach(a=>{const r=a.getMcDbEntity(),i=r.textString,s=r.clone();s.textString=i.toUpperCase(),console.log(s.textString),r.erase(),u.drawEntity(s)}):c==="S"?o.forEach(a=>{const r=a.getMcDbEntity(),i=r.textString,s=r.clone();s.textString=i.toLowerCase(),console.log(s.textString),r.erase(),u.drawEntity(s)}):c==="I"&&o.forEach(a=>{const r=a.getMcDbEntity(),i=r.textString,s=r.clone();s.textString=i.charAt(0).toUpperCase()+i.slice(1),r.erase(),u.drawEntity(s)})})}function l1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=yield w.MxCADUtility.userSelect(O("请选择数字对象"),D);if(o.length==0)return;let t=[];if(o.forEach(s=>{const e=s.getMcDbEntity(),n=Number(e.textString);isNaN(n)||t.push(n)}),t.length!==o.length)return;let c=t.reduce((s,e)=>s+e,0);const u=new w.MxCADUiPrPoint,a=new w.McDbText;a.textString=c.toString(),a.height=10,u.setMessage(O("请选择文字插入点 ")),u.setUserDraw((s,e)=>{a.position=s,a.alignmentPoint=s,e.drawMcDbEntity(a)});const r=yield u.go();if(!r)return;const i=w.MxCpp.getCurrentMxCAD();a.position=r,a.alignmentPoint=r,i.drawEntity(a)})}function c1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=new w.MxCADSelectionSet;if(!(yield o.userSelect(O("选择要查找的范围:"),D))||o.count()==0)return;const t=new w.MxCADUiPrKeyWord;t.setMessage(O("请选择查找模式 ")),t.setKeyWords(`[${O("等于")}(A)/${O("包含")}(B)/${O("前缀为")}(C)/${O("后缀为")}(D)]`);const c=yield t.go();if(!c)return;const u=new w.MxCADUiPrString;u.setMessage(O("请输入关键字 "));const a=yield u.go();if(!a)return;const r=w.MxCpp.getCurrentMxCAD();let i=[];o.forEach(s=>{const n=s.getMcDbEntity().textString;c==="A"?n===a&&i.push(s):c==="B"?n.includes(a)&&i.push(s):c==="C"?n.startsWith(a)&&i.push(s):c==="D"&&n.endsWith(a)&&i.push(s)}),i.length>0&&i.forEach(s=>{r.addCurrentSelect(s)})})}function h1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");let o=new w.MxCADSelectionSet;if(!(yield o.userSelect(O("选择要操作的范围:"),D))||o.count()==0)return;const t=new w.MxCADUiPrKeyWord;t.setMessage(O("选择操作方式")),t.setKeyWords(`[${O("添加")}(A)/${O("删除")}(D)]`);let c=yield t.go();if(!c)return;const u=new w.MxCADUiPrKeyWord;u.setMessage(O("选择操作位置")),u.setKeyWords(`[${O("前缀")}(P)/${O("后缀")}(S)]`);let a=yield u.go();if(!a)return;const r=new w.MxCADUiPrString;r.setMessage(O("请输入内容"));const i=yield r.go();i&&o.forEach(s=>{const e=s.getMcDbEntity(),n=e.textString;c==="A"?a==="P"?e.textString=i+n:a==="S"&&(e.textString=n+i):c==="D"&&(a==="P"?n.startsWith(i)&&(e.textString=n.slice(i.length)):a==="S"&&n.endsWith(i)&&(e.textString=n.slice(0,-i.length)))})})}function d1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");const o=w.MxCpp.getCurrentMxCAD();for(;;){const a=new w.MxCADUiPrPoint;a.setMessage(O("请选择文本 "));const r=yield a.go();if(!r)break;let i=w.MxCADUtility.findEntAtPoint(r.x,r.y,r.z,-1,D);o.addCurrentSelect(i)}const t=w.MxCADUtility.getCurrentSelect();if(!t.length)return;let c="";t.forEach((a,r)=>{const i=a.getMcDbEntity();c+=i.textString,r!==0&&a.erase()});const u=t.at(0).getMcDbEntity();u.textString=c,o.mxdraw.clearMxCurrentSelect()})}function u1(){return ot(this,null,function*(){new w.MxCADResbuf().AddMcDbEntityTypes("TEXT");const o=new w.MxCADUiPrEntity;o.setMessage(O("请选择文本 "));const t=yield o.go();if(!t)return;const c=t.getMcDbEntity(),u=c.textString.split("").join("\\P"),a=new w.McDbMText;a.contents=u,a.textHeight=c.height,a.location=c.position,a.trueColor=c.trueColor,a.colorIndex=c.colorIndex,a.layerId=c.layerId;const r=w.MxCpp.getCurrentMxCAD();t.erase(),r.drawEntity(a)})}function f1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("TEXT");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("请选择文本 "));const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity();c.highlight(!0);const u=new w.MxCADResbuf;u.AddMcDbEntityTypes("ARC");const a=new w.MxCADUiPrEntity;a.setFilter(u),a.setMessage(O("请选择圆弧 "));const r=yield a.go();if(!r.id)return;const i=r.getMcDbEntity();i.highlight(!0);const s=c.textString.split("");s.reverse();const e=i.getLength().val/(s.length-1),n=w.MxCpp.getCurrentMxCAD();for(let d=0;d<s.length;d++){const l=i.getPointAtDist(e*d).val,h=new w.McDbText;h.textString=s[d],h.position=h.alignmentPoint=l,h.horizontalMode=w.McDb.TextHorzMode.kTextMid,h.trueColor=c.trueColor,h.colorIndex=c.colorIndex,h.height=c.height,h.widthFactor=c.widthFactor,h.rotation=c.rotation,n.drawEntity(h)}c.highlight(!1),i.highlight(!1)})}function p1(){lt.MxFun.addCommand("Mx_Extool_AlignByLine",Yf),lt.MxFun.addCommand("Mx_Extool_TextHeight",Zf),lt.MxFun.addCommand("Mx_Extool_TextWidth",Jf),lt.MxFun.addCommand("Mx_Extool_BrushCon",Qf),lt.MxFun.addCommand("Mx_Extool_ReplaceCon",$f),lt.MxFun.addCommand("Mx_Extool_AlignLeft",t1),lt.MxFun.addCommand("Mx_Extool_AlignUp",e1),lt.MxFun.addCommand("Mx_Extool_TextReversal",n1),lt.MxFun.addCommand("Mx_Extool_TextTrim",r1),lt.MxFun.addCommand("Mx_Extool_TextTraming",i1),lt.MxFun.addCommand("Mx_Extool_Underline",o1),lt.MxFun.addCommand("Mx_Extool_TitleLine",s1),lt.MxFun.addCommand("Mx_Extool_Case",a1),lt.MxFun.addCommand("Mx_Extool_NumSum",l1),lt.MxFun.addCommand("Mx_Extool_SSWords",c1),lt.MxFun.addCommand("Mx_Extool_Prefix",h1),lt.MxFun.addCommand("Mx_Extool_ConnectText",d1),lt.MxFun.addCommand("Mx_Extool_VerticalText",u1),lt.MxFun.addCommand("Mx_Extool_AlignByArc",f1)}const Xo=(D,o)=>{const t=D.numVerts(),c=[];for(let u=0;u<t;u++)if(u<t-1){const a=D.getBulgeAt(u),r=D.getPointAt(u).val,i=D.getPointAt(u+1).val;if(o&&(r.transformBy(o),i.transformBy(o)),a){const s=(D.getDistAtPoint(r).val+D.getDistAtPoint(i).val)/2,e=D.getPointAtDist(s).val,n=new w.McDbArc;n.computeArc(r.x,r.y,e.x,e.y,i.x,i.y),c.push(n)}else{const s=new w.McDbLine(r,i);c.push(s)}}else D.isClosed&&c.push(new w.McDbLine(D.getPointAt(0).val,D.getPointAt(t-1).val));return c};function g1(){return ot(this,null,function*(){let D=2;const o=1e-4,t=new w.MxCADUiPrDist;t.setMessage(O("请输入表格提取精度")+`(${D})`);const c=yield t.go();c&&(D=c);const u=new w.MxCADUiPrPoint;u.setMessage(O("选择提取范围第一个角点"));const a=yield u.go();if(!a)return;u.setMessage(O("选择提取范围第二个角点")),u.setUserDraw((V,L)=>{const U=[V,new w.McGePoint3d(V.x,a.y),a,new w.McGePoint3d(a.x,V.y)];let G=new w.McDbPolyline;G.isClosed=!0,U.forEach(E=>G.addVertexAt(E)),L.setColor(16777215),L.drawMcDbEntity(G);const H=new THREE.BufferGeometry;H.setFromPoints([new THREE.Vector3(V.x,V.y,V.z),new THREE.Vector3(V.x,a.y,a.z),new THREE.Vector3(a.x,a.y,a.z),new THREE.Vector3(a.x,V.y,V.z)]),H.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),H.setIndex([0,1,2,0,2,3]);const A=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),N=new THREE.Mesh(H,A);L.drawEntity(N)});const r=yield u.go();if(!r)return;const i=new w.McGePoint3d(Math.min(a.x,r.x)-D,Math.min(a.y,r.y)-D,0),s=new w.McGePoint3d(Math.max(a.x,r.x)+D,Math.max(a.y,r.y)+D,0),e=[],n=[],d=(V,L)=>{V.getAllEntityId().forEach(U=>{let G=U.getMcDbEntity();if(G instanceof w.McDbBlockReference){let H=G,A=H.blockTransform.clone();A.preMultBy(L),d(H.blockTableRecordId.getMcDbBlockTableRecord(),A)}else if(n.push({handle:G.getHandle(),mart:L}),G instanceof w.McDbPolyline){const H=Xo(G,L);e.push(...H)}else e.push(G)})},l=new w.MxCADSelectionSet;if(yield l.crossingSelect(i.x,i.y,s.x,s.y),!l.count())return MxPluginContext.useMessage().error(O("未识别到有效表格!"));l.forEach(V=>{const L=V.getMcDbEntity();if(L instanceof w.McDbBlockReference){let U=L.blockTableRecordId.getMcDbBlockTableRecord();const G=L.blockTransform.clone();d(U,G)}else if(L instanceof w.McDbPolyline){const U=Xo(L);e.push(...U)}else e.push(L)});const h=e.filter(V=>V.objectName==="McDbLine");if(!h.length)return MxPluginContext.useMessage().error(O("未识别到有效表格!"));const p=[],g=[];if(h.forEach(V=>{const L=w.McGeVector3d.kXAxis,U=w.McGeVector3d.kYAxis,G=V.clone(),H=n.find(N=>N.handle===V.getHandle());H&&(G.startPoint=G.startPoint.clone().transformBy(H.mart),G.endPoint=G.endPoint.transformBy(H.mart));const A=G.startPoint.sub(G.endPoint).normalize().mult(o);(L.angleTo1(A)<o||Math.abs(L.angleTo1(A)-Math.PI)<o)&&p.push(new w.McDbLine(G.startPoint.addvec(A),G.endPoint.subvec(A))),(U.angleTo1(A)<o||Math.abs(U.angleTo1(A)-Math.PI)<o)&&g.push(new w.McDbLine(G.startPoint.addvec(A),G.endPoint.subvec(A)))}),!p.length||!g.length)return MxPluginContext.useMessage().error(O("未识别到有效表格!"));const f=(V,L=1e-4)=>{const U=Math.abs(Math.floor(Math.log10(L))),G=Math.pow(10,U);return Math.round(V*G)/G};let m=[];p.forEach(V=>{g.forEach(L=>{const U=V.IntersectWith(L,w.McDb.Intersect.kOnBothOperands);U.length()&&U.forEach(G=>{G.x=f(G.x,o),G.y=f(G.y,o),Ko([i,new w.McGePoint3d(i.x,s.y),s,new w.McGePoint3d(s.x,i.y)],[G])&&m.push(G)})})}),m=Sn(m);const y=Array.from(new Set(m.map(V=>V.x))).sort((V,L)=>V-L),v=Array.from(new Set(m.map(V=>V.y))).sort((V,L)=>L-V),C=[];if(v.forEach((V,L)=>{const U=[],G=m.filter(H=>H.y===V);G.length?(y.forEach((H,A)=>{const N=G.findIndex(E=>E.x===H);N===-1?(L===0||L===v.length-1)&&(A===0||L===y.length-1)?U.push(new w.McGePoint3d(H,V)):U.push(null):U.push(G[N])}),C.push(U)):C.push(null)}),!C.length)return MxPluginContext.useMessage().error(O("未识别到有效表格!"));const S=[],I=m1(C),z=V=>{let L="";const U=e.filter(G=>{const H=G.clone();let A,N;if(H instanceof w.McDbText){const{minPt:E,maxPt:x}=H.getBoundingBox();A=E,N=x}else if(G instanceof w.McDbMText){const E=w.MxCpp.getCurrentMxCAD().getDatabase().getCurrentlyTextStyleId();H.textStyleId=E,H.reCompute();const{minPt:x,maxPt:_}=w.MxCADUtility.getTextEntityBox(H,!1);A=x,N=_}if(N&&A){const E=n.find(x=>x.handle===G.getHandle());return E&&(A.transformBy(E.mart),N.transformBy(E.mart)),Ko(V.flat(),[A.clone().addvec(N.sub(A).mult(.5))])}else return!1});return U.length&&U.forEach(G=>{G instanceof w.McDbText?L+=`${G.textString}
`:G instanceof w.McDbMText&&(L+=`${G.contents}
`)}),L};I.forEach(V=>ot(this,null,function*(){if(V.merged){const{fullRangeKeys:L,matrix:U}=V.merged,G=z(U);S.push({type:1,content:G,name:L.join("+")})}else if(V.standalone){const{key:L,matrix:U}=V.standalone,G=z(U);S.push({type:0,content:G,name:L})}})),b1(S)})}function m1(D){const o=D.length,t=D[0].length;if(o<2||t<2)return;const c={},u={};for(let e=0;e<=o-2;e++)for(let n=0;n<=t-2;n++){const d=`${String.fromCharCode(65+n)}${e+1}`;c[d]=[[D[e][n],D[e][n+1]],[D[e+1][n],D[e+1][n+1]]],u[d]={row:e,col:n}}const a=e=>e.some(n=>n.some(d=>d===null)),r=new Set,i=[],s=e=>{let n=1/0,d=-1/0,l=1/0,h=-1/0;Array.from(e).forEach(m=>{const{row:y,col:v}=u[m];n=Math.min(n,y),d=Math.max(d,y),l=Math.min(l,v),h=Math.max(h,v)});const p=[];for(let m=n;m<=d;m++)for(let y=l;y<=h;y++){const v=`${String.fromCharCode(65+y)}${m+1}`;p.push(v),r.add(v)}const g=(m,y)=>m<o&&y<t?D[m][y]:null,f=[[g(n,l),g(n,h+1)],[g(d+1,l),g(d+1,h+1)]];return{fullRangeKeys:p,newMatrix:f}};for(const e in c){if(r.has(e)||!a(c[e]))continue;const n=new Set,d=[e];for(n.add(e),r.add(e);d.length>0;){const g=d.shift(),{row:f,col:m}=u[g],y=c[g],[v,C]=y[0],[S,I]=y[1],z=m>0?`${String.fromCharCode(64+m)}${f+1}`:null,V=m<t-2?`${String.fromCharCode(66+m)}${f+1}`:null;v===null&&z&&c[z]&&!n.has(z)&&c[z][0][1]===null&&(n.add(z),d.push(z),r.add(z)),C===null&&V&&c[V]&&!n.has(V)&&c[V][0][0]===null&&(n.add(V),d.push(V),r.add(V)),S===null&&z&&c[z]&&!n.has(z)&&c[z][1][1]===null&&(n.add(z),d.push(z),r.add(z)),I===null&&V&&c[V]&&!n.has(V)&&c[V][1][0]===null&&(n.add(V),d.push(V),r.add(V))}if(n.size===1&&d.push(e),!s(n).newMatrix.flat().every(g=>g!==null))for(;d.length>0;){const g=d.shift(),{row:f,col:m}=u[g],y=c[g],[v,C]=y[0],[S,I]=y[1],z=f>0?`${String.fromCharCode(65+m)}${f}`:null,V=f<o-2?`${String.fromCharCode(65+m)}${f+2}`:null;v===null&&z&&c[z]&&!n.has(z)&&c[z][1][0]===null&&(n.add(z),d.push(z),r.add(z)),C===null&&z&&c[z]&&!n.has(z)&&c[z][1][1]===null&&(n.add(z),d.push(z),r.add(z)),S===null&&V&&c[V]&&!n.has(V)&&c[V][0][0]===null&&(n.add(V),d.push(V),r.add(V)),I===null&&V&&c[V]&&!n.has(V)&&c[V][0][1]===null&&(n.add(V),d.push(V),r.add(V))}const{fullRangeKeys:l,newMatrix:h}=s(n);(g=>{const f=new Set;for(const m of g){const y=m.match(/^[A-Z]+/);y&&f.add(y[0])}return f.size===1})(l)?i.push({merged:{fullRangeKeys:l,matrix:h}}):y1(D,l).forEach(f=>{i.push({merged:{fullRangeKeys:s(new Set(f.name.split("+"))).fullRangeKeys,matrix:f.data}})})}for(const e in c)r.has(e)||i.push({standalone:{key:e,matrix:c[e]}});return i}function Ko(D,o){const t=D.map(e=>e.x),c=D.map(e=>e.y),u=Math.min(...t),a=Math.max(...t),r=Math.min(...c),i=Math.max(...c),s=e=>e.x>=u&&e.x<=a&&e.y>=r&&e.y<=i;return o.every(e=>s(e))}function b1(D,o="tableData.xlsx"){return ot(this,null,function*(){const t=new Oo.Workbook,c=t.addWorksheet("Sheet1"),u=/^([A-Z]+)(\d+)$/,a=[],r=[];function i(d){const l=d.match(u);if(!l)throw new Error(`无效的单元格名: ${d}`);const[,h,p]=l;let g=0;for(let f=0;f<h.length;f++)g=g*26+(h.charCodeAt(f)-64);return{row:parseInt(p),col:g}}for(const d of D)if(d.type===1){const h=d.name.split("+").map(v=>v.trim()).map(i),p=Math.min(...h.map(v=>v.row)),g=Math.max(...h.map(v=>v.row)),f=Math.min(...h.map(v=>v.col)),m=Math.max(...h.map(v=>v.col));a.push({start:{row:p,col:f},end:{row:g,col:m}}),c.mergeCells(p,f,g,m);const y=c.getCell(p,f);y.value=d.content,y.alignment={horizontal:"center",vertical:"middle"}}else if(d.type===0){const l=i(d.name);r.push({row:l.row,col:l.col,value:d.content})}for(const d of r)if(!a.some(h=>d.row>=h.start.row&&d.row<=h.end.row&&d.col>=h.start.col&&d.col<=h.end.col)){const h=c.getCell(d.row,d.col);h.value=d.value}const s={top:{style:"thin",color:{argb:"FF000000"}},left:{style:"thin",color:{argb:"FF000000"}},bottom:{style:"thin",color:{argb:"FF000000"}},right:{style:"thin",color:{argb:"FF000000"}}};let e=1,n=1;[...r,...a.flatMap(d=>[d.start,{row:d.end.row,col:d.end.col}])].forEach(d=>{e=Math.max(e,d.row),n=Math.max(n,d.col)});for(let d=1;d<=e;d++)for(let l=1;l<=n;l++){const h=c.getCell(d,l);h.value!==null&&h.value!==void 0&&(h.border=s,h.alignment||(h.alignment={horizontal:"center",vertical:"middle",wrapText:!0}))}if(typeof window!="undefined"){const d=yield t.xlsx.writeBuffer(),l=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(l,o)}else yield t.xlsx.writeFile(o),console.log(` Excel 文件已生成: ${o}`)})}function y1(D,o){if(!D||D.length===0||D[0].length<2)throw new Error("Matrix must be at least 1x2");const t=new Map;for(const l of o){const h=l.trim().toUpperCase(),p=h.match(/^([A-Z])(\d+)$/);if(!p)continue;const g=p[1].charCodeAt(0)-65,f=parseInt(p[2],10)-1;f>=0&&g>=0&&f<=D.length-2&&g<=D[0].length-2&&t.set(h,{row:f,col:g})}if(t.size===0)return console.log("No valid submatrices found in input."),[];const c=new Map;t.forEach((l,h)=>{c.has(l.col)||c.set(l.col,new Map),c.get(l.col).set(l.row,h)});const u=Array.from(c.keys()).sort((l,h)=>l-h);if(u.length<2)return console.log("Need at least two columns for combination."),[];const a=u[0],r=u[u.length-1],i=c.get(a),s=c.get(r),e=Array.from(i.keys()).sort((l,h)=>l-h),n=Array.from(s.keys()).sort((l,h)=>l-h),d=[];for(const l of e){const h=i.get(l),p=l+1;for(const g of n){const f=s.get(g),m=g+1;if(p>m)continue;const y=`${h}+${f}`;try{const v=`${String.fromCharCode(65+r)}${p}`,C=`${String.fromCharCode(65+a)}${m}`;if(!t.has(v)||!t.has(C)){console.warn(`Required blocks not found for ${y}: ${v}, ${C}`);continue}const S=t.get(v),I=t.get(C),z=D[l][a],V=D[S.row][S.col+1],L=D[I.row+1][I.col],U=D[g+1][r+1],G=[[z,V],[L,U]];if(!G.flat().filter(H=>!H).length){d.push({name:y,data:G});break}}catch(v){console.warn(`Error processing ${y}:`,v);continue}}}return d}function w1(){return ot(this,null,function*(){const D=new w.MxCADUiPrInt;D.setMessage(O(" 请输入星形顶点数："));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;t.setMessage(O(" 指定星形中心点:"));const c=yield t.go();if(!c)return;const u=new w.MxCADUiPrDist;u.setBasePt(c),u.setMessage(O("请设置星形的内半径:"));const a=yield u.go();let r;a?r=u.value():r=5;const i=new w.McDbCircle(c.x,c.y,c.z,r);let s=[];const e=new w.MxCADUiPrDist;if(e.setBasePt(c),e.setMessage(O(" 指定星形的外半径:")),e.setUserDraw((h,p)=>{let g=new w.McDbCircle(c.x,c.y,c.z,h.distanceTo(c)),f=i.getLength(),m=g.getLength();if(!f||!m)return;let y=[];for(let C=0;C<o*2;C++){let S=i.getPointAtDist(f.val/(o*2)*C);if(!S.ret)return;let I=g.getPointAtDist(m.val/(o*2)*C);if(!I.ret)return;C%2===0?y.push(S.val):y.push(I.val)}let v=new w.McDbPolyline;y.forEach(C=>{v.addVertexAt(C)}),v.isClosed=!0,p.drawMcDbEntity(v),s=[...y]}),!(yield e.go()))return;let d=w.MxCpp.getCurrentMxCAD(),l=new w.McDbPolyline;s.forEach(h=>{l.addVertexAt(h)}),l.isClosed=!0,d.drawEntity(l)})}function x1(){return ot(this,null,function*(){let D=5;const o=new w.MxCADUiPrDist;o.setMessage(O(" 请输入凹凸线宽度<5>")),(yield o.go())&&(D=o.value());let c=10;const u=new w.MxCADUiPrDist;u.setMessage(O(" 请输入凹凸线高度<10>")),(yield u.go())&&(c=u.value());let r=new w.MxCADUiPrPoint;r.setMessage(O("请点击确定起始点"));let i=yield r.go();if(!i)return;let s=new w.MxCADUiPrPoint;s.setMessage(O("请点击确定终点")),s.setUserDraw((U,G)=>{let H=new w.McDbLine(i.x,i.y,i.z,U.x,U.y,U.z);G.drawMcDbEntity(H)});let e=yield s.go();if(!e)return;let n=new w.McDbLine(i.x,i.y,i.z,e.x,e.y,e.z),d=n.clone(),l=n.getLength(),h=n.getPointAtDist(l.val/2).val,p=w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis);d.rotate(h,p);let g=d.getPointAtDist(l.val/2+c/2).val,f=d.getPointAtDist(l.val/2-c/2).val,m=n.offsetCurves(c/2,g),y=n.offsetCurves(c/2,f),v=w.MxCpp.App.getCurrentMxCAD();if(m.length()===0||y.length()===0)return;let C,S;m.forEach(U=>{C=U.clone()}),y.forEach(U=>{S=U.clone()});let I=[],z=l.val/D;for(let U=0;U<z;U++)U%2===0?(I.push(C.getPointAtDist(D*U).val),I.push(S.getPointAtDist(D*U).val)):(I.push(S.getPointAtDist(D*U).val),I.push(C.getPointAtDist(D*U).val));let V=new w.McDbPolyline;I.forEach(U=>{V.addVertexAt(U)});let L=n.getPointAtDist(D*parseInt(z.toString())).val;V.setPointAt(0,n.startPoint),V.setPointAt(I.length-1,L),v.drawEntity(V)})}function v1(){return ot(this,null,function*(){let D=5;const o=new w.MxCADUiPrDist;o.setMessage(O(" 请输入锯齿线宽度<5>")),(yield o.go())&&(D=o.value());let c=10;const u=new w.MxCADUiPrDist;u.setMessage(O(" 请输入锯齿线高度<10>")),(yield u.go())&&(c=u.value());let r=new w.MxCADUiPrPoint;r.setMessage(O("请点击确定起始点"));let i=yield r.go();if(!i)return;let s=new w.MxCADUiPrPoint;s.setMessage(O("请点击确定终点")),s.setUserDraw((U,G)=>{let H=new w.McDbLine(i.x,i.y,i.z,U.x,U.y,U.z);G.drawMcDbEntity(H)});let e=yield s.go();if(!e)return;let n=new w.McDbLine(i.x,i.y,i.z,e.x,e.y,e.z),d=n.clone(),l=n.getLength(),h=n.getPointAtDist(l.val/2).val,p=w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis);d.rotate(h,p);let g=d.getPointAtDist(l.val/2+c/2).val,f=d.getPointAtDist(l.val/2-c/2).val,m=n.offsetCurves(c/2,g),y=n.offsetCurves(c/2,f),v=w.MxCpp.App.getCurrentMxCAD();if(m.length()===0||y.length()===0)return;let C,S;m.forEach(U=>{C=U.clone()}),y.forEach(U=>{S=U.clone()});let I=[],z=l.val/(D/2);for(let U=0;U<z;U++)U%2===0?I.push(C.getPointAtDist(D/2*U).val):I.push(S.getPointAtDist(D/2*U).val);let V=new w.McDbPolyline;I.forEach(U=>{V.addVertexAt(U)});let L=n.getPointAtDist(D/2*parseInt(z.toString())).val;V.setPointAt(0,n.startPoint),V.setPointAt(I.length-1,L),v.drawEntity(V)})}function _1(){return ot(this,null,function*(){let D=5;const o=new w.MxCADUiPrDist;o.setMessage(O(" 请输入矩形宽度<5>")),(yield o.go())&&(D=o.value());let c=10;const u=new w.MxCADUiPrDist;u.setMessage(O(" 请输入矩形高度<10>")),(yield u.go())&&(c=u.value());const r=l=>{const h=[];return h.push(new w.McGePoint3d(l.x+D/2,l.y+c/2,l.z)),h.push(new w.McGePoint3d(l.x-D/2,l.y+c/2,l.z)),h.push(new w.McGePoint3d(l.x-D/2,l.y-c/2,l.z)),h.push(new w.McGePoint3d(l.x+D/2,l.y-c/2,l.z)),h},i=new w.MxCADUiPrPoint;i.setMessage(O("请点击确定矩形中心")),i.setUserDraw((l,h)=>{const p=r(l);let g=new w.McDbPolyline;p.forEach(f=>{g.addVertexAt(f)}),g.isClosed=!0,h.drawMcDbEntity(g)});const s=yield i.go();if(!s)return;const e=r(s);let n=new w.McDbPolyline;e.forEach(l=>{n.addVertexAt(l)});const d=w.MxCpp.App.getCurrentMxCAD();n.isClosed=!0,d.drawEntity(n)})}function M1(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("CIRCLE");let o=yield w.MxCADUtility.userSelect(O("选择目标对象"),D);o.length!=0&&o.forEach(t=>ot(this,null,function*(){let c=yield t.getMcDbEntity(),u=c.center,a=c.radius,r=w.MxCpp.App.getCurrentMxCAD(),i=new w.McDbLine(u.x+a*1.3,u.y,u.z,u.x-a*1.3,u.y,u.z);i.trueColor=new w.McCmColor(255,0,0);let s=new w.McDbLine(u.x,u.y+a*1.3,u.z,u.x,u.y-a*1.3,u.z);s.trueColor=new w.McCmColor(255,0,0),r.drawEntity(i),r.drawEntity(s)}))})}function P1(){return ot(this,null,function*(){let D=10;const o=new w.MxCADUiPrDist;o.setMessage(O(" 请输入管径<10>")),(yield o.go())&&(D=o.value());let c=10;const u=new w.MxCADUiPrDist;u.setMessage(O(" 请输入长出管口长度<5>")),(yield u.go())&&(c=u.value());let r=new w.MxCADUiPrPoint;r.setMessage(O("请点击确定起点"));const i=yield r.go();if(!i)return;const s=new w.MxCADUiPrPoint;s.setMessage(O("请点击确定终点")),s.setUserDraw((S,I)=>{const z=new w.McDbLine(i.x,i.y,i.z,S.x,S.y,S.z);I.drawMcDbEntity(z)});const e=yield s.go();if(!e)return;const n=new w.McDbLine(i.x,i.y,i.z,e.x,e.y,e.z),d=w.MxCpp.App.getCurrentMxCAD();let l=n.getLength().val,h=n.getPointAtDist(l+c),p=n.getPointAtDist(0-c),g=n.getPointAtDist(l/2).val,f=w.McGeVector3d.kXAxis.angleTo1(w.McGeVector3d.kYAxis),m=n.clone();m.rotate(g,f);let y=m.getPointAtDist(l/2+D/2).val,v=m.getPointAtDist(l/2-D/2).val;n.offsetCurves(D/2,y).forEach(S=>{S.trueColor=new w.McCmColor(0,255,0),d.drawEntity(S)}),n.offsetCurves(D/2,v).forEach(S=>{S.trueColor=new w.McCmColor(0,255,0),d.drawEntity(S)});let C=d.addLinetypeEx("TestMyLine","25,-5");C.isValid()&&(n.linetypeId=C,n.endPoint=p.val,n.startPoint=h.val,n.trueColor=new w.McCmColor(255,0,0),d.drawEntity(n))})}function C1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("指定剖管线起点"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;t.setMessage(O("指定剖管线终点")),t.setUserDraw((S,I)=>{let z=new w.McDbLine(o.x,o.y,o.z,S.x,S.y,S.z);I.drawMcDbEntity(z)});const c=yield t.go();if(!c)return;const u=new w.McDbLine(o.x,o.y,o.z,c.x,c.y,c.z),a=u.getLength().val,r=a/8,i=u.getPointAtDist(a/2).val,s=u.clone();s.rotate(i,Math.PI/2);const e=s.getPointAtDist(a/2+r).val,n=s.getPointAtDist(a/2-r).val,d=w.MxCpp.App.getCurrentMxCAD();let l;u.clone().offsetCurves(r,e).forEach(S=>{l=S});let h;u.clone().offsetCurves(r,n).forEach(S=>{h=S});const p=[],g=[];for(let S=0;S<4;S++)S%2!==0&&(p.push(l.getPointAtDist(S*r*2).val),g.push(h.getPointAtDist(S*r*2).val));let f,m=new w.McDbArc;m.computeArc(o.x,o.y,p[0].x,p[0].y,i.x,i.y),d.drawEntity(m);let y=new w.McDbArc;y.computeArc(o.x,o.y,g[0].x,g[0].y,i.x,i.y),d.drawEntity(y);let v=new w.McDbArc;v.computeArc(i.x,i.y,g[1].x,g[1].y,c.x,c.y),f=d.drawEntity(v);let C=new w.MxCADUiPrKeyWord;for(;;){C.setMessage(O("选择剖管线圆弧方向")),C.setKeyWords(`[${O("左边")}(L)/${O("右边")}(R)]`);const S=yield C.go();if(!S)return;if(S=="L"){let I=new w.McDbArc;f.erase(),I.computeArc(i.x,i.y,g[1].x,g[1].y,c.x,c.y),f=d.drawEntity(I)}else if(S=="R"){f.erase();let I=new w.McDbArc;I.computeArc(i.x,i.y,p[1].x,p[1].y,c.x,c.y),f=d.drawEntity(I)}}})}function E1(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage(O("选择模式")),D.setKeyWords(`[${O("直线焊缝")}(L)/${O("弧线焊缝")}(A)]`);const o=yield D.go();if(!o)return;let t=5;const c=new w.MxCADUiPrDist;c.setMessage(O(" 请输入焊缝半径<5>")),(yield c.go())&&(t=c.value());let a=new w.McDbCurve;if(o==="L"){let l=new w.MxCADUiPrPoint;l.setMessage(O("请点击确定起始点"));let h=yield l.go();if(!h)return;let p=new w.MxCADUiPrPoint;p.setMessage(O("请点击确定终点")),p.setUserDraw((f,m)=>{let y=new w.McDbLine(h.x,h.y,h.z,f.x,f.y,f.z);m.drawMcDbEntity(y)});let g=yield p.go();if(!g)return;a=new w.McDbLine(h.x,h.y,h.z,g.x,g.y,g.z)}else if(o==="A"){let l=new w.MxCADUiPrPoint;l.setMessage(O("指定起点"));let h=yield l.go();if(!h)return;let p=new w.MxCADUiPrPoint;p.setMessage(O("指定圆弧的第二个点")),p.setUserDraw((v,C)=>{C.drawLine(h.toVector3(),v.toVector3())});let g=yield p.go();if(!g)return;let f=new w.MxCADUiPrPoint;f.setMessage(O("指定圆弧的端点")),f.setUserDraw((v,C)=>{let S=new w.McDbArc;S.computeArc(h.x,h.y,g.x,g.y,v.x,v.y),C.drawMcDbEntity(S)});let m=yield f.go();if(!m)return;let y=new w.McDbArc;y.computeArc(h.x,h.y,g.x,g.y,m.x,m.y),a=y}const r=w.MxCpp.App.getCurrentMxCAD();let s=a.getLength().val/t,e=[],n,d;o==="A"&&(n=a.center,d=a.radius);for(let l=0;l<s;l++){let h=a.getPointAtDist(t*l).val,p=new w.McDbCircle(h.x,h.y,h.z,t);const g=p.IntersectWith(a,w.McDb.Intersect.kExtendBoth);if(!g.length())return;let f=[];g.forEach(v=>{f.push(v)});let m=[],y=[];p.splitCurves(f).forEach((v,C)=>{if(o==="L")C%2!==0&&e.push(v);else if(o==="A"){let S=v.clone();S.getPointAtDist(S.getLength().val/2).val.distanceTo(n)>d?m.push(S):y.push(S)}}),m.length===1&&o==="A"?e.push(m[0]):o==="A"&&m.length>1&&(y[0].rotate(p.center,Math.PI),e.push(y[0]))}e.forEach((l,h)=>{if(h===0)r.drawEntity(l);else{let p=l.IntersectWith(e[h-1],w.McDb.Intersect.kExtendThis);if(p.length()===0)return;let g=[];p.forEach(y=>{g.push(y)});let f=[];l.splitCurves(g).forEach((y,v)=>{f.push({obj_cur:y,lenth:y.getLength().val})});let m=f.map(y=>y.lenth);r.drawEntity(f[m.indexOf(Math.max(...m))].obj_cur)}})})}function D1(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LINE,LWPOLYLINE");let o=yield w.MxCADUtility.userSelect(O("选择对象"),D);o.length!=0&&o.forEach(t=>ot(this,null,function*(){let c=yield t.getMcDbEntity();if(!c)return;let u=c.clone(),a=u.getLength(),r=u.getPointAtDist(a.val/2).val;if(!u.getFirstDeriv(r).ret)return;let s=w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis);u.rotate(r,s);let e=w.MxCpp.App.getCurrentMxCAD();u.trueColor=new w.McCmColor(255,0,0),e.drawEntity(u)}))})}function A1(){return ot(this,null,function*(){let D=25;const o=new w.MxCADUiPrDist;o.setMessage(O("请输入宽度<25>")),(yield o.go())&&(D=o.value());let c=15;const u=new w.MxCADUiPrDist;u.setMessage(O("请输入高度<15>")),(yield u.go())&&(c=u.value());const r=new w.MxCADUiPrInt;r.setMessage(O("请输入楼梯级数<10>"));const i=(yield r.go())||10,s=Math.sqrt(D*D+c*c),e=new w.MxCADUiPrPoint;e.setMessage(O("请点击确定起点"));const n=yield e.go();if(!n)return;const d=new w.MxCADUiPrPoint;d.setMessage(O("请点击确定终点")),d.setUserDraw((m,y)=>{const v=new w.McDbLine(n.x,n.y,n.z,m.x,m.y,m.z);y.drawMcDbEntity(v)});const l=yield d.go();if(!l)return;const h=new w.McDbLine(n.x,n.y,n.z,l.x,l.y,l.z),p=[];for(let m=0;m<i+1;m++){let y=h.getPointAtDist(s*m).val;p.push(y)}const g=new w.McDbPolyline;p.forEach((m,y)=>{if(g.addVertexAt(m),y!=p.length-1){let v=new w.McGePoint3d(m.x,p[y+1].y,m.z);g.addVertexAt(v)}}),w.MxCpp.App.getCurrentMxCAD().drawEntity(g)})}function k1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("请确定圆心位置 "));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrDist;if(t.setBasePt(o),t.setMessage(O("请输入圆半径")),t.setUserDraw((r,i)=>{const s=r.distanceTo(o),e=new w.McDbCircle;e.center=o,e.radius=s,i.drawMcDbEntity(e)}),!(yield t.go()))return;const u=t.value(),a=w.MxCpp.getCurrentMxCAD();a.pathCircle(o.x,o.y,u),a.drawPathToHatch()})}function S1(){return ot(this,null,function*(){let D=5;const o=new w.MxCADUiPrDist;o.setMessage(O(" 请输入保温棉宽度<5>")),(yield o.go())&&(D=o.value());let c=10;const u=new w.MxCADUiPrDist;u.setMessage(O(" 请输入保温棉高度<10>")),(yield u.go())&&(c=u.value());const r=new w.MxCADUiPrPoint;r.setMessage(O("请点击确定起点"));const i=yield r.go();if(!i)return;const s=new w.MxCADUiPrPoint;s.setMessage(O("请点击下一个点")),s.setUserDraw((z,V)=>{const L=new w.McDbLine(i.x,i.y,i.z,z.x,z.y,z.z);V.drawMcDbEntity(L)});const e=yield s.go();if(!e)return;const n=new w.McDbLine(i.x,i.y,i.z,e.x,e.y,e.z);i.y<e.y&&(n.startPoint=new w.McGePoint3d(e.x,e.y,e.z),n.endPoint=new w.McGePoint3d(i.x,i.y,i.z));const d=n.getPointAtDist(n.getLength().val/2).val,l=n.clone();l.rotate(d,Math.PI/2);const h=l.getPointAtDist(n.getLength().val/2+c/2).val,p=l.getPointAtDist(n.getLength().val/2-c/2).val;let g,f;n.offsetCurves(c/2,h).forEach(z=>{g=z}),n.offsetCurves(c/2,p).forEach(z=>{f=z});let m=n.getLength().val/D*2,y=[],v=[],C=[];for(let z=0;z<m;z++)if(z%2==0){let V=f.getPointAtDist(z*(D/2)).val,L=g.getPointAtDist(z*(D/2)).val;v.push(L),y.push(V)}else{let V=g.getPointAtDist(z*(D/2)).val,L=f.getPointAtDist(z*(D/2)).val;C.push(L),y.push(V)}const S=new w.McDbPolyline;y.forEach(z=>{S.addVertexAt(z)});const I=w.MxCpp.App.getCurrentMxCAD();I.drawEntity(S),v.forEach(z=>{const V=new w.McDbArc;V.center=z,V.radius=D/2,V.startAngle=-new w.McGeVector3d(n.endPoint.x-n.startPoint.x,n.endPoint.y-n.startPoint.y).angleTo1(w.McGeVector3d.kXAxis),V.endAngle=new w.McGeVector3d(n.startPoint.x-n.endPoint.x,n.startPoint.y-n.endPoint.y).angleTo1(w.McGeVector3d.kXAxis),I.drawEntity(V)}),C.forEach(z=>{const V=new w.McDbArc;V.center=z,V.radius=D/2,V.startAngle=new w.McGeVector3d(n.startPoint.x-n.endPoint.x,n.startPoint.y-n.endPoint.y).angleTo1(w.McGeVector3d.kXAxis),V.endAngle=-new w.McGeVector3d(n.endPoint.x-n.startPoint.x,n.endPoint.y-n.startPoint.y).angleTo1(w.McGeVector3d.kXAxis),I.drawEntity(V)})})}function T1(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LINE");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("请选择第一条线"));const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=new w.McDbLine(c.startPoint,c.endPoint),a=new w.MxCADUiPrEntity;a.setFilter(D),a.setMessage(O("请选择第二条线"));const r=yield a.go();if(!r.id)return;const i=r.getMcDbEntity(),s=new w.McDbLine(i.startPoint,i.endPoint),e=w.MxCpp.getCurrentMxCAD();let n=c.IntersectWith(s,w.McDb.Intersect.kExtendBoth);if(console.log(n.length()),n.length()===0){const d=c.getLength().val>i.getLength().val?i.clone():c.clone(),l=c.getLength().val>i.getLength().val?u:s,h=d.clone(),p=d.getPointAtDist(d.getLength().val/2).val;if(d.rotate(p,Math.PI/2),n=d.IntersectWith(l,w.McDb.Intersect.kExtendBoth),!n.length())return;const g=n.at(0).distanceTo(p)/2;h.offsetCurves(g,n.at(0)).forEach(f=>{f.trueColor=new w.McCmColor(255,0,0),e.drawEntity(f)})}else{const d=new w.McDbCircle;let l,h=u.endPoint.distanceTo(n.at(0)),p=u.startPoint.distanceTo(n.at(0));h!==0&&p!==0&&(h>p?u.startPoint=n.at(0):u.endPoint=n.at(0));let g=s.endPoint.distanceTo(n.at(0)),f=s.startPoint.distanceTo(n.at(0));g!==0&&f!==0&&(f>g?s.startPoint=n.at(0):s.endPoint=n.at(0)),u.getLength().val>s.getLength().val?(l=s.getLength().val,new w.McDbLine(i.startPoint,s.endPoint)):(l=c.getLength().val,new w.McDbLine(u.startPoint,u.endPoint)),d.center=n.at(0),d.radius=l;let m=d.IntersectWith(u,w.McDb.Intersect.kOnBothOperands),y=d.IntersectWith(s,w.McDb.Intersect.kOnBothOperands);if(!m.length()||!y.length())return;let v=m.at(0).sub(n.at(0)).angleTo2(w.McGeVector3d.kXAxis),C=y.at(0).sub(n.at(0)).angleTo2(w.McGeVector3d.kXAxis),S=new w.McDbArc;S.center=n.at(0),S.radius=l,S.startAngle=v,S.endAngle=C;const I=S.getPointAtDist(S.getLength().val/2).val,z=new w.McDbLine(n.at(0),I),V=new w.MxCADUiPrPoint;V.setMessage(O("请选择终点")),V.setUserDraw((U,G)=>{let H=z.getClosestPointTo(U,!0).val,A=z.clone();A.endPoint=H,G.drawMcDbEntity(A)});const L=yield V.go();if(!L)return;z.endPoint=z.getClosestPointTo(L,!0).val,z.trueColor=new w.McCmColor(255,0,0),e.drawEntity(z)}})}function N1(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LWPOLYLINE");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("请选择目标矩形"));const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity();let u=[];const a=c.numVerts();for(let n=0;n<a;n++)u.push(c.getPointAt(n).val);const r=new w.MxCADUiPrPoint;let i;r.setUserDraw((n,d)=>{let l=[];u.forEach(p=>{l.push(p.distanceTo(n))}),i=l.findIndex(p=>p===Math.min(...l));let h=c.clone();h.setPointAt(i,n),d.drawMcDbEntity(h)});const s=yield r.go();if(!s)return;let e=c.clone();e.setPointAt(i,s),w.MxCpp.getCurrentMxCAD().drawEntity(e)})}function V1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("设置指北针中心点"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrDist;if(t.setMessage(O("设置指北针半径")),t.setBasePt(o),t.setUserDraw((f,m)=>{const y=f.distanceTo(o);m.drawCircle(o.toVector3(),y)}),!(yield t.go()))return;const u=t.value(),a=w.MxCpp.App.getCurrentMxCAD(),r=new w.McDbCircle;r.trueColor=new w.McCmColor(0,255,0),r.center=o,r.radius=u,a.drawEntity(r);const i=new w.McGePoint3d(o.x,o.y+u),s=new w.McGePoint3d(o.x,o.y-u),e=new w.McDbLine;e.startPoint=i,e.endPoint=s;const n=e.clone();n.rotate(i,Math.PI/30);const d=e.clone();d.rotate(i,-Math.PI/30);let l,h;n.IntersectWith(r,w.McDb.Intersect.kOnBothOperands).forEach(f=>{f.x!==i.x&&f.y!==i.y&&(l=f)}),d.IntersectWith(r,w.McDb.Intersect.kOnBothOperands).forEach(f=>{f.x!==i.x&&f.y!==i.y&&(h=f)});let p=w.MxCADUtility.calcBulge(l,s,h);a.pathMoveToEx(l.x,l.y,0,0,p.val),a.pathLineTo(h.x,h.y),a.pathLineTo(i.x,i.y),a.pathLineTo(l.x,l.y),a.drawColor=new w.McCmColor(25,255,0),a.drawPathToHatch(1);const g=new w.McDbText;g.height=u/3,g.position=new w.McGePoint3d(o.x,o.y+u*1.2),g.alignmentPoint=g.position,g.textString="N",g.horizontalMode=w.McDb.TextHorzMode.kTextMid,g.trueColor=new w.McCmColor(25,255,0),a.drawEntity(g)})}function B1(){return ot(this,null,function*(){const D=new w.MxCADUiPrKeyWord;D.setMessage(O("选择提示框指向")),D.setKeyWords("[向上(U)/向下(D)]");const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;let c=w.MxCpp.getCurrentMxCAD().getCurrentDatabaseDrawColor();t.setMessage(O(" 指定消息框第一点:"));let u=yield t.go();if(!u)return;let a=w.MxCpp.getCurrentMxCAD(),r=new lt.MxDbRect;r.pt1=u.toVector3(),t.setUserDraw((m,y)=>{r.pt2=m.toVector3(),r.setColor(c),y.drawCustomEntity(r)}),t.setMessage(O(" 指定消息框第二点:")),t.setDynamicInputType(lt.DynamicInputType.kXYCoordInput);let i=yield t.go();if(!i)return;r.pt2=i.toVector3();let s=new w.McDbPolyline;s.isClosed=!0;let e;u.y>i.y&&o==="U"||u.y<i.y&&o==="D"?(e=new w.McDbLine(u,new w.McGePoint3d(i.x,u.y)),s.addVertexAt(new w.McGePoint3d(i.x,u.y)),s.addVertexAt(i),s.addVertexAt(new w.McGePoint3d(u.x,i.y)),s.addVertexAt(u)):(u.y>i.y&&o==="D"||u.y<i.y&&o==="U")&&(e=new w.McDbLine(i,new w.McGePoint3d(u.x,i.y)),s.addVertexAt(new w.McGePoint3d(u.x,i.y)),s.addVertexAt(u),s.addVertexAt(new w.McGePoint3d(i.x,u.y)),s.addVertexAt(i));const n=u.distanceTo(i)/6,d=e.getPointAtDist(n).val,l=e.getPointAtDist(e.getLength().val-n).val;e.startPoint=d,e.endPoint=l;const h=new w.MxCADUiPrPoint;h.setMessage(O(" 设置消息框指向:"));let p,g;h.setUserDraw((m,y)=>{const v=e.getClosestPointTo(m,!1).val;let C=s.getFirstDeriv(v);if(!C.ret)return;C.val.normalize().mult(n/4),p=v.clone(),p.addvec(C.val),g=v.clone(),g.subvec(C.val);let S=s.clone();S.addVertexAt(g),S.addVertexAt(m),S.addVertexAt(p),y.drawMcDbEntity(S)});let f=yield h.go();f&&(s.addVertexAt(g),s.addVertexAt(f),s.addVertexAt(p),a.drawEntity(s))})}function R1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("请设置圆心"));let o=yield D.go();if(!o)return;const t=w.MxCpp.getCurrentMxCAD();for(let c=1;c<4;c++){const u=new w.McDbCircle;u.center=o,u.radius=10*c,t.drawEntity(u)}})}function I1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(O("请设置齿轮圆心"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrDist;t.setBasePt(o),t.setMessage(O("请设置齿轮半径")),t.setUserDraw((y,v)=>{const C=new w.McDbCircle;C.center=o,C.radius=y.distanceTo(o),v.drawMcDbEntity(C)});const c=yield t.go();let u=10;c&&(u=t.value());const a=w.MxCpp.getCurrentMxCAD(),r=new w.McDbCircle;r.center=o,r.radius=u;const i=30,s=r.getLength().val/(i*2),e=new w.McGePoint3d(o.x,o.y+u,o.z),n=r.getDistAtPoint(e).val,d=r.getPointAtDist(n+s/2).val,l=r.getPointAtDist(n-s/2).val,h=[],p=new w.McDbPolyline;p.addVertexAt(d),p.addVertexAt(new w.McGePoint3d(d.x,d.y+5,d.z)),p.addVertexAt(new w.McGePoint3d(l.x,l.y+5,l.z)),p.addVertexAt(l),h.push(p);for(let y=0;y<i*2;y++){let v=p.clone(),C=r.getPointAtDist(n+y*s);if(!C.ret)return;let S=C.val.sub(e),I=new w.McGeMatrix3d;I.setToTranslation(S),v.transformBy(I);let L=r.getFirstDeriv(C.val).val.rotateBy(w.McGeVector3d.kYAxis.angleTo1(w.McGeVector3d.kXAxis)).negate().angleTo2(w.McGeVector3d.kYAxis,w.McGeVector3d.kNegateZAxis);v.rotate(C.val,L),h.push(v)}const g=[];h.forEach((y,v)=>{v%2!==0&&(y.IntersectWith(r,w.McDb.Intersect.kOnBothOperands).forEach(S=>{g.push(S)}),a.drawEntity(y))});const f=new w.McDbArc,m=new w.McGePoint3d(o.x,o.y-u,o.z);f.computeArc(d.x,d.y,m.x,m.y,l.x,l.y),f.splitCurves(g).forEach((y,v)=>{v%2!==0&&a.drawEntity(y)})})}function L1(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("INSERT");const o=new w.MxCADUiPrEntity;o.setFilter(D),o.setMessage(O("请选择目标块"));const t=yield o.go();if(!t.id)return;const u=t.getMcDbEntity().getBoundingBox(),a=new w.McDbLine(u.minPt,u.maxPt),r=a.getPointAtDist(a.getLength().val/2).val,i=new w.MxCADUiPrDist;let s=10;i.setMessage(O(" 请设置中心线长度10>")),i.setBasePt(r),i.setUserDraw((m,y)=>{const v=m.distanceTo(r),C=r.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(v)),S=r.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(v).negate()),I=r.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(v)),z=r.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(v).negate()),V=new w.McDbLine(C,S),L=new w.McDbLine(I,z);y.drawMcDbEntity(V),y.drawMcDbEntity(L)}),(yield i.go())&&(s=i.value());const n=w.MxCpp.getCurrentMxCAD(),d=r.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(s)),l=r.clone().addvec(w.McGeVector3d.kXAxis.normalize().mult(s).negate()),h=r.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(s)),p=r.clone().addvec(w.McGeVector3d.kYAxis.normalize().mult(s).negate()),g=new w.McDbLine(d,l),f=new w.McDbLine(h,p);n.drawEntity(g),n.drawEntity(f)})}function j1(){return ot(this,null,function*(){const D=new w.MxCADResbuf([w.DxfCode.kEntityType,"CIRCLE"]),o=w.MxCpp.getCurrentMxCAD(),t=new w.MxCADUiPrEntity;t.setFilter(D),t.setMessage(O("请选择第一个圆"));const c=yield t.go();if(!c)return;const u=new w.MxCADUiPrEntity;u.setFilter(D),u.setMessage(O("请选择第二个圆"));const a=yield u.go();if(!a)return;const r=c.getMcDbEntity(),i=a.getMcDbEntity(),s=r.center,e=i.center,n=s.sub(e).normalize(),d=s.clone().addvec(n.clone().perpVector().mult(r.radius)),l=e.clone().addvec(n.clone().perpVector().mult(i.radius)),h=new w.McDbLine(d,l);if(Math.abs(r.radius-i.radius)>1e-4){const p=new w.McDbLine(s,e),g=h.IntersectWith(p,w.McDb.Intersect.kExtendBoth);if(g.length()>0){const f=g.at(0);let m,y;f.distanceTo(s)>f.distanceTo(e)?(m=i,y=r):(m=r,y=i);const v=f.clone().addvec(m.center.sub(f).mult(1/2)),C=f.distanceTo(m.center)/2,S=Math.asin(m.radius/(2*C)),I=m.center.sub(v),z=v.clone().addvec(I.clone().rotateBy(S*2)),V=v.clone().addvec(I.clone().rotateBy(-S*2)),L=z.sub(m.center).normalize(),U=V.sub(m.center).normalize(),G=y.center.clone().addvec(L.clone().mult(y.radius)),H=y.center.clone().addvec(U.clone().mult(y.radius));o.drawLine(z.x,z.y,G.x,G.y),o.drawLine(V.x,V.y,H.x,H.y)}}else{const p=s.clone().addvec(n.clone().perpVector().negate().mult(r.radius)),g=e.clone().addvec(n.clone().perpVector().negate().mult(i.radius)),f=new w.McDbLine(p,g);o.drawEntity(h),o.drawEntity(f)}})}class jr extends w.McDbCustomEntity{constructor(o){super(o),this.point1=new w.McGePoint3d,this.point2=new w.McGePoint3d,this.radius=30,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d}create(o){return new jr(o)}getTypeName(){return"McDbExtoolRoundedRectangle"}set CornerPoint1(o){this.point1=o.clone()}get CornerPoint1(){return this.point1}set CornerPoint2(o){this.point2=o.clone()}get CornerPoint2(){return this.point2}set arcRadius(o){this.radius=o}get arcRadius(){return this.radius}dwgInFields(o){return this.point1=o.readPoint("point1").val,this.point2=o.readPoint("point2").val,this.radius=o.readDouble("radius").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,!0}dwgOutFields(o){return o.writePoint("point1",this.point1),o.writePoint("point2",this.point2),o.writeDouble("radius",this.radius),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.point1.x+=t,this.point1.y+=c,this.point1.z+=u):o===1&&(this.point2.x+=t,this.point2.y+=c,this.point2.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.point1),o.append(this.point2),o}worldDraw(o){const t=[];let c=this.radius;const u=new w.McGePoint3d(this.point1.x,this.point2.y),a=new w.McGePoint3d(this.point2.x,this.point1.y),r=this.point1.distanceTo(u),i=this.point2.distanceTo(u),s=r<i?r:i;this.radius>s/2&&(c=s/2);const e=[this.point1,u,this.point2,a],n=new w.McDbPolyline;n.isClosed=!0,e.forEach(C=>{n.addVertexAt(C)});const d=u.sub(this.point1).normalize().mult(c),l=a.sub(this.point1).normalize().mult(c),h=this.point1.clone().addvec(d).addvec(l),p=u.clone().addvec(d.clone().negate()).addvec(l),g=this.point2.clone().addvec(d.clone().negate()).addvec(l.clone().negate()),f=a.clone().addvec(d).addvec(l.clone().negate()),m=[h,p,g,f],y=[],v=1e-4;m.forEach(C=>{const S=new w.McDbCircle;S.center=C,S.radius=c;const I=n.IntersectWith(S,w.McDb.Intersect.kExtendBoth),z=[];I.length()>0&&I.forEach(V=>z.push(V)),y.push(...z),S.splitCurves(z).forEach((V,L)=>{const U=V.clone(),G=U.getLength().val,H=U.getPointAtDist(0).val,A=U.getPointAtDist(G).val,N=z.filter(x=>x.distanceTo(H)<v||x.distanceTo(A)<v),E=Math.abs(G-S.getLength().val/4);N.length===z.length&&E<v&&(o.drawEntity(V),t.push(V))})}),n.splitCurves(y).forEach((C,S)=>{const I=C.clone(),z=I.getLength().val;if(Math.abs(z-this.radius)>v&&Math.abs(z-2*this.radius)>v&&(o.drawEntity(C),t.push(C)),Math.abs(z-2*this.radius)<v){const V=I.numVerts();let L=[];for(let U=0;U<V;U++){const G=I.getPointAt(U).val;L=e.filter(H=>G.distanceTo(H)<v)}V!==3&&L.length===0&&(o.drawEntity(C),t.push(C))}}),this.getBox(t)}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}getBoundingBox(){return{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function z1(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADUiPrPoint;o.setMessage(O("请设置矩形左上角点"));const t=yield o.go();if(!t)return;let c=new lt.MxDbRect;c.pt1=t.toVector3();const u=new w.MxCADUiPrPoint;u.setMessage(O("请设置矩形右下角点")),u.setUserDraw((d,l)=>{c.pt2=d.toVector3(),l.drawCustomEntity(c)});const a=yield u.go();if(!a)return;let r=new w.McDbPolyline;r.addVertexAt(t),r.addVertexAt(new w.McGePoint3d(t.x,a.y)),r.addVertexAt(a),r.addVertexAt(new w.McGePoint3d(a.x,t.y)),r.isClosed=!0;const i=D.drawEntity(r),s=new w.MxCADUiPrDist;s.setMessage(O("请设置圆角半径")),s.setBasePt(t);let e=yield s.go();e||(e=lt.MxFun.screenCoordLong2Doc(20)),i.erase();const n=new jr;n.CornerPoint1=t,n.CornerPoint2=a,n.arcRadius=e,D.drawEntity(n)})}function O1(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=[],t=new w.MxCADUiPrPoint;t.setMessage(O("请选择多边形起点"));const c=yield t.go();if(!c)return;o.push(c);let u=null;for(;;){if(u&&u.erase(),o.length>=2){const s=new w.McDbPolyline;o.forEach(e=>s.addVertexAt(e)),u=D.drawEntity(s)}const r=new w.MxCADUiPrPoint;r.setMessage(O("请选择多边形顶点")),r.setUserDraw((s,e)=>{const n=new w.McDbLine(s,o[o.length-1]);e.drawMcDbEntity(n)});const i=yield r.go();if(!i||(o.push(i),i&&i.distanceTo(o[0])<1e-4))break}u&&u.erase();const a=new w.McDbPolyline;Sn(o).forEach(r=>a.addVertexAt(r)),a.isClosed=!0,D.drawEntity(a)})}function F1(){new jr().rxInit(),MxPluginContext.addCommand("Mx_Extool_DrawStart",w1),MxPluginContext.addCommand("Mx_Extool_ConcavoVex",x1),MxPluginContext.addCommand("Mx_Extool_ZigzagLine",v1),MxPluginContext.addCommand("Mx_Extool_CenterRect",_1),MxPluginContext.addCommand("Mx_Extool_RREC",z1),MxPluginContext.addCommand("Mx_Extool_CCLine",M1),MxPluginContext.addCommand("Mx_Extool_Piping",P1),MxPluginContext.addCommand("Mx_Extool_CutPipeline",C1),MxPluginContext.addCommand("Mx_Extool_WelLine",E1),MxPluginContext.addCommand("Mx_Extool_PerpLine",D1),MxPluginContext.addCommand("Mx_Extool_StairLine",A1),MxPluginContext.addCommand("Mx_Extool_SolidCircle",k1),MxPluginContext.addCommand("Mx_Extool_CottonInsulation",S1),MxPluginContext.addCommand("Mx_Extool_CenterLine",T1),MxPluginContext.addCommand("Mx_Extool_DoHole",N1),MxPluginContext.addCommand("Mx_Extool_Compass",V1),MxPluginContext.addCommand("Mx_Extool_MassegeBox",B1),MxPluginContext.addCommand("Mx_Extool_ConcentricCircles",R1),MxPluginContext.addCommand("Mx_Extool_Gear",I1),MxPluginContext.addCommand("Mx_Extool_BlkCenterLine",L1),MxPluginContext.addCommand("Mx_Extool_RoundCutPublicLine",j1),MxPluginContext.addCommand("Mx_Extool_DrawPolygon",O1),MxPluginContext.addCommand("Mx_Extool_InsterFrame",Bu),MxPluginContext.addCommand("Mx_GetTable",g1)}window._iconfont_svg_string_4684204='<svg shape-rendering="geometricPrecision"><symbol id="bianjizu" viewBox="0 0 1024 1024"><path d="M497.28 645.546667h-298.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-298.666666a21.333333 21.333333 0 0 1 21.333333-21.333334h298.666667a21.333333 21.333333 0 0 1 21.333333 21.333334v298.666666a21.333333 21.333333 0 0 1-21.333333 21.333334z m-277.333333-42.666667h256v-256h-256z" fill="currentColor" ></path><path d="M512 776.746667a149.333333 149.333333 0 1 1 149.333333-149.333334 149.333333 149.333333 0 0 1-149.333333 149.333334z m0-256a106.666667 106.666667 0 1 0 106.666667 106.666666 106.666667 106.666667 0 0 0-106.666667-106.666666zM817.28 364.586667a21.333333 21.333333 0 0 1-21.333333-21.333334v-170.666666a21.333333 21.333333 0 0 1 42.666666 0v170.666666a21.333333 21.333333 0 0 1-21.333333 21.333334z" fill="currentColor" ></path><path d="M814.08 193.92h-128a21.333333 21.333333 0 1 1 0-42.666667h128a21.333333 21.333333 0 0 1 0 42.666667z" fill="currentColor" ></path><path d="M902.186667 695.04l-161.066667 164.053333-55.04-55.893333L847.36 640a10.88 10.88 0 0 1 15.573333 0l39.253334 39.68a11.52 11.52 0 0 1 0 15.36z" fill="#FF9800" ></path><path d="M903.253333 675.84l-38.4-39.04a11.946667 11.946667 0 0 1 0-16.213333l12.16-12.16a25.173333 25.173333 0 0 1 35.626667-1.92l19.84 20.266666a26.026667 26.026667 0 0 1-1.706667 36.266667l-11.946666 12.373333a11.306667 11.306667 0 0 1-15.786667 0z" fill="#E74F40" ></path><path d="M686.08 803.2l-12.16 51.413333a11.093333 11.093333 0 0 0 8.32 13.653334 11.733333 11.733333 0 0 0 3.84 0l54.613333-9.6z" fill="#FF9800" ></path></symbol><symbol id="jiezu" viewBox="0 0 1024 1024"><path d="M817.28 856.106667a21.333333 21.333333 0 0 1-21.333333-21.333334v-170.666666a21.333333 21.333333 0 1 1 42.666666 0v170.666666a21.333333 21.333333 0 0 1-21.333333 21.333334zM817.28 344.106667a21.333333 21.333333 0 0 1-21.333333-21.333334v-170.666666a21.333333 21.333333 0 0 1 42.666666 0v170.666666a21.333333 21.333333 0 0 1-21.333333 21.333334z" fill="currentColor" ></path><path d="M752.853333 609.066667a21.333333 21.333333 0 0 1-12.373333-3.84 21.333333 21.333333 0 0 1-5.12-29.866667l144.213333-202.24a21.333333 21.333333 0 0 1 29.653334-4.906667 21.333333 21.333333 0 0 1 4.906666 29.653334l-144 202.24a21.333333 21.333333 0 0 1-17.28 8.96z" fill="#DF1200" ></path><path d="M899.626667 606.72a21.333333 21.333333 0 0 1-17.066667-8.533333l-149.333333-197.333334a21.333333 21.333333 0 1 1 34.773333-25.6l149.333333 197.12a21.333333 21.333333 0 0 1-4.053333 29.866667 21.333333 21.333333 0 0 1-13.653333 4.48z" fill="#DF1200" ></path><path d="M814.08 173.44h-128a21.333333 21.333333 0 0 1 0-42.666667h128a21.333333 21.333333 0 0 1 0 42.666667zM814.08 856.106667h-128a21.333333 21.333333 0 1 1 0-42.666667h128a21.333333 21.333333 0 0 1 0 42.666667zM497.28 624.853333h-298.666667a21.333333 21.333333 0 0 1-21.333333-21.333333v-298.666667a21.333333 21.333333 0 0 1 21.333333-21.333333h298.666667a21.333333 21.333333 0 0 1 21.333333 21.333333v298.666667a21.333333 21.333333 0 0 1-21.333333 21.333333z m-277.333333-42.666666h256v-256h-256z" fill="currentColor" ></path><path d="M512 756.266667a149.333333 149.333333 0 1 1 149.333333-149.333334 149.333333 149.333333 0 0 1-149.333333 149.333334z m0-256a106.666667 106.666667 0 1 0 106.666667 106.666666 106.666667 106.666667 0 0 0-106.666667-106.666666z" fill="currentColor" ></path></symbol><symbol id="chuangjianzu" viewBox="0 0 1024 1024"><path d="M151.04 885.333333a21.333333 21.333333 0 0 1-21.333333-21.333333V163.626667a21.333333 21.333333 0 0 1 42.666666 0V864a21.333333 21.333333 0 0 1-21.333333 21.333333z" fill="currentColor" ></path><path d="M285.653333 184.96H154.24a21.333333 21.333333 0 0 1 0-42.666667h131.413333a21.333333 21.333333 0 0 1 0 42.666667zM285.653333 885.333333H154.24a21.333333 21.333333 0 0 1 0-42.666666h131.413333a21.333333 21.333333 0 0 1 0 42.666666zM876.373333 885.333333a21.333333 21.333333 0 0 1-21.333333-21.333333V163.626667a21.333333 21.333333 0 0 1 42.666667 0V864a21.333333 21.333333 0 0 1-21.333334 21.333333z" fill="currentColor" ></path><path d="M873.173333 184.96h-131.2a21.333333 21.333333 0 0 1 0-42.666667h131.2a21.333333 21.333333 0 0 1 0 42.666667zM873.173333 885.333333h-131.2a21.333333 21.333333 0 0 1 0-42.666666h131.2a21.333333 21.333333 0 1 1 0 42.666666zM613.76 648.32H307.413333a21.333333 21.333333 0 0 1-21.333333-21.333333V320a21.333333 21.333333 0 0 1 21.333333-21.333333h306.346667a21.333333 21.333333 0 0 1 21.333333 21.333333v306.986667a21.333333 21.333333 0 0 1-21.333333 21.333333z m-285.013333-42.666667h263.68V341.333333H328.746667z" fill="currentColor" ></path><path d="M628.053333 782.933333a152.746667 152.746667 0 1 1 152.533334-152.746666 152.96 152.96 0 0 1-152.533334 152.746666z m0-262.613333a110.08 110.08 0 1 0 109.866667 109.866667 110.08 110.08 0 0 0-109.866667-109.866667z" fill="currentColor" ></path></symbol><symbol id="zuguanli" viewBox="0 0 1024 1024"><path d="M812.373333 386.133333a21.333333 21.333333 0 0 1-21.333333-21.333333v-170.666667a21.333333 21.333333 0 0 1 42.666667 0v170.666667a21.333333 21.333333 0 0 1-21.333334 21.333333z" fill="currentColor" ></path><path d="M809.386667 215.466667h-128a21.333333 21.333333 0 0 1 0-42.666667h128a21.333333 21.333333 0 0 1 0 42.666667zM492.373333 667.093333h-298.666666a21.333333 21.333333 0 0 1-21.333334-21.333333v-298.666667a21.333333 21.333333 0 0 1 21.333334-21.333333h298.666666a21.333333 21.333333 0 0 1 21.333334 21.333333v298.666667a21.333333 21.333333 0 0 1-21.333334 21.333333z m-277.333333-42.666666h256v-256h-256z" fill="currentColor" ></path><path d="M506.24 798.506667a149.333333 149.333333 0 1 1 149.333333-149.333334 149.333333 149.333333 0 0 1-149.333333 149.333334z m0-256a106.666667 106.666667 0 1 0 106.666667 106.666666 106.666667 106.666667 0 0 0-106.666667-106.666666z" fill="currentColor" ></path><path d="M639.573333 612.48m4.266667 0l34.133333 0q4.266667 0 4.266667 4.266667l0 34.133333q0 4.266667-4.266667 4.266667l-34.133333 0q-4.266667 0-4.266667-4.266667l0-34.133333q0-4.266667 4.266667-4.266667Z" fill="#57B8FF" ></path><path d="M713.6 612.48m5.973333 0l183.68 0q5.973333 0 5.973334 5.973333l0 30.72q0 5.973333-5.973334 5.973334l-183.68 0q-5.973333 0-5.973333-5.973334l0-30.72q0-5.973333 5.973333-5.973333Z" fill="#57B8FF" ></path><path d="M639.573333 717.013333m4.266667 0l34.133333 0q4.266667 0 4.266667 4.266667l0 34.133333q0 4.266667-4.266667 4.266667l-34.133333 0q-4.266667 0-4.266667-4.266667l0-34.133333q0-4.266667 4.266667-4.266667Z" fill="#57B8FF" ></path><path d="M713.6 717.013333m5.973333 0l183.68 0q5.973333 0 5.973334 5.973334l0 30.72q0 5.973333-5.973334 5.973333l-183.68 0q-5.973333 0-5.973333-5.973333l0-30.72q0-5.973333 5.973333-5.973334Z" fill="#57B8FF" ></path><path d="M638.933333 821.333333m4.266667 0l34.133333 0q4.266667 0 4.266667 4.266667l0 34.133333q0 4.266667-4.266667 4.266667l-34.133333 0q-4.266667 0-4.266667-4.266667l0-34.133333q0-4.266667 4.266667-4.266667Z" fill="#57B8FF" ></path><path d="M712.96 821.333333m5.973333 0l183.68 0q5.973333 0 5.973334 5.973334l0 30.72q0 5.973333-5.973334 5.973333l-183.68 0q-5.973333 0-5.973333-5.973333l0-30.72q0-5.973333 5.973333-5.973334Z" fill="#57B8FF" ></path></symbol><symbol id="zu" viewBox="0 0 1024 1024"><path d="M558.34857177 187.55999756v46.34857177H465.65142823V187.55999756h92.69714354zM280.25714112 141.21142578v46.34857178h92.69714355v46.34857178H280.25714112v46.34857178h-46.34857179v92.69714355H187.55999756V280.25714112H141.21142578V141.21142578h139.04571534z m602.5314331 0v139.04571534h-46.34857178v92.69714355h-46.34857178V280.25714112h-46.34857178v-46.34857179H651.04571533V187.55999756h92.69714355V141.21142578h139.04571534z m-46.34857178 324.44000244v92.69714355h-46.34857178V465.65142823h46.34857178z m-602.5314331 0v92.69714355H187.55999756V465.65142823h46.34857177z m324.44000244 324.44000245v46.34857177H465.65142823v-46.34857177h92.69714354z m-278.09143066 92.69714355H141.21142578V743.74285888h46.34857178V651.04571533h46.34857178v92.69714355h46.34857178v46.34857179h92.69714355v46.34857177H280.25714112v46.34857178z m556.18286132-231.74285889v92.69714355h46.34857178v139.04571534H743.74285888v-46.34857178H651.04571533v-46.34857177h92.69714355v-46.34857179h46.34857179V651.04571533h46.34857177z m-278.09143066 46.34857178h139.04571533V558.34857177H558.34857177v139.04571534z m46.34857178-92.69714355h46.34857177v46.34857177h-46.34857177v-46.34857177zM326.60571289 326.60571289v370.78857422h139.04571533V465.65142823h231.74285889V326.60571289H326.60571289z m324.44000244 92.69714356H419.30285644v231.74285888h-46.34857177V372.95428467h278.09143066v46.34857178z" fill="currentColor" ></path></symbol><symbol id="tukuang" viewBox="0 0 1412 1024"><path d="M1224.24312469 882.78857422H201.37809243V141.21142578h1022.86503226z m-86.94352745-86.94352746V228.15495324H288.32161989v567.69009352z" fill="currentColor" ></path><path d="M763.56045049 228.15495324h86.94352817v567.69009352h-86.94352816z"  ></path><path d="M849.32374922 612.9095695h286.402209v86.94352744h-286.402209zM930.36613306 302.90278316h125.89108034v72.78078061h-125.89108034zM929.97272348 450.03798341h125.89108035V522.81876474h-125.89108034z"  ></path></symbol><symbol id="texingpipei" viewBox="0 0 1024 1024"><path d="M488.7538267 859.55683149H247.06134683V164.50062535h557.33199949v293.8058947h-41.5700725v-252.23582219H288.63141932v611.91606113h200.12240738v41.57007251z m0-103.96827388H371.80029208v-41.57007182h116.95353462v41.54134339z m-33.84211805-83.11141589H413.34163615v-41.59880092H371.77156365V589.27953987h41.5700725v-41.5413434h41.57007252v41.5413434h115.08618459v41.59880093H454.91170867v41.57007249z m266.34149268-187.10841822H330.20149115v-237.87159593h391.05171017v237.84286751zM371.77156365 289.0959285v154.70272252h307.88283743V289.0959285z" fill="currentColor" ></path><path d="M655.7810556 834.64926222a119.42418144 119.42418144 0 0 0 27.98151427-25.13739661l-19.19060691-11.80739485a38.92705447 38.92705447 0 0 1-47.31576326 13.30127405l-37.34699003-22.98276309c9.96877325 0.43092697 32.34823883-22.43692244 32.34823884-22.43692176l-22.35073649-13.73220101a82.88158854 82.88158854 0 0 1-39.44416671 18.12765402l-24.85011242-15.25480864a846.42642788 846.42642788 0 0 0 106.29527794-125.65825603l176.13414889 108.13389952a366.80489525 366.80489525 0 0 1-111.89732661 122.29702683z m-18.73095151-213.65350942l32.06095397-52.83162601a27.43567293 27.43567293 0 0 1 37.80664543-9.19310524l39.38670985 24.16062967 41.82862829-78.2563075a34.30177343 34.30177343 0 0 1 47.28703417-11.49138155 34.703972 34.703972 0 0 1 11.49138155 47.54559064l-50.10242272 73.14264263-38.3524854-23.55733148 77.73919527 47.71796116a27.7229578 27.7229578 0 0 1 9.10691998 38.03647277l-32.06095465 52.86035443z"  ></path></symbol><symbol id="biaozhushezhi" viewBox="0 0 1024 1024"><path d="M512 882.78857422A370.78857422 370.78857422 0 1 0 512 141.21142578a370.78857422 370.78857422 0 0 0 0 741.57714844z m0-69.52285766a301.26571656 301.26571656 0 1 1 0-602.53143312 301.26571656 301.26571656 0 0 1 0 602.53143312zM394.87715911 697.39428711H326.60571289l149.05700684-370.78857422h72.67456054L697.39428711 697.39428711h-68.27144623l-35.50300598-92.97523498H430.42651367L394.87715911 697.39428711z m116.33491517-305.34439087L449.4294281 554.59433747h125.04844666l-61.18011475-162.54444123h-2.17838288z" fill="currentColor" ></path></symbol><symbol id="dengfen" viewBox="0 0 1024 1024"><path d="M148.66015625 586.78645831h56.42578125v26.36718751H148.66015625zM259.31445312 586.78645831h58.62304688v26.36718751h-58.62304687zM371.90234375 586.78645831h58.62304688v26.36718751h-58.62304688zM485.45703125 586.78645831h58.27148438v26.36718751h-58.27148438zM597.69335938 586.78645831h58.27148437v26.36718751h-58.27148438zM711.59960938 586.78645831h56.60156249v26.36718751h-56.6015625zM822.86914063 586.78645831h57.91992187v26.36718751h-57.91992188z" fill="currentColor" ></path><path d="M178.27929687 595.22395831m-61.61132812 0a61.61132813 61.61132813 0 1 0 123.22265625 0 61.61132813 61.61132813 0 1 0-123.22265625 0Z"  ></path><path d="M178.27929687 657.18684895c-34.18945313 0-62.05078125-27.86132813-62.05078124-62.05078125s27.86132813-62.05078125 62.05078126-62.05078125 62.05078125 27.86132813 62.05078124 62.05078125c0 34.27734375-27.86132813 62.05078125-62.05078124 62.05078125z m2e-8-123.13476563c-33.75 0-61.171875 27.421875-61.17187501 61.17187499s27.421875 61.171875 61.17187501 61.17187501 61.171875-27.421875 61.17187499-61.17187501-27.421875-61.171875-61.17187499-61.17187499z" fill="currentColor" ></path><path d="M504.17773437 596.10286457m-61.61132812 0a61.61132813 61.61132813 0 1 0 123.22265625 0 61.61132813 61.61132813 0 1 0-123.22265625 0Z"  ></path><path d="M504.17773437 658.15364582c-34.18945313 0-62.05078125-27.86132813-62.05078124-62.05078125s27.86132813-62.05078125 62.05078125-62.05078125 62.05078125 27.86132813 62.05078125 62.05078125c-0.08789063 34.18945313-27.86132813 62.05078125-62.05078125 62.05078125z m1e-8-123.13476563c-33.75 0-61.171875 27.421875-61.171875 61.17187501s27.421875 61.171875 61.171875 61.171875 61.171875-27.421875 61.171875-61.171875-27.50976563-61.171875-61.171875-61.171875z" fill="currentColor" ></path><path d="M845.72070313 596.10286457m-61.61132813 0a61.61132813 61.61132813 0 1 0 123.22265625 0 61.61132813 61.61132813 0 1 0-123.22265625 0Z"  ></path><path d="M845.72070313 658.15364582c-34.18945313 0-62.05078125-27.86132813-62.05078126-62.05078125s27.86132813-62.05078125 62.05078124-62.05078125c34.18945313 0 62.05078125 27.86132813 62.05078126 62.05078125s-27.86132813 62.05078125-62.05078126 62.05078125z m-2e-8-123.13476563c-33.75 0-61.171875 27.421875-61.17187499 61.17187501s27.421875 61.171875 61.17187499 61.171875 61.171875-27.421875 61.17187501-61.171875-27.421875-61.171875-61.17187501-61.171875z" fill="currentColor" ></path><path d="M397.95422755 403.31737219c20.02057451-1.43004102 29.49459634-9.11651162 32.35467839-19.66306423 2.68132695-11.26157317 3.75385773-31.99716814 3.75385772-70.25076581v-81.86984918c0-33.60596429-1.78755127-31.63965789-7.86522569-40.04114895-5.72016414-7.50771546-12.87036929-11.6190834-30.92463733-13.94290009v-5.36265385h41.82870025L594.22735946 371.49895917h1.07253079v-107.61058777c0-73.64711326-0.35751025-83.47864537-40.04114898-86.51748257v-5.36265387h84.372421v5.36265387c-19.66306421 1.96630642-28.24331042 9.11651162-31.28214764 20.02057445-3.03883721 11.6190834-3.3963475 30.92463738-3.39634742 66.49690812v147.29422643h-3.75385767L444.25180599 213.12191466h-0.71502052v100.46038265c0.35751025 38.07484257 0.71502053 58.81043754 3.03883722 69.53574529 3.03883721 11.6190834 13.22787956 18.41177828 36.10853613 20.37808471v5.36265388h-84.72993129v-5.541409z" fill="currentColor" ></path><path d="M631.40842631 437.99586726h-43.6162515l-117.62087503-148.72426752V313.22478705c0.17875517 25.91949377 0.53626541 50.40894644 1.9663064 60.95549906 1.78755127 0.71502051 5.72016414 1.60879618 12.51285904 2.3238167l24.66820785 1.96630638v56.84413112h-138.35647006v-57.02288623l24.84696298-1.78755127c4.64763334-0.35751025 7.32896031-1.07253078 8.75900131-1.60879619 2.14506155-12.51285904 2.50257182-39.14737332 2.50257186-61.49176444v-81.86984921c0-12.6916142-0.35751025-18.7692886-0.53626543-21.45061551-0.53626541-0.71502051-1.25128594-1.43004102-1.78755128-2.32381666-0.35751025-0.53626541-0.71502051-0.71502051-0.71502052-0.71502053s-2.14506155-1.60879618-12.33410394-2.86008206l-23.4169219-2.86008205v-55.77160035h81.69109402l118.33589559 150.15430857v-31.46090275c0-24.48945273 0-49.87268108-2.50257181-57.91666187-1.78755127-0.53626541-5.54140903-1.25128594-12.87036929-1.78755129l-24.84696297-1.96630645v-57.02288621h137.99895978v56.48662085l-24.31069759 2.32381666c-4.46887826 0.35751025-6.97145004 1.07253078-8.22273594 1.60879619-1.96630642 9.83153213-2.14506155 31.28214765-2.14506157 58.09541699v173.92874076z m2.50257184-233.2754437z" fill="currentColor" ></path></symbol><symbol id="bar" viewBox="0 0 1024 1024"><path d="M470.39433594 195.60693359c10.82373047 4.25126953 14.67685547 12.19306641 14.66191405 23.73486328-0.20830078 160.95058594-0.140625 321.90117187-0.1415039 482.85263672 0 17.23974609-6.50214844 23.72431641-23.81484375 23.73310547-16.78271484 0.00791015-33.56542969 0.06240234-50.34726563-0.02109375-13.24863281-0.06591797-20.67714844-7.41357422-20.67978515-20.67451172-0.03691406-162.97294922 0.01669922-325.94589844-0.11689453-488.91796875-0.00878906-10.36845703 5.3296875-16.33183594 13.71181641-20.70527343 22.24160156-0.00175781 44.48408203-0.00175781 66.7265625-0.00175782zM118.55761719 775.53037109c3.55341797-7.98222656 9.68027344-10.89140625 18.38320312-10.88349609 159.53115234 0.13886719 319.06318359 0.11689453 478.59521485 0.02021485 4.31982422-0.00263671 7.42148437 1.38251953 10.88261718 3.91904296 11.85029297 8.68183594 24.10839844 16.80908203 35.82861329 24.88447266-0.22763671 0.02548828-1.63388672 0.32519531-3.04101564 0.32519531-174.69667969 0.02021484-349.39248047-0.01230469-524.08828124 0.12128907-7.92773438 0.00615234-12.71601563-3.79511719-16.56035156-9.89472656v-8.4919922zM322.85322266 588.54746094c0.00087891 38.21220703 0.01494141 76.42529297-0.00615235 114.6375-0.00878906 16.00224609-6.80537109 22.72324219-22.92714843 22.7399414-16.98310547 0.01757813-33.96708985 0.06152343-50.95019532-0.01582031-13.49824219-0.06152343-21.05947266-7.58847655-21.065625-21.05859375-0.03603516-77.63818359-0.03339844-155.27636719-0.00263672-232.91367187 0.00527344-13.70039062 7.70361328-21.29501953 21.51914063-21.33808594 17.18525391-0.05361328 34.37138672-0.03779297 51.55664062-0.00439453 14.60214844 0.028125 21.84873047 7.31777344 21.86279297 22.10449219 0.03691406 38.61474609 0.01230469 77.23125001 0.0131836 115.84863281zM590.553125 725.87216797c-7.41621094 0-13.88320311 0.18896484-20.33437501-0.04394531-9.92900391-0.35947266-17.35488281-7.65087891-18.26015624-17.65019532-0.16347657-1.80615234-0.07646484-3.63691406-0.07646484-5.45625-0.00263671-113.42636719-0.00351562-226.85185547-0.00087892-340.27822265 0-16.61660156 6.90644531-23.46767578 23.65400392-23.47558594 16.57880859-0.00703125 33.15849609-0.04130859 49.73730468 0.01142578 13.95 0.04394531 21.57275391 7.33623047 21.60439454 21.20625 0.11074219 48.52441406 0 97.04882813 0.13798828 145.57324219 0.01054687 3.81445312-1.59697266 5.67158203-4.50439453 7.67636719-48.14384766 33.18925781-72.68378906 79.01367188-72.42890625 137.56816406 0.10546875 24.18837891 6.35976563 47.12167969 17.42871093 68.68300781 0.90263671 1.75605469 1.74550781 3.54287109 3.04277344 6.18574219z" fill="currentColor" ></path><path d="M821.403125 726.75283203c23.71904297 24.13828125 47.08564453 47.92587891 70.46542969 71.70029297 3.25986327 3.31435547 6.64277344 6.50917969 9.86923828 9.85605469 5.31914063 5.51865234 5.59775391 12.45849609 0.79189453 17.2265625-4.78212891 4.74521484-11.85820311 4.59140625-17.28369141-0.76025391-19.715625-19.44755859-39.39521484-38.93466797-58.95263671-58.54130859-7.67724609-7.69658203-14.99677734-15.74912109-22.28554688-23.43691407-60.55048828 42.90908203-136.76484375 23.16269531-171.95712891-28.49941406-33.53818359-49.23457031-25.51728516-116.54912109 18.96152344-155.82041015 46.25244141-40.8375 114.44677734-40.84628906 160.59902344-0.13798829 45.39550781 40.04033203 56.66220703 114.82294922 9.79189453 168.41337891z m-186.71220703-80.45683594c-0.92900391 51.69375001 41.94667969 95.68652345 94.19765625 96.65244141 53.99472656 0.99755859 98.16064453-40.90253906 99.19335937-94.10361328 1.01337891-52.19648438-41.73574219-96.67001953-93.91992187-97.70712891-54.44208985-1.0828125-98.49902345 41.06425781-99.47109375 95.15830078z"  ></path></symbol><symbol id="xiugaibiaozhu" viewBox="0 0 1024 1024"><path d="M809.421875 612.85449219v196.56738281h-594.84375V214.578125h331.04003906V136.26757812H136.26757812v751.46484375h751.46484375v-274.87792968h-78.31054687zM741.39453125 245.42773437l95.31738281 95.31738282-34.40917968 34.40917968-95.31738282-95.31738281 34.40917969-34.40917968z" fill="currentColor" ></path><path d="M407.98144531 673.76269531l116.27929688-21.35742187 243.23730468-243.23730469-94.92187499-94.921875-243.23730469 243.23730469-21.35742188 116.27929687z"  ></path></symbol><symbol id="fenleiguanli" viewBox="0 0 1024 1024"><path d="M859.45979309 740.03497315L841.84733581 710.37188721c-1.08146667-1.85394287-3.39889526-2.62641907-5.40733337-1.85394288l-21.93832397 8.57448579c-4.55760956-3.47614289-9.57870484-6.25705719-14.90879059-8.34274293l-3.32164765-22.71080016c-0.30899047-2.08568573-2.16293335-3.63063813-4.32586669-3.63063813h-35.22491456c-2.16293335-0.07724763-4.01687622 1.46770478-4.32586669 3.63063813l-3.32164766 22.71080016c-5.33008576 2.16293335-10.27393342 4.94384766-14.90879057 8.34274293l-21.93832398-8.57448579c-2.00843811-0.7724762-4.3258667 0-5.40733338 1.85394288l-17.61245727 29.66308594c-1.08146667 1.85394287-0.61798096 4.17137146 1.08146667 5.48458099l18.61667633 14.13631439c-0.3862381 2.7809143-0.61798096 5.56182862-0.61798096 8.41999054s0.23174287 5.63907623 0.61798096 8.41999054l-18.61667633 14.1363144c-1.69944763 1.31320954-2.08568573 3.63063813-1.08146667 5.48458099l17.61245727 29.66308593c1.08146667 1.85394287 3.47614289 2.54917146 5.40733338 1.85394287l21.93832398-8.57448578c4.55760956 3.39889526 9.50145722 6.25705719 14.90879058 8.34274293l3.32164765 22.71080016c0.30899047 2.08568573 2.16293335 3.63063813 4.32586669 3.63063813h35.22491456c2.24018097 0 4.09412384-1.54495239 4.32586669-3.63063813l3.32164766-22.71080016c5.33008576-2.16293335 10.27393342-4.94384766 14.90879058-8.34274293l21.93832397 8.57448578c2.00843811 0.7724762 4.3258667 0 5.40733337-1.85394287l17.61245728-29.66308593c1.08146667-1.85394287 0.61798096-4.17137146-1.08146668-5.484581l-18.61667633-14.13631439c0.3862381-2.7809143 0.61798096-5.484581 0.61798097-8.41999055 0-2.7809143-0.23174287-5.63907623-0.61798096-8.41999053l18.61667632-14.1363144c1.69944763-1.31320954 2.16293335-3.70788575 1.08146668-5.48458098z m-85.12687683 57.93571472c-16.99447632 0-30.82180025-13.44108581-30.82180024-29.97207642s13.82732391-29.97207641 30.82180024-29.97207642 30.82180025 13.44108581 30.82180023 29.97207642c0.07724763 16.5309906-13.82732391 29.97207641-30.82180023 29.97207642z" fill="currentColor" ></path><path d="M672.36605835 547.61115266c1.08146667 6.87503815 6.87503815 12.2051239 14.05906677 12.35961914 8.03375244 0.15449524 14.75429535-6.17980958 14.90879059-14.21356202L701.25666809 502.73028565c0.15449524-7.87925721-5.87081909-14.44530487-13.67282867-14.9087906h-2.00843811c-7.41577148 0.54073334-13.28659057 6.64329529-13.44108582 14.21356202l0.07724762 43.02692412c-0.07724763 0.84972382 0 1.69944763 0.15449524 2.54917146zM578.81919099 803.37802124c-11.50989533 0-20.77960969 9.26971435-20.77960969 20.77960968 0 11.50989533 9.26971435 20.77960969 20.77960968 20.77960968h107.837677c-9.26971435-12.05062867-15.91300964-26.18694306-19.3119049-41.55921936H578.81919099zM788.62372589 649.88700103c1.23596192 7.95650482 8.6517334 13.44108581 16.60823822 12.20512391l42.56343842-6.48880005c7.95650482-1.23596192 13.44108581-8.6517334 12.2051239-16.60823822-1.23596192-7.95650482-8.6517334-13.44108581-16.60823822-12.2051239l-42.56343842 6.48880005c-7.95650482 1.23596192-13.44108581 8.6517334-12.20512391 16.60823821zM683.9532013 591.41055298c-49.43847655 0-89.45274353 40.09151459-89.45274354 89.45274353v109.92336274h70.99056245c-0.30899047-3.39889526-0.46348572-6.79779052-0.46348572-10.27393342 0-58.55369568 47.50728607-106.06098175 106.06098174-106.06098174 1.1587143 0 2.31742859 0 3.47614288 0.07724761-3.24440003-46.4258194-41.94545746-83.11843872-89.22100067-83.11843873h-1.39045714zM753.86229706 586.31221008c6.02531433 5.33008576 15.29502869 4.7121048 20.54786681-1.31320954l28.42712403-32.289505c5.33008576-6.02531433 4.7121048-15.29502869-1.31320953-20.54786683-6.02531433-5.33008576-15.21778107-4.7121048-20.54786683 1.31320955l-28.42712402 32.289505c-2.93540955 3.39889526-4.09412384 7.72476196-3.47614289 11.81888581 0.54073334 3.24440003 2.16293335 6.41155243 4.78935243 8.72898101zM580.0551529 645.020401c1.62220001-7.87925721-3.5533905-15.60401917-11.43264772-17.14897155l-42.17720031-8.49723816c-7.87925721-1.54495239-15.60401917 3.5533905-17.14897156 11.4326477-0.30899047 1.69944763-0.3862381 3.39889526-0.15449524 5.09834289 0.92697143 5.87081909 5.40733338 10.81466675 11.50989533 12.1278763l42.17720032 8.49723814c7.95650482 1.46770478 15.68126679-3.63063813 17.22621918-11.50989532zM570.39920044 547.22491455l26.88217163 33.60271454c5.02109529 6.25705719 14.21356201 7.33852387 20.4706192 2.24018097 6.25705719-5.02109529 7.33852387-14.21356201 2.24018098-20.4706192L593.18724823 528.99447632c-5.02109529-6.25705719-14.21356201-7.33852387-20.4706192-2.31742859-4.24861909 3.39889526-6.10256196 8.57448578-5.33008576 13.59558105 0.3862381 2.54917146 1.39045716 4.94384766 3.01265717 6.95228577z"  ></path><path d="M225.33408356 890.74507904h142.44461059c52.45113373 0 94.93732453-42.48619081 94.93732452-94.93732453V558.50306701H225.33408356c-50.98342896 0-92.54264831 40.16876221-94.86007691 90.53421021v151.17359162c2.39467621 50.44269562 43.95389558 90.53421021 94.86007692 90.53421019z m1e-8-237.30468751h142.44461058v142.44461061H225.33408356V653.44039154zM225.33408356 463.56574249h237.38193512V226.18380737c0-52.45113373-42.48619081-94.93732453-94.93732453-94.93732453H225.33408356c-50.98342896 0-92.54264831 40.16876221-94.86007691 90.53421022V372.95428467c2.39467621 50.44269562 43.95389558 90.61145783 94.86007692 90.61145783z m1e-8-237.38193512h142.44461058v142.4446106H225.33408356V226.18380737zM889.97260285 368.62841797V226.18380737c0-52.45113373-42.48619081-94.93732453-94.93732454-94.93732453H652.59066773c-52.45113373 0-94.93732453 42.48619081-94.93732453 94.93732453v237.38193513h237.38193513c52.37388611 0 94.93732453-42.48619081 94.93732452-94.93732453zM652.59066773 226.18380737h142.44461058v142.4446106H652.59066773V226.18380737z" fill="currentColor" ></path></symbol><symbol id="qingchu" viewBox="0 0 1024 1024"><path d="M777.53222346 512.03707523h22.35631544c5.56127243 0 11.19669533 0 16.72089253-1.85375748 24.24714814-6.5252264 33.59008599-31.5138771 27.02778436-75.96698203-2.78063621-20.39133225-17.68484651-33.36763459-40.04116193-33.36763531h-217.11207766v-17.61069602c0-47.27081638-2.74356098-94.4674823 0-141.77537319 1.89083271-45.37998367-17.68484651-87.12660214-55.9093262-98.17499725-11.23377057-2.74356098-27.9546631-2.74356098-37.29760095 0-20.53963319 7.4150299-47.53034232 26.87948342-53.09161475 55.61272503-1.85375748 9.26878738-2.74356098 17.61069603-2.74356097 25.95260469v175.99573674H222.07232744c-29.77134533 0-43.74867689 13.90318108-43.74867689 44.45310494v5.56127243c0 52.79501358 5.59834766 58.356286 58.68996241 61.17399745 1.89083271 0 4.67146892 0.96395397 7.41502992 0.96395399a17466.47387264 17466.47387264 0 0 1-63.32435611 315.02754823c-5.63542291 25.95260467 0 45.41705891 22.35631543 54.68584629h614.96551146c21.4294367-9.26878738 27.99173833-27.80636215 23.32026941-52.79501357-22.28216495-105.70125214-42.82179815-210.40147579-64.2141596-317.88233494zM510.03501681 180.36278422c23.3202694 0 38.2244797 16.68381728 38.22447969 44.49017944 0 53.68481708 0.96395397 106.55398113 0.96395398 160.27587344v15.79401379H473.70136984v-176.10696174c0-26.84240818 13.97733155-43.60037593 36.33364697-44.45310494zM213.7304188 474.99900021v-37.07514953H810.08420502v37.07514953H213.69334356zM359.99188545 845.56512373c6.5252264-46.34393765 13.01337757-96.39538952 19.57567922-144.51893415l2.78063621-23.1719692c0.92687873-11.1596201-2.78063621-20.42840748-13.97733154-22.24508972-13.05045281-1.85375748-20.53963319 4.6343937-22.35631543 16.6838173-4.67146892 30.51284862-8.37898388 60.21004348-13.05045281 90.75996734-2.78063621 26.87948342-6.56230164 54.68584629-10.2698166 82.49220843H214.65729753c24.24714814-111.22545006 48.42014581-222.37674893 73.63124794-333.60219897h444.53104714c24.24714814 111.22545006 48.42014581 222.37674893 73.59417269 333.60219897H360.02896069z" fill="currentColor" ></path></symbol><symbol id="duiqibiaozhu" viewBox="0 0 1084 1024"><path d="M160.39520617 643.34467071l33.01945871-33.02132655 264.16314102 264.16314179-33.02132655 33.02132655zM654.38326896 149.5116462l33.01945871-33.0194587 264.1631418 264.16314179-33.01945871 33.0194587z" fill="currentColor" ></path><path d="M365.91644632 675.77012689L718.44030909 323.24439627l26.41631441 26.41631365-352.52573061 352.52573137z"  ></path><path d="M773.22679594 390.95698147l-96.19857035-96.19856958h96.19857034zM433.63650368 730.54727372l-96.19856959-96.19857034V730.54727372z"  ></path></symbol><symbol id="xianxingbiaozhu" viewBox="0 0 1024 1024"><path d="M143.06536865 141.21142578h46.34857178v741.57714844H143.06536865zM836.44000244 141.21142578h46.34857178v741.57714844h-46.34857178z" fill="currentColor" ></path><path d="M264.49862671 493.46057128h494.8173523v37.07885744H264.49862671z"  ></path><path d="M750.41705322 579.48352051v-134.96704102L817.90057373 512zM273.58294678 579.48352051v-134.96704102L206.09942627 512z"  ></path></symbol><symbol id="mianjihuxian" viewBox="0 0 1024 1024"><path d="M543.47879803 906.46664561c-14.68310723 0-30.47836679-1.01181363-47.30483386-2.99581267-214.15970627-25.35858819-318.25344287-123.16305762-318.25344287-299.04668371 0-189.6940437 228.34786761-480.42698923 425.72073669-480.42698922 106.79275113 0 186.75725318 38.97085886 219.41860886 106.9116383 25.91424289 54.01147385 32.22458899 149.09669358-85.0446524 295.43535132-32.18495993 40.18082026-31.35105642 101.91074854-30.55762492 161.61704873 0.87268963 67.74263332 1.82548115 137.76690674-47.2652048 181.9561962-27.14443945 24.46566257-65.59927349 36.54925103-116.7135867 36.54925105z m60.16245996-701.19468431c-148.6801637 0-344.44593458 251.06730799-344.44593457 399.15218793 0 132.58726227 73.71486474 197.86950082 246.50318326 218.3275363 49.605867 5.85334425 84.01344489 1.26982644 100.12489646-13.21513386 21.70762592-19.56510983 21.03308322-68.59592908 20.35854053-120.5036738-0.95279151-70.5799281-1.98399819-150.58490378 48.41614325-213.48516357 70.83794092-88.45783786 97.54561367-162.84724612 75.16344506-209.43790658-18.25481058-38.09816922-72.90119806-60.83784558-146.12027399-60.83784642z" fill="currentColor" ></path></symbol><symbol id="celiang" viewBox="0 0 1024 1024"><path d="M849.0880127 141.70581055H173.84082031c-8.32214356 0-15.07873536 6.7565918-15.07873535 15.07873535v217.36450195c0 8.32214356 6.7565918 15.07873536 15.07873535 15.07873535h675.24719239c8.32214356 0 15.07873536-6.7565918 15.07873535-15.07873534V156.78454589c0-8.32214356-6.7565918-15.07873536-15.07873535-15.07873534z m-15.07873536 217.36450195h-59.65576171v-48.69689942c0-8.32214356-6.7565918-15.07873536-15.07873536-15.07873535-8.32214356 0-15.07873536 6.7565918-15.07873535 15.07873535v48.69689942H652.57006836v-77.70080567c0-8.32214356-6.7565918-15.07873536-15.07873536-15.07873535-8.32214356 0-15.07873536 6.7565918-15.07873534 15.07873536v77.70080566H530.86901856v-48.69689942c0-8.32214356-6.7565918-15.07873536-15.07873536-15.07873535-8.32214356 0-15.07873536 6.7565918-15.07873535 15.07873535v48.69689942H409.16796875v-71.85058594c0-8.32214356-6.7565918-15.07873536-15.07873536-15.07873535s-15.07873536 6.7565918-15.07873534 15.07873535v71.85058594H287.46691894v-48.69689942c0-8.32214356-6.7565918-15.07873536-15.07873535-15.07873535s-15.07873536 6.7565918-15.07873534 15.07873535v48.69689942h-68.38989259V171.78088378h645.08972168v187.28942872zM847.6048584 692.28564453c-8.32214356 0-15.07873536 6.7565918-15.07873535 15.07873536v78.35998534H202.43273925v-78.35998535c0-8.32214356-6.7565918-15.07873536-15.07873534-15.07873535s-15.07873536 6.7565918-15.07873535 15.07873536v156.80236816c0 8.32214356 6.7565918 15.07873536 15.07873535 15.07873535s15.07873536-6.7565918 15.07873535-15.07873535v-48.20251466H832.52612305v48.20251466c0 8.32214356 6.7565918 15.07873536 15.07873535 15.07873535 8.32214356 0 15.07873536-6.7565918 15.07873535-15.07873535V707.36437989c0-8.32214356-6.7565918-15.07873536-15.07873536-15.07873536z" fill="currentColor" ></path></symbol><symbol id="lianxubiaozhu" viewBox="0 0 1024 1024"><path d="M235.14453125 136.26757812a98.90332006 98.90332006 0 0 1 97.29492188 81.23730469h372.54199244a85.69335911 85.69335911 0 1 1 1.01513646 39.55078125h-374.41406225a99.00878932 99.00878932 0 0 1-76.64941406 74.98828125v149.29101537a85.7329099 85.7329099 0 0 1 54.61962891 125.94287135l147.23437474 129.22558619a85.69335911 85.69335911 0 0 1 140.66894506 58.957031h121.61865235a72.50976588 72.50976588 0 1 1 0 39.55078125h-127.94677735a85.71972682 85.71972682 0 1 1-157.96582031-66.61669947l-150.64892578-132.23144481A85.69335911 85.69335911 0 1 1 215.36914062 481.33496068V332.04394531A98.87695313 98.87695313 0 0 1 235.14453125 136.26757812z m553.7109375 645.99609401a32.95898463 32.95898463 0 1 0 0 65.9179685 32.95898463 32.95898463 0 0 0 0-65.9179685z m-276.85546875-26.36718801a46.14257787 46.14257787 0 1 0 0 92.28515651 46.14257787 46.14257787 0 0 0 0-92.28515651z m-276.85546875-237.3046875a46.14257787 46.14257787 0 1 0 0 92.28515651 46.14257787 46.14257787 0 0 0 0-92.28515651z m0-342.77343724a59.32617188 59.32617188 0 1 0 0 118.65234375 59.32617188 59.32617188 0 0 0 0-118.65234375z m553.7109375 13.183594a46.14257787 46.14257787 0 1 0 0 92.28515574 46.14257787 46.14257787 0 0 0 0-92.28515574z" fill="currentColor" ></path></symbol><symbol id="fenduanchangdu" viewBox="0 0 1024 1024"><path d="M268.94374973 716.7696875c-0.28124973 0-0.590625 0-0.8859375-0.02250027a17.41218777 17.41218777 0 0 1-16.51781196-18.26156223c0.42468723-8.46843777 11.79281277-208.70437473 132.78374973-321.67406223 120.268125-112.29187527 342.67781277-131.85562473 352.0884375-132.63187554a17.40375027 17.40375027 0 0 1 18.78468723 15.913125 17.415 17.415 0 0 1-15.91031196 18.79312554c-2.1853125 0.18281277-219.8390625 19.40625-331.19437527 123.3815625-110.7928125 103.44656223-121.67437527 296.03249973-121.78124973 297.96468723a17.41218777 17.41218777 0 0 1-17.36718804 16.5375z" fill="currentColor" ></path><path d="M765.14468723 261.5328125m-101.79281223 0a101.79281223 101.79281223 0 1 0 203.58562527 0 101.79281223 101.79281223 0 1 0-203.58562527 0Z"  ></path><path d="M765.14468723 142.3278125a119.205 119.205 0 1 1-119.205 119.205 119.34 119.34 0 0 1 119.205-119.205z m0 203.5884375a84.375 84.375 0 1 0-84.375-84.375 84.47625 84.47625 0 0 0 84.375 84.375z" fill="currentColor" ></path><path d="M395.47249973 390.11468723m-101.79281223 0a101.79281223 101.79281223 0 1 0 203.58562527 0 101.79281223 101.79281223 0 1 0-203.58562527 0Z"  ></path><path d="M395.47249973 270.90968723a119.205 119.205 0 1 1-119.205 119.205 119.34 119.34 0 0 1 119.205-119.205z m0 203.5884375a84.375 84.375 0 1 0-84.375-84.375 84.47625 84.47625 0 0 0 84.375 84.375z" fill="currentColor" ></path><path d="M258.85531277 762.46437527m-101.79281304 0a101.79281223 101.79281223 0 1 0 203.58562527 0 101.79281223 101.79281223 0 1 0-203.58562527 0Z"  ></path><path d="M258.85531277 643.25937527a119.205 119.205 0 1 1-119.205 119.205 119.34 119.34 0 0 1 119.205-119.205z m0 203.5884375a84.375 84.375 0 1 0-84.375-84.375 84.47625 84.47625 0 0 0 84.375 84.375z" fill="currentColor" ></path></symbol><symbol id="cetianchong" viewBox="0 0 1024 1024"><path d="M752.8 470.62c0 180.94 262.04 301.61-171.47 320.96-180.76 8.07-387.69-60.87-387.69-241.81s275.62-409.06 367.77-285.71c52.67 70.49 191.39 25.62 191.39 206.56z"  ></path><path d="M562.86 867.77c-117.92 0-227.14-25.43-307.54-71.6-95.65-54.94-146.21-136.88-146.21-236.96 0-44.32 12.62-91.98 37.51-141.65 22.55-45 54.7-90.04 92.98-130.24 78.62-82.56 171.93-133.84 243.53-133.84 40.22 0 73.5 16.1 96.26 46.57 21.3 28.51 55.35 41.08 91.4 54.39 69.2 25.56 147.63 54.52 147.63 206.55 0 68.25 30.86 129.41 58.08 183.36 28.49 56.46 53.09 105.23 30.43 143.95-27.34 46.71-119.65 70.25-308.66 78.68-11.72 0.52-23.63 0.79-35.41 0.79z m-79.73-698.83c-67.51 0-156.53 49.45-232.33 129.04-79.04 82.99-126.22 180.65-126.22 261.22 0 94.23 47.87 171.53 138.45 223.55 78.09 44.85 184.57 69.55 299.83 69.55 11.55 0 23.23-0.26 34.72-0.77 95.72-4.27 166-12.58 214.84-25.4 43.3-11.37 69.85-26.29 81.17-45.64 18.41-31.46-3.34-74.58-30.89-129.17-28-55.5-59.74-118.4-59.74-190.33 0-141.25-69.91-167.07-137.52-192.04-36.57-13.51-74.39-27.47-98.43-59.65-20.01-26.78-48.23-40.36-83.88-40.36z" fill="currentColor" ></path></symbol><symbol id="ceyuan" viewBox="0 0 1024 1024"><path d="M715.12151194 309.27399586L532.76416016 497.8747212h36.16071461a14.1252788 14.1252788 0 1 1 0 28.2505576H498.43973192a14.1252788 14.1252788 0 0 1-14.12527879-14.1252788V441.65611061a14.1252788 14.1252788 0 0 1 28.25055836-1e-8v36.44321998l185.01290403-191.31277957h-38.75976563a14.1252788 14.1252788 0 0 1 0-28.2505576h66.84082032A323.63839308 323.63839308 0 0 0 512.56501149 178.92592065c-179.39104319 0-324.88141775 145.46212355-324.88141774 324.88141774s145.49037378 324.88141775 324.88141775 324.88141698c179.44754442 0 324.88141775-145.46212355 324.88141696-324.88141698 0-89.18701172-35.90645948-169.95535692-94.07435815-228.66001685V343.06166284a14.1252788 14.1252788 0 1 1-28.25055836 0V309.27399586z m-202.52825022 575.88762523c-210.60791016 0-381.3825337-170.74637255-381.3825337-381.3825337s170.77462355-381.3825337 381.3825337-381.38253293c210.63616039 0 381.3825337 170.74637255 381.3825337 381.38253293s-170.74637255 381.3825337-381.3825337 381.3825337z" fill="currentColor" ></path></symbol><symbol id="cehuchang" viewBox="0 0 1024 1024"><path d="M788.78454505 823.90525788C780.9847025 497.63016341 517.4653823 234.63266366 190.94311017 227.7666058l35.70350411 44.08009451a13.73211647 13.73211647 0 0 1-21.33970947 17.30246716L149.14254704 219.80197741a13.73211647 13.73211647 0 0 1 2.03235373-19.30735574L220.54955453 144.27533578a13.73211647 13.73211647 0 1 1 17.30246644 21.3671739L194.87049623 200.41222913c337.48050117 8.84348347 609.7609123 279.53096879 621.13110409 616.37979177l36.25278827-36.22532385a13.73211647 13.73211647 0 0 1 19.38974903 19.44467715l-63.11280891 63.11280891a13.73211647 13.73211647 0 0 1-19.41721272 0l-63.11280892-63.11280891a13.73211647 13.73211647 0 1 1 19.41721345-19.44467715l43.33856011 43.33856083z m-226.41514052 14.83068551a27.46423365 27.46423365 0 1 1-54.92846731 0c0-182.00547508-147.56532657-329.57080165-329.57080165-329.57080164a27.46423365 27.46423365 0 0 1 1e-8-54.92846658c212.35345313 0 384.49926894 172.14581582 384.49926895 384.49926823z" fill="currentColor" ></path></symbol><symbol id="cemianji" viewBox="0 0 1024 1024"><path d="M765.69744518 219.27217847V141.21142578h39.03037634v78.0607527h78.0607527v39.03037634h-78.0607527v273.21263299h-39.03037634V258.30255482H492.48481219V219.27217847h273.21263299z m-234.18225736 429.37316895l273.52487679-0.19515211 0.62448617 234.33837891H141.21142578V219.50636042l234.14322679 0.11709098L376.09622973 648.60631685H375.39368315v117.09112833h39.03037634v-116.97403736l78.06075269-0.03903055V726.66706956h39.03037563v-78.02172214zM297.33293044 258.30255482v39.03037563h78.06075271V258.30255482H297.33293044z m0 234.18225736v39.03037563h78.06075271V492.48481219H297.33293044z m0-117.09112903v39.03037635h78.06075271V375.39368315H297.33293044z m-39.03037562 234.18225736v39.03037634h117.09112833v-39.03037634H258.30255482z m507.39489036 39.03037634h-39.03037563v79.30972433h39.03037563V648.60631685z m-117.09112833 0h-39.03037635v79.30972433h39.03037635V648.60631685z" fill="currentColor" ></path></symbol><symbol id="celiangjiaodu" viewBox="0 0 1024 1024"><path d="M879.65 684.321875H459.115625a352.12124999 352.12124999 0 0 0-17.26875-66.89062499c-13.809375-37.725-33.834375-72.628125-59.50312499-103.73437501-10.95-13.275-22.8375-25.66875001-35.49375001-37.134375l182.79375001-316.40625001c3.215625-5.56875001-0.80625001-12.534375-7.23750002-12.53437499h-62.775c-5.9625 0-11.475 3.178125-14.45624999 8.34375L285.65 431.95624999c-29.521875-17.04375001-61.471875-29.840625-94.809375-37.78124999-5.259375-1.25625001-10.3125 2.71875001-10.3125 8.11875001v60.44062499a8.334375 8.334375 0 0 0 6.02812499 8.00625 276.354375 276.354375 0 0 1 61.51875001 26.26875L140.01874999 684.115625A22.490625 22.490625 0 0 0 137 695.375v172.65c0 4.6125 3.290625 8.34375001 7.35 8.34375001h735.309375c4.059375 0 7.35-3.740625 7.35-8.34375001V692.665625c-0.009375-4.6125-3.3-8.34375001-7.359375-8.34375zM308.084375 543.6875c37.396875 38.25 63.76875001 86.9625 74.625 140.625H226.8875l81.196875-140.625z m518.94375 265.865625H196.53124999v-58.40625h630.49687501v58.40625z" fill="currentColor" ></path></symbol><symbol id="dianxianjuli" viewBox="0 0 1080 1024"><path d="M594.58270113 615.16634664L198.2077549 218.79056902l22.45166312-22.45166241 396.3757769 396.37660754z" fill="currentColor" ></path><path d="M923.30774491 325.46296785L365.98213854 882.78774357l-42.85803622-42.8588676 557.32394506-557.32477572z"  ></path><path d="M217.25511543 217.25494162m-53.5965723 53.59657302a75.7970001 75.7970001 0 1 0 107.19314531-107.19314603 75.7970001 75.7970001 0 1 0-107.19314531 107.19314603Z"  ></path></symbol><symbol id="Szuobiaobiaozhu" viewBox="0 0 1024 1024"><path d="M243.50979645 305.35907004L151.27214975 154.48974206h89.02005435l31.4609022 56.12911005c8.93775591 17.51800212 18.59053289 35.39351559 28.24330986 52.91151767h2.14506155c7.15020573-17.51800212 15.73045193-35.39351559 22.88065766-52.91151767l26.45575802-56.12911005h85.44495233l-92.23764669 160.16459526 98.31532163 154.80194137h-89.02005436l-35.03600588-57.2016408c-10.01028669-18.59053289-20.37808475-37.53857713-30.38837142-55.77160033h-2.86008262c-8.93775591 17.87551347-17.51800212 36.46604637-26.45575969 55.77160033l-29.31584063 57.2016408h-85.44495234l99.03034273-164.09720865zM694.68774151 746.52673013l-95.09772761-201.27827609h67.21192747l31.81841355 77.22221583c8.93775591 23.59567705 17.51800212 45.76131364 27.52829047 70.42952148h1.78755018c10.01028669-24.31069814 19.30555395-46.83384441 28.24331152-70.42952148l31.81841191-77.22221583h66.13939837l-95.45523901 201.27827609v116.19083344h-63.63682546l-0.35751139-116.19083344z"  ></path><path d="M129.24951671 844.16278116l714.91326445-714.91326445 50.55195 50.58770213-714.91326279 714.87751232z" fill="currentColor" ></path></symbol><symbol id="xianyin" viewBox="0 0 1024 1024"><path d="M718.78906224 768.53515652A384.9609375 384.9609375 0 0 1 512 828.40625001c-189.56250027 0-347.27343723-136.40625027-380.39062473-316.40625001a386.08593723 386.08593723 0 0 1 117.42187446-213.2578125L139.09765652 188.84374999l49.74609347-49.74609347 696.05859349 696.09375-49.74609349 49.71093696-116.36718775-116.36718696zM298.77734402 348.5234375A315.17578151 315.17578151 0 0 0 203.43359402 512a316.6171875 316.6171875 0 0 0 464.0625 205.2421875l-71.26171929-71.296875A158.203125 158.203125 0 0 1 378.0546875 427.76562527L298.77734402 348.5234375z m245.35546821 245.32031251l-113.97656224-113.97656224a87.89062527 87.89062527 0 0 0 113.90625001 113.94140571l0.07031223 0.03515653z m277.48828125 79.59374972l-50.30859375-50.27343723a314.15624973 314.15624973 0 0 0 49.21875054-111.1640625A316.6171875 316.6171875 0 0 0 425.97265652 277.78906277L370.4609375 222.31250027A386.36718777 386.36718777 0 0 1 512 195.59374999c189.56250027 0 347.27343723 136.40625027 380.35546902 316.40625001a384.9609375 384.9609375 0 0 1-70.73437554 161.43749973z m-319.35937501-319.359375a158.203125 158.203125 0 0 1 167.6601568 167.6953125l-167.6953125-167.6953125z" fill="currentColor" ></path></symbol><symbol id="celiang-yuanxingmianji" viewBox="0 0 1024 1024"><path d="M322.62987448 274.96326518c26.8676877-21.47242427 57.47222901-38.49828243 90.67663549-49.9188602l385.656327 385.65632701c-11.42781973 33.2044065-28.44643593 63.8089478-49.91886019 90.67663551L322.62987448 274.96326518z m492.13492869 256.21345639L492.82327842 209.23519683c6.3367188-0.40555 12.73861527-0.608325 19.17672158-0.60832501 167.56457091 0 303.37312818 135.80855726 303.37312818 303.37312818 0 6.43810629-0.202775 12.84000278-0.60832501 19.17672158zM209.23519683 492.85224628l321.91255689 321.91255689c-6.3367188 0.40555-12.70964742 0.608325-19.14775372 0.60832501-167.56457091 0-303.37312818-135.80855726-303.37312818-303.37312818 0-6.43810629 0.202775-12.81103492 0.60832501-19.14775372z m15.80920815-79.51676845a302.5352329 302.5352329 0 0 1 49.9188602-90.70560335l426.40686035 426.40686034a302.30493844 302.30493844 0 0 1-90.70560336 49.9188602L225.04440498 413.33547783zM512 141.21142578C307.22621631 141.21142578 141.21142578 307.22621631 141.21142578 512s166.01479053 370.78857422 370.78857422 370.78857422 370.78857422-166.01479053 370.78857422-370.78857422S716.77378369 141.21142578 512 141.21142578z" fill="currentColor" ></path></symbol><symbol id="a-scale-to-original" viewBox="0 0 1024 1024"><path d="M776.54375 247.85a51.1875 51.1875 0 0 1 37.8 14.90625 51.1875 51.1875 0 0 1 14.90625 37.8v423.675c0 14.625-5.0625 27.05625-15.35625 37.35a50.85 50.85 0 0 1-37.35 15.35625H247.4a50.85 50.85 0 0 1-37.35-15.35625 50.85 50.85 0 0 1-15.35625-37.35V300.5a51.1875 51.1875 0 0 1 14.90625-37.8 51.1875 51.1875 0 0 1 37.8-14.90625h529.14375z m0-53.60625H247.4c-14.0625 0.5625-27.5625 3.4875-40.44375 8.775-12.9375 5.2875-24.3 12.9375-34.3125 22.89375-9.9 9.95625-17.6625 21.375-23.23125 34.3125-5.625 12.88125-8.38125 26.325-8.38125 40.3875v423.675c0 14.0625 2.8125 27.5625 8.38125 40.44375 5.56875 12.9375 13.33125 24.3 23.2875 34.3125a105.3 105.3 0 0 0 74.75625 30.76875h529.0875c14.0625 0 27.5625-2.7 40.44375-7.93125 12.9375-5.2875 24.3-12.9375 34.3125-22.89375 9.9-9.95625 17.6625-21.375 23.23125-34.3125 5.625-12.825 8.38125-26.325 8.38125-40.3875V300.6125c0-14.0625-2.8125-27.5625-8.38125-40.44375a109.35 109.35 0 0 0-23.2875-34.3125 103.66875 103.66875 0 0 0-34.3125-22.8375 118.74375 118.74375 0 0 0-40.3875-8.775z m-105.46875 159.075a24.91875 24.91875 0 0 0-18.9 7.875 25.9875 25.9875 0 0 0-7.48125 18.45v264.54375a25.59375 25.59375 0 0 0 26.38125 26.4375 25.59375 25.59375 0 0 0 26.38125-26.4375V379.64375a25.59375 25.59375 0 0 0-26.4375-26.38125z m-318.15 0a25.3125 25.3125 0 0 0-18.45 7.875 25.3125 25.3125 0 0 0-7.875 18.45v264.54375a25.59375 25.59375 0 0 0 26.325 26.4375 25.59375 25.59375 0 0 0 26.4375-26.4375V379.64375a25.9875 25.9875 0 0 0-7.5375-18.45 24.91875 24.91875 0 0 0-18.9-7.875zM512 406.025a28.9125 28.9125 0 0 0-18.9 8.38125 25.59375 25.59375 0 0 0-7.48125 18.9v26.38125A25.59375 25.59375 0 0 0 512 485.225a25.59375 25.59375 0 0 0 26.38125-25.5375V433.25a24.91875 24.91875 0 0 0-7.875-18.84375A29.7 29.7 0 0 0 512 406.025z m0 132.75a25.59375 25.59375 0 0 0-26.4375 26.38125v26.38125a25.59375 25.59375 0 0 0 26.4375 26.38125 25.59375 25.59375 0 0 0 26.38125-26.4375v-26.325a25.3125 25.3125 0 0 0-7.875-18.45 25.3125 25.3125 0 0 0-18.50625-7.875v-0.05625z" fill="currentColor" ></path></symbol><symbol id="mianjibiaozhu" viewBox="0 0 1046 1024"><path d="M752.32352931 823.51488485H287.83171729a24.5779676 24.5779676 0 0 1-24.57796832-24.5779683v-38.08525583h-33.52985676a24.5779676 24.5779676 0 0 1-24.57796758-24.57796831V287.88468719a24.5779676 24.5779676 0 0 1 24.57796758-24.57796832h33.52985676V206.52313767a24.5779676 24.5779676 0 0 1 24.57796832-24.57796759h464.49181201a24.5779676 24.5779676 0 0 1 24.57796833 24.5779676v56.62467222h45.07726449a24.5779676 24.5779676 0 0 1 24.57796758 24.57796758v448.44197584a24.5779676 24.5779676 0 0 1-24.57796758 24.57796759h-44.81241572v38.08525656a24.5779676 24.5779676 0 0 1-24.84281709 24.68390738z m-439.64899567-49.2089058h415.28290694v-38.08525655a24.5779676 24.5779676 0 0 1 24.57796759-24.57796759h45.0772645V312.40968488h-45.0772645a24.5779676 24.5779676 0 0 1-24.57796759-24.57796759V231.20704579h-415.28290693v56.6776414a24.5779676 24.5779676 0 0 1-24.57796759 24.57796759H254.56670859v399.18010012h33.52985747a24.5779676 24.5779676 0 0 1 24.57796758 24.57796759z"  ></path><path d="M287.83171729 765.40705978a24.5779676 24.5779676 0 0 1-17.42705067-42.00501826L735.00241843 258.8042897a24.6309375 24.6309375 0 0 1 34.85410135 34.85410064l-464.59775183 464.5977518a24.78984719 24.78984719 0 0 1-17.42705066 7.15091764z"  ></path><path d="M287.83171729 882.78804484h-121.83044432a24.5779676 24.5779676 0 0 1-24.57796832-24.57796833v-121.83044432a24.5779676 24.5779676 0 0 1 24.57796832-24.57796831h121.83044432a24.5779676 24.5779676 0 0 1 24.57796759 24.57796831v121.83044432a24.6309375 24.6309375 0 0 1-24.57796759 24.57796833zM190.47330149 833.57913901H263.0418701V760.95759979H190.47330149z m277.34965508-10.59395171a24.5779676 24.5779676 0 0 1-17.42705067-42.00501826l344.67421882-344.56827902a24.6309375 24.6309375 0 0 1 34.85410064 34.85410063l-344.67421809 344.56827902a24.78984719 24.78984719 0 0 1-17.4270507 6.93903876zM232.26644087 559.30172943A24.5779676 24.5779676 0 0 1 214.83939021 517.29671115l309.396359-309.39635971a24.6309375 24.6309375 0 0 1 34.85410134 34.85410136l-309.50229879 309.34338981a24.26014964 24.26014964 0 0 1-17.32111088 6.99200794z m55.56527642-246.68016495h-121.83044432a24.5779676 24.5779676 0 0 1-24.57796831-24.57796831v-121.83044432A24.5779676 24.5779676 0 0 1 165.78939338 141.21142578h121.83044504a24.5779676 24.5779676 0 0 1 24.57796759 24.5779676v121.83044503a24.68390738 24.68390738 0 0 1-24.36608872 24.78984647zM190.47330149 263.0418701H263.0418701V190.42033159H190.47330149z m683.83958183 49.2618757h-121.83044432a24.5779676 24.5779676 0 0 1-24.57796831-24.57796831v-121.83044432A24.5779676 24.5779676 0 0 1 752.32352931 141.21142578h121.83044431a24.5779676 24.5779676 0 0 1 24.57796832 24.5779676v121.83044503a24.52499841 24.52499841 0 0 1-24.41905862 24.78984647zM776.84852772 263.0418701h72.72747831V190.42033159H776.84852772zM874.31288332 882.78804484h-121.83044432a24.5779676 24.5779676 0 0 1-24.57796831-24.57796833v-121.83044432a24.5779676 24.5779676 0 0 1 24.57796831-24.57796831h121.83044432a24.5779676 24.5779676 0 0 1 24.57796759 24.57796831v121.83044432a24.47202852 24.47202852 0 0 1-24.57796759 24.57796833zM776.84852772 833.57913901h72.72747831V760.95759979H776.84852772z" fill="currentColor" ></path></symbol><symbol id="gaojigongju" viewBox="0 0 1024 1024"><path d="M831.99999969 512L812 512 711.99999969 512 711.99999969 452 632 452 632 512 392 512 392 452 312.00000031 452 312.00000031 512 212 512 192.00000031 512 111.99999969 512 111.99999969 452 111.99999969 411.99999969 111.99999969 392C111.99999969 348.00000031 147.99999969 312.00000031 192.00000031 312.00000031L351.60000031 312.00000031 351.60000031 231.99999969 352.04 231.56C352.28 187.74000031 387.74 152.28000031 431.55999969 152.04000031L431.6 152 432.00000031 152 591.60000031 152 591.99999969 152C636.18000031 152 672.00000031 187.82 672.00000031 231.99999969L672.00000031 312.00000031 831.99999969 312.00000031C876.00000031 312.00000031 912.00000031 348.00000031 912.00000031 392L912.00000031 452 912.00000031 512 831.99999969 512ZM591.99999969 231.99999969L432.00000031 231.99999969 432.00000031 312.00000031 591.99999969 312.00000031 591.99999969 231.99999969ZM312.00000031 591.99999969L312.00000031 632 392 632 392 591.99999969 632 591.99999969 632 632 711.99999969 632 711.99999969 591.99999969 872 591.99999969 872 812C872 856.4 836.40000031 891.99999969 792.00000031 891.99999969L231.99999969 891.99999969C187.59999969 891.99999969 152 856.4 152 812L152.40000031 591.99999969 312.00000031 591.99999969Z" fill="currentColor" ></path></symbol><symbol id="copytool" viewBox="0 0 1229 1024"><path d="M848.40625 828.40625L505.63281275 828.40625 505.63281275 485.63281275l342.77343725 0L848.40625 828.40625zM874.77343724 459.26562475L479.26562474 459.26562475l0 395.5078125 395.5078125 0L874.77343724 459.26562475z" fill="currentColor" ></path><path d="M532 353.796875L373.796875 353.796875 373.796875 512 294.6953125 512 295.11718724 353.796875 136.4921875 353.796875 136.4921875 274.6953125 294.6953125 274.6953125 294.6953125 116.4921875 373.796875 116.4921875 373.796875 274.6953125 532 274.6953125Z"  ></path><path d="M637.46874974 512l26.36718724 0 1e-8 52.73437525-26.36718725 0 0-52.73437525Z" fill="currentColor" ></path><path d="M637.46874974 406.53125025l26.36718724 0 1e-8 52.73437526-26.36718725 0 0-52.73437526Z" fill="currentColor" ></path><path d="M637.46874974 353.796875L663.83593775 353.796875 663.83593775 327.42968775 716.57031224 327.42968775 716.57031224 301.06249975 637.46874974 301.06249975Z" fill="currentColor" ></path><path d="M769.3046875 301.06249975l52.73437525 0 0 26.36718724-52.73437525 0 0-26.36718724Z" fill="currentColor" ></path><path d="M874.77343724 301.06249975l52.73437526 0 0 26.36718724-52.73437526 0 0-26.36718724Z" fill="currentColor" ></path><path d="M663.83593775 617.46874975L637.46874974 617.46874975 637.46874974 696.57031225 690.203125 696.57031225 690.203125 670.203125 663.83593775 670.203125Z" fill="currentColor" ></path><path d="M1006.609375 432.8984375l26.36718724 0 0 52.73437525-26.36718724 0 0-52.73437525Z" fill="currentColor" ></path><path d="M1006.609375 538.36718725l26.36718724 0 0 52.73437525-26.36718724 0 0-52.73437525Z" fill="currentColor" ></path><path d="M1006.609375 670.203125L953.87499974 670.203125 953.87499974 696.57031225 1032.97656224 696.57031225 1032.97656224 643.83593775 1006.609375 643.83593775Z" fill="currentColor" ></path><path d="M980.24218775 301.06249975L980.24218775 327.42968775 1006.609375 327.42968775 1006.609375 380.16406225 1032.97656224 380.16406225 1032.97656224 301.06249975Z" fill="currentColor" ></path><path d="M742.93750025 670.203125l52.73437525 0 0 26.36718725-52.73437525 0 0-26.36718725Z" fill="currentColor" ></path><path d="M848.40625 670.203125l52.73437525 0 0 26.36718725-52.73437525 0 0-26.36718725Z" fill="currentColor" ></path></symbol><symbol id="dingdianfuzhi" viewBox="0 0 1024 1024"><path d="M502.5943562 222.83435388c0.40918991-0.00736551 0.79873874-0.06137869 1.20220038-0.06137869h0.01391281l-0.60396515-0.92067792-0.61214804 0.98205661z" fill="" ></path><path d="M772.40858371 563.07347207a140.84323489 140.84323489 0 0 0-42.0287341 6.38991321L609.21620428 384.04379886l-0.01473102 0.0147302-0.02127831-0.02864301 0.03600934 0.01391281c22.22638797-24.96796162 35.85487363-57.74408953 35.85487362-93.71353683 0-77.90488605-63.37618177-141.27124768-141.27452133-141.27124769s-141.26879224 63.36636164-141.26879224 141.27124769c0 37.20029068 14.55652908 70.99039188 38.15043064 96.24233139l0.06465151-0.06056049-0.05728601 0.07447329-0.0065473-0.0139128-113.23599692 181.96193024c-12.24624188-3.46747715-25.11199649-5.46105157-38.45895968-5.46105159-77.89097324 0-141.27533953 63.38354727-141.27533954 141.27452134 0 77.89833875 63.38436631 141.27452134 141.27533954 141.27452133 77.89833875 0 141.26797403-63.37618177 141.26797403-141.27452133 0-37.99166474-15.14658059-72.46511279-39.63988257-97.87991006l-0.00736469 0.0220957-0.02209652-0.0220957h0.02946121l112.54364731-180.85302522h0.01473101l0.02864302-0.02209651c12.86575544 3.86766513 26.47951008 6.01182092 40.59656899 6.01182173 15.3118938 0 30.02636975-2.52552173 43.8414461-7.05852986l0.02127833 0.02864382c0.00736551 0 0.00736551-0.00736551 0.01473102-0.00736551L668.31062095 609.17282944l0.02946121 0.00818454c-0.00736551 0-0.01473102 0.01391281-0.0147302 0.01391198l-0.01554923-0.02127749c-23.00303101 25.14227674-37.17819498 58.49863604-37.17819497 95.17434494 0 77.89833875 63.37618177 141.27452134 141.27533954 141.27452134 77.89833875 0 141.26715583-63.37618177 141.26715582-141.27452134 0.00163641-77.89097324-63.36717983-141.27452134-141.26551941-141.27452134M248.98405659 771.94210696c-37.27967405 0-67.59411355-30.32098682-67.59411357-67.59411355 0-35.86878643 28.11217868-65.22653952 63.45638333-67.37887986v0.02946204c1.38142556-0.07856433 2.74812095-0.20868723 4.13773024-0.20868723 26.09732676 0 48.74190738 14.89533838 60.00281899 36.60942097v-0.01391281c4.8128942 9.28943372 7.58392905 19.80152793 7.58392987 30.96177868 0 37.27394495-30.32180502 67.59493177-67.58674887 67.59493176m254.81250001-413.98908838c-26.99017905 0-50.26818604-15.94532017-61.09699302-38.88042516l-0.00654731 0.01473102 0.00654731-0.04337403c-4.122181-8.73211706-6.48975503-18.44219805-6.48975504-28.71287018 0-36.86148138 29.68101397-66.88130466 66.38536588-67.528643l0.61214886-0.98287482 0.60396433 0.92067792c37.25839572 0.01063916 67.58020157 30.32917053 67.58020157 67.59002169 0 9.63806396-2.06477325 18.78755466-5.70656552 27.09083991l-0.05155774 0.11866552c-10.48999768 23.76330661-34.23529962 40.41325195-61.83680932 40.41325113M772.40858371 771.94210696c-37.27230853 0-67.59493177-30.32098682-67.59493176-67.59411355 0-10.41225156 2.43959107-20.24754456 6.67143567-29.07704883l0.01391198 0.01554923c10.89345932-22.72396316 34.07080545-38.49578723 60.90958411-38.49578724 0.67598218 0 1.33723333 0.08592983 2.02221744 0.10720816l-0.03682672-0.04255581 0.03682672 0.0073655c36.32216941 1.07944382 65.56453061 30.89794455 65.56453143 67.4860872 0 37.27230853-30.32180502 67.59329534-67.58674887 67.59329534" fill="currentColor" ></path></symbol><symbol id="lujingzhenglie" viewBox="0 0 1821 1024"><path d="M1548.75824566 433.71126367c-28.82673377-41.1810489-72.36098843-68.83118411-121.77824901-77.65569496-43.5342547-7.64790787-87.65680865 1.17660292-125.89635676 22.943728l-292.38545463-416.51690923c-70.00778706-99.42282012-209.4350576-122.36654813-310.62277978-51.18216261-48.82896123 34.12144022-81.77379852 85.30360282-92.95151515 144.13367776-11.17771217 58.83007047 1.76490213 117.6601453 35.29804325 165.31250356l111.77713511 158.84119428 82.95040144 118.24844455 115.30694389 164.13590069 111.7771352 158.8411942c25.88523313 36.47464606 35.29804317 81.18549931 26.47353243 125.89635244-8.23621154 45.29915689-34.12144022 84.12700432-71.77268928 110.60053671-78.24399419 54.71196691-184.72642727 37.65124458-238.26179133-38.23954814l-293.56205743-417.69351227c31.17993957-28.23843453 52.35876554-64.7130806 59.41837411-106.48242869 17.64902155-102.36432514-50.59386337-200.02224308-152.9581885-218.25956835-101.77602591-17.64902155-200.02224308 50.59386337-218.25956834 152.95818846-8.82451074 49.41726043 2.3532014 99.42282012 31.76823888 140.60387342 28.82673377 41.1810489 72.36098843 68.83118411 121.77824883 77.65569498 10.58941291 1.76490213 21.76712511 2.94150507 32.35654258 2.94150059 28.82673377 0 57.06516833-6.47130938 83.53870066-20.00222294l293.56205743 417.69351215c42.35765181 60.59497263 110.60053671 92.36321143 180.0200201 92.36321142 45.29915689 0 91.18661297-13.53091807 130.60275983-41.76935252 48.82896123-34.12144022 81.77379852-85.30360282 92.95151505-144.13367325 11.17771217-58.83007047-1.76490213-117.6601453-35.29804317-165.31250355l-227.08407913-322.97709495-194.72753665-277.08963878c-25.88523313-36.47464606-35.29804317-81.18549931-26.47353234-125.89635248 8.23621154-45.29915689 34.12144022-84.12700432 71.77268915-110.60053672 78.24399419-54.71196691 184.72642727-37.65124458 238.26179138 38.23954827l293.56205749 417.69350778c-26.47353237 27.06183164-44.12255398 61.18327631-50.59386334 98.8345208-8.82451074 49.41726043 2.3532014 99.42282012 31.76823886 140.60387343 28.82673377 41.1810489 72.36098843 68.83118411 121.7782489 77.65569499 11.17771217 1.76490213 21.76712511 2.94150507 32.35654243 2.94150496 90.01001009 0 169.43060721-64.7130806 185.90302588-155.89969353 7.64790787-48.24065759-3.5298043-98.2462216-32.35653804-139.42727047z m-1212.48778257 164.13590071c-74.12589061-12.94261434-123.54315108-83.5387007-110.60053669-157.66459133 11.76601584-65.88967907 69.41948342-112.95373813 134.13256395-112.95373813 7.64790787 0 15.8841194 0.58829925 23.53202737 1.76490218 74.12589061 12.94261434 123.54315108 83.5387007 110.60053671 157.66459127-6.47130938 35.88634245-26.47353237 67.06628198-55.88856985 87.65680867-30.0033367 21.76712511-65.88967907 30.0033367-101.77602149 23.53202734z m1192.48555516-32.35653809c-12.94261434 74.12589061-83.5387007 123.54315108-157.66459127 110.60053667-35.88634245-6.47130938-67.06628198-25.88523313-87.65680879-55.88856978-21.17882588-30.0033367-29.41503746-65.88967907-22.943728-101.77602594 11.76601584-65.88967907 69.41948342-112.95373813 134.13256406-112.95373814 7.64790787 0 15.8841194 0.58829925 23.53203169 1.76490218 35.88634245 6.47130938 67.06628198 25.88523313 87.65680421 55.88856989 21.17882588 30.0033367 29.41503746 66.47798273 22.9437281 102.36432512z" fill="currentColor" ></path></symbol><symbol id="gaiyuandaxiao" viewBox="0 0 1024 1024"><path d="M512 215.36914062c163.14697266 0 296.63085938 133.48388672 296.63085938 296.63085938s-133.48388672 296.63085938-296.63085938 296.63085938-296.63085938-133.48388672-296.63085938-296.63085938 133.48388672-296.63085938 296.63085938-296.63085938m0-49.43847656C319.18994141 165.93066406 165.93066406 319.18994141 165.93066406 512s153.25927734 346.06933594 346.06933594 346.06933594 346.06933594-153.25927734 346.06933594-346.06933594-153.25927734-346.06933594-346.06933594-346.06933594z"  ></path><path d="M512 314.24609375c108.76464844 0 197.75390625 88.98925781 197.75390625 197.75390625s-88.98925781 197.75390625-197.75390625 197.75390625-197.75390625-88.98925781-197.75390625-197.75390625 88.98925781-197.75390625 197.75390625-197.75390625m0-49.43847656C373.57226562 264.80761719 264.80761719 373.57226562 264.80761719 512s108.76464844 247.19238281 247.19238281 247.19238281 247.19238281-108.76464844 247.19238281-247.19238281-108.76464844-247.19238281-247.19238281-247.19238281z" fill="currentColor" ></path><path d="M512 419.30285644c50.98342896 0 92.69714356 41.7137146 92.69714356 92.69714356s-41.7137146 92.69714356-92.69714356 92.69714356-92.69714356-41.7137146-92.69714356-92.69714356 41.7137146-92.69714356 92.69714356-92.69714356m0-46.34857177C433.20742798 372.95428467 372.95428467 433.20742798 372.95428467 512s60.25314331 139.04571533 139.04571533 139.04571533 139.04571533-60.25314331 139.04571533-139.04571533-60.25314331-139.04571533-139.04571533-139.04571533z"  ></path></symbol><symbol id="yuanzhuanduobian" viewBox="0 0 1151 1024"><path d="M563.59609156 158.19326834l268.92508125 118.82736187 93.81107438 243.90879469-118.82736094 268.92508125-243.90879469 93.81107438-268.92508218-118.82736094-93.81107438-243.90879469 118.82736187-268.92508218 243.90879469-93.81107438m0-65.6677528L272.78175875 205.09880553 135.19218218 520.9294249l112.57329001 290.81433189L563.59609156 949.33333334l290.81433189-112.57328999L995.12703594 520.9294249l-112.57329-290.81433281L563.59609156 92.52551552z" fill="currentColor" ></path><path d="M570.7048864 397.63418549l96.0625408 42.69446186 32.02084693 81.83105387-42.69446293 96.0625408-81.8310528 32.02084693-96.0625408-42.69446292-32.02084693-85.38892481 42.69446185-96.0625408 81.83105388-28.46297493m0-78.27318186l-135.19913175 53.36807786-64.04169385 149.43061973 53.36807788 135.19913067 149.43061972 64.04169387 135.19913067-53.36807788 64.04169386-149.43061865-53.36807786-135.19913174-149.43061867-64.04169386z"  ></path></symbol><symbol id="shuaneirong" viewBox="0 0 1024 1024"><path d="M794.375 229.36944445h-15.75v-40.5c0-23.625-19.125-42.75-42.75-42.75H336.5c-23.625 0-42.75 19.125-42.75 42.75V230.49444445c-55.125 2.25-82.125 7.875-82.125 52.875v114.75c0 37.125 30.375 61.875 67.5 61.875h202.5c16.875 0 24.75 13.5 24.75 31.5v90h-24.75c-10.125 0-18 7.875-18 18v258.75c0 10.125 7.875 19.125 18 19.125h95.625c10.125 0 20.25-10.125 20.25-20.25V599.49444445c0-10.125-7.875-18-18-18h-25.875v-99c0-37.125-29.25-66.375-66.375-67.5H285.875c-16.875 0-29.25-13.5-29.25-31.5v-93.375c0-16.875 19.125-14.625 36-14.625v40.5c0 23.625 12.375 45 34.875 45h414c23.625 0 34.875-21.375 34.875-45V275.49444445h15.75c10.125 0 19.125-13.5 19.125-23.625 1.125-10.125-7.875-22.5-16.875-22.5zM552.5 832.36944445h-45V626.49444445h45v205.875z m-207-517.5c-3.375 0-6.75-3.375-6.75-6.75v-110.25c0-3.375 3.375-6.75 6.75-6.75H725.75c3.375 0 6.75 3.375 6.75 6.75V309.24444445c0 3.375-3.375 6.75-6.75 6.75H345.5z" fill="currentColor" ></path></symbol><symbol id="zuoyouduiqi" viewBox="0 0 1024 1024"><path d="M169.2265625 195.59375h685.546875v79.1015625H169.2265625zM169.2265625 564.734375h685.546875v79.1015625H169.2265625zM169.2265625 380.1640625h685.546875v79.1015625H169.2265625zM169.2265625 749.3046875h685.546875v79.1015625H169.2265625z" fill="currentColor" ></path></symbol><symbol id="juxingsuofang" viewBox="0 0 1024 1024"><path d="M793.24999973 877.62499973H230.75000027c-27.19687473 0-48.27656277-7.31250027-62.67656304-21.69843696S146.37500027 820.44687527 146.37500027 793.24999973V230.75000027c0-54.40781223 29.96718777-84.375 84.375-84.375h562.49999946c27.19687473 0 48.29062473 7.2984375 62.67656304 21.69843696S877.62499973 203.55312473 877.62499973 230.75000027v562.49999946c0 54.40781223-29.96718777 84.375-84.375 84.375zM230.75000027 174.49999999c-38.91093777 0-56.25000027 17.3390625-56.25000026 56.25000028v562.49999946c0 19.46250028 4.52812527 33.86249973 13.45781249 42.79218777S211.2875 849.50000001 230.75000027 849.50000001h562.49999946c38.91093777 0 56.25000027-17.3390625 56.25000028-56.25000028V230.75000027c0-19.46250028-4.52812527-33.86249973-13.45781251-42.79218777S812.7125 174.49999999 793.24999973 174.49999999H230.75000027z m421.875 492.18749974H371.37499973a14.06250026 14.06250026 0 0 1-14.06249946-14.06249946V371.37499973a14.06250026 14.06250026 0 0 1 14.06249946-14.06249946h281.25000054a14.06250026 14.06250026 0 0 1 14.06249946 14.06249946v281.25000054a14.06250026 14.06250026 0 0 1-14.06249946 14.06249946z m-267.18750027-28.12499973h253.125V385.4375H385.4375v253.125z" fill="currentColor" ></path><path d="M819.06874973 165.14843777l39.76875054 39.7828125-193.35937527 193.35937446-39.76874973-39.79687446zM358.521875 625.6953125l39.7828125 39.7828125-193.35937527 193.35937527-39.76874973-39.79687527z"  ></path></symbol><symbol id="huzhuanyuan" viewBox="0 0 1024 1024"><path d="M661.58682251 199.57437133c118.93991089 56.53207398 201.17669678 177.87139893 201.17669678 318.43899537 0 150.2427063-93.94793701 278.51989747-226.24447632 329.1762085l-0.11865234-0.17303467 0.07086181-0.12689209-0.01977539-0.04943847c-13.00808716 3.97814941-27.06097412-2.74630737-32.00976562-15.65304567-5.17208862-13.48846435 1.55895996-28.62240601 15.03424072-33.80026245a26.35647583 26.35647583 0 0 1 3.3329773-1.03491211c110.03027344-44.40646362 187.68493653-152.29522705 187.68493652-278.33862304 0-120.03085327-70.42181396-223.59622193-172.16125488-271.55401611l11.19616699 22.97900391c6.328125 12.98583984 0.94097901 28.64959717-12.03250123 34.98266601-12.97265625 6.33389282-28.61828614 0.93933106-34.94641112-12.04650879l-36.28125-74.46340943c-3.30496216-6.78295898-3.41455078-14.29595948-0.91625977-20.82843017 2.14068604-6.43936157 6.7664795-12.04486084 13.3409729-15.25424194l74.38265991-36.31585693c12.97348023-6.33306885 28.61911011-0.93933106 34.94723511 12.04650878 6.328125 12.98748779 0.94015503 28.64959717-12.03250122 34.98266602l-14.40307618 7.03262328zM362.98666382 824.42645263C244.0475769 767.89355469 161.81079102 646.55422974 161.81079102 505.9866333c0-150.2427063 93.94793701-278.51989747 226.24447632-329.17620849l0.11782836 0.17303467-0.07003784 0.12689208 0.01977539 0.04943847c13.00808716-3.97814941 27.06015015 2.74630737 32.00894165 15.65304567 5.17208862 13.48846435-1.55813599 28.62240601-15.03341675 33.80026245a26.35647583 26.35647583 0 0 1-3.33380127 1.03491211c-110.02944946 44.40646362-187.68411255 152.29522705-187.68411255 278.33862304 0 120.03085327 70.42098999 223.59622193 172.16125489 271.55401611l-11.196167-22.9790039c-6.328125-12.98583984-0.94097901-28.64959717 12.03167726-34.98266601 12.97265625-6.33389282 28.61911011-0.93933106 34.9472351 12.04650878l36.28125 74.46340943c3.30496216 6.78295898 3.41455078 14.29595948 0.91625977 20.82843017-2.14068604 6.43936157-6.76730347 12.04486084-13.34097291 15.25424194l-74.38348388 36.31585694c-12.97265625 6.33306885-28.61911011 0.93933106-34.94641113-12.04650879-6.328125-12.98748779-0.94097901-28.64959717 12.03167724-34.98266602l14.40390015-7.03262328z m149.30007935-148.09048461C421.62893677 676.33514404 348.13616943 602.76080323 348.13616943 512s73.49276734-164.33514404 164.15057374-164.33514404c90.65863037 0 164.15222168 73.57516479 164.15222167 164.33514404s-73.49359131 164.33514404-164.15222167 164.33514404z m0-49.79855347c63.18649292 0 114.40887451-51.27923584 114.40887451-114.53659057 0-63.25653076-51.22238159-114.53659058-114.40887451-114.53659059-63.18566895 0-114.40887451 51.27923584-114.40887452 114.53659059 0 63.25653076 51.22320557 114.53659058 114.40887452 114.53659057z" fill="currentColor" ></path></symbol><symbol id="qiehuanneirong" viewBox="0 0 1024 1024"><path d="M512 141.21142578C353.34883881 141.21142578 212.31145945 242.03016367 161.0486145 392.09359643l50.12531847 17.12248696C255.11767578 280.59349921 376.00666908 194.18122199 512 194.18122199c157.40901947 0 288.46291647 115.04377648 313.49909111 265.47005264l-45.6506948-30.44174192-29.38234613 44.07219497 91.14512831 60.75503245c4.42297831 2.94909372 9.54383284 4.44813833 14.69117271 4.44813833 4.29320229 0 8.58640388-1.03423507 12.49292656-3.1291905C877.4094915 530.75130759 882.78857422 521.77690026 882.78857422 512 882.78857422 307.54320724 716.45679276 141.21142578 512 141.21142578z" fill="currentColor" ></path><path d="M512 829.81877801c-157.40901947 0-288.46291647-115.04377648-313.49909111-265.47005264l45.6506948 30.44174192 29.38234613-44.07219497-91.14512831-60.75503245c-8.12159433-5.43205261-18.59637156-5.92334747-27.18277544-1.31894783C146.5905085 493.24869241 141.21142578 502.22309974 141.21142578 512c0 204.45679276 166.33178146 370.78857422 370.78857422 370.78857422 158.67632195 0 299.71370132-100.81873789 350.9513855-250.88217065l-50.12531847-17.12248696C768.90880881 743.40650079 648.01981551 829.81877801 512 829.81877801z" fill="currentColor" ></path><path d="M485.51510154 374.2997178l185.3942871 0 1e-8 37.08945169-185.39428712 0 1e-8-37.08945169Z" fill="currentColor" ></path><path d="M353.09061136 353.09061136l79.45469469 0 0 79.45469469-79.45469469 0 0-79.45469469Z"  ></path><path d="M485.51510154 506.72420797l185.3942871 0 1e-8 37.0894517-185.39428712 0 1e-8-37.0894517Z"  ></path><path d="M353.09061136 485.51510154l79.45469469-1e-8 0 79.45469469-79.45469469 0 0-79.45469468Z"  ></path><path d="M485.51510154 639.14869887l185.3942871 0 1e-8 37.08945169-185.39428712 0 1e-8-37.08945169Z"  ></path><path d="M353.09061136 617.93959243l79.45469469-1e-8 0 79.45469469-79.45469469 0 0-79.45469469Z"  ></path></symbol><symbol id="yuangongju" viewBox="0 0 1024 1024"><path d="M669.72775498 431.28217929l-1.71133193-1.99655382-39.07541123 33.65619428a18.25420684 18.25420684 0 0 1-25.38475647-1.99655453l-16.54287489-19.10987245a18.25420684 18.25420684 0 0 1 1.99655452-25.66997833l39.07541123-33.37097167v-1.42610935L577.60105515 369.38900986a18.25420684 18.25420684 0 0 0-15.68720856 3.99310762l-25.38475646 21.6768707a18.25420684 18.25420684 0 0 0-6.27488328 14.83154297l2.8522194 50.7695122-13.69065477 19.96553878-156.87208937 129.77600097a24.52909013 24.52909013 0 0 0-7.98621522 15.4019867 26.24042207 26.24042207 0 0 0 22.53253633 28.52219847 26.52564394 26.52564394 0 0 0 23.10298078-8.27143781L540.52219773 532.25076065l11.97932357-8.84188156 23.67342452-11.97932283 49.34340213 9.98276903a18.25420684 18.25420684 0 0 0 15.68720928-3.99310762l25.09953388-21.6768707a17.68376311 17.68376311 0 0 0 6.56010587-14.83154297zM380.22744522 641.4907791a12.26454543 12.26454543 0 0 1-10.83843536-13.69065548 12.26454543 12.26454543 0 0 1 13.69065477-10.26799091 11.97932283 11.97932283 0 0 1 10.26799162 13.40543292 12.26454543 12.26454543 0 0 1-13.12021103 10.55321348z"  ></path><path d="M512 761.56923294A249.56923294 249.56923294 0 1 1 761.56923294 512 249.56923294 249.56923294 0 0 1 512 761.56923294zM512 283.82241593a228.17758407 228.17758407 0 1 0 228.17758407 228.17758407 228.17758407 228.17758407 0 0 0-228.17758407-228.17758407z" fill="currentColor" ></path><path d="M512 882.78857422a370.78857422 370.78857422 0 1 1 370.78857422-370.78857422 370.78857422 370.78857422 0 0 1-370.78857422 370.78857422z m0-698.22340773A327.43483351 327.43483351 0 1 0 839.43483351 512 327.72005538 327.72005538 0 0 0 512 184.56516649z" fill="currentColor" ></path></symbol><symbol id="zhenliegongju" viewBox="0 0 1024 1024"><path d="M210.73428344 187.55999756a23.17428589 23.17428589 0 0 0-23.17428588 23.17428588v185.39428711a23.17428589 23.17428589 0 0 0 23.17428588 23.17428589h185.39428711a23.17428589 23.17428589 0 0 0 23.1742859-23.17428589v-185.39428711a23.17428589 23.17428589 0 0 0-23.1742859-23.17428588h-185.39428711z m0-46.34857178h185.39428711A69.52285766 69.52285766 0 0 1 465.65142823 210.73428344v185.39428711A69.52285766 69.52285766 0 0 1 396.12857055 465.65142823h-185.39428711A69.52285766 69.52285766 0 0 1 141.21142578 396.12857055v-185.39428711A69.52285766 69.52285766 0 0 1 210.73428344 141.21142578zM651.04571533 141.21142578h139.04571533a92.69714356 92.69714356 0 0 1 92.69714356 92.69714356v139.04571533a92.69714356 92.69714356 0 0 1-92.69714356 92.69714355h-139.04571533a92.69714356 92.69714356 0 0 1-92.69714356-92.69714355V233.90856933a92.69714356 92.69714356 0 0 1 92.69714356-92.69714355z m0 417.137146h139.04571533a92.69714356 92.69714356 0 0 1 92.69714356 92.69714355v139.04571533a92.69714356 92.69714356 0 0 1-92.69714356 92.69714356h-139.04571533a92.69714356 92.69714356 0 0 1-92.69714356-92.69714356v-139.04571533a92.69714356 92.69714356 0 0 1 92.69714356-92.69714355zM233.90856933 558.34857177h139.04571534a92.69714356 92.69714356 0 0 1 92.69714356 92.69714356v139.04571533a92.69714356 92.69714356 0 0 1-92.69714356 92.69714356H233.90856933a92.69714356 92.69714356 0 0 1-92.69714355-92.69714356v-139.04571533a92.69714356 92.69714356 0 0 1 92.69714356-92.69714355z" fill="currentColor" ></path></symbol><symbol id="xianxingbili" viewBox="0 0 1024 1024"><path d="M830.75000029 361.99999971a55.83750029 55.83750029 0 0 0-49.87500029 81.75000058l-246.13125029 260.62499971a55.48124971 55.48124971 0 0 0-45.48749942 0L243.125 443.75000029a56.04374971 56.04374971 0 1 0-27.15000029 25.875l246.15 260.62499971a56.25 56.25 0 1 0 99.75000058 0l246.15-260.62499971A56.25 56.25 0 1 0 830.75000029 361.99999971z"  ></path><path d="M830.75000029 549.50000029a55.76249971 55.76249971 0 0 0-22.725 4.87499942L561.87500029 293.75a56.25 56.25 0 1 0-99.75000058 0L215.97499971 554.37499971a57.33749971 57.33749971 0 1 0 27.15000029 25.875l246.13125029-260.62499971a55.48124971 55.48124971 0 0 0 45.48749942 0l246.13125029 260.62499971A56.08125 56.08125 0 1 0 830.75000029 549.50000029z" fill="currentColor" ></path></symbol><symbol id="wenzichicun" viewBox="0 0 1024 1024"><path d="M294.24609375 462.56152345h49.43847656v49.43847655h49.43847657v-49.43847655h49.43847655v49.43847655h49.43847657v-49.43847655h49.43847657v49.43847655h49.43847656v-49.43847655h49.43847656v49.43847655h49.43847656v-49.43847655h49.43847657v49.43847655h49.43847656v-98.87695313H244.80761719v98.87695313h49.43847656zM145.93066407 314.24609375v247.19238282h44.4946289C220.08837891 561.43847655 244.80761719 586.15771484 244.80761719 615.82080078V660.31542969h543.82324219v-44.49462891c0-29.66308594 24.71923828-54.38232422 54.38232421-54.38232423H887.5078125V314.24609375H145.93066407z m692.13867187 197.75390625c-54.38232422 4.94384766-93.93310547 44.49462891-98.87695312 98.87695313H294.24609375c-4.94384766-54.38232422-44.49462891-93.93310547-98.87695312-98.87695313v-148.31542969h642.70019531v148.31542969z" fill="currentColor" ></path></symbol><symbol id="huitugongju" viewBox="0 0 1024 1024"><path d="M302.23960679 846.76911263c-25.42550193 0-52.96979621-4.23758401-76.27650721-12.71275134-52.96979621-19.06912698-80.51409051-57.20738023-82.63288216-105.93959241C141.21142578 653.95905403 198.41880601 628.53355211 242.91343492 609.46442512c42.37583726-19.06912698 65.68254754-29.66308594 65.68254754-61.44496352 0-38.13825324-65.68254754-69.92013083-93.22684183-74.15771484a27.54429429 27.54429429 0 0 1-16.95033462-25.42550264c2.11879165-10.59395896 12.71275132-19.06912698 23.30671027-16.95033462 38.13825324 6.35637565 129.2463027 46.61342055 129.24630271 116.5335521 0 61.44496352-50.85100457 82.63288215-91.10804946 99.58321676-46.61342055 21.18791862-76.27650649 36.0194616-74.15771484 80.51409052 0 31.78187758 19.06912698 55.08858786 52.96979621 67.80133917 55.08858786 21.18791862 137.72147074 6.35637565 158.90938936-19.06912626 8.47516731-8.47516731 21.18791862-10.59395896 29.66308594-2.11879236 8.47516731 8.47516731 10.59395896 21.18791862 2.11879164 29.66308594-21.18791862 25.42550193-74.15771484 42.37583726-127.12751105 42.37583726zM448.43624411 715.40401754c-4.23758401 4.23758401 2.11879165 14.83154297 10.59395967 21.18791863s19.06912698 8.47516731 23.30671028 4.23758401l88.98925782-67.80133917-84.7516738-61.44496425-38.13825396 103.82080078zM857.3630723 187.82484633a52.06931009 52.06931009 0 0 0-74.15771485 12.71275133L509.88120835 577.68254754l84.7516738 61.44496352 275.44294074-377.14494989c16.95033461-23.30671028 10.59395896-57.20738023-12.71275059-74.15771484z" fill="currentColor" ></path></symbol><symbol id="wenzigongju" viewBox="0 0 1024 1024"><path d="M675.5 873.23472222H348.5l-0.65625001-65.34375h105.93750002l1.3125-588.75H271.0625l-20.53125001 22.59375V366.23472222l-74.06249998 8.15625001-1.3125-220.87500001h672.375l1.3125 220.87500001-74.0625-8.15625001V241.73472222l-20.53125001-22.59375H570.21875001l-1.3125 588.75h105.93749998l0.65625001 65.34375z" fill="currentColor" ></path></symbol><symbol id="wenzipaiban" viewBox="0 0 1024 1024"><path d="M603.02222187 762.31111147V830.57777813H147.91111147v-68.26666666h455.1111104z m273.06666666-204.8v68.26666666H147.91111147V557.51111147h728.17777706z m-273.06666666-204.8V420.97777813H147.91111147V352.71111147h455.1111104zM876.08888853 147.91111147v68.26666666H147.91111147V147.91111147h728.17777706z" fill="currentColor" ></path></symbol><symbol id="pizhu" viewBox="0 0 1024 1024"><path d="M529.25000029 146.78333333L238.24999971 395.40833333c-9.63749971 8.25000029-15.93749971 19.72500029-17.62499971 32.2875l-36 264.15a51.67500029 51.67500029 0 0 0 54.07499971 58.57499971l266.85-14.625c13.08750029-0.74999971 25.38749971-6.37499971 34.46250029-15.82499971l280.125-291.67499971a51.71249971 51.71249971 0 0 0-2.09999971-73.125l-219.86250029-206.73750058a51.67500029 51.67500029 0 0 0-68.9625-1.64999971z m33.1875 53.13750029l205.46249942 193.19999942-269.81249942 280.95000029-250.3125 13.725 33.75-247.8375 280.9125-240.03749971zM231.7625 821.14583362l524.06250029 1.125a29.8125 29.8125 0 0 1 3.6 59.4l-3.75000029 0.225-524.06250029-1.125a29.8125 29.8125 0 0 1-3.6-59.4l3.75000029-0.225z" fill="currentColor" ></path></symbol><symbol id="zigao" viewBox="0 0 1024 1024"><path d="M883.2 384a12.8 12.8 0 0 0 12.8-12.8V311.466667a12.8 12.8 0 0 0-12.8-12.8H396.8a12.8 12.8 0 0 0-12.8 12.8v59.733333a12.8 12.8 0 0 0 12.8 12.8H597.333333v413.866667a12.8 12.8 0 0 0 12.8 12.8h59.733334a12.8 12.8 0 0 0 12.8-12.8V384h200.533333zM257.877333 833.877333a12.8 12.8 0 0 1-22.186666 0L172.373333 723.2a12.8 12.8 0 0 1 11.093334-19.157333h31.317333v-384H183.466667a12.8 12.8 0 0 1-11.093334-19.157334l63.274667-110.72a12.8 12.8 0 0 1 22.186667 0L321.194667 300.8a12.8 12.8 0 0 1-11.093334 19.157333h-31.274666v384h31.274666a12.8 12.8 0 0 1 11.093334 19.157334l-63.274667 110.72z" fill="currentColor" ></path></symbol><symbol id="plfanxiang" viewBox="0 0 1024 1024"><path d="M165.78124999 575.84375001l-28.12499998-5.625c0-3.09375001 69.1875-327.65625001 393.74999998-392.34375001l5.34375001 28.125C230.75 266.46874999 166.34374999 572.75 165.78124999 575.84375001z" fill="currentColor" ></path><path d="M502.4375 134.28124999l-44.71875001 6.18750002 72.00000002 54.28124999-54.28125001 71.71875001 44.4375-6.18750002 54.28125001-71.71874999-71.71875001-54.28125001zM481.625 847.25l-5.625-28.125c305.15625001-61.03125002 369.84375001-367.3125 370.40625001-370.125l28.12499998 5.34375001c-1.125 3.9375-69.75 328.50000001-392.90624999 392.90624999z" fill="currentColor" ></path><path d="M509.75 890.84375001l44.4375-6.18750002-71.71875001-54.28124999 54.00000002-71.71875001-44.43750002 6.46875001-54 71.71875001 71.71875001 53.99999998zM204.9875 817.71875001L808.8875 182.234375l20.390625 19.40625L225.378125 837.06875001z" fill="currentColor" ></path><path d="M152.84374999 767.65625001h117.84375001v117.84375H152.84374999z" fill="currentColor" ></path><path d="M284.75 899.5625H138.78124999v-145.96875001h145.96875001z m-117.84375001-28.125h89.71875001v-89.71875001H166.90624999z"  ></path><path d="M754.4375 131.46874999h117.84375001v117.84375001h-117.84375001z" fill="currentColor" ></path><path d="M886.34375001 263.375h-145.96875001V118.25h145.96875001z m-117.84375002-28.125h89.71875002V146.375h-89.71875002z"  ></path></symbol><symbol id="wenzineirong" viewBox="0 0 1024 1024"><path d="M665.08064222 358.05032204H360.74433279a28.98234129 28.98234129 0 0 0 1e-8 57.9646826h123.18581342v268.09751987a31.1114788 31.1114788 0 0 0 28.9388895 28.98234128 31.1549306 31.1549306 0 0 0 29.02579307-28.98234127v-268.09751989h123.18581343a31.24183417 31.24183417 0 0 0 28.9823413-28.98234128 31.24183417 31.24183417 0 0 0-28.9823413-28.9823413"  ></path><path d="M761.76086616 177.24744034H262.15223026A98.20103646 98.20103646 0 0 0 164.38571167 271.45091247v481.09817506a98.20103646 98.20103646 0 0 0 97.80997039 94.20347214h499.5651841A93.85585785 93.85585785 0 0 0 859.61428833 752.54908753V268.10512495a93.20408107 93.20408107 0 0 0-97.85342216-90.81423282z m34.58762169 566.95890427a38.23757172 38.23757172 0 0 1-40.75777531 38.67208957H270.53842497a38.23757172 38.23757172 0 0 1-40.67087174-38.67208957V280.79304647a38.23757172 38.23757172 0 0 1 40.67087174-38.67208956h485.05228757a38.23757172 38.23757172 0 0 1 40.75777532 38.67208957z" fill="currentColor" ></path></symbol><symbol id="bianji" viewBox="0 0 1024 1024"><path d="M471.99999969 152a40.00000031 40.00000031 0 0 1 0 79.99999969H231.99999969v560.00000062h560.00000062v-240l0.27999938-4.68A40.00000031 40.00000031 0 0 1 872 552.00000031v240a79.99999969 79.99999969 0 0 1-79.99999969 79.99999969H231.99999969a79.99999969 79.99999969 0 0 1-79.99999969-79.99999969V231.99999969a79.99999969 79.99999969 0 0 1 79.99999969-79.99999969z m388.8 11.71999969a40.00000031 40.00000031 0 0 1 0 56.56000031L493.11999969 588.00000031a40.00000031 40.00000031 0 0 1-56.55999938-56.56000031l367.68-367.68a40.00000031 40.00000031 0 0 1 56.55999938 0z" fill="currentColor" ></path></symbol><symbol id="daxiaoxie" viewBox="0 0 1024 1024"><path d="M183.82739258 743.76757813l52.60253906-145.05249024h200.27526856l55.86547851 145.05249023h72.18017579L368.72729492 264.80761719H300.40332031L116.4921875 743.76757813h67.33520508zM417.078125 547.10131836H254.72216797L307.32470703 406.59716797c11.12365723-30.25634766 19.72595215-60.80932615 25.80688477-91.46118164 7.41577148 25.90576172 18.73718262 59.02954102 34.01367187 99.27246094L417.078125 547.10131836z m289.46228028 204.52697754c22.1484375 0.19775391 44.14855958-3.65844729 64.91271972-11.37084962 20.07202148-7.66296387 41.08337403-20.76416016 62.83630371-39.30358886 1.77978516 16.31469727 5.68542481 30.65185547 11.76635742 42.81372071H907.5078125a130.86364747 130.86364747 0 0 1-14.88098144-41.62719727c-2.47192383-14.48547364-3.75732422-49.09240723-3.75732422-103.72192383V519.95959473c0-26.10351563-0.98876953-44.19799805-2.96630859-54.18457032a92.49938965 92.49938965 0 0 0-18.29223633-40.04516602c-8.6517334-10.57983398-22.24731445-19.33044434-40.78674317-26.30126953-18.48999024-6.97082519-42.61596679-10.43151856-72.18017578-10.43151855-29.86083984 0-56.1126709 4.05395508-78.75549316 12.26074219-22.74169922 8.15734864-39.99572754 19.77539065-51.95983887 34.90356445-12.01354981 15.17761231-20.6652832 35.00244141-25.85632324 59.67224122l57.49694824 7.8112793c6.37756348-24.62036133 16.06750489-41.7755127 29.26757812-51.41601565 13.20007325-9.68994141 33.61816406-14.58435059 61.25427247-14.58435057 29.66308594 0 51.95983887 6.67419434 67.03857421 19.92370605 11.07421874 9.83825684 16.61132813 26.69677734 16.61132812 50.62500001l-0.29663087 15.37536621c-22.49450684 7.8112793-57.44750977 14.58435059-104.90844725 20.26977539a422.10571289 422.10571289 0 0 0-52.30590821 8.80004883 142.87719727 142.87719727 0 0 0-42.31933593 19.28100585c-12.65625001 8.70117188-23.03833008 20.26977539-30.30578613 33.81591797a94.18029786 94.18029786 0 0 0-11.66748047 46.57104492c0 28.97094727 10.28320313 52.80029297 30.75073242 71.33972169 20.46752929 18.68774414 49.7845459 27.98217773 87.85217286 27.98217772z m14.04052733-46.07666016c-22.84057617 0-40.19348145-5.19104004-52.05871581-15.6225586a50.08117676 50.08117676 0 0 1-17.84729005-39.25415039 50.18005372 50.18005372 0 0 1 31.39343262-47.06542968c10.03601074-4.35058595 27.09228516-8.25622559 51.31713868-11.71691894 42.71484375-6.13037109 74.70153809-13.54614258 96.05895996-22.24731446v21.60461425c0 25.90576172-3.1640625 45.48339844-9.49218751 58.73291015-8.30566406 17.25402833-21.25854492 30.8001709-38.90808105 40.7373047a121.27258301 121.27258301 0 0 1-60.46325684 14.83154297z" fill="currentColor" ></path></symbol><symbol id="fontwidth" viewBox="0 0 1024 1024"><path d="M866.6 218.6c-4.5-10.8-11.25-20.7-19.8-28.8-8.1-8.55-18-14.85-28.35-19.8-11.7-4.95-23.4-7.2-35.55-7.2H237.95c-12.6 0-24.75 2.25-35.55 7.2s-20.7 11.7-28.8 19.8c-8.55 8.1-14.85 18-19.8 28.8-4.95 10.8-7.2 22.95-7.2 35.55v544.95c0 12.15 2.25 24.3 7.2 35.55 4.95 10.35 11.7 20.25 19.8 28.35 8.1 9 18 15.3 28.8 19.8 10.8 4.95 22.95 7.2 35.55 7.2h544.95c12.15 0 24.3-2.25 35.55-7.2 10.35-4.5 20.25-11.25 28.35-19.8 9-8.1 15.3-18 19.8-28.35 4.95-11.7 7.2-23.4 7.2-35.55V254.15c0-12.6-2.25-24.75-7.2-35.55z m-65.7 580.5c0 4.95-1.8 9.45-5.4 12.6-3.15 3.6-7.65 5.4-12.6 5.4H237.95c-4.95 0-9.45-1.8-13.05-5.4-3.15-3.15-5.4-7.65-5.4-12.6V254.15c0-4.95 2.25-9.45 5.4-13.05 3.6-3.15 8.1-5.4 13.05-5.4h544.95c4.95 0 9.45 1.8 12.6 5.4 3.6 3.6 5.4 8.1 5.4 13.05v544.95z" fill="currentColor" ></path><path d="M621.8 713.6l-31.05-31.05c-7.2-7.2-18.9-7.2-25.65 0-7.2 7.2-7.2 18.45 0 25.65l2.7 2.7H449l0.45-0.45c6.75-7.2 6.75-18.45 0-25.65-7.2-7.2-18.45-7.2-25.65 0l-27.45 27.45c-5.4 2.25-9 7.65-9 13.95v1.35c-1.35 5.85 0.45 12.15 4.95 16.65l31.05 31.05c7.2 7.2 18.45 7.2 25.65 0 7.2-7.2 7.2-18.45 0-25.65l-2.7-2.7h121.5l-2.7 2.7c-7.2 7.2-7.2 18.45 0 25.65 7.2 7.2 18.45 7.2 25.65 0l31.05-31.05c4.05-4.05 5.85-9.9 4.95-15.3 0.9-5.4-0.9-10.8-4.95-15.3zM617.3 272.15h-220.5c-20.25 0-36.45 16.2-36.45 36.45s16.2 36.45 36.45 36.45h73.8v290.7c0 20.25 16.65 36.45 36.45 36.45 20.25 0 36.45-16.2 36.45-36.45V345.05h73.8c20.25 0 36.45-16.2 36.45-36.45s-16.2-36.45-36.45-36.45z"  ></path></symbol><symbol id="fontheight" viewBox="0 0 1024 1024"><path d="M871.55 218.6c-4.5-10.8-11.25-20.7-19.8-28.8-8.1-8.55-18-14.85-28.35-19.8-11.7-4.95-23.4-7.2-35.55-7.2H242.9c-12.6 0-24.75 2.25-35.55 7.2s-20.7 11.7-28.8 19.8c-8.55 8.1-14.85 18-19.8 28.8-4.95 10.8-7.2 22.95-7.2 35.55v544.95c0 12.15 2.25 24.3 7.2 35.55 4.95 10.35 11.7 20.25 19.8 28.35 8.1 9 18 15.3 28.8 19.8 10.8 4.95 22.95 7.2 35.55 7.2h544.95c12.15 0 24.3-2.25 35.55-7.2 10.35-4.5 20.25-11.25 28.35-19.8 9-8.1 15.3-18 19.8-28.35 4.95-11.7 7.2-23.4 7.2-35.55V254.15c0-12.6-2.25-24.75-7.2-35.55z m-71.1 593.1c-3.15 3.6-7.65 5.4-12.6 5.4H242.9c-4.95 0-9.45-1.8-13.05-5.4-3.15-3.15-5.4-7.65-5.4-12.6V254.15c0-4.95 2.25-9.45 5.4-13.05 3.6-3.15 8.1-5.4 13.05-5.4h544.95c4.95 0 9.45 1.8 12.6 5.4 3.6 3.6 5.4 8.1 5.4 13.05v544.95c0 4.95-1.8 9.45-5.4 12.6z" fill="currentColor" ></path><path d="M719.9 326.15h-220.5c-20.25 0-36.45 16.2-36.45 36.45s16.2 36.45 36.45 36.45h73.8v290.7c0 20.25 16.2 36.45 36.45 36.45s36.45-16.2 36.45-36.45V399.05h73.8c20.25 0 36.45-16.2 36.45-36.45s-16.2-36.45-36.45-36.45zM371.15 367.1c-3.6-3.6-8.1-5.4-13.05-5.4-4.5 0-9.45 1.8-13.05 5.4L278.9 433.25c-6.75 7.2-6.75 18.45 0 25.65 7.2 7.2 18.45 7.2 25.65 0l35.55-35.55v249.75c0 9.9 8.1 18 18 18s18-8.1 18-18V423.35l35.55 35.55c7.2 7.2 18.45 7.2 25.65 0 7.2-7.2 7.2-18.45 0-25.65L371.15 367.1z"  ></path></symbol><symbol id="fuzhixuanzhuan" viewBox="0 0 1024 1024"><path d="M772.92265625 251.07734375Q664.84443359 143 512 143c-17.39707031 0-31.5 14.10292969-31.5 31.5 0 17.39707031 14.10292969 31.5 31.5 31.5q126.74882812 0 216.37441406 89.62558594Q818 385.25029297 818 512c0 17.39707031 14.10292969 31.5 31.5 31.5 17.39707031 0 31.5-14.10292969 31.5-31.5q0-152.8453125-108.07734375-260.92265625zM295.62558594 728.37441406Q206 638.74882812 206 512c0-17.39707031-14.10292969-31.5-31.5-31.5-17.39707031 0-31.5 14.10292969-31.5 31.5q0 152.84443359 108.07734375 260.92265625Q359.1546875 881 512 881c17.39707031 0 31.5-14.10292969 31.5-31.5 0-17.39707031-14.10292969-31.5-31.5-31.5q-126.74970703 0-216.37441406-89.62558594zM174.5 287c0 62.13164063 50.36835937 112.5 112.5 112.5 62.13164063 0 112.5-50.36835937 112.5-112.5 0-62.13164063-50.36835937-112.5-112.5-112.5-62.13164063 0-112.5 50.36835937-112.5 112.5z m63 0q0-20.50400391 14.4984375-35.0015625Q266.49599609 237.5 287 237.5q20.50400391 0 35.0015625 14.4984375Q336.5 266.496875 336.5 287q0 20.50400391-14.4984375 35.0015625Q307.50488281 336.5 287 336.5q-20.50400391 0-35.0015625-14.4984375Q237.5 307.50400391 237.5 287zM579.5 714.5c0 74.55849609 60.44150391 135 135 135 74.55761719 0 135-60.44150391 135-135 0-74.55761719-60.44238281-135-135-135-74.55849609 0-135 60.44238281-135 135z m63 0q0-29.82304688 21.08847656-50.91152344T714.5 642.5q29.82304688 0 50.91152344 21.08847656T786.5 714.5q0 29.82304688-21.08847656 50.91152344T714.5 786.5q-29.82304688 0-50.91152344-21.08847656T642.5 714.5z" fill="currentColor" ></path></symbol><symbol id="shangxiaduiqi" viewBox="0 0 1024 1024"><path d="M884.65625027 796.765625H139.34374973c-3.51562527 0-10.546875 3.51562527-10.546875 7.03124973v52.734375c0 3.51562527 3.51562527 7.03124973 10.546875 7.03125054h745.31250054c3.51562527 0 10.546875-3.51562527 10.546875-7.03125054v-52.734375c0-3.51562527-7.03124973-7.03124973-10.546875-7.03124973z m0-636.32812527H139.34374973c-3.51562527 0-10.546875 3.51562527-10.546875 7.03125054v52.734375c0 3.51562527 3.51562527 7.03124973 10.546875 7.03124973h745.31250054c3.51562527 0 10.546875-3.51562527 10.546875-7.03124973V167.46875027c0-3.51562527-7.03124973-7.03124973-10.546875-7.03125054z m-260.15625054 232.03125c7.03124973 0 10.546875-7.03124973 7.03125054-10.546875l-116.015625-112.49999973c-3.51562527-3.51562527-10.546875-3.51562527-14.06250027 0L388.95312527 381.92187473c-3.51562527 3.51562527 0 10.546875 7.03124973 10.546875h77.34375027v235.54687527h-70.31250054c-7.03124973 0-10.546875 7.03124973-7.03124973 10.546875l116.015625 112.49999973c3.51562527 3.51562527 10.546875 3.51562527 14.06250027 0l116.015625-112.49999973c3.51562527-3.51562527 0-10.546875-7.03125054-10.546875h-77.34374946V392.46874973h66.79687446z" fill="currentColor" ></path></symbol><symbol id="duochongfuzhi" viewBox="0 0 1024 1024"><path d="M509.8 139.7l190.5 109.6 0.2 196.5 173.2 99.7 0.2 219.8-190.2 110.1-172.4-99.2-171.5 99.2-190.5-109.6-0.2-219.9 170.7-98.8-0.3-197.3z"  ></path><path d="M520 527.5V365l-10 5.8-10-5.8v162.2l10.3 5.9zM339.5 666.9l-10-5.7v162.1l10.3 5.9 9.7-5.6V661.2zM693.4 823.6V661.2l-2 1.1c-1.6 0.9-3.3 1.3-5 1.3-3.5 0-6.8-1.8-8.7-5-2.5-4.3-1.4-9.6 2.2-12.7-3.8 1.4-6.6 5.1-6.6 9.4v167.9l10.3 5.9 9.8-5.5z" fill="currentColor" ></path><path d="M825.1 563.7l8.4 4.8c-1.9-3.1-5.1-4.8-8.4-4.8zM833.7 568.9v9.5c1.6-2.9 1.7-6.5 0-9.5zM656.7 628.5l-8.7-5c-4.8-2.8-10.9-1.1-13.7 3.7-2.8 4.8-1.1 10.9 3.7 13.7l8.7 5c1.6 0.9 3.3 1.3 5 1.3 3.5 0 6.8-1.8 8.7-5 2.7-4.8 1.1-10.9-3.7-13.7zM613.3 603.6l-8.7-5c-4.8-2.8-10.9-1.1-13.7 3.7-2.8 4.8-1.1 10.9 3.7 13.7l8.7 5c1.6 0.9 3.3 1.3 5 1.3 3.5 0 6.8-1.8 8.7-5 2.8-4.8 1.1-10.9-3.7-13.7z" fill="currentColor" ></path><path d="M833.6 568.7c0-0.1-0.1-0.1-0.1-0.2l-8.4-4.8c-1.8 0-3.5 0.4-5.2 1.3l-8.7 5c-4.8 2.8-6.4 8.9-3.7 13.7 1.9 3.2 5.2 5 8.7 5 1.7 0 3.4-0.4 5-1.3l8.7-5c1.7-1 2.9-2.3 3.8-3.9V569c0-0.2-0.1-0.3-0.1-0.3zM690 640l-8.7 5c-0.5 0.3-1 0.6-1.4 1-3.7 3.1-4.7 8.4-2.2 12.7 1.9 3.2 5.2 5 8.7 5 1.7 0 3.4-0.4 5-1.3l2-1.1 6.7-3.9c4.8-2.8 6.4-8.9 3.7-13.7-2.9-4.8-9-6.5-13.8-3.7zM570 578.7l-8.7-5c-4.8-2.8-10.9-1.1-13.7 3.7-2.8 4.8-1.1 10.9 3.7 13.7l8.7 5c1.6 0.9 3.3 1.3 5 1.3 3.5 0 6.8-1.8 8.7-5 2.7-4.8 1-11-3.7-13.7zM776.6 590l-8.7 5c-4.8 2.8-6.4 8.9-3.7 13.7 1.9 3.2 5.2 5 8.7 5 1.7 0 3.4-0.4 5-1.3l8.7-5c4.8-2.8 6.4-8.9 3.7-13.7-2.8-4.8-8.9-6.5-13.7-3.7zM733.3 615l-8.7 5c-4.8 2.8-6.4 8.9-3.7 13.7 1.9 3.2 5.2 5 8.7 5 1.7 0 3.4-0.4 5-1.3l8.7-5c4.8-2.8 6.4-8.9 3.7-13.7-2.8-4.8-8.9-6.5-13.7-3.7z" fill="currentColor" ></path><path d="M873.7 545.5l-173.2-99.7-0.2-196.5-190.5-109.6-190.3 110.1 0.2 197.3L149 546l0.3 219.8 190.5 109.7 171.4-99.3 172.4 99.3 190.2-110.1-0.1-219.9zM509.8 185.9l140.4 80.8-140.3 81L369.5 267l140.3-81.1zM339.3 482l140.4 80.8-140.3 81L199 563.1 339.3 482z m10.2 341.6l-9.7 5.6-10.3-5.9-140.2-80.7-0.2-162.1 140.4 80.7 10 5.8 10-5.8 140.4-81 0.2 162.1-140.6 81.3z m160.8-290.5l-10.3-5.9-140.2-80.7-0.2-162.1L500 365l10 5.8 10-5.8 140.4-81 0.2 162.1L520 527.5l-9.7 5.6z m323.6 209.1l-140.6 81.4-9.7 5.6-10.3-5.9-140.2-80.7L533 569l150.3-87 141.9 81.7c3.3 0.1 6.6 1.8 8.4 4.8l0.2 0.1v0.3c1.7 3.1 1.6 6.7 0 9.5l0.1 163.8z" fill="currentColor" ></path></symbol><symbol id="wenzi-zhuanhuan" viewBox="0 0 1024 1024"><path d="M231.99999969 632v79.99999969c0 42.16000031 37.99999969 79.99999969 80.00000062 80.00000062h120v79.99999969H312.00000031a160.00000031 160.00000031 0 0 1-160.00000031-160.00000031v-79.99999969h79.99999969z m520.00000031-199.99999969l175.99999969 439.99999969h-86.19999938l-48.04000031-120h-163.60000031l-47.95999969 120h-86.16L672.00000031 432.00000031h79.99999969z m-40.00000031 115.39999969L662.12 672.00000031h99.67999969L711.99999969 547.4zM152 152h240a120 120 0 0 1 89.4 199.99999969A120 120 0 0 1 392 552.00000031H152V152z m240 240H231.99999969v79.99999969h160.00000031a40.00000031 40.00000031 0 0 0 0-79.99999969z m319.99999969-240a160.00000031 160.00000031 0 0 1 160.00000031 160.00000031v79.99999969h-79.99999969V312.00000031a79.99999969 79.99999969 0 0 0-80.00000062-80.00000062h-120V152h120zM392 231.99999969H231.99999969v80.00000062h160.00000031a40.00000031 40.00000031 0 0 0 0-80.00000062z" fill="currentColor" ></path></symbol><symbol id="jiaodufuzhi" viewBox="0 0 1024 1024"><path d="M833.91864013 715.19213867a48.90701294 48.90701294 0 0 0-43.08563232 25.4360962H506.7718811a169.63577271 169.63577271 0 0 0 1.14944458-76.08581544 184.0965271 184.0965271 0 0 0-37.5238037-75.9375A259.55200195 259.55200195 0 0 0 420.60061646 541.66308594l209.75509643-234.7833252a49.24072266 49.24072266 0 1 0-34.7428894-32.4810791L201.01962281 716.19326782a49.2036438 49.2036438 0 1 0-9.86297608 97.40615845 48.90701294 48.90701294 0 0 0 43.08563233-25.43609619h556.62780761a49.2036438 49.2036438 0 1 0 43.08563232-72.97119141z m17.61245729 49.2036438a17.61245727 17.61245727 0 1 1-17.61245729-17.61245728 17.64953614 17.64953614 0 0 1 17.61245729 17.61245728z m-642.79907227 0a17.61245727 17.61245727 0 1 1-17.61245728-17.61245728 17.64953614 17.64953614 0 0 1 17.64953614 17.61245728z m433.82263183-522.81188965a17.61245727 17.61245727 0 1 1-17.61245727 17.61245728 17.64953614 17.64953614 0 0 1 17.46414185-17.53829956z m-237.67547607 317.83996582a236.30355835 236.30355835 0 0 1 47.23846435 43.90136719c33.63052368 41.82495117 43.86428833 87.98812867 30.44174195 137.19177246H242.91873169z" fill="currentColor" ></path></symbol></svg>',(D=>{var o=(t=(t=document.getElementsByTagName("script"))[t.length-1]).getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var c,u,a,r,i,s=function(d,l){l.parentNode.insertBefore(d,l)};if(o&&!D.__iconfont__svg__cssinject__){D.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(d){console&&console.log(d)}}c=function(){var d,l=document.createElement("div");l.innerHTML=D._iconfont_svg_string_4684204,(l=l.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",l=l,(d=document.body).firstChild?s(l,d.firstChild):d.appendChild(l))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(c,0):(u=function(){document.removeEventListener("DOMContentLoaded",u,!1),c()},document.addEventListener("DOMContentLoaded",u,!1)):document.attachEvent&&(a=c,r=D.document,i=!1,n(),r.onreadystatechange=function(){r.readyState=="complete"&&(r.onreadystatechange=null,e())})}function e(){i||(i=!0,a())}function n(){try{r.documentElement.doScroll("left")}catch(d){return void setTimeout(n,50)}e()}})(window);var Yo=(D=>(D[D.随块=0]="随块",D[D.红色=1]="红色",D[D.黄色=2]="黄色",D[D.绿色=3]="绿色",D[D.青色=4]="青色",D[D.蓝色=5]="蓝色",D[D.洋红色=6]="洋红色",D[D.白色=7]="白色",D[D.随层=256]="随层",D))(Yo||{});function U1(){return ot(this,null,function*(){const D=new w.MxCADUiPrEntity;D.setMessage(O("请选择源对象"));const o=yield D.go();if(!o.isValid())return;const t=o.getMcDbEntity();t.highlight(!0),Tn.forEach(u=>{if(u.isChecked&&!u.isReadOnly&&u.value)if(u.value=="trueColor"){u.entProperty=t.colorIndex>8&&t.colorIndex<256?t.colorIndex:Yo[t.colorIndex];const a=new w.McCmColor;a.colorIndex=t.colorIndex,a.setColorIndex(t.colorIndex),u.color=`rgb(${a.red},${a.green},${a.blue})`}else if(u.value==="n")u.entProperty=t.trueColor.n;else if(u.value==="lineweight")switch(t.lineweight){case w.McDb.LineWeight.kLnWtByLayer:u.entProperty=O("随层");break;case w.McDb.LineWeight.kLnWtByBlock:u.entProperty=O("随块");break;case w.McDb.LineWeight.kLnWtByLwDefault:u.entProperty=O("缺省");break;default:u.entProperty=t.lineweight;break}else u.value==="linetypeScale"?u.entProperty=t.linetypeScale.toFixed(3):u.entProperty=t[u.value]});let c="";for([Tn,Xn].forEach(u=>{c+=u.filter(a=>a.isChecked).map(a=>a.name.replace(/\s*\([^)]*\)/g,"")).join(" "),c+=" "}),lt.MxFun.acutPrintf(O("当前激活的设置：")+c);;){const u=new w.MxCADUiPrPoint;u.setMessage(O("选择目标对象")),u.setKeyWords("[设置(S)]"),u.setDisableOsnap(!0),u.setDisableDynInput(!0),u.disableAllTrace(!0);const a=yield u.go();if(u.getStatus()==lt.MrxDbgUiPrBaseReturn.kKeyWord)u.isKeyWordPicked("S")&&(sn.value="MatchPropertiesDialog",Ie.showDialog(!0,{title:O("特性设置"),isShowFooterBtn:!1}));else if(u.getStatus()==lt.MrxDbgUiPrBaseReturn.kCancel||u.getStatus()==lt.MrxDbgUiPrBaseReturn.kNone)break;if(a){const r=w.MxCADUtility.findEntAtPoint(a.x,a.y,a.z);if(r.isValid())Zo(r,t);else{u.setUserDraw((e,n)=>{const d=[a,new w.McGePoint3d(a.x,e.y),e,new w.McGePoint3d(e.x,a.y)];let l=new w.McDbPolyline;l.isClosed=!0,d.forEach(f=>l.addVertexAt(f)),n.setColor(16777215),n.drawMcDbEntity(l);const h=new THREE.BufferGeometry;h.setFromPoints([new THREE.Vector3(a.x,a.y,a.z),new THREE.Vector3(a.x,e.y,e.z),new THREE.Vector3(e.x,e.y,e.z),new THREE.Vector3(e.x,a.y,a.z)]),h.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),h.setIndex([0,1,2,0,2,3]);const p=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),g=new THREE.Mesh(h,p);n.drawEntity(g)});const i=yield u.go();if(!i)break;const s=new w.MxCADSelectionSet;yield s.crossingSelect(a.x,a.y,i.x,i.y),s.forEach(e=>{Zo(e,t)})}}}t.highlight(!1),w.MxCpp.getCurrentMxCAD().updateDisplay()})}const Zo=(D,o)=>{const t=D.getMcDbEntity();Tn.forEach(c=>{c.isChecked&&!c.isReadOnly&&(c.value==="trueColor"?(t.trueColor=o.trueColor,t.colorIndex=o.colorIndex):c.value==="n"?t.trueColor.n=o.trueColor.n:t[c.value]=o[c.value])}),Xn.forEach(c=>{if(c.isChecked&&!c.isReadOnly){if(c.value==="DIM"&&t instanceof w.McDbDimension&&o instanceof w.McDbDimension)t.dimensionStyle=o.dimensionStyle,t.elevation=o.elevation,t.textRotation=o.textRotation,t.textAttachment=o.textAttachment,t.horizontalRotation=o.horizontalRotation;else if(c.value==="TEXT"&&(t instanceof w.McDbMText||t instanceof w.McDbText)&&(o instanceof w.McDbMText||o instanceof w.McDbText))t.textStyleId=o.textStyleId,t instanceof w.McDbText&&o instanceof w.McDbText&&(t.oblique=o.oblique,t.rotation=o.rotation,t.height=o.height,t.widthFactor=o.widthFactor,t.horizontalMode=o.horizontalMode,t.verticalMode=o.verticalMode),t instanceof w.McDbMText&&o instanceof w.McDbMText&&(t.rotation=o.rotation,t.width=o.width,t.textHeight=o.textHeight,t.attachment=o.attachment);else if(c.value==="PL"&&t instanceof w.McDbPolyline&&o instanceof w.McDbPolyline)t.isClosed=o.isClosed,t.constantWidth=o.constantWidth;else if(c.value==="HATCH"&&t instanceof w.McDbHatch&&o instanceof w.McDbHatch){t.clearPatternDefinition();const u=o.numPatternDefinitions;if(u)for(let a=0;a<u;a++){const r=o.getPatternDefinitionAt(a);t.addPatternDefinition(r.angle,r.baseX,r.baseY,r.offsetX,r.offsetY,r.aryDashes)}t.setPattern(o.patternType(),o.patternName()),t.patternAngle=o.patternAngle,t.patternScale=o.patternScale,t.patternSpace=o.patternSpace,t.patternDouble=o.patternDouble,t.setHatchStyle(o.hatchStyle())}}})};function H1(){return ot(this,null,function*(){sn.value="ExtoolsDialog",Ie.showDialog(!0,{title:O("扩展工具")})})}Yu(),Bf(),Kf(),p1(),tf(),F1(),MxPluginContext.addCommand("Mx_ShowMoreExtools",H1);const Tn=b.reactive([{name:O("颜色(C)"),key:"C",value:"trueColor",isChecked:!0,isReadOnly:!1},{name:O("图层(L)"),key:"L",value:"layer",isChecked:!0,isReadOnly:!1},{name:O("线型(Y)"),key:"Y",value:"linetype",isChecked:!0,isReadOnly:!1},{name:O("线型比例(I)"),key:"I",value:"linetypeScale",isChecked:!0,isReadOnly:!1},{name:O("线宽(W)"),key:"W",value:"lineweight",isChecked:!0,isReadOnly:!1},{name:O("透明度(R)"),key:"R",value:"n",isChecked:!0,isReadOnly:!1},{name:O("厚度(T)"),key:"T",value:"",isReadOnly:!0,isChecked:!1},{name:O("打印样式(S)"),key:"S",value:"",isReadOnly:!0,isChecked:!1}]),Xn=b.reactive([{name:O("标注(D)"),key:"D",value:"DIM",isChecked:!0,isReadOnly:!1},{name:O("文字(X)"),key:"X",value:"TEXT",isChecked:!0,isReadOnly:!1},{name:O("图案填充(H)"),key:"H",value:"HATCH",isChecked:!0,isReadOnly:!1},{name:O("多段线(P)"),key:"P",value:"PL",isChecked:!0,isReadOnly:!1},{name:O("视口(V)"),key:"V",value:"",isReadOnly:!0,isChecked:!1},{name:O("表格(B)"),key:"B",value:"",isReadOnly:!0,isChecked:!1},{name:O("材质(M)"),key:"M",value:"",isReadOnly:!0,isChecked:!1},{name:O("阴影显示(O)"),key:"O",value:"",isReadOnly:!0,isChecked:!1},{name:O("多重引线(U)"),key:"U",value:"",isReadOnly:!0,isChecked:!1}]);MxPluginContext.addCommand("Mx_MatchProperties",U1),setTimeout(()=>ot(this,null,function*(){var t;const D=yield MxPluginContext.getUiConfig(),o={isResponsive:!0,icon:"texingpipei",prompt:O("特性匹配"),cmd:"Mx_MatchProperties"};on.on("change",()=>{o.prompt=O("特性匹配")}),(t=D.mTopButtonBarData)==null||t.push(o)}),500);function ve(D,o=2){if(o<0&&(o=2),isNaN(D))return"NaN";const t=D.toString().includes("e")?D.toFixed(o+2):D.toString(),[c,u=""]=t.split(".");if(o==0)return c;if(Number(c)!==0){const s=u.padEnd(o,"0").slice(0,o);return`${c}.${s}`}let a=0;for(;a<u.length&&u[a]==="0";)a++;const r=a+o;return`0.${u.slice(0,r).padEnd(r,"0")}`}class xn extends qe{constructor(o){super(o),this.ptArr=[],this.height=0,this.dbulges=[],this.isReactFlag=!1,this.lineWidth=15,this.scale=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.isMultipleArea=!1,this.ptArrArr=[],this.typeName="未分类",this.areaVal=0,this.weeklyVal=0,this.dimSettingForm=[]}create(o){return new xn(o)}getTypeName(){return"MxAreaComment"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set isReact(o){this.isReactFlag=o}get isReact(){return this.isReactFlag}set dimWidth(o){this.lineWidth=o}get dimWidth(){return this.lineWidth}set dimScale(o){this.scale=o}get dimScale(){return this.scale}get dimType(){return te.Area}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}get areaValue(){return this.areaVal}get weeklyValue(){return this.weeklyVal}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}dwgInFields(o){this.ptArr=o.readPoints("ptArr").val,this.pt=o.readPoint("pt").val;const t=o.readString("dbulges").val;if(this.dbulges=t.split(",").map(Number),this.isReactFlag=!!o.readLong("isReactFlag").val,this.lineWidth=o.readDouble("lineWidth").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.scale=o.readDouble("scale").val,this.isMultipleArea=!!o.readLong("isMultipleArea").val,this.isMultipleArea){const c=JSON.parse(o.readString("dbulgesArr").val),u=JSON.parse(o.readString("pointsArr").val);c.forEach((a,r)=>{this.ptArrArr.push({points:u[r].map(i=>new w.McGePoint3d(i.x,i.y)),dbulges:a})})}return this.typeName=o.readString("typeName").val,this.height=o.readDouble("height").val,this.areaVal=o.readDouble("areaVal").val,this.weeklyVal=o.readDouble("weeklyVal").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){o.writePoints("ptArr",this.ptArr),o.writePoint("pt",this.pt);const t=this.dbulges.toString();if(o.writeString("dbulges",t),o.writeLong("isReactFlag",this.isReactFlag?1:0),o.writeDouble("lineWidth",this.lineWidth),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeDouble("scale",this.scale),o.writeLong("isMultipleArea",this.isMultipleArea?1:0),this.isMultipleArea){const c=this.ptArrArr.map(r=>r.dbulges);o.writeString("dbulgesArr",JSON.stringify(c));const u=this.ptArrArr.map(r=>r.points),a=[];u.forEach(r=>{const i=r.map(s=>({x:s.x,y:s.y}));a.push(i)}),o.writeString("pointsArr",JSON.stringify(a))}return o.writeString("typeName",this.typeName),o.writeDouble("height",this.height),o.writeDouble("areaVal",this.areaVal),o.writeDouble("weeklyVal",this.weeklyVal),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.ptArr.forEach((a,r)=>{r===o&&(a.x+=t,a.y+=c,a.z+=u)}),o===this.ptArr.length&&(this.pt.x+=t,this.pt.y+=c,this.pt.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return this.ptArr.forEach(t=>{o.append(t)}),o.append(this.pt),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[];let t=0,c=0,u=0;if(this.isMultipleArea)this.ptArrArr.forEach(d=>{const l=new w.McDbPolyline;l.isClosed=!0,l.lineweight=this.lineWidth,d.points.forEach((g,f)=>{l.addVertexAt(g,d.dbulges[f])}),t+=l.getArea().val,c+=l.getLength().val;const{minPt:h,maxPt:p}=l.getBoundingBox();u<h.distanceTo(p)&&(u=h.distanceTo(p)),o.push(l)});else{const d=new w.McDbPolyline;d.isClosed=!0,this.isReactFlag?(d.addVertexAt(this.ptArr[0]),d.addVertexAt(new w.McGePoint3d(this.ptArr[1].x,this.ptArr[0].y)),d.addVertexAt(this.ptArr[1]),d.addVertexAt(new w.McGePoint3d(this.ptArr[0].x,this.ptArr[1].y))):this.ptArr.forEach((p,g)=>{d.addVertexAt(p,this.dbulges[g])}),d.lineweight=this.lineWidth,t=d.getArea().val,c=d.getLength().val,o.push(d);const{minPt:l,maxPt:h}=d.getBoundingBox();u=Math.abs(h.x-l.x)}const a=new w.McDbMText;let r="";const i=t*this.scale*this.scale,s=this.dimSettingForm.find(d=>d.type===te.Area)||{showType:se.ActualValue,fixedNum:2};s.showType===se.ActualValue?r+=`面积：${ve(i,s.fixedNum)}\\P`:s.showType===se.SquareMeter&&(r+=`面积：${ve(i*1e-6,s.fixedNum)}m{\\S2^;}\\P`);const e=c*this.scale,n=this.dimSettingForm.find(d=>d.type===te.Length)||{showType:se.ActualValue,fixedNum:2};return n.showType===se.ActualValue?r+=`周长：${ve(e,n.fixedNum)}`:n.showType===se.SquareMeter&&(r+=`周长：${ve(e*.001,n.fixedNum)}m`),a.contents=r,a.attachment=w.McDb.AttachmentPoint.kMiddleCenter,a.location=this.pt,this.height||(this.height=u/10),a.textHeight=this.height,o.push(a),this.areaVal=Number((t*this.scale*this.scale).toFixed(s.fixedNum)),this.weeklyVal=Number((c*this.scale).toFixed(n.fixedNum)),o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}setPoint(o){this.assertWrite(),this.pt=o.clone()}addVertex(o,t){this.assertWrite(),this.ptArr.push(o.clone()),this.dbulges.push(t||0)}getPoint(){return this.pt}setPtArrArr(o){this.ptArrArr=o,this.isMultipleArea=!0}getPtArrArr(){return this.ptArrArr}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function W1(){return ot(this,null,function*(){const D=[],o=new w.MxCADUiPrPoint;o.setMessage(Gt("请选择面积的第一个点"));const t=yield o.go();if(!t)return;for(D.push(t);;){const r=new w.MxCADUiPrPoint;r.setMessage(Gt("请选择下一个点")),r.setKeyWords("[回退(B)/结束(O)]"),r.setUserDraw((e,n)=>{n.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16)));const d=new w.McDbPolyline;D.forEach(l=>{d.addVertexAt(l,0,.1,.1)}),d.addVertexAt(e),n.drawMcDbEntity(d)});const i=yield r.go(),s=r.keyWordPicked();if(s==="B")D.length>1&&D.pop();else{if(s==="O")break;if(!i)break;D.push(i)}}if(D.length<3)return;const c=new xn;c.dimScale=Xe.value,c.setDimSettingForm(Oe),De.value&&(c.dimTextHeight=De.value),D.forEach(r=>{c.addVertex(r,0)});const u=new w.MxCADUiPrPoint;u.setMessage(Gt("请选择面积标注的位置")),u.setDisableOsnap(!0),u.setDisableDynInput(!0),u.disableAllTrace(!0),u.setUserDraw((r,i)=>{i.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),c.setPoint(r),i.drawMcDbEntity(c)});const a=yield u.go();a&&(c.setPoint(a),Ke(c))})}function G1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择矩形的角点1"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;t.setMessage(Gt("请选择矩形的角点2")),t.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16)));const e=new w.McDbPolyline;e.isClosed=!0,e.addVertexAt(o),e.addVertexAt(new w.McGePoint3d(i.x,o.y)),e.addVertexAt(i),e.addVertexAt(new w.McGePoint3d(o.x,i.y)),s.drawMcDbEntity(e)});const c=yield t.go();if(!c)return;const u=new xn;u.dimScale=Xe.value,u.setDimSettingForm(Oe),De.value&&(u.dimTextHeight=De.value),u.isReact=!0,u.addVertex(o),u.addVertex(c);const a=new w.MxCADUiPrPoint;a.setMessage(Gt("请设置面积标注的位置")),a.setDisableOsnap(!0),a.setDisableDynInput(!0),a.disableAllTrace(!0),a.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),u.setPoint(i),s.drawMcDbEntity(u)});const r=yield a.go();r&&(u.setPoint(r),Ke(u))})}class zr extends qe{constructor(o){super(o),this.point=new w.McGePoint3d,this.position=new w.McGePoint3d,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.height=lt.MxFun.screenCoordLong2Doc(30),this.typeName="未分类",this.fixedNum=2,this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new zr(o)}getTypeName(){return"MxCoordinateLabeling"}set coordinatePoint(o){this.point=o.clone()}get coordinatePoint(){return this.point}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}get dimType(){return te.Coordinate}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}dwgInFields(o){return this.point=o.readPoint("point").val,this.position=o.readPoint("position").val,this.height=o.readDouble("height").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.fixedNum=o.readDouble("fixedNum").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("point",this.point),o.writePoint("position",this.position),o.writeDouble("height",this.height),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeDouble("fixedNum",this.fixedNum),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o===0?(this.point.x+=t,this.point.y+=c,this.point.z+=u):(this.position.x+=t,this.position.y+=c,this.position.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.point),o.append(this.position),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[],t=this.position.x<this.point.x,c=new w.McDbMText;c.textHeight=this.height,c.attachment=t?w.McDb.AttachmentPoint.kMiddleRight:w.McDb.AttachmentPoint.kMiddleLeft;const u=this.dimSettingForm.find(l=>l.type===te.Coordinate)||{showType:se.ActualValue,fixedNum:2};u.showType===se.ActualValue?c.contents=`X=${ve(this.point.x,u.fixedNum)}\\PY=${ve(this.point.y,u.fixedNum)}`:u.showType===se.SquareMeter&&(c.contents=`X=${ve(this.point.x*.001,u.fixedNum)}\\PY=${ve(this.point.y*.001,u.fixedNum)}`);const a=w.McGeVector3d.kXAxis.clone().mult(c.textHeight/3);c.location=this.position.clone().addvec(t?a.negate():a),o.push(c),c.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),c.reCompute();const{minPt:r,maxPt:i}=w.MxCADUtility.getTextEntityBox(c,!1),s=Math.abs(i.x-r.x),e=t?this.position.x-s*1.2:this.position.x+s*1.2,n=new w.McGePoint3d(e,this.position.y),d=new w.McDbPolyline;return d.addVertexAt(this.point),d.addVertexAt(this.position),d.addVertexAt(n),o.push(d),o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}setPosition(o){this.assertWrite(),this.position=o.clone()}getPosition(){return this.position}}function q1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择目标坐标点"));const o=yield D.go();if(!o)return;const t=new zr;t.coordinatePoint=o,t.setDimSettingForm(Oe);const c=new w.MxCADUiPrPoint;c.setMessage(Gt("请指定标注位置")),c.setUserDraw((a,r)=>{r.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),t.setPosition(a),r.drawMcDbEntity(t)});const u=yield c.go();u&&(t.setPosition(u),Ke(t))})}function X1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择一条已知直线的起点"));const o=yield D.go();if(!o)return;D.setMessage(Gt("请选择已知直线的终点")),D.setUserDraw((u,a)=>{a.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16)));const r=new w.McDbLine(o,u);a.drawMcDbEntity(r)});const t=yield D.go();if(!t)return;const c=Number(o.distanceTo(t).toFixed(2));sn.value="SetDimScaleDialog",Ie.showDialog(!0,{title:Gt("输入实际尺寸"),paramData:{distance:c},isShowFooterBtn:!0}).then(r=>ot(this,[r],function*({data:u,isCanceled:a}){!a&&(u!=null&&u.dimScale)&&(Xe.value=u.dimScale)}))})}class Or extends qe{constructor(o){super(o),this.center=new w.McGePoint3d,this.position=new w.McGePoint3d,this.height=lt.MxFun.screenCoordLong2Doc(30),this.dimLineWidth=15,this.scale=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.lengthVal=0,this.typeName="未分类",this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Or(o)}getTypeName(){return"MxArcComment"}set arcCenter(o){this.center=o.clone()}get arcCenter(){return this.center}set arcRadius(o){this.radius=o}get arcRadius(){return this.radius}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set arcStartAngle(o){this.startAngle=o}get arcStartAngle(){return this.startAngle}set arcEndAngle(o){this.endAngle=o}get arcEndAngle(){return this.endAngle}set dimScale(o){this.scale=o}get dimScale(){return this.scale}set lineWidth(o){this.dimLineWidth=o}get lineWidth(){return this.dimLineWidth}get dimType(){return te.Length}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}get lengthValue(){return this.lengthVal}dwgInFields(o){return this.position=o.readPoint("position").val,this.center=o.readPoint("center").val,this.startAngle=o.readDouble("startAngle").val,this.endAngle=o.readDouble("endAngle").val,this.radius=o.readDouble("radius").val,this.height=o.readDouble("textHeight").val,this.scale=o.readDouble("dimScale").val,this.dimLineWidth=o.readDouble("dimLineWidth").val,this.lengthVal=o.readDouble("lengthVal").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("position",this.position),o.writePoint("center",this.center),o.writeDouble("startAngle",this.startAngle),o.writeDouble("endAngle",this.endAngle),o.writeDouble("radius",this.radius),o.writeDouble("textHeight",this.height),o.writeDouble("dimScale",this.scale),o.writeDouble("dimLineWidth",this.dimLineWidth),o.writeDouble("lengthVal",this.lengthVal),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.position.x+=t,this.position.y+=c,this.position.z+=u}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.position),o}drawLine(o,t,c){const u=t.sub(o).normalize().mult(c/50),a=t.clone().addvec(u),r=t.clone().subvec(u),i=new w.McDbLine(a,r);return i.rotate(t,Math.PI/4),{line:i,pt:a}}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[],t=new w.McDbArc;t.center=this.center,t.startAngle=this.startAngle,t.endAngle=this.endAngle,t.radius=this.radius;const c=t.getLength().val,u=t.getPointAtDist(0).val,a=t.getPointAtDist(c).val,r=new w.McDbMText;let i="";const s=c*this.scale,e=this.dimSettingForm.find(C=>C.type===te.Length)||{showType:se.ActualValue,fixedNum:2};e.showType===se.ActualValue?i+=`${ve(s,e.fixedNum)} \\P `:e.showType===se.SquareMeter&&(i+=`${ve(s*.001,e.fixedNum)}m \\P `),r.contents=i,r.textHeight=this.height,r.attachment=w.McDb.AttachmentPoint.kMiddleCenter,r.location=this.position,this.lengthVal=Number((c*this.scale).toFixed(e.fixedNum));const d=t.getClosestPointTo(this.position,!0).val.distanceTo(this.position);let l=0;t.offsetCurves(d,this.position).forEach(C=>{const S=C.clone();l=S.getLength().val,this.pt1=S.getPointAtDist(0).val,this.pt2=S.getPointAtDist(l).val,S.lineweight=this.lineWidth,o.push(S)});const h=this.pt1.sub(this.pt2).angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);r.rotation=h===Math.PI?0:h;const{line:p,pt:g}=this.drawLine(u,this.pt1,l),{line:f,pt:m}=this.drawLine(a,this.pt2,l),y=new w.McDbLine(u,g),v=new w.McDbLine(a,m);return p.lineweight=f.lineweight=y.lineweight=v.lineweight=this.lineWidth,o.push(r),o.push(p),o.push(f),o.push(y),o.push(v),o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}setPosition(o){this.assertWrite(),this.position=o.clone()}getPoint(){return this.position}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function K1(){return ot(this,null,function*(){const D=new w.MxCADResbuf([w.DxfCode.kEntityType,"ARC"]),o=new w.MxCADUiPrEntity;o.setMessage(Gt("请选择一条弧线")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity(),u=new Or;u.dimScale=Xe.value,u.setDimSettingForm(Oe),De.value&&(u.dimTextHeight=De.value),u.arcCenter=c.center,u.arcStartAngle=c.startAngle,u.arcEndAngle=c.endAngle,u.arcRadius=c.radius;const a=new w.MxCADUiPrPoint;a.setMessage(Gt("请指定尺寸线位置")),a.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),u.setPosition(i),s.drawMcDbEntity(u)});const r=yield a.go();r&&(u.setPosition(r),Ke(u))})}function Y1(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择一个测量点"));const o=yield D.go();if(!o)return;const t=new w.MxCADResbuf([w.DxfCode.kEntityType,"LINE"]),c=new w.MxCADUiPrEntity;c.setMessage(Gt("请选择一条直线")),c.setFilter(t);const u=yield c.go();if(!u.id)return;const r=u.getMcDbEntity().getClosestPointTo(o,!0).val,i=new Kn;i.dimStartPt=r,i.dimEndPt=o,i.dimScale=Xe.value,i.setDimSettingForm(Oe),De.value&&(i.dimTextHeight=De.value);const s=new w.MxCADUiPrPoint;s.setMessage(Gt("请设置尺寸线的位置")),s.setUserDraw((n,d)=>{d.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),i.dimPosition=n,d.drawMcDbEntity(i)});const e=yield s.go();e&&(i.dimPosition=e,Ke(i))})}class Fr extends qe{constructor(o){super(o),this.center=new w.McGePoint3d,this.position=new w.McGePoint3d,this.height=0,this.width=15,this.scale=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.typeName="未分类",this.areaVal=0,this.weeklyVal=0,this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Fr(o)}getTypeName(){return"MxMeasuringCircle"}set circleRadius(o){this.radius=o,this.height=o/6}get circleRadius(){return this.radius}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set dimScale(o){this.scale=o}get dimScale(){return this.scale}set lineWidth(o){this.width=o}get lineWidth(){return this.width}get dimType(){return te.Area}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}get areaValue(){return this.areaVal}get weeklyValue(){return this.weeklyVal}dwgInFields(o){return this.center=o.readPoint("center").val,this.position=o.readPoint("position").val,this.radius=o.readDouble("radius").val,this.height=o.readDouble("height").val,this.scale=o.readDouble("scale").val,this.width=o.readDouble("width").val,this.areaVal=o.readDouble("areaVal").val,this.weeklyVal=o.readDouble("weeklyVal").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("center",this.center),o.writePoint("position",this.position),o.writeDouble("radius",this.radius),o.writeDouble("height",this.height),o.writeDouble("scale",this.scale),o.writeDouble("width",this.width),o.writeDouble("weeklyVal",this.weeklyVal),o.writeDouble("areaVal",this.areaVal),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.position.x+=t,this.position.y+=c,this.position.z+=u}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.position),o}worldDraw(o){this.getTextEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getTextEntity(){const o=[],t=new w.McDbCircle;t.center=this.center,t.radius=this.radius,t.lineweight=this.width;const c=t.getLength().val,u=t.radius,a=Math.PI*u*u,r=new w.McDbMText;let i="";const s=c*this.scale,e=u*this.scale,n=this.dimSettingForm.find(h=>h.type===te.Length)||{showType:se.ActualValue,fixedNum:2};n.showType===se.ActualValue?i+=`半径：${ve(e,n.fixedNum)} \\P 周长：${ve(s,n.fixedNum)} \\P`:n.showType===se.SquareMeter&&(i+=`半径：${ve(e*.001,n.fixedNum)}m \\P 周长：${ve(s*.001,n.fixedNum)}m \\P`);const d=a*this.scale*this.scale,l=this.dimSettingForm.find(h=>h.type===te.Area)||{showType:se.ActualValue,fixedNum:2};return l.showType===se.ActualValue?i+=`面积：${ve(d,l.fixedNum)}`:l.showType===se.SquareMeter&&(i+=`面积：${ve(d*1e-6,l.fixedNum)}m{\\S2^;}`),r.contents=i,r.textHeight=this.height,r.attachment=w.McDb.AttachmentPoint.kMiddleCenter,r.location=this.position,this.areaVal=Number((a*this.scale*this.scale).toFixed(l.fixedNum)),this.weeklyVal=Number((c*this.scale).toFixed(n.fixedNum)),o.push(r),o.push(t),o}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{r instanceof w.McDbMText?(r.textStyleId=t.getDatabase().getCurrentlyTextStyleId(),r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}setCenter(o){this.assertWrite(),this.center=o.clone()}getCenter(){return this.center}setPosition(o){this.assertWrite(),this.position=o.clone()}getPosition(){return this.position}getBoundingBox(){return this.getBox(this.getTextEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function Z1(){return ot(this,null,function*(){const D=new w.MxCADResbuf([w.DxfCode.kEntityType,"CIRCLE"]),o=new w.MxCADUiPrEntity;o.setMessage(Gt("请选择一个圆对象")),o.setFilter(D);const t=yield o.go();if(!t.id)return;const c=t.getMcDbEntity();c.highlight(!0);const u=new Fr;u.setCenter(c.center),u.circleRadius=c.radius,u.setDimSettingForm(Oe);const a=new w.MxCADUiPrPoint;a.setMessage(Gt("请指定文字位置")),a.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),u.setPosition(i),s.drawMcDbEntity(u)});const r=yield a.go();r&&(u.setPosition(r),Ke(u),c.highlight(!1))})}class Ur extends qe{constructor(o){super(o),this.points=[],this.dbulges=[],this.position=new w.McGePoint3d,this.height=lt.MxFun.screenCoordLong2Doc(30),this.dimColor=new w.McCmColor(255,0,0),this.width=15,this.showSegLength=!1,this.scale=1,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.dimSettingForm=[],this.typeName="未分类",this.lengthVal=0}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Ur(o)}getTypeName(){return"MxConMeasurement"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set color(o){this.dimColor=o.clone()}get color(){return this.dimColor}set conWidth(o){this.width=o}get conWidth(){return this.width}set isShowSegLength(o){this.showSegLength=o}get isShowSegLength(){return this.showSegLength}set dimScale(o){this.scale=o}get dimScale(){return this.scale}get dimType(){return te.Length}get lengthValue(){return this.lengthVal}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}dwgInFields(o){this.points=o.readPoints("points").val,this.position=o.readPoint("position").val;const t=o.readString("dbulges").val;this.dbulges=t.split(",").map(Number);const c=o.readString("dimColor").val;return this.dimColor=new w.McCmColor(...c.split(",").map(Number)),this.width=o.readDouble("conWidth").val,this.showSegLength=o.readLong("showSegLength").val===1,this.scale=o.readDouble("dimScale").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.height=o.readDouble("textHeight").val,this.lengthVal=o.readDouble("lengthVal").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){const t=this.dbulges.toString(),c=`${this.dimColor.red},${this.dimColor.green},${this.dimColor.blue}`,u=this.showSegLength?1:0;return o.writePoints("points",this.points),o.writePoint("position",this.position),o.writeString("dbulges",t),o.writeString("dimColor",c),o.writeDouble("conWidth",this.width),o.writeLong("showSegLength",u),o.writeDouble("dimScale",this.scale),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeDouble("textHeight",this.height),o.writeDouble("lengthVal",this.lengthVal),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),o<this.points.length?(this.points[o].x+=t,this.points[o].y+=c,this.points[o].z+=u):(this.position.x+=t,this.position.y+=c,this.position.z+=u)}getGripPoints(){let o=new w.McGePoint3dArray;return this.points.forEach(t=>{o.append(t)}),o.append(this.position),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=this.position.x<this.points[this.points.length-1].x,t=[],c=new w.McDbPolyline,u=[],a=this.dimSettingForm.find(z=>z.type===te.Length)||{showType:se.ActualValue,fixedNum:2};this.points.forEach((z,V)=>{if(c.addVertexAt(z,this.dbulges[V]),V>0){const L=this.points[V-1],U=new w.McDbPolyline;U.addVertexAt(L,this.dbulges[V-1]),U.addVertexAt(z,this.dbulges[V]);const G=U.getLength().val,H=U.getPointAtDist(G/2).val,A=new w.McDbText,N=G*this.scale;a.showType===se.ActualValue?A.textString=`${ve(N,a.fixedNum)}`:a.showType===se.SquareMeter&&(A.textString=`${ve(N*.001,a.fixedNum)}m`),A.height=this.height*.6,A.horizontalMode=w.McDb.TextHorzMode.kTextCenter;let E;L.x<=z.x?E=z.sub(L):E=L.sub(z);const x=E.clone().perpVector().normalize(),_=this.height*.15,P=new w.McDbLine(L,z);P.getPointAtDist(P.getLength().val/2).val.y>=H.y?H.addvec(x.mult(_)):H.subvec(x.mult(_)),A.position=A.alignmentPoint=H;const k=E.angleTo2(w.McGeVector3d.kXAxis,w.McGeVector3d.kNegateZAxis);A.rotation=k===Math.PI?0:k,u.push(A)}});const r=w.MxCpp.getCurrentMxCAD(),i=c.getLength().val,s=this.points[this.points.length-1],n=c.getFirstDeriv(s).val.clone();n.rotateBy(Math.PI/4).normalize().mult(this.height*.2);const d=s.clone().addvec(n),l=s.clone().subvec(n),h=new w.McDbPolyline;h.addVertexAt(d),h.addVertexAt(l);const p=new w.McDbMText,g=i*this.scale;a.showType===se.ActualValue?p.contents=`${ve(g,a.fixedNum)}`:a.showType===se.SquareMeter&&(p.contents=`${ve(g*.001,a.fixedNum)}m`),p.textHeight=this.height;const f=this.height*.2;p.location=new w.McGePoint3d(this.position.x+(o?-f:f),this.position.y+f),p.attachment=o?w.McDb.AttachmentPoint.kBottomRight:w.McDb.AttachmentPoint.kBottomLeft,p.textStyleId=r.getDatabase().getCurrentlyTextStyleId(),p.reCompute();const{minPt:m,maxPt:y}=w.MxCADUtility.getTextEntityBox(p,!1),v=o?-Math.abs(m.x-y.x)-f*2:Math.abs(m.x-y.x)+f*2,C=new w.McGePoint3d(this.position.x+v,this.position.y);this.lengthVal=Number((i*this.scale).toFixed(a.fixedNum)),this.showSegLength&&u.forEach(z=>{t.push(z)});const S=new w.McDbPolyline;S.addVertexAt(s),S.addVertexAt(this.position),S.addVertexAt(C),c.lineweight=h.lineweight=this.width,t.push(c),t.push(p),t.push(h),t.push(S);const I=h.clone();return h.move(s,this.points[0]),t.push(I),t}getBox(o){const t=w.MxCpp.getCurrentMxCAD();let c,u=null,a;o.forEach(r=>{if(r instanceof w.McDbText){const n=new w.McDbMText;switch(n.contents=r.textString,n.textHeight=r.height,n.location=r.position,r.horizontalMode){case w.McDb.TextHorzMode.kTextLeft:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break;case w.McDb.TextHorzMode.kTextCenter:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;case w.McDb.TextHorzMode.kTextRight:n.attachment=w.McDb.AttachmentPoint.kBottomRight;break;case w.McDb.TextHorzMode.kTextMid:n.attachment=w.McDb.AttachmentPoint.kBottomCenter;break;default:n.attachment=w.McDb.AttachmentPoint.kBottomLeft;break}const d=t.getDatabase().getCurrentlyTextStyleId();n.textStyleId=d,n.reCompute(),a=w.MxCADUtility.getTextEntityBox(n,!1)}else r instanceof w.McDbMText?(r.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),r.reCompute(),a=w.MxCADUtility.getTextEntityBox(r,!1)):a=r.getBoundingBox();const{minPt:i,maxPt:s,ret:e}=a;c||(c=i.clone()),u||(u=s.clone()),i.x<c.x&&(c.x=i.x),i.y<c.y&&(c.y=i.y),s.x>u.x&&(u.x=s.x),s.y>u.y&&(u.y=s.y)}),c&&u&&(this.maxPt=u,this.minPt=c)}addVertex(o,t){this.assertWrite(),this.dbulges.push(t),this.points.push(o)}getPoints(){return this.points}setPosition(o){this.assertWrite(),this.position=o.clone()}getPosition(){return this.position}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}let Jo=[];function Qo(D){const o=w.MxCpp.getCurrentMxCAD();D===1?(Jo.push({name:"ORTHOMODE",value:o.getSysVarLong("ORTHOMODE")},{name:"GRIDMODE",value:o.getSysVarLong("GRIDMODE")},{name:"OSMODE",value:o.getSysVarLong("OSMODE")}),o.setSysVarLong("ORTHOMODE",0),o.setSysVarLong("GRIDMODE",0),o.setSysVarLong("OSMODE",16383)):D===0&&Jo.forEach(t=>{o.setSysVarLong(t.name,t.value)})}function $o(){return ot(this,null,function*(){Qo(1);let D=[],o=!1;const t=new w.MxCADResbuf([w.DxfCode.kEntityType,"ARC"]);let u=w.MxCpp.getCurrentMxCAD().mxdraw.screenCoordLong2Doc(.5),a=null;for(;;){const r=new w.MxCADUiPrPoint;r.setMessage(Gt("请选择直线的端点或弧线")),r.setKeyWords("[回退(B)/结束(O)]"),D.length>0&&r.setBasePt(D[D.length-1].pt),r.setUserDraw((e,n)=>{n.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16)));const d=new w.McDbPolyline;D.forEach(l=>{d.addVertexAt(l.pt,l.dbulge,.1,.1)}),n.drawMcDbEntity(d)});const i=yield r.go(),s=r.keyWordPicked();if(s==="B")D.length>1&&D.pop(),a=null;else{if(s==="O")break;{if(!i)break;const e=w.MxCADUtility.findEntAtPoint(i.x,i.y,i.z,-1,t);if(e.id){const n=e.getMcDbEntity(),d=n.getLength().val,l=n.getPointAtDist(0).val,h=n.getPointAtDist(d).val;if(l.distanceTo(i)<u||h.distanceTo(i)<u)if(o){const p=-D[0].dbulge,g=D[D.length-2].pt,f=D[D.length-1].pt;g.distanceTo(i)<u&&(D.slice(0,D.length-2),D.push({pt:f,dbulge:p}),D.push({pt:g,dbulge:0})),o=!1,a=e}else D.push({pt:i,dbulge:0});else if(D.length>0){const p=D[D.length-1].pt;if(l.distanceTo(p)<u||h.distanceTo(p)<u)if((a==null?void 0:a.id)===e.id){D.pop();const g=D[D.length-1],f=n.getDistAtPoint(g.pt).val,m=n.getDistAtPoint(i).val;let y=n.getPointAtDist(f+(m-f)/2).val,v=new w.McDbArc;if(v.computeArc(g.pt.x,g.pt.y,y.x,y.y,i.x,i.y),v.getLength().val>n.getLength().val){const C=v.clone();v.startAngle=C.endAngle,v.endAngle=C.startAngle,y=v.getPointAtDist(v.getLength().val/2).val}g.dbulge=w.MxCADUtility.calcBulge(g.pt,y,i).val,D.push({pt:i,dbulge:0}),a=null}else{const g=l.distanceTo(p)<u?h:l;D[D.length-1].dbulge=w.MxCADUtility.calcBulge(p,i,g).val,D.push({pt:g,dbulge:0}),a=e}else alert("请选择连续的线段！")}else{const p=w.MxCADUtility.calcBulge(l,i,h).val;D.push({pt:l,dbulge:p}),D.push({pt:h,dbulge:0}),o=!0,a=e}}else if(a=null,o){if(!D.filter(d=>d.pt.distanceTo(i)<u).length){lt.MxFun.acutPrintf(Gt("请选择连续的线段！"));continue}}else D.push({pt:i,dbulge:0})}}}return Qo(0),D})}function J1(){return ot(this,null,function*(){const D=yield $o();if(D.length<2)return;const o=new Ur;o.dimScale=Xe.value,o.setDimSettingForm(Oe),De.value&&(o.dimTextHeight=De.value),D.forEach(u=>{o.addVertex(u.pt,u.dbulge)});const t=new w.MxCADUiPrPoint;t.setMessage(Gt("请指定文字的位置")),t.setUserDraw((u,a)=>{a.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),o.setPosition(u),a.drawMcDbEntity(o)});const c=yield t.go();c&&(o.setPosition(c),Ke(o))})}function Q1(){return ot(this,null,function*(){const D=w.MxCpp.getCurrentMxCAD(),o=new w.MxCADUiPrEntity;o.setMessage(Gt("请选择一个连续测量的标注，右键退出"));let t=null,c=null;for(;;){const u=yield o.go();if(!u.id)break;const a=u.getMcDbEntity();if(!(a instanceof w.McDbCustomEntity))break;if(a.getTypeName()==="MxConMeasurement"){c&&(c.visible=!0),t&&t.erase(),a.visible=!1;const r=a.clone();r.isShowSegLength=!0,t=Ke(r),c=a,D.updateDisplay()}}t&&t.erase(),c&&(c.visible=!0),D.updateDisplay()})}function $1(){return ot(this,null,function*(){const D=yield $o(),o=new xn;o.dimScale=Xe.value,o.setDimSettingForm(Oe),De.value&&(o.dimTextHeight=De.value),D.forEach(u=>{o.addVertex(u.pt,u.dbulge)});const t=new w.MxCADUiPrPoint;t.setMessage(Gt("请选择面积标注的位置")),t.setUserDraw((u,a)=>{a.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),o.setPoint(u),a.drawMcDbEntity(o)});const c=yield t.go();c&&(o.setPoint(c),Ke(o))})}class Hr extends qe{constructor(o){super(o),this.line1StartPt=new w.McGePoint3d,this.line1EndPt=new w.McGePoint3d,this.line2StartPt=new w.McGePoint3d,this.line2EndPt=new w.McGePoint3d,this.position=new w.McGePoint3d,this.height=0,this.width=15,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.dimSettingForm=[],this.typeName="未分类",this.angleVal=0}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Hr(o)}getTypeName(){return"MxAngleComment"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set linewidth(o){this.width=o}get linewidth(){return this.width}setAngleLinePts(o,t,c,u){this.line1StartPt=o.clone(),this.line1EndPt=t.clone(),this.line2StartPt=c.clone(),this.line2EndPt=u.clone()}set dimPosition(o){this.position=o}get dimPosition(){return this.position}get dimType(){return te.Angle}get angleValue(){return this.angleVal}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}dwgInFields(o){return this.line1StartPt=o.readPoint("line1StartPt").val,this.line1EndPt=o.readPoint("line1EndPt").val,this.line2StartPt=o.readPoint("line2StartPt").val,this.line2EndPt=o.readPoint("line2EndPt").val,this.position=o.readPoint("position").val,this.height=o.readDouble("height").val,this.width=o.readDouble("width").val,this.angleVal=o.readDouble("angleVal").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("line1StartPt",this.line1StartPt),o.writePoint("line1EndPt",this.line1EndPt),o.writePoint("line2StartPt",this.line2StartPt),o.writePoint("line2EndPt",this.line2EndPt),o.writePoint("position",this.position),o.writeDouble("height",this.height),o.writeDouble("width",this.width),o.writeDouble("angleVal",this.angleVal),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}getAllEntity(){const o=[],t=new w.McDbLine(this.line1StartPt,this.line1EndPt),c=new w.McDbLine(this.line2StartPt,this.line2EndPt),u=t.IntersectWith(c,w.McDb.Intersect.kExtendBoth);if(u.length()!==1)return[];const a=u.at(0),r=this.position.distanceTo(a),i=t.getClosestPointTo(this.position,!0).val,s=c.getClosestPointTo(this.position,!0).val,e=i.sub(a).normalize().mult(r),n=s.sub(a).normalize().mult(r),d=new w.McDbArc,l=a.clone().addvec(e),h=a.clone().addvec(n);d.computeArc(l.x,l.y,this.position.x,this.position.y,h.x,h.y);const p=d.getPointAtDist(d.getLength().val/2).val,g=p.sub(a).rotateBy(Math.PI/2),m=(a.y<p.y?g.clone().negate():g).angleTo2(w.McGeVector3d.kXAxis),y=d.getLength().val/30,v=new w.McDbMText,C=d.getLength().val/r*180/Math.PI,S=this.dimSettingForm.find(U=>U.type===te.Angle)||{showType:se.ActualValue,fixedNum:2};v.contents=`${C.toFixed(S.fixedNum)}°\\P   `,this.height||(this.height=y*3),v.textHeight=this.height,v.attachment=w.McDb.AttachmentPoint.kMiddleCenter,v.location=p,v.rotation=m,this.angleVal=Number(C.toFixed(S.fixedNum));const I=e.normalize().mult(y),z=n.normalize().mult(y),V=new w.McDbLine(l.clone().addvec(I),l.clone().subvec(I)),L=new w.McDbLine(h.clone().addvec(z),h.clone().subvec(z));return V.lineweight=L.lineweight=d.lineweight=this.width,o.push(d,v,V,L),o}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.position),o}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.position.x+=t,this.position.y+=c,this.position.z+=u}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}}function t0(){return ot(this,null,function*(){const D=new w.MxCADResbuf;D.AddMcDbEntityTypes("LINE");const o=new w.MxCADUiPrEntity;o.setMessage(Gt("请选择一条直线")),o.setFilter(D);const t=yield o.go();if(!t.isValid())return;const c=t.getMcDbEntity();c.highlight(!0);const u=new w.MxCADUiPrEntity;u.setMessage(Gt("请选择第二条直线")),u.setFilter(D);const a=yield u.go();if(!a.isValid())return;const r=a.getMcDbEntity();r.highlight(!0);const i=new w.MxCADUiPrPoint;i.setMessage(Gt("请设置角度标注的位置")),i.setDisableOsnap(!0),i.setDisableDynInput(!0),i.disableAllTrace(!0);const s=new Hr;s.setDimSettingForm(Oe),s.setAngleLinePts(c.startPoint,c.endPoint,r.startPoint,r.endPoint),c.highlight(!1),r.highlight(!1),i.setUserDraw((n,d)=>{d.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),s.dimPosition=n,d.drawMcDbEntity(s)});const e=yield i.go();e&&(s.dimPosition=e,Ke(s))})}class Kn extends qe{constructor(o){super(o),this.startPt=new w.McGePoint3d,this.endPt=new w.McGePoint3d,this.position=new w.McGePoint3d,this.width=15,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.height=0,this.scale=1,this.typeName="未分类",this.lengthVal=0,this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Kn(o)}getTypeName(){return"MxAlignComment"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set linewidth(o){this.width=o}get linewidth(){return this.width}set dimScale(o){this.scale=o}get dimScale(){return this.scale}set dimStartPt(o){this.startPt=o}get dimStartPt(){return this.startPt}set dimEndPt(o){this.endPt=o}get dimEndPt(){return this.endPt}set dimPosition(o){this.adjustPosition(o)}get dimPosition(){return this.position}get dimType(){return te.Length}get lengthValue(){return this.lengthVal}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}adjustPosition(o){const t=new w.McDbLine(this.startPt,this.endPt),c=this.startPt.clone().addvec(this.endPt.sub(this.startPt).mult(1/2));t.rotate(c,Math.PI/2),this.position=t.getClosestPointTo(o,!0).val}dwgInFields(o){return this.startPt=o.readPoint("startPt").val,this.endPt=o.readPoint("endPt").val,this.position=o.readPoint("position").val,this.height=o.readDouble("height").val,this.scale=o.readDouble("scale").val,this.width=o.readDouble("width").val,this.lengthVal=o.readDouble("lengthVal").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("startPt",this.startPt),o.writePoint("endPt",this.endPt),o.writePoint("position",this.position),o.writeDouble("height",this.height),o.writeDouble("scale",this.scale),o.writeDouble("width",this.width),o.writeDouble("lengthVal",this.lengthVal),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u;else if(o===1)this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u;else if(o===2){const a=this.position.clone();a.x+=t,a.y+=c,a.z+=u,this.adjustPosition(a)}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPt),o.append(this.endPt),o.append(this.position),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[],t=this.endPt.distanceTo(this.startPt)/30,c=this.endPt.sub(this.startPt).normalize().mult(t),u=(this.startPt.x<this.endPt.x?c:c.clone().negate()).angleTo2(w.McGeVector3d.kXAxis),a=new w.McDbLine(this.startPt.clone().subvec(c),this.endPt.clone().addvec(c)),r=this.startPt.clone().addvec(this.endPt.sub(this.startPt).mult(1/2)),i=new w.McDbMText,s=this.dimSettingForm.find(y=>y.type===te.Length)||{showType:se.ActualValue,fixedNum:2};s&&s.showType===se.SquareMeter?i.contents=`${ve(this.endPt.distanceTo(this.startPt)*this.scale*.001,s.fixedNum)}m\\P   `:i.contents=`${ve(this.endPt.distanceTo(this.startPt)*this.scale,s.fixedNum)}\\P   `,this.height||(this.height=t*3),i.textHeight=this.height,i.attachment=w.McDb.AttachmentPoint.kMiddleCenter,i.location=this.position,i.rotation=u,this.lengthVal=Number((this.endPt.distanceTo(this.startPt)*this.scale).toFixed(s.fixedNum)),a.move(r,this.position);const e=this.position.sub(r).normalize().mult(this.position.distanceTo(r)+t),n=new w.McDbLine(this.startPt,this.startPt.clone().addvec(e)),d=new w.McDbLine(this.endPt,this.endPt.clone().addvec(e)),l=e.clone().normalize().mult(this.position.distanceTo(r)),h=this.startPt.clone().addvec(l),p=this.endPt.clone().addvec(l),g=e.clone().normalize().mult(t*(3/4)).rotateBy(Math.PI/4),f=new w.McDbLine(h.clone().subvec(g),h.clone().addvec(g)),m=f.clone();return m.move(h,p),f.lineweight=m.lineweight=this.width,o.push(i,n,d,a,f,m),o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function e0(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择对齐标注的开始点"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;t.setMessage(Gt("请选择对齐标注的结束点")),t.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),s.drawMcDbEntity(new w.McDbLine(o,i))});const c=yield t.go();if(!c)return;const u=new Kn;u.dimStartPt=o,u.dimEndPt=c,u.dimPosition=c,u.dimScale=Xe.value,u.setDimSettingForm(Oe),De.value&&(u.dimTextHeight=De.value);const a=new w.MxCADUiPrPoint;a.setDisableOsnap(!0),a.setDisableDynInput(!0),a.disableAllTrace(!0),a.setMessage(Gt("请选择对齐标注的位置")),a.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),u.dimPosition=i,s.drawMcDbEntity(u)});const r=yield a.go();r&&(u.dimPosition=r,Ke(u))})}class Wr extends qe{constructor(o){super(o),this.startPt=new w.McGePoint3d,this.endPt=new w.McGePoint3d,this.position=new w.McGePoint3d,this.width=15,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.height=0,this.scale=1,this.typeName="未分类",this.lengthVal=0,this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Wr(o)}getTypeName(){return"MxLinearComment"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set linewidth(o){this.width=o}get linewidth(){return this.width}set dimScale(o){this.scale=o}get dimScale(){return this.scale}set dimStartPt(o){this.startPt=o}get dimStartPt(){return this.startPt}set dimEndPt(o){this.endPt=o}get dimEndPt(){return this.endPt}set dimPosition(o){this.adjustPosition(o)}get dimPosition(){return this.position}get dimType(){return te.Length}get lengthValue(){return this.lengthVal}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}adjustPosition(o){const t=o.x>=this.startPt.x&&o.x<=this.endPt.x;let c,u=new w.McGePoint3d;t?(c=new w.McGePoint3d(this.startPt.x,o.y,0),u=new w.McGePoint3d(this.endPt.x,o.y,0)):(c=new w.McGePoint3d(o.x,this.startPt.y,0),u=new w.McGePoint3d(o.x,this.endPt.y,0)),this.position=c.clone().addvec(u.sub(c).mult(1/2))}dwgInFields(o){return this.startPt=o.readPoint("startPt").val,this.endPt=o.readPoint("endPt").val,this.position=o.readPoint("position").val,this.width=o.readDouble("width").val,this.height=o.readDouble("height").val,this.scale=o.readDouble("scale").val,this.lengthVal=o.readDouble("lengthVal").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}dwgOutFields(o){return o.writePoint("startPt",this.startPt),o.writePoint("endPt",this.endPt),o.writePoint("position",this.position),o.writeDouble("width",this.width),o.writeDouble("height",this.height),o.writeDouble("scale",this.scale),o.writeDouble("lengthVal",this.lengthVal),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}moveGripPointsAt(o,t,c,u){if(this.assertWrite(),o===0)this.startPt.x+=t,this.startPt.y+=c,this.startPt.z+=u;else if(o===1)this.endPt.x+=t,this.endPt.y+=c,this.endPt.z+=u;else if(o===2){const a=this.position.clone();a.x+=t,a.y+=c,a.z+=u,this.adjustPosition(a)}}getGripPoints(){let o=new w.McGePoint3dArray;return o.append(this.startPt),o.append(this.endPt),o.append(this.position),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[],t=this.position.x>=this.startPt.x&&this.position.x<=this.endPt.x;let c,u=new w.McGePoint3d;t?(c=new w.McGePoint3d(this.startPt.x,this.position.y,0),u=new w.McGePoint3d(this.endPt.x,this.position.y,0)):(c=new w.McGePoint3d(this.position.x,this.startPt.y,0),u=new w.McGePoint3d(this.position.x,this.endPt.y,0));const a=u.distanceTo(c)/30,r=u.sub(c).normalize().mult(a),i=new w.McDbLine(c.clone().subvec(r),u.clone().addvec(r)),s=c.sub(this.startPt).normalize().mult(a),e=new w.McDbLine(this.startPt,c.clone().addvec(s)),n=new w.McDbLine(this.endPt,u.clone().addvec(s)),d=s.clone().normalize().mult(a*(3/4)).rotateBy(Math.PI/4),l=new w.McDbLine(c.clone().subvec(d),c.clone().addvec(d)),h=l.clone();h.move(c,u),l.lineweight=h.lineweight=this.width,o.push(i,e,n,l,h);const p=new w.McDbMText,g=this.dimSettingForm.find(f=>f.type===te.Length)||{showType:se.ActualValue,fixedNum:2};return g.showType===se.SquareMeter?p.contents=`${ve(u.distanceTo(c)*this.scale*.001,g.fixedNum)}m\\P   `:p.contents=`${ve(u.distanceTo(c)*this.scale,g.fixedNum)}\\P   `,this.height||(this.height=a*3),p.textHeight=this.height,p.attachment=w.McDb.AttachmentPoint.kMiddleCenter,p.location=this.position,p.rotation=r.angleTo2(w.McGeVector3d.kXAxis),o.push(p),this.lengthVal=Number((u.distanceTo(c)*this.scale).toFixed(g.fixedNum)),o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function n0(){return ot(this,null,function*(){const D=new w.MxCADUiPrPoint;D.setMessage(Gt("请选择线性标注的开始点"));const o=yield D.go();if(!o)return;const t=new w.MxCADUiPrPoint;t.setMessage(Gt("请选择线性标注的结束点")),t.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),s.drawMcDbEntity(new w.McDbLine(o,i))});const c=yield t.go();if(!c)return;const u=new Wr;u.dimStartPt=o,u.dimEndPt=c,u.dimPosition=c,u.dimScale=Xe.value,u.setDimSettingForm(Oe),De.value&&(u.dimTextHeight=De.value);const a=new w.MxCADUiPrPoint;a.setMessage(Gt("请选择线性标注的位置")),a.disableAllTrace(!0),a.setDisableOsnap(!0),a.setDisableDynInput(!0),a.setUserDraw((i,s)=>{s.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),u.dimPosition=i,s.drawMcDbEntity(u)});const r=yield a.go();r&&(u.dimPosition=r,Ke(u))})}class Gr extends qe{constructor(o){super(o),this.center=new w.McGePoint3d,this.position=new w.McGePoint3d,this.height=0,this.scale=1,this.weight=10,this.minPt=new w.McGePoint3d,this.maxPt=new w.McGePoint3d,this.isArc=!1,this.arcStartPt=new w.McGePoint3d,this.arcEndPt=new w.McGePoint3d,this.arcCenterPt=new w.McGePoint3d,this.typeName="未分类",this.radiusVal=0,this.dimSettingForm=[]}setDimSettingForm(o){o.forEach(t=>{t.fixedNum<0&&(t.fixedNum=2)}),this.dimSettingForm=o}getDimSettingForm(){return this.dimSettingForm}create(o){return new Gr(o)}getTypeName(){return"MxRadiusComment"}set dimTextHeight(o){this.height=o}get dimTextHeight(){return this.height}set dimScale(o){this.scale=o}get dimScale(){return this.scale}set dimPosition(o){this.position=o}get dimPosition(){return this.position}set lineWeight(o){this.weight=o}get lineWeight(){return this.weight}get dimType(){return te.Radius}get categoryName(){return this.typeName}set categoryName(o){this.typeName=o}setDimEntity(o){this.center=o.center,this.radius=o.radius,this.radiusVal=this.radius,o instanceof w.McDbArc?(this.isArc=!0,this.arcStartPt=o.getStartPoint().val,this.arcEndPt=o.getEndPoint().val,this.arcCenterPt=o.getPointAtDist(o.getLength().val/2).val):this.isArc=!1}dwgOutFields(o){return o.writePoint("center",this.center),o.writeDouble("radius",this.radius),o.writePoint("position",this.position),o.writeDouble("height",this.height),o.writeDouble("scale",this.scale),o.writePoint("minPt",this.minPt),o.writePoint("maxPt",this.maxPt),o.writeLong("isArc",this.isArc?1:0),o.writePoint("arcStartPt",this.arcStartPt),o.writePoint("arcEndPt",this.arcEndPt),o.writePoint("arcCenterPt",this.arcCenterPt),o.writeDouble("weight",this.weight),o.writeDouble("radiusVal",this.radiusVal),o.writeString("typeName",this.typeName),o.writeString("dimSettingForm",JSON.stringify(this.dimSettingForm)),!0}dwgInFields(o){return this.center=o.readPoint("center").val,this.radius=o.readDouble("radius").val,this.position=o.readPoint("position").val,this.height=o.readDouble("height").val,this.scale=o.readDouble("scale").val,this.minPt=o.readPoint("minPt").val,this.maxPt=o.readPoint("maxPt").val,this.isArc=o.readLong("isArc").val===1,this.arcStartPt=o.readPoint("arcStartPt").val,this.arcEndPt=o.readPoint("arcEndPt").val,this.arcCenterPt=o.readPoint("arcCenterPt").val,this.weight=o.readDouble("weight").val,this.radiusVal=o.readDouble("radiusVal").val,this.typeName=o.readString("typeName").val,this.dimSettingForm=JSON.parse(o.readString("dimSettingForm").val),!0}moveGripPointsAt(o,t,c,u){this.assertWrite(),this.position.x+=t,this.position.y+=c,this.position.z+=u}getGripPoints(){const o=new w.McGePoint3dArray;return o.append(this.position),o}worldDraw(o){this.getAllEntity().forEach(c=>{c.trueColor=this.trueColor,c.drawOrder=this.drawOrder,c.layerId=this.layerId,o.setupForEntity(c),o.drawEntity(c)})}getAllEntity(){const o=[],c=new w.McDbCircle(this.center.x,this.center.y,0,this.radius).getClosestPointTo(this.position,!0).val,u=new w.McDbLine(c,this.position),a=this.radius/10,r=this.position.sub(c).normalize().mult(a),i=new w.McDbPolyline;i.addVertexAt(c.clone().addvec(r.clone().rotateBy(Math.PI/6))),i.addVertexAt(c),i.addVertexAt(c.clone().addvec(r.clone().rotateBy(-Math.PI/6)));const s=this.position.x<c.x,e=new w.McDbMText,n=this.dimSettingForm.find(d=>d.type===te.Radius)||{showType:se.ActualValue,fixedNum:2};if(n.showType===se.SquareMeter?e.contents=`R${ve(this.radius*this.scale*.001,n.fixedNum)}m\\P   `:e.contents=`R${ve(this.radius*this.scale,n.fixedNum)}\\P   `,this.height||(this.height=a*2),e.textHeight=this.height,e.attachment=s?w.McDb.AttachmentPoint.kMiddleLeft:w.McDb.AttachmentPoint.kMiddleRight,e.location=this.position,e.rotation=(s?r.clone().negate():r).angleTo2(w.McGeVector3d.kXAxis),u.lineweight=i.lineweight=e.lineweight=this.weight,o.push(u,i,e),this.radiusVal=Number((this.radius*this.scale).toFixed(n.fixedNum)),this.isArc){const d=new w.McDbArc;if(d.computeArc(this.arcStartPt.x,this.arcStartPt.y,this.arcCenterPt.x,this.arcCenterPt.y,this.arcEndPt.x,this.arcEndPt.y),!d.getDistAtPoint(c).ret){let h=1,p=new w.McGePoint3d;this.arcStartPt.distanceTo(this.position)<this.arcEndPt.distanceTo(this.position)?(h=1,p=this.arcStartPt):(h=2,p=this.arcEndPt);const g=new w.McDbArc,f=p.sub(this.center),m=c.sub(this.center),y=f.angleTo2(w.McGeVector3d.kXAxis),v=m.angleTo2(w.McGeVector3d.kXAxis);g.startAngle=h===1?v:y,g.endAngle=h===1?y:v,g.center=this.center,g.radius=this.radius,g.lineweight=this.lineweight,o.push(g)}}return o}getBox(o){let t,c=null,u;o.forEach(a=>{a instanceof w.McDbMText?(a.textStyleId=w.MxCpp.getCurrentMxCAD().database.getCurrentlyTextStyleId(),a.reCompute(),u=w.MxCADUtility.getTextEntityBox(a,!1)):u=a.getBoundingBox();const{minPt:r,maxPt:i,ret:s}=u;t||(t=r.clone()),c||(c=i.clone()),r.x<t.x&&(t.x=r.x),r.y<t.y&&(t.y=r.y),i.x>c.x&&(c.x=i.x),i.y>c.y&&(c.y=i.y)}),t&&c&&(this.maxPt=c,this.minPt=t)}getBoundingBox(){return this.getBox(this.getAllEntity()),{minPt:this.minPt,maxPt:this.maxPt,ret:!0}}}function r0(){return ot(this,null,function*(){const D=new w.MxCADUiPrEntity;D.setFilter(new w.MxCADResbuf([w.DxfCode.kEntityType,"CIRCLE,ARC"])),D.setMessage(Gt("请选择圆弧或圆"));const o=yield D.go();if(!o.isValid())return;const t=o.getMcDbEntity(),c=new Gr;c.setDimEntity(t),c.setDimSettingForm(Oe),c.dimScale=Xe.value,De.value&&(c.dimTextHeight=De.value);const u=new w.MxCADUiPrPoint;u.setMessage(Gt("请选择半径标注的位置")),u.disableAllTrace(!0),u.setDisableOsnap(!0),u.setDisableDynInput(!0),u.setUserDraw((r,i)=>{i.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),c.dimPosition=r,i.drawMcDbEntity(c)});const a=yield u.go();a&&(c.dimPosition=a,Ke(c))})}function i0(){return ot(this,null,function*(){const D=new w.MxCADUiPrEntity,o=new w.MxCADResbuf([w.DxfCode.kEntityType,"HATCH"]);D.setFilter(o),D.setMessage(Gt("请选择填充区域")),D.setUserDraw((e,n)=>{n.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16)));let d=w.MxCADUtility.findEntAtPoint(e.x,e.y,e.z,-1,o);if(d.isValid()){const l=d.getMcDbEntity(),h=l.numLoops;for(let p=0;p<h;p++){const{vertices:g,bulges:f}=l.getLoopAt(p),m=new w.McDbPolyline;g.forEach((y,v)=>{m.addVertexAt(y,f[v])}),m.constantWidth=.5,n.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),n.drawMcDbEntity(m)}}});const t=yield D.go();if(!t.isValid())return;const c=t.getMcDbEntity(),u=c.numLoops,a=[];for(let e=0;e<u;e++){const{vertices:n,bulges:d}=c.getLoopAt(e);a.push({points:n,dbulges:d})}const r=new xn;r.setPtArrArr(a),r.dimScale=Xe.value,r.setDimSettingForm(Oe),De.value&&(r.dimTextHeight=De.value);const i=new w.MxCADUiPrPoint;i.setMessage(Gt("请选择面积标注的位置")),i.disableAllTrace(!0),i.setDisableOsnap(!0),i.setUserDraw((e,n)=>{n.setColor(new THREE.Color(parseInt(Ce.value.slice(1),16))),r.setPoint(e),n.drawMcDbEntity(r)});const s=yield i.go();s&&(r.setPoint(s),Ke(r))})}function o0(){return ot(this,null,function*(){let D=new w.MxCADResbuf;D.AddString("CUSTOMENTITY",5020);const o=new w.MxCADSelectionSet;o.allSelect(D),o.count()!==0&&(o.forEach(t=>{const c=t.getMcDbEntity();c instanceof qe&&(c.visible=!c.visible)}),w.MxCpp.getCurrentMxCAD().updateDisplay())})}function s0(){return ot(this,null,function*(){const D=new w.MxCADSelectionSet,o=new w.MxCADResbuf;if(o.AddString("CUSTOMENTITY",5020),yield D.userSelect(Gt("请选择一个或多个测量标注"),o),D.count()===0)return;const t=[];D.forEach(c=>{const u=c.getMcDbEntity();u instanceof qe&&t.push(u)}),t.length!==0&&(sn.value="MeasurementSet",Ie.showDialog(!0,{title:Gt("修改标注设置"),paramData:{measurements:t},isShowFooterBtn:!0}).then(a=>ot(this,[a],function*({data:c,isCanceled:u}){if(!u){const r=c,i=t.filter(s=>s.dimType===te.Length||s.dimType===te.Area);t.forEach(s=>{r.dimTextHeight&&(s.dimTextHeight=r.dimTextHeight),r.categoryName&&(s.categoryName=r.categoryName),r.trueColor&&(s.trueColor=r.trueColor),i.length===t.length&&r.dimScale&&(s.dimScale=r.dimScale)}),w.MxCpp.getCurrentMxCAD().updateDisplay()}})))})}function a0(){return ot(this,null,function*(){const D=new w.MxCADSelectionSet,o=new w.MxCADResbuf;o.AddString("CUSTOMENTITY",5020),yield D.userSelect(Gt("请选择测量标注或框选删除标注的范围"),o),D.count()!==0&&(D.forEach(t=>{const c=t.getMcDbEntity();c instanceof qe&&c.erase()}),w.MxCpp.getCurrentMxCAD().updateDisplay())})}function l0(){return ot(this,null,function*(){sn.value="CategoryManage",Ie.showDialog(!0,{title:Gt("标注分类管理"),isShowFooterBtn:!1})})}function c0(){return ot(this,null,function*(){sn.value="MeasurementStatistics",Ie.showDialog(!0,{title:Gt("测量统计"),isShowFooterBtn:!1})})}function h0(){return ot(this,null,function*(){sn.value="AnnotationSettingDialog",Ie.showDialog(!0,{title:Gt("标注设置"),isShowFooterBtn:!1})})}function d0(){new xn().rxInit(),new zr().rxInit(),new Or().rxInit(),new Ur().rxInit(),new Fr().rxInit(),new Kn().rxInit(),new Wr().rxInit(),new Hr().rxInit(),new Gr().rxInit(),MxPluginContext.addCommand("Mx_MeasureArea",()=>{Ue(),W1()}),MxPluginContext.addCommand("Mx_MeasureReactArea",()=>{Ue(),G1()}),MxPluginContext.addCommand("Mx_MeasureCoordAnnotation",()=>{Ue(),q1()}),MxPluginContext.addCommand("Mx_SetDimScale",()=>X1()),MxPluginContext.addCommand("Mx_MeasureArcLength",()=>{Ue(),K1()}),MxPluginContext.addCommand("Mx_MeasureDistFromPointToLine",()=>{Ue(),Y1()}),MxPluginContext.addCommand("Mx_MeasureContinueMeasurement",()=>{Ue(),J1()}),MxPluginContext.addCommand("Mx_MeasureCountList",()=>{Ue(),Q1()}),MxPluginContext.addCommand("Mx_MeasureAreaArc",()=>{Ue(),$1()}),MxPluginContext.addCommand("Mx_MeasureMeasuringCircle",()=>{Ue(),Z1()}),MxPluginContext.addCommand("Mx_MeasureAlignComment",()=>{Ue(),e0()}),MxPluginContext.addCommand("Mx_MeasureLinearComment",()=>{Ue(),n0()}),MxPluginContext.addCommand("Mx_MeasureAngleComment",()=>{Ue(),t0()}),MxPluginContext.addCommand("Mx_MeasureRadiusComment",()=>{Ue(),r0()}),MxPluginContext.addCommand("Mx_MeasureAreaHatch",()=>{Ue(),i0()}),MxPluginContext.addCommand("Mx_ShowHideAnnotation",()=>o0()),MxPluginContext.addCommand("Mx_ModifyAnnotationSetting",()=>{Ue(),s0()}),MxPluginContext.addCommand("Mx_ClearAnnotation",()=>a0()),MxPluginContext.addCommand("Mx_CategoryManage",()=>{Ue(),l0()}),MxPluginContext.addCommand("Mx_MeasurementStatistics",()=>c0()),MxPluginContext.addCommand("Mx_AnnotationSetting",()=>h0())}const Di={isResponsive:!0,tab:[O("测量")],icon:"celiang",list:[{tab:O("对齐"),icon:"duiqibiaozhu",cmd:"Mx_MeasureAlignComment"},{tab:O("线性"),icon:"xianxingbiaozhu",cmd:"Mx_MeasureLinearComment"},{tab:O("面积"),icon:"cemianji",cmd:"Mx_MeasureArea"},{tab:O("矩形面积"),icon:"mianjibiaozhu",cmd:"Mx_MeasureReactArea"},{tab:O("坐标标注"),icon:"Szuobiaobiaozhu",cmd:"Mx_MeasureCoordAnnotation"},{tab:O("设置标注比例"),icon:"a-scale-to-original",cmd:"Mx_SetDimScale"},{tab:O("弧长"),icon:"cehuchang",cmd:"Mx_MeasureArcLength"},{tab:O("点到直线的距离"),icon:"dianxianjuli",cmd:"Mx_MeasureDistFromPointToLine"},{tab:O("连续测量"),icon:"lianxubiaozhu",cmd:"Mx_MeasureContinueMeasurement"},{tab:O("查看分段长度"),icon:"fenduanchangdu",cmd:"Mx_MeasureCountList"},{tab:O("修改标注属性"),icon:"xiugaibiaozhu",cmd:"Mx_ModifyAnnotationSetting"},{tab:O("面积(含弧线)"),icon:"mianjihuxian",cmd:"Mx_MeasureAreaArc"},{tab:O("测量填充面积"),icon:"cetianchong",cmd:"Mx_MeasureAreaHatch"},{tab:O("测量圆"),icon:"celiang-yuanxingmianji",cmd:"Mx_MeasureMeasuringCircle"},{tab:O("半径标注"),icon:"ceyuan",cmd:"Mx_MeasureRadiusComment"},{tab:O("测量角度"),icon:"celiangjiaodu",cmd:"Mx_MeasureAngleComment"},{tab:O("显隐标注"),icon:"xianyin",cmd:"Mx_ShowHideAnnotation"},{tab:O("清除标注"),icon:"qingchu",cmd:"Mx_ClearAnnotation"},{tab:O("标注分类管理"),icon:"fenleiguanli",cmd:"Mx_CategoryManage"},{tab:O("测量统计"),icon:"bar",cmd:"Mx_MeasurementStatistics"},{tab:O("标注设置"),icon:"biaozhushezhi",cmd:"Mx_AnnotationSetting"}]};setTimeout(()=>ot(this,null,function*(){MxPluginContext.getUiConfig().then(D=>{const o=JSON.parse(JSON.stringify(Di));o.tab=O(o.tab[0]),o.list.forEach(u=>{u.tab=O(u.tab)});const t=JSON.parse(JSON.stringify(o));on.on("change",()=>{t.tab=O(Di.tab[0]),t.list.forEach((u,a)=>{u.tab=O(Di.list[a].tab)}),o.tab=t.tab,o.list.forEach((u,a)=>{u.tab=t.list[a].tab})});const c={isResponsive:!0,tab:O("等分"),cmd:"Mx_Extool_Bisection",icon:"dengfen"};on.on("change",()=>{c.tab=O("等分")}),D.mMenuBarData.forEach(u=>{u.tab==="工具(A)"&&u.list.push(o,c)})})}),500),d0();const ts=MxPluginContext.useDialogIsShow(),qr=b.ref(!1),an=D=>{const t=w.MxCpp.getCurrentDatabase().GetGroupDictionary(),c=D.getHandle(),u=t.getAllObjectName(),a=u.length();let r=[];for(let i=0;i<a;i++){const s=u.at(i),n=t.getAt(s).getMcDbObject();if(!n)continue;n.getAllEntityId().forEach(l=>{var h;((h=l.getMcDbEntity())==null?void 0:h.getHandle())===c&&r.push({name:s,group:n})})}return r};function u0(){return ot(this,null,function*(){let D="",o=[];const t=w.MxCpp.getCurrentDatabase(),c=t.GetGroupDictionary(),u=w.MxCpp.getCurrentMxCAD(),a=c.getAllObjectName();let r=0;a.forEach(e=>{/^\*/.test(e)&&(r+=1)});let i=`*A${r+1}`;const s=()=>ot(this,null,function*(){if(o.some(n=>t.getEntitiesInTheGroup(n).length!==0)){const n=new w.MxCADUiPrKeyWord;n.setMessage(`${O("包含相同对象的组已经存在。仍要创建新的组")}？<N>`),n.setKeyWords(`[${O("是")}(Y)/${O("否")}(N)]`);const d=yield n.go();if(o.forEach(l=>{l.getMcDbEntity().highlight(!1)}),u.updateDisplay(),(d==null?void 0:d.toLocaleUpperCase())==="N"||!d)return}if(t.CreateGroup(o,i)){const d=c.getAt(i).getMcDbObject();D&&(d.description=D),/^\*/.test(i)?MxPluginContext.useMessage().success(O("未命名组已创建")):MxPluginContext.useMessage().success(O(`${O("组")}${i}${O("已创建")}`)),o.forEach(l=>{l.getMcDbEntity().highlight(!1)}),u.updateDisplay()}});for(;;){const e=new w.MxCADUiPrPoint;e.setMessage(O("选择对象")),e.setKeyWords(`[${O("名称")}(N)/${O("说明")}(D)]`),e.setDisableOsnap(!0),e.setDisableDynInput(!0),e.disableAllTrace(!0);const n=[];e.setUserDraw((l,h)=>{n.length&&n.forEach(g=>g.highlight(!1)),n.length=0;const p=w.MxCADUtility.findEntAtPoint(l.x,l.y,l.z,-1);if(p.isValid()&&!o.map(g=>g.id).includes(p.id)){const g=p.getMcDbEntity(),f=an(g);f.length?f[0].group.getAllEntityId().forEach(y=>{const v=y.getMcDbEntity();v.highlight(!0),n.push(v)}):(g.highlight(!0),n.push(g))}});const d=yield e.go();if(n.forEach(l=>l.highlight(!1)),e.getStatus()==lt.MrxDbgUiPrBaseReturn.kKeyWord){if(e.isKeyWordPicked("N"))for(;;){const l=new w.MxCADUiPrString;l.setMessage(O("输入编组名")),l.setKeyWords(`[${O("查询")}(A)]`);const h=yield l.go();if(l.getDetailedResult()===lt.DetailedResult.kCodeAbort||l.getDetailedResult()===lt.DetailedResult.kEcsIn||l.getDetailedResult()===lt.DetailedResult.kNewCommadIn)return;if(e.getDetailedResult()===lt.DetailedResult.kNullEnterIn||e.getDetailedResult()===lt.DetailedResult.kNullSpaceIn||e.getDetailedResult()===lt.DetailedResult.kMouseRightIn)return s();if(l.isKeyWordPicked("A")){l.setMessage(O("请输入要列出的编码组名")+"<*>"),l.setKeyWords("");const f=yield l.go();if(l.getDetailedResult()===lt.DetailedResult.kCodeAbort||l.getDetailedResult()===lt.DetailedResult.kEcsIn||l.getDetailedResult()===lt.DetailedResult.kNewCommadIn)return;if(f&&f!=="*"){const y=c.getAt(f).getMcDbObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),y&&lt.MxFun.acutPrintf(`
${y.name}`)}else if(f==="*"||l.getDetailedResult()===lt.DetailedResult.kNullEnterIn||l.getDetailedResult()===lt.DetailedResult.kNullSpaceIn){const m=c.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),m.forEach(y=>{const v=y.getMcDbObject();v&&lt.MxFun.acutPrintf(`
 ${v.name}`)})}continue}if(!h)return;if(/^\*/.test(h)){lt.MxFun.acutPrintf(`${O("*无效*")}`);continue}const p=c.getAt(h);if(p.getMcDbObject()&&p.isValid()){lt.MxFun.acutPrintf(`${O("编组")} ${h} ${O("已经存在")}`);continue}if(i=h,o.length)return o.forEach(f=>{f.getMcDbEntity().highlight(!1)}),s();break}else if(e.isKeyWordPicked("D")){const l=new w.MxCADUiPrString;l.setMessage(O("输入编组说明"));const h=yield l.go();if(!h)break;D=h;continue}}else{if(e.getStatus()===lt.MrxDbgUiPrBaseReturn.kNone)return o.length?(o.forEach(l=>{l.getMcDbEntity().highlight(!1)}),s()):MxPluginContext.useMessage().success(O("未选择对象，未创建编组"));if(e.getStatus()===lt.MrxDbgUiPrBaseReturn.kCancel){o.forEach(l=>{l.getMcDbEntity().highlight(!1)});return}else if(d&&n.length){const l=n.map(h=>(h.highlight(!0),h.getObjectID()));o.push(...l);continue}else if(d&&!n.length){e.setUserDraw((p,g)=>{const f=[d,new w.McGePoint3d(d.x,p.y),p,new w.McGePoint3d(p.x,d.y)];let m=new w.McDbPolyline;m.isClosed=!0,f.forEach(S=>m.addVertexAt(S)),g.setColor(16777215),g.drawMcDbEntity(m);const y=new THREE.BufferGeometry;y.setFromPoints([new THREE.Vector3(d.x,d.y,d.z),new THREE.Vector3(d.x,p.y,p.z),new THREE.Vector3(p.x,p.y,p.z),new THREE.Vector3(p.x,d.y,d.z)]),y.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),y.setIndex([0,1,2,0,2,3]);const v=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),C=new THREE.Mesh(y,v);g.drawEntity(C)});const l=yield e.go();if(!l)break;const h=new w.MxCADSelectionSet;yield h.crossingSelect(d.x,d.y,l.x,l.y),h.forEach(p=>{if(!o.map(g=>g.id).includes(p.id)){const g=p.getMcDbEntity(),f=an(g);f.length?f[0].group.getAllEntityId().forEach(y=>{y.getMcDbEntity().highlight(!0),o.push(y)}):(g.highlight(!0),o.push(p))}});continue}else continue}}})}function f0(){return ot(this,null,function*(){const D=[];let o=[],t;const u=w.MxCpp.getCurrentDatabase().GetGroupDictionary();let a=0;const r=new w.MxCADUiPrEntity;if(r.setMessage(O("选择组")),r.setKeyWords(`[${O("名称")}(N)]`),r.setUserDraw((i,s)=>{D.forEach(n=>n.highlight(!1)),D.length=0;const e=w.MxCADUtility.findEntAtPoint(i.x,i.y,i.z,-1);if(e.isValid()){const n=e.getMcDbEntity();o=an(n),o.length&&o[a].group.getAllEntityId().forEach(l=>{const h=l.getMcDbEntity();h.highlight(!0),D.push(h)})}}),yield r.go(),r.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){if(r.isKeyWordPicked("N"))for(;;){const i=new w.MxCADUiPrString;i.setMessage(O("输入编组名")),i.setKeyWords(`[${O("查询")}(A)]`);const s=yield i.go();if(i.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){const e=u.getAt(s),n=e.getMcDbObject();if(e.isValid()&&n){n.clear(),u.remove(s),MxPluginContext.useMessage().success(O("组 ")+s+O(" 已分解")),D.length&&D.forEach(d=>d.highlight(!1));return}else{lt.MxFun.acutPrintf(O("编组 ")+s+O(" 未定义"));continue}}else if(i.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){i.setMessage(O("请输入要列出的编码组名")+"<*>"),i.setKeyWords("");const e=yield i.go();if(i.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){if(e&&e!=="*"){const d=u.getAt(e).getMcDbObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),d&&lt.MxFun.acutPrintf(`
${d.name}`)}else if(e==="*"){const n=u.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),n.forEach(d=>{const l=d.getMcDbObject();l&&lt.MxFun.acutPrintf(`
 ${l.name}`)})}}else if(i.getStatus()===lt.MrxDbgUiPrBaseReturn.kNone){const n=u.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),n.forEach(d=>{const l=d.getMcDbObject();l&&lt.MxFun.acutPrintf(`
 ${l.name}`)})}continue}}}else if(r.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){if(o.length===1)t=o[0].name;else if(o.length>1)for(;;){const i=new w.MxCADUiPrKeyWord;i.setMessage(O("对象是多个组的成员<接受>")),i.setKeyWords(`[${O("接受")}(A)/${O("下一个")}(N)]`);let s=yield i.go();if(s==="A"){t=o[a].name;break}else if(s==="N"){D.forEach(n=>n.highlight(!1)),D.length=0,a+1>o.length-1?a=0:a+=1,o[a].group.getAllEntityId().forEach(n=>{const d=n.getMcDbEntity();d.highlight(!0),D.push(d)});continue}else{D.length&&D.forEach(e=>e.highlight(!1));return}}if(t){const s=u.getAt(t).getMcDbObject();s?(s.clear(),u.remove(t),MxPluginContext.useMessage().success(`${O("组")} ${t} ${O("已分解")}`)):MxPluginContext.useMessage().success(`${O("对象不是组成员")}`)}else MxPluginContext.useMessage().success(`${O("对象不是组成员")}`);D.length&&D.forEach(i=>i.highlight(!1))}})}function p0(){return ot(this,null,function*(){const D=[];let o=[],t=0,c="";const a=w.MxCpp.getCurrentDatabase().GetGroupDictionary(),r=w.MxCpp.getCurrentMxCAD(),i=()=>ot(this,null,function*(){if(o.length===1)c=o[0].name;else if(o.length>1)for(;;){const e=new w.MxCADUiPrKeyWord;e.setMessage(O("对象是多个组的成员<接受>")),e.setKeyWords(`[${O("接受")}(A)/${O("下一个")}(N)]`);let n=yield e.go();if(n==="A"){c=o[t].name;break}else if(n==="N"){D.forEach(l=>l.highlight(!1)),D.length=0,t+1>o.length-1?t=0:t+=1,o[t].group.getAllEntityId().forEach(l=>{const h=l.getMcDbEntity();h.highlight(!0),D.push(h)});continue}else continue}else c="";if(c){const n=a.getAt(c).getMcDbObject();if(n){const d=new w.MxCADUiPrKeyWord;d.setMessage(O("输入选项")),d.setKeyWords(`[${O("添加对象")}(A)/${O("删除对象")}(R)/${O("重命名")}(REN)]`);const l=yield d.go();if(!l)return;if(l==="A"){const h=[];for(;;){const p=new w.MxCADUiPrPoint;p.setMessage(O("选择要添加到编组的对象")),p.setDisableOsnap(!0),p.setDisableDynInput(!0),p.disableAllTrace(!0);const g=[];p.setUserDraw((m,y)=>{g.length&&g.forEach(C=>{D.map(S=>S.getObjectID().id).includes(C.getObjectID().id)||C.highlight(!1)}),g.length=0;const v=w.MxCADUtility.findEntAtPoint(m.x,m.y,m.z,-1);if(v.isValid()&&!h.map(C=>C.id).includes(v.id)&&!n.has(v)){const C=v.getMcDbEntity(),S=an(C);S.length?S[0].group.getAllEntityId().forEach(z=>{const V=z.getMcDbEntity();V.highlight(!0),g.push(V)}):(C.highlight(!0),g.push(C))}});const f=yield p.go();if(f){if(g.length)g.length&&g.forEach(m=>{h.push(m.getObjectID())});else{p.setUserDraw((v,C)=>{const S=[f,new w.McGePoint3d(f.x,v.y),v,new w.McGePoint3d(v.x,f.y)];let I=new w.McDbPolyline;I.isClosed=!0,S.forEach(U=>I.addVertexAt(U)),C.setColor(16777215),C.drawMcDbEntity(I);const z=new THREE.BufferGeometry;z.setFromPoints([new THREE.Vector3(f.x,f.y,f.z),new THREE.Vector3(f.x,v.y,v.z),new THREE.Vector3(v.x,v.y,v.z),new THREE.Vector3(v.x,f.y,f.z)]),z.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),z.setIndex([0,1,2,0,2,3]);const V=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),L=new THREE.Mesh(z,V);C.drawEntity(L)});const m=yield p.go();if(!m)break;const y=new w.MxCADSelectionSet;yield y.crossingSelect(f.x,f.y,m.x,m.y),y.forEach(v=>{var C;if(!n.has(v)&&!h.map(S=>S.id).includes(v.id)){const S=v.getMcDbEntity(),I=an(S);I.length?I[0].group.getAllEntityId().forEach(V=>{var L;(L=V.getMcDbEntity())==null||L.highlight(!0),h.push(V)}):((C=v.getMcDbEntity())==null||C.highlight(!0),h.push(v))}})}continue}else{g.length&&g.forEach(m=>m.highlight(!1));break}}h.length&&(h.forEach(p=>{p.getMcDbEntity().highlight(!1),n.append(p)}),MxPluginContext.useMessage().success(`${O("添加对象成功！")}`))}else if(l==="R"){const h=[];for(;;){const p=new w.MxCADUiPrPoint;p.setMessage(O("选择要从编组中删除的对象")),p.setDisableOsnap(!0),p.setDisableDynInput(!0),p.disableAllTrace(!0);const g=[];p.setUserDraw((m,y)=>{const v=w.MxCADUtility.findEntAtPoint(m.x,m.y,m.z,-1);if(g.forEach(C=>{n.has(C.getObjectID())||C.highlight(!1)}),g.length=0,v.isValid()&&!h.map(C=>C.id).includes(v.id)){const C=v.getMcDbEntity();C.highlight(!0),g.push(C)}});const f=yield p.go();if(f){if(g.length)g.forEach(m=>{m.highlight(!1),n.has(m.getObjectID())?h.push(m.getObjectID()):lt.MxFun.acutPrintf(O("对象不是组内元素，无法删除"))});else{p.setUserDraw((v,C)=>{const S=[f,new w.McGePoint3d(f.x,v.y),v,new w.McGePoint3d(v.x,f.y)];let I=new w.McDbPolyline;I.isClosed=!0,S.forEach(U=>I.addVertexAt(U)),C.setColor(16777215),C.drawMcDbEntity(I);const z=new THREE.BufferGeometry;z.setFromPoints([new THREE.Vector3(f.x,f.y,f.z),new THREE.Vector3(f.x,v.y,v.z),new THREE.Vector3(v.x,v.y,v.z),new THREE.Vector3(v.x,f.y,f.z)]),z.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),z.setIndex([0,1,2,0,2,3]);const V=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),L=new THREE.Mesh(z,V);C.drawEntity(L)});const m=yield p.go();if(!m)break;const y=new w.MxCADSelectionSet;yield y.crossingSelect(f.x,f.y,m.x,m.y),y.forEach(v=>{if(n.has(v)){const C=v.getMcDbEntity();C.highlight(!1),h.push(C.getObjectID())}})}continue}else break}if(h.length){const p=D.filter(g=>!h.map(f=>f.id).includes(g.getObjectID().id)).map(g=>g.getObjectID());n.clear(),n.appendArray(p)}}else if(l==="REN")for(;;){const h=new w.MxCADUiPrString;h.setMessage(O("输入组的新名称")+`<${n.name}>`),h.setKeyWords(`[${O("查询")}(A)]`);const p=yield h.go();if(h.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){if(h.isKeyWordPicked("A")){h.setMessage(O("请输入要列出的编码组名")+"<*>"),h.setKeyWords("");const g=yield h.go();if(h.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){if(g&&g!=="*"){const m=a.getAt(g).getMcDbObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),m&&lt.MxFun.acutPrintf(`
${m.name}`)}else if(g==="*"){const f=a.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),f.forEach(m=>{const y=m.getMcDbObject();y&&lt.MxFun.acutPrintf(`
 ${y.name}`)})}}else{const f=a.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),f.forEach(m=>{const y=m.getMcDbObject();y&&lt.MxFun.acutPrintf(`
 ${y.name}`)})}continue}}else if(h.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){const g=a.getAt(p);if(g.getMcDbObject()&&g.isValid()){lt.MxFun.acutPrintf(`${O("编组")} ${p} ${O("已经存在")}`);continue}else{n.name=p,MxPluginContext.useMessage().success(O("修改组名成功"));break}}else break}}else MxPluginContext.useMessage().success(`${O("对象不是组成员")}`)}D.length&&D.forEach(e=>e.highlight(!1)),r.updateDisplay()}),s=new w.MxCADUiPrEntity;if(s.setMessage(O("选择组")),s.setKeyWords(`[${O("名称")}(N)]`),s.setUserDraw((e,n)=>{D.forEach(l=>l.highlight(!1)),D.length=0;const d=w.MxCADUtility.findEntAtPoint(e.x,e.y,e.z,-1);if(d.isValid()){const l=d.getMcDbEntity();o=an(l),o.length&&o[t].group.getAllEntityId().forEach(p=>{const g=p.getMcDbEntity();g.highlight(!0),D.push(g)})}}),yield s.go(),s.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){if(s.isKeyWordPicked("N"))for(;;){const e=new w.MxCADUiPrString;e.setMessage(O("输入组的名称")),e.setKeyWords(`[${O("查询")}(A)]`);const n=yield e.go();if(e.getStatus()===lt.MrxDbgUiPrBaseReturn.kKeyWord){if(e.isKeyWordPicked("A")){e.setMessage(O("请输入要列出的编码组名")+"<*>"),e.setKeyWords("");const d=yield e.go();if(e.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){if(d&&d!=="*"){const h=a.getAt(d).getMcDbObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),h&&lt.MxFun.acutPrintf(`
${h.name}`)}else if(d==="*"){const l=a.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),l.forEach(h=>{const p=h.getMcDbObject();p&&lt.MxFun.acutPrintf(`
 ${p.name}`)})}}else{const l=a.getAllObject();lt.MxFun.acutPrintf(`
${O("定义的编组")}:`),l.forEach(h=>{const p=h.getMcDbObject();p&&lt.MxFun.acutPrintf(`
 ${p.name}`)})}continue}}else if(e.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk){const d=a.getAt(n),l=d.getMcDbObject();if(l&&d.isValid()){l.getAllEntityId().forEach(h=>{const p=h.getMcDbEntity();p.highlight(!0),D.push(p)}),o.push({name:l.name,group:l}),i();break}else{lt.MxFun.acutPrintf(`${O("编组 ")} ${n} ${O(" 不存在")}`);continue}}else break}}else s.getStatus()===lt.MrxDbgUiPrBaseReturn.kOk?i():D.length&&D.forEach(e=>e.highlight(!1))})}function g0(){return ot(this,null,function*(){qr.value=!0,ts.showDialog(!0,{title:O("对象编组")})})}function m0(){MxPluginContext.addCommand("Mx_Group",u0),MxPluginContext.addCommand("Mx_Ungroup",f0),MxPluginContext.addCommand("Mx_EditGroup",p0),MxPluginContext.addCommand("Mx_Classicgroup",g0)}const b0={class:"contents"},y0={class:"table-container"},w0={style:{width:"100%",overflow:"auto"}},x0=["onClick"],v0={class:"static"},_0={class:"static-title"},M0={class:"static"},P0={class:"static-title"},C0={class:"static"},E0={class:"static-title"},D0={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},A0={class:"tips"},k0={class:"table-container"},S0={style:{width:"100%"}},T0={class:"contents"},N0={class:"table-container",style:{"max-height":"100px",overflow:"auto"}},V0={style:{width:"100%"}},B0=["onClick"],R0={class:"static"},I0={class:"static-title"},L0={class:"static"},j0={class:"d-flex justify-center align-center"},z0={class:"d-flex justify-center align-center"},O0={class:"d-flex justify-center align-center"},F0={class:"tips"},U0={class:"contents"},H0={class:"d-flex justify-center align-center"},W0={class:"d-flex justify-center align-center"},G0={class:"tips"},q0=b.defineComponent({__name:"component",setup(D){const{MxDialog:o}=MxPluginContext.components,t=[{name:"取消",fun:()=>{qr.value=!1}},{name:"确定",fun:()=>{qr.value=!1,h.value=!0},primary:!0}],c=b.reactive([]),{isShow:u,onReveal:a}=ts,r=b.ref("测试标题"),i=b.ref(!0),s=b.ref(!0),e=b.ref(350),n=b.ref(""),d=b.ref(!1),l=b.ref(!1),h=b.ref(!1),p=[];a(B=>{B.title&&(r.value=B.title)});const g=[{text:O("编组名"),width:"40%"},{text:O("可选择的"),width:"60%"}],f=b.reactive([]),m=b.reactive({id:0,name:"",group:null,description:""}),y=b.reactive({delectIndex:0,newIndex:0,objNum:0});b.onMounted(()=>{c.length=0,c.push(...t),f.length=0;const T=w.MxCpp.getCurrentDatabase().GetGroupDictionary(),W=T.getAllObjectName(),Y=W.length();for(let Q=0;Q<Y;Q++){const Z=W.at(Q),rt=T.getAt(Z).getMcDbObject();rt&&f.push({id:f.length+1,name:Z,group:rt.clone(),handle:rt.getHandle()})}});const v=b.computed(()=>C.isIncludeUnnamed?f:f.filter(B=>!/^\*/.test(B.name))),C=b.reactive({isIncludeUnnamed:!1,isOptional:!0,isUnnamed:!1}),S=b.ref(!1),I=b.reactive([]),z=()=>ot(this,null,function*(){d.value=!1,i.value=!1,s.value=!1;let B=null;for(;;){const T=new w.MxCADUiPrEntity;T.setMessage(O("拾取编组的成员")),T.setUserDraw((Q,Z)=>{B&&B.highlight(!1);const tt=w.MxCADUtility.findEntAtPoint(Q.x,Q.y,Q.z,-1);if(tt.isValid()){const rt=tt.getMcDbEntity();rt==null||rt.highlight(!0),B=rt}});const W=yield T.go();if(!W.isValid()){i.value=!0,s.value=!0,n.value=O("未选择任何对象"),d.value=!0;return}const Y=W.getMcDbEntity();if(Y){const Q=an(Y);if(Q.length){S.value=!0,I.length=0,Q.forEach((Z,tt)=>{I.push({name:Z.name,id:tt+1,group:Z.group})});break}else{lt.MxFun.acutPrintf(O("不是编组成员"));continue}}}B&&B.highlight(!1),i.value=!0,e.value=200,c.length=0,r.value=O("编组成员列表"),c.push({name:O("确定"),fun:()=>{s.value=!0,S.value=!1,e.value=350,c.length=0,r.value=O("对象编组"),c.push(...t)}})}),V=()=>{d.value=!1;const B=[];let T,W;if(!m.group||(m.group.getAllEntityId().forEach(Q=>{const Z=Q.getMcDbEntity();if(Z){const{minPt:tt,maxPt:rt}=Z.getBoundingBox();T||(T=tt.clone()),W||(W=rt.clone()),tt.x<T.x&&(T.x=tt.x),tt.y<T.y&&(T.y=tt.y),rt.x>W.x&&(W.x=rt.x),rt.y>W.y&&(W.y=rt.y),B.push(Z),Z.highlight(!0)}}),w.MxCpp.getCurrentMxCAD().updateDisplay(),!T||!W))return;const Y=T.clone().addvec(W.sub(T).mult(1/2));w.MxCpp.getCurrentMxCAD().zoomCenter(Y.x,Y.y),s.value=!1,e.value=150,c.length=0,c.push({name:"继续",fun:()=>{c.length=0,c.push(...t),e.value=350,s.value=!0,B.forEach(Q=>Q.highlight(!1)),w.MxCpp.getCurrentMxCAD().updateDisplay()}})},L=B=>{let T,W;return B.getAllEntityId().forEach(Q=>{const Z=Q.getMcDbEntity();if(Z){const{minPt:tt,maxPt:rt}=Z.getBoundingBox();T||(T=tt.clone()),W||(W=rt.clone()),tt.x<T.x&&(T.x=tt.x),tt.y<T.y&&(T.y=tt.y),rt.x>W.x&&(W.x=rt.x),rt.y>W.y&&(W.y=rt.y)}}),T.clone().addvec(W.sub(T).mult(1/2))},U=B=>{m.id=B.id,m.group=B.group,m.name=B.name,m.description=B.group.description},G=(B=!0,T=Y=>!0,W=!1)=>ot(this,null,function*(){let Y=[];for(;;){const Q=new w.MxCADUiPrPoint;Q.setMessage(O("选择对象")),Q.setDisableOsnap(!0),Q.setDisableDynInput(!0),Q.disableAllTrace(!0);const Z=[];Q.setUserDraw((rt,st)=>{Z.length&&Z.forEach(nt=>{var it;if(W){const ht=(it=m.group)==null?void 0:it.getAllEntityId().filter(ct=>ct.id===nt.getObjectID().id);ht!=null&&ht.length||nt.highlight(!1)}else nt.highlight(!1)}),Z.length=0;const $=w.MxCADUtility.findEntAtPoint(rt.x,rt.y,rt.z,-1);if($.isValid()&&!Y.map(nt=>nt.id).includes($.id)){const nt=$.getMcDbEntity();if(W)nt.highlight(!0),Z.push(nt);else{const it=an(nt);it.length?it[0].group.getAllEntityId().forEach(ct=>{const ut=ct.getMcDbEntity();ut.highlight(!0),Z.push(ut)}):(nt.highlight(!0),Z.push(nt))}}});const tt=yield Q.go();if(Z.forEach(rt=>rt.highlight(!1)),Q.getStatus()===lt.MrxDbgUiPrBaseReturn.kNone)break;if(Q.getStatus()===lt.MrxDbgUiPrBaseReturn.kCancel){Y.length=0;break}else if(tt&&Z.length){const rt=Z.map(st=>(B?st.highlight(!0):st.highlight(!1),st.getObjectID()));Y.push(...rt.filter(st=>T(st)));continue}else if(tt&&!Z.length){Q.setUserDraw(($,nt)=>{const it=[tt,new w.McGePoint3d(tt.x,$.y),$,new w.McGePoint3d($.x,tt.y)];let ht=new w.McDbPolyline;ht.isClosed=!0,it.forEach(mt=>ht.addVertexAt(mt)),nt.setColor(16777215),nt.drawMcDbEntity(ht);const ct=new THREE.BufferGeometry;ct.setFromPoints([new THREE.Vector3(tt.x,tt.y,tt.z),new THREE.Vector3(tt.x,$.y,$.z),new THREE.Vector3($.x,$.y,$.z),new THREE.Vector3($.x,tt.y,tt.z)]),ct.attributes.uv=new THREE.BufferAttribute(new Float32Array([0,0,1,0,1,1,0,1]),2),ct.setIndex([0,1,2,0,2,3]);const ut=new THREE.MeshBasicMaterial({color:19712,transparent:!0,opacity:.5,side:THREE.DoubleSide}),gt=new THREE.Mesh(ct,ut);nt.drawEntity(gt)});const rt=yield Q.go();if(!rt)break;const st=new w.MxCADSelectionSet;yield st.crossingSelect(tt.x,tt.y,rt.x,rt.y),st.forEach($=>{if(!Y.map(nt=>nt.id).includes($.id)){const nt=$.getMcDbEntity();if(W)B?nt.highlight(!0):nt.highlight(!1),T($)&&Y.push($);else{const it=an(nt);if(it.length)it[0].group.getAllEntityId().forEach(ct=>{const ut=ct.getMcDbEntity();B?ut.highlight(!0):ut.highlight(!1),T(ct)&&Y.push(ct)});else{const ht=$.getMcDbEntity();B?ht.highlight(!0):ht.highlight(!1),T($)&&Y.push($)}}}});continue}else continue}return Y}),H=()=>ot(this,null,function*(){d.value=!1;let B="";const T=w.MxCpp.getCurrentMxCAD(),W=T.getDatabase().GetGroupDictionary();if(C.isUnnamed){const Z=f.map(rt=>rt.name);let tt=0;Z.forEach(rt=>{/^\*/.test(rt)&&(tt+=1)}),B=`*A${tt+1}`}else B=m.name;if((/^\*/.test(B)||!B)&&!C.isUnnamed){d.value=!0,n.value=O("编组名无效");return}if(f.find(Z=>Z.name===B)){d.value=!0,n.value=O("编组名重复");return}i.value=!1;const Q=yield G();if(i.value=!0,!Q.length)n.value=O("未选择对象，未创建编组"),d.value=!0;else if(Q.forEach(tt=>{const rt=tt.getMcDbEntity();rt&&rt.highlight(!1)}),T.getDatabase().CreateGroup(Q,B)){n.value=O("编组创建成功！");const tt=W.getAt(B).getMcDbObject();tt.isSelectable=!0,tt.description=m.description,f.push({name:B,group:tt,id:f.length+1})}m.name="",m.group=null,m.description=""}),A=()=>ot(this,null,function*(){d.value=!1;const B=w.MxCpp.getCurrentMxCAD();if(!m.group)return;const T=m.group.getAllEntityId().map(Q=>Q.getMcDbEntity());T.forEach(Q=>Q==null?void 0:Q.highlight(!0)),i.value=!1;const W=L(m.group);w.MxCpp.getCurrentMxCAD().zoomCenter(W.x,W.y),lt.MxFun.acutPrintf(O("选择要从编组中删除的对象"));const Y=yield G(!1,Q=>T.filter(tt=>(tt==null?void 0:tt.getObjectID().id)===Q.id).length?!0:(lt.MxFun.acutPrintf(O("无法删除")),!1),!0);T.forEach(Q=>Q==null?void 0:Q.highlight(!1)),Y.length&&(m.group.clear(),T.forEach(Q=>{const Z=Q==null?void 0:Q.getObjectID();!Y.filter(tt=>tt.id===Z.id).length&&m.group&&m.group.append(Z)}),B.updateDisplay()),i.value=!0}),N=()=>ot(this,null,function*(){d.value=!1;const B=w.MxCpp.getCurrentMxCAD();if(!m.group)return;const T=m.group.getAllEntityId().map(Q=>Q.getMcDbEntity());T.forEach(Q=>Q==null?void 0:Q.highlight(!0)),i.value=!1;const W=L(m.group);w.MxCpp.getCurrentMxCAD().zoomCenter(W.x,W.y),lt.MxFun.acutPrintf(O("选择添加的对象"));const Y=yield G(!0,Q=>T.filter(tt=>(tt==null?void 0:tt.getObjectID().id)===Q.id).length?(lt.MxFun.acutPrintf(O("无法添加")),!1):!0,!0);T.forEach(Q=>Q==null?void 0:Q.highlight(!1)),Y.length&&(Y.forEach(Q=>{var Z;(Z=Q.getMcDbEntity())==null||Z.highlight(!1),!T.filter(tt=>(tt==null?void 0:tt.getObjectID().id)===Q.id).length&&m.group&&m.group.append(Q)}),B.updateDisplay()),i.value=!0}),E=()=>ot(this,null,function*(){if(d.value=!1,f.find(T=>T.name===m.name)){n.value=O("编组名重复"),d.value=!0;return}if(/^\*/.test(m.name)||!m.name){n.value=O("编组名无效"),d.value=!0;return}m.group&&(m.group.name=m.name),f.forEach(T=>{T.id===m.id&&(T.name=m.name)})}),x=()=>{d.value=!1,m.description&&m.group&&(m.group.description=m.description,d.value=!0,n.value=O("编组说明已更新")+"!")},_=()=>{if(d.value=!1,m.group){const B=f.findIndex(T=>T.id===m.id);B>-1&&(f[B].handle&&p.push(f[B]),f.splice(B,1)),m.description="",m.group=null,m.name=""}},P=[{name:O("确定"),primary:!0,fun:()=>{d.value=!1;const B=m.group;B==null||B.clear(),B==null||B.appendArray(M),s.value=!0,l.value=!1,c.length=0,r.value=O("对象编组"),c.push(...t)}},{name:O("取消"),fun:()=>{d.value=!1,r.value=O("对象编组"),l.value=!1,s.value=!0,c.length=0,c.push(...t)}}],M=[],k=()=>{y.delectIndex=0,y.newIndex=0,y.objNum=0,d.value=!1,s.value=!1,l.value=!0,c.length=0,r.value=O("编组排序"),c.push(...P),m.group&&(M.length=0,M.push(...m.group.getAllEntityId()))},R=b.ref(!1),F=b.ref(0),q=()=>{if(d.value=!0,!!m.group)if(n.value=O("对象：")+F.value,l.value=!1,r.value=O("对象编组"),R.value=!0,e.value=200,c.length=0,c.push({name:O("确定"),fun:()=>{e.value=350,c.length=0,r.value=O("编组排序"),c.push(...P),l.value=!0,R.value=!1,d.value=!1,F.value=0,M.forEach(B=>{var T;(T=B.getMcDbEntity())==null||T.highlight(!1)}),w.MxCpp.getCurrentMxCAD().updateDisplay()}}),M.length){const B=L(m.group);w.MxCpp.getCurrentMxCAD().zoomCenter(B.x,B.y),M.forEach((T,W)=>{var Y,Q;W===F.value?(Y=T.getMcDbEntity())==null||Y.highlight(!0):(Q=T.getMcDbEntity())==null||Q.highlight(!1)}),w.MxCpp.getCurrentMxCAD().updateDisplay()}else M.length=0,M.push(...m.group.getAllEntityId())},X=B=>{F.value+=B,n.value=O("对象：")+F.value,M.forEach((T,W)=>{var Y,Q;W===F.value?(Y=T.getMcDbEntity())==null||Y.highlight(!0):(Q=T.getMcDbEntity())==null||Q.highlight(!1)}),w.MxCpp.getCurrentMxCAD().updateDisplay()},J=()=>{m.group&&(M.length||(M.length=0,M.push(...m.group.getAllEntityId())),M.reverse(),d.value=!0,n.value=O("对象顺序已反转"))};function j(B,T,W,Y){if(T<0||T>=B.length)return n.value=O("无法从该位置删除"),[];if(W<0||W>B.length)return n.value=O("无法从该位置插入"),[];Y<=0&&(Y=1);const Q=[...B],Z=Q.splice(T,Y),tt=T<W?W-Y:W;return Q.splice(tt,0,...Z),Q}const K=()=>{if(!m.group)return;M.length||(M.length=0,M.push(...m.group.getAllEntityId())),n.value="";const B=j(M,Number(y.delectIndex),Number(y.newIndex),Number(y.objNum));d.value=!0,B.length>0?(n.value=O("编组已重新排序"),M.length=0,M.push(...B)):n.value||(n.value=O("无法重排！请重新设置！"))};return b.onUnmounted(()=>{h.value?(p.forEach(B=>{const T=w.MxCpp.getCurrentMxCAD().getDatabase().handleToIdIndex(B.handle||"");if(T.isValid()){const W=T.getMcDbGroup();W&&(W.clear(),w.MxCpp.getCurrentMxCAD().database.GetGroupDictionary().remove(W.name))}}),f.forEach(B=>{if(B.handle){const T=w.MxCpp.getCurrentMxCAD().getDatabase().handleToIdIndex(B.handle);if(T.isValid()){const W=T.getMcDbGroup();W&&(W.name=B.name,W.description=B.group.description,W.clear(),W.appendArray(W.getAllEntityId()),W.isSelectable=B.group.isSelectable)}}})):f.forEach(B=>{B.handle||(B.group.clear(),w.MxCpp.getCurrentMxCAD().database.GetGroupDictionary().remove(B.group.name))}),w.MxCpp.getCurrentMxCAD().updateDisplay()}),(B,T)=>b.withDirectives((b.openBlock(),b.createElementBlock("div",null,[b.createVNode(b.unref(o),{isShowCloseBtn:!1,title:r.value,modelValue:b.unref(u),"onUpdate:modelValue":T[16]||(T[16]=W=>b.isRef(u)?u.value=W:null),width:e.value,footerBtnList:c},{default:b.withCtx(()=>[b.withDirectives(b.createElementVNode("div",b0,[b.createElementVNode("div",y0,[b.createElementVNode("table",w0,[b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(g,W=>b.createElementVNode("th",{key:W.text,style:b.normalizeStyle({width:W.width})},b.toDisplayString(W.text),5)),64))])]),b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(v.value,W=>(b.openBlock(),b.createElementBlock("tr",{key:W.name,class:b.normalizeClass({"current-row":W.id===m.id}),onClick:Y=>U(W)},[b.createElementVNode("td",null,[b.createElementVNode("span",null,b.toDisplayString(W.name),1)]),b.createElementVNode("td",null,[b.createElementVNode("span",null,b.toDisplayString(W.group.isSelectable?"是":"否"),1)])],10,x0))),128))])])]),b.createElementVNode("div",v0,[b.createElementVNode("span",_0,b.toDisplayString(b.unref(O)("编组标识")),1),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("编组名:")),1)]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"8"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{onFocus:T[0]||(T[0]=()=>d.value=!1),modelValue:m.name,"onUpdate:modelValue":T[1]||(T[1]=W=>m.name=W),disabled:C.isUnnamed},null,8,["modelValue","disabled"])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("说明:")),1)]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"8"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{modelValue:m.description,"onUpdate:modelValue":T[2]||(T[2]=W=>m.description=W),onFocus:T[3]||(T[3]=()=>d.value=!1)},null,8,["modelValue"])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{onClick:z},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("查找名称")),1)]),_:1})]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:V},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("亮显")),1)]),_:1},8,["disabled"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{"onUpdate:modelValue":[T[4]||(T[4]=()=>{d.value=!1}),T[5]||(T[5]=W=>C.isIncludeUnnamed=W)],modelValue:C.isIncludeUnnamed,label:b.unref(O)("包含未命名的"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1})]),_:1})]),b.createElementVNode("div",M0,[b.createElementVNode("span",P0,b.toDisplayString(b.unref(O)("创建编组")),1),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{onClick:H},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("新建")),1)]),_:1})]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{"onUpdate:modelValue":[T[6]||(T[6]=()=>{d.value=!1}),T[7]||(T[7]=W=>C.isOptional=W)],modelValue:C.isOptional,label:b.unref(O)("可选择的"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCheckbox),{"onUpdate:modelValue":[T[8]||(T[8]=()=>{d.value=!1}),T[9]||(T[9]=W=>C.isUnnamed=W)],modelValue:C.isUnnamed,label:b.unref(O)("未命名的"),"hide-details":"",density:"compact"},null,8,["modelValue","label"])]),_:1})]),_:1})]),b.createElementVNode("div",C0,[b.createElementVNode("span",E0,b.toDisplayString(b.unref(O)("修改编组")),1),b.createElementVNode("div",D0,[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:A},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("删除")),1)]),_:1},8,["disabled"]),b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:N},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("添加")),1)]),_:1},8,["disabled"]),b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:E},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("重命名")),1)]),_:1},8,["disabled"]),b.createVNode(b.unref(dt.VBtn),{onClick:k},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("重排")),1)]),_:1})]),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:x},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("说明")),1)]),_:1},8,["disabled"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:_},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("分解")),1)]),_:1},8,["disabled"])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:T[10]||(T[10]=()=>{m.group&&(m.group.isSelectable=!m.group.isSelectable)})},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("可选择的")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),b.withDirectives(b.createElementVNode("div",A0,[b.createElementVNode("p",{style:b.normalizeStyle(n.value.includes("!")?"":"color:red")},b.toDisplayString(n.value),5)],512),[[b.vShow,d.value]])],512),[[b.vShow,s.value]]),b.withDirectives(b.createElementVNode("div",k0,[b.createElementVNode("table",S0,[b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(I,W=>(b.openBlock(),b.createElementBlock("tr",{key:W.name},[b.createElementVNode("td",null,[b.createElementVNode("span",null,b.toDisplayString(W.name),1)])]))),128))])])],512),[[b.vShow,S.value]]),b.withDirectives(b.createElementVNode("div",T0,[b.createElementVNode("div",N0,[b.createElementVNode("table",V0,[b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[(b.openBlock(),b.createElementBlock(b.Fragment,null,b.renderList(g,W=>b.createElementVNode("th",{key:W.text,style:b.normalizeStyle({width:W.width})},b.toDisplayString(W.text),5)),64))])]),b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(v.value,W=>(b.openBlock(),b.createElementBlock("tr",{key:W.name,class:b.normalizeClass({"current-row":W.id===m.id}),onClick:Y=>U(W)},[b.createElementVNode("td",null,[b.createElementVNode("span",null,b.toDisplayString(W.name),1)]),b.createElementVNode("td",null,[b.createElementVNode("span",null,b.toDisplayString(W.group.isSelectable?"是":"否"),1)])],10,B0))),128))])])]),b.createElementVNode("div",R0,[b.createElementVNode("span",I0,b.toDisplayString(b.unref(O)("说明")),1),b.createElementVNode("p",null,b.toDisplayString(m.description||"无"),1)]),b.createElementVNode("div",L0,[b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"8"},{default:b.withCtx(()=>{var W,Y;return[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("删除位置:")+`(0-${((Y=(W=m==null?void 0:m.group)==null?void 0:W.getAllEntityId())==null?void 0:Y.length)-1||-1})`),1)]}),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{modelValue:y.delectIndex,"onUpdate:modelValue":T[11]||(T[11]=W=>y.delectIndex=W),type:"number",disabled:!m.group},null,8,["modelValue","disabled"])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"8"},{default:b.withCtx(()=>{var W,Y;return[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("输入对象的新位置编号:")+`0-${((Y=(W=m==null?void 0:m.group)==null?void 0:W.getAllEntityId())==null?void 0:Y.length)-1||-1}`),1)]}),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{modelValue:y.newIndex,"onUpdate:modelValue":T[12]||(T[12]=W=>y.newIndex=W),type:"number",disabled:!m.group},null,8,["modelValue","disabled"])]),_:1})]),_:1}),b.createVNode(b.unref(dt.VRow),null,{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"8"},{default:b.withCtx(()=>{var W,Y;return[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("对象数目:")+`1-${((Y=(W=m==null?void 0:m.group)==null?void 0:W.getAllEntityId())==null?void 0:Y.length)||-1}`),1)]}),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VTextField),{modelValue:y.objNum,"onUpdate:modelValue":T[13]||(T[13]=W=>y.objNum=W),type:"number",disabled:!m.group},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),b.createVNode(b.unref(dt.VRow),{justify:"center",style:{"margin-top":"10px"}},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createElementVNode("div",j0,[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:K},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("重排序")),1)]),_:1},8,["disabled"])])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createElementVNode("div",z0,[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:q},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("亮显")),1)]),_:1},8,["disabled"])])]),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"4"},{default:b.withCtx(()=>[b.createElementVNode("div",O0,[b.createVNode(b.unref(dt.VBtn),{disabled:!m.group,onClick:J},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("逆序")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),b.withDirectives(b.createElementVNode("div",F0,[b.createElementVNode("p",null,b.toDisplayString(n.value),1)],512),[[b.vShow,d.value]])],512),[[b.vShow,l.value]]),b.withDirectives(b.createElementVNode("div",U0,[b.createVNode(b.unref(dt.VRow),{style:{"margin-top":"10px"}},{default:b.withCtx(()=>[b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>{var W,Y;return[b.createElementVNode("div",H0,[b.createVNode(b.unref(dt.VBtn),{disabled:F.value===((Y=(W=m==null?void 0:m.group)==null?void 0:W.getAllEntityId())==null?void 0:Y.length)-1,onClick:T[14]||(T[14]=Q=>X(1))},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("下一组")),1)]),_:1},8,["disabled"])])]}),_:1}),b.createVNode(b.unref(dt.VCol),{cols:"6"},{default:b.withCtx(()=>[b.createElementVNode("div",W0,[b.createVNode(b.unref(dt.VBtn),{disabled:F.value===0,onClick:T[15]||(T[15]=W=>X(-1))},{default:b.withCtx(()=>[b.createTextVNode(b.toDisplayString(b.unref(O)("上一组")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),b.withDirectives(b.createElementVNode("div",G0,[b.createElementVNode("p",null,b.toDisplayString(n.value),1)],512),[[b.vShow,d.value]])],512),[[b.vShow,R.value]])]),_:1},8,["title","modelValue","width","footerBtnList"])],512)),[[b.vShow,i.value]])}}),C2="",X0=_e(q0,[["__scopeId","data-v-41401896"],["__file","component.vue"]]),K0=_e(b.defineComponent({__name:"dialog",setup(D){const o=b.ref(X0);return(t,c)=>(b.openBlock(),b.createElementBlock("div",null,[b.unref(qr)?(b.openBlock(),b.createBlock(b.resolveDynamicComponent(o.value),{key:0})):b.createCommentVNode("",!0)]))}}),[["__file","dialog.vue"]]),es=document.createElement("div");document.body.appendChild(es);const ns=b.createVNode(K0),Y0=MxPluginContext.getApp();ns.appContext=Y0._context,b.render(ns,es);const Ai={isResponsive:!0,tab:[Gt("组")],icon:"zu",list:[{tab:Gt("创建组"),icon:"chuangjianzu",cmd:"Mx_Group"},{tab:Gt("解除编组"),icon:"jiezu",cmd:"Mx_Ungroup"},{tab:Gt("编辑组"),icon:"bianjizu",cmd:"Mx_EditGroup"},{tab:Gt("编组管理器"),icon:"zuguanli",cmd:"Mx_Classicgroup"}]};setTimeout(()=>ot(this,null,function*(){MxPluginContext.getUiConfig().then(D=>{const o=JSON.parse(JSON.stringify(Ai));o.tab=Gt(o.tab[0]),o.list.forEach(c=>{c.tab=Gt(c.tab)});const t=JSON.parse(JSON.stringify(o));on.on("change",()=>{t.tab=Gt(Ai.tab[0]),t.list.forEach((c,u)=>{c.tab=Gt(Ai.list[u].tab)}),o.tab=t.tab,o.list.forEach((c,u)=>{c.tab=t.list[u].tab})}),D.mMenuBarData.forEach(c=>{c.tab==="工具(A)"&&c.list.push(o)})})}),500),m0();const{utils:Z0}=MxPluginContext,{browserCacheRef:J0}=Z0,ki=J0(!1,"Mx_isShowPatternRec"),rs=document.createElement("div");document.body.appendChild(rs),b.createApp(qa).mount(rs),MxPluginContext.addDrawerComponent("PatternRec",{isShow:ki,component:b.defineAsyncComponent(()=>Fe(()=>Promise.resolve().then(()=>gp),void 0,Te&&Te.src||new URL("index.js",document.baseURI).href)),width:400,title:O("图形识别列表"),cmd:[{cmd:"Mx_PatternList",call:D=>ot(this,null,function*(){D(400)})}],onClose:D=>{D&&(ki.value=!1)}}),MxPluginContext.addCommand("Mx_PatternRec",Io);const Yn=b.ref(!1),Nn=b.ref(""),is=document.createElement("div");document.body.appendChild(is),b.createApp(dl).mount(is);const Q0=()=>ot(this,null,function*(){if(window.MxElectronAPI){const{filePath:D}=yield window.MxElectronAPI.convertDrawing();Nn.value=D,Yn.value=!0}else MxPluginContext.getMxCADUIImplement().uploadFile(D=>{D&&(Nn.value=D.file_path,Yn.value=!0)},!1)});MxPluginContext.addCommand("Mx_CompareDWG",Q0);const Se=b.ref(!1),Ne=b.reactive({name:"",component:""}),os=document.createElement("div");document.body.appendChild(os),b.createApp(fd).mount(os),MxPluginContext.addCommand("JTYZ",()=>{Ne.name=O("箭头引注"),Ne.component="ArrowCitation",Se.value=!0}),MxPluginContext.addCommand("YCBZ",()=>{Ne.name=O("引出标注"),Ne.component="ExtractionAnnotation",Se.value=!0}),MxPluginContext.addCommand("ZFBZ",()=>{Ne.name=O("做法标注"),Ne.component="PracticeLabeling",Se.value=!0}),MxPluginContext.addCommand("SYFH",()=>{Ne.name=O("索引符号"),Ne.component="IndexSymbol",Se.value=!0}),MxPluginContext.addCommand("SYTM",()=>{Ne.name=O("索引图名"),Ne.component="IndexName",Se.value=!0}),MxPluginContext.addCommand("PQFH",()=>{Ne.name=O("剖切符号"),Ne.component="SliceSymbol",Se.value=!0}),MxPluginContext.addCommand("BGBZ",()=>{Ne.name=O("标高标注"),Ne.component="ElevationMarking",Se.value=!0}),MxPluginContext.addCommand("TMBZ",()=>{Ne.name=O("图名标注"),Ne.component="MapTitleMarking",Se.value=!0}),MxPluginContext.addCommand("HZZX",()=>{Ne.name=O("绘制轴线"),Ne.component="PlotAxis",Se.value=!0});const $0=Object.freeze(Object.defineProperty({__proto__:null,default:{911:"Graphic recognition list",912:"Arrow citation",913:"Export annotation",914:"Method annotation",915:"Index symbol",916:"Index image name",917:"cutting symbol",918:"Elevation annotation",919:"Title annotation",920:"Draw axis line",921:"DWG comparison",922:"difference",923:"individual",924:"Entity Name",925:"physical location",926:"Modified",927:"Deleted",928:"added",929:"Superscript text",930:"Subscript text",931:"Alignment method:",932:"Arrow Style:",933:"sure",934:"Online end",935:"Qi Xian Zhong",936:"Equal line end",937:"Start",938:"middle",939:"end",940:"arrow",941:"Half Arrow",942:"drop",943:"cross",944:"not have",945:"A group containing the same object already exists. Still need to create a new group",946:"correct",947:"deny",948:"Unnamed group created",949:"group",950:"created",951:"Select object",952:"name",953:"describe",954:"Enter group name",955:"query",956:"Please enter the encoding group name to be listed",957:"Defined grouping",958:"*Invalid*",959:"grouping",960:"already present",961:"Enter grouping instructions",962:"No object selected, no grouping created",963:"Select group",964:"group",965:"Decomposed",966:"grouping",967:"undefined",968:"Object is a member of multiple groups<Accept>",969:"accept",970:"next",971:"Decomposed",972:"The object is not a member of the group",973:"Input Options",974:"Add Object",975:"delete object",976:"Rename",977:"Select the objects to add to the group",978:"Object added successfully!",979:"Select the objects to be removed from the group",980:"The object is not an element within the group and cannot be deleted",981:"Enter the new name for the group",982:"Successfully modified group name",983:"Enter the name of the group",984:"does not exist",985:"Please select the target group",986:"Object grouping",987:"Create Group",988:"Ungroup",989:"Edit group",990:"Grouping Manager",991:"Extension Tools",992:"Color (C)",993:"Layer (L)",994:"Line type (Y)",995:"Linear proportion (I)",996:"Line width (W)",997:"Transparency (R)",998:"Thickness (T)",999:"Print Style (S)",1e3:"Annotation (D)",1001:"Text (X)",1002:"Pattern filling (H)",1003:"Polyline (P)",1004:"Viewport (V)",1005:"Table (B)",1006:"Material (M)",1007:"Shadow display (O)",1008:"Multiple lead wires (U)",1009:"Feature matching",1010:"Please select the source object",1011:"Bylayer",1012:"ByBlock",1013:"default",1014:"Current activated settings:",1015:"Select Target Object",1016:"Feature Settings",1017:"measure",1018:"alignment",1019:"linear",1020:"area",1021:"Rectangular area",1022:"Coordinate annotation",1023:"Set annotation scale",1024:"arc length",1025:"distance from point to line",1026:"CONTINUE",1027:"View segment length",1028:"Modify annotation attributes",1029:"Area (including arc)",1030:"Measure the filling area",1031:"Measuring Circle",1032:"Radius dimension",1033:"Measuring angles",1034:"Explicit and implicit annotations",1035:"Clear annotation",1036:"Label classification management",1037:"Measurement statistics",1038:"Annotation Settings",1039:"equal division",1040:"Please select the first point of the area",1041:"Please select the next point",1042:"Please select the location for area annotation",1043:"Please select corner 1 of the rectangle",1044:"Please select corner 2 of the rectangle",1045:"Please set the location for area annotation",1046:"Please select the target coordinate point",1047:"Please specify the annotation location",1048:"Please select the starting point of a known straight line",1049:"Please select the endpoint of a known straight line",1050:"Enter actual size",1051:"Please select an arc",1052:"Please specify the position of the dimension line",1053:"Please select a measurement point",1054:"Please select a straight line",1055:"Please set the position of the dimension line",1056:"Please select a circular object",1057:"Please specify the text location",1058:"Please select the endpoint or arc of the line",1059:"Please select consecutive line segments!",1060:"Please specify the position of the text",1061:"Please select a continuous measurement annotation and right-click to exit",1062:"Please select the second straight line",1063:"Please set the position for angle annotation",1064:"Please select the starting point for aligning annotations",1065:"Please select the endpoint for aligning annotations",1066:"Please select the position for aligning annotations",1067:"Please select the starting point for linear annotation",1068:"Please select the endpoint of the linear annotation",1069:"Please select the position for linear annotation",1070:"Please select arc or circle",1071:"Please select the location for radius annotation",1072:"Please select the filling area",1073:"Please select one or more measurement annotations",1074:"Modify annotation settings",1075:"Please select the measurement annotation or box select the range to delete the annotation",1076:"Serial Number",1077:"quantity",1078:"operate",1079:"details",1080:"delete",1081:"No data available at the moment",1082:"coordinate",1083:"view",1084:"Please set the position of the compass",1085:"Please set the direction of the compass",1086:"Grouping identification",1087:"Group name:",1088:"explain:",1089:"Find name",1090:"HIGHLIGHT",1091:"Contains unnamed",1092:"Create a group",1093:"newly built",1094:"optional",1095:"unnamed",1096:"Modify grouping",1097:"add",1098:"rearrangement",1099:"break down",1100:"Delete location:",1101:"Enter the new location number of the object:",1102:"Number of objects:",1103:"Reordering",1104:"Reverse order",1105:"Next group",1106:"Previous group",1107:"Group name",1108:"Pick the members of the group",1109:"No object selected",1110:"Not a member of the group",1111:"Group member list",1112:"Invalid group name",1113:"Duplicate group name",1114:"Grouping created successfully!",1115:"Cannot delete",1116:"Select the objects to add",1117:"Unable to add",1118:"Grouping instructions have been updated",1119:"cancel",1120:"Group sorting",1121:"Object:",1122:"The order of objects has been reversed",1123:"Cannot delete from this location",1124:"Unable to insert from this position",1125:"Grouping has been reordered",1126:"Cannot rearrange! Please reset!",1127:"Please provide your approval comments",1128:"Specify the starting point of the cloud wireframe",1129:"Specify the termination point of the cloud wireframe",1130:"Designated review icon annotation points",1131:"Specify the first corner point:",1132:"Specify the second corner point:",1133:"Specify annotation points:",1134:"Specify serial number location:",1135:"Please select the target block object",1136:"Please enter a new block name",1137:"Select the block that needs to modify the base point",1138:"Set base point",1139:"Select the block that requires color modification",1140:"Enter color index (0~256)",1141:"Please select the source block",1142:"Select the target block to brush:",1143:"Select connection method",1144:"Manually connect each line one by one",1145:"Automatic batch connection",1146:"Please select the block for the connection",1147:"Set centerline length",1148:"Select the target block to rotate:",1149:"Set rotation angle",1150:"Please set the zoom ratio",1151:"Please set the selection range:",1152:"Please select the target block",1153:"Please set the statistical scope",1154:"Please enter the number of star shaped vertices:",1155:"Specify the star center point:",1156:"Please set the inner radius of the star shape:",1157:"Specify the outer radius of the star shape:",1158:"Please enter the width of the concave convex line<5>",1159:"Please enter the height of the concave convex line as<10>",1160:"Please click to confirm the starting point",1161:"Please click to confirm the endpoint",1162:"Please enter zigzag width<5>",1163:"Please enter zigzag line height<10>",1164:"Please enter rectangle width<5>",1165:"Please enter rectangle height<10>",1166:"Please click to confirm the center of the rectangle",1167:"Please enter pipe diameter<10>",1168:"Please enter the length of the outlet pipe<5>",1169:"Please click to confirm the starting point",1170:"Specify the starting point of the pipeline section",1171:"Specify the endpoint of the sectional pipeline",1172:"Select the direction of the pipeline arc",1173:"the left",1174:"the right side",1175:"MODE",1176:"straight bead",1177:"Arc weld seam",1178:"Please enter weld radius<5>",1179:"Specify start point",1180:"Specify the second point of the arc",1181:"Specify end point of arc",1182:"Please enter width<25>",1183:"Please enter height<15>",1184:"Please enter staircase level<10>",1185:"Please confirm the center position of the circle",1186:"Please enter the radius of the circle",1187:"Please enter insulation cotton width<5>",1188:"Please enter insulation cotton height<10>",1189:"Please click on the next point",1190:"Please select the first line",1191:"Please select the second line",1192:"Please select the endpoint",1193:"Please select the target rectangle",1194:"Set the center point of the compass",1195:"Set the radius of the compass",1196:"Select prompt box pointing",1197:"Specify the first point of the message box:",1198:"Specify the second point of the message box:",1199:"Set the message box to point to:",1200:"Please set the center of the circle",1201:"Please set the center of the gear circle",1202:"Please set the gear radius",1203:"Please set the centerline length to 10>",1204:"Please select the first circle",1205:"Please select the second circle",1206:"Please set the top left corner point of the rectangle",1207:"Please set the bottom right corner point of the rectangle",1208:"Please set the fillet radius",1209:"Please select the starting point of the polygon",1210:"Please select polygon vertices",1211:"Please input the table to extract accuracy",1212:"Select the first corner of the extraction range",1213:"Select the second corner of the extraction range",1214:"No valid table recognized!",1215:"Select object:",1216:"Specify base point",1217:"Specify the second point",1218:"array",1219:"exit",1220:"give up",1221:"Enter the number of items to be arranged in the array",1222:"Select arc object",1223:"Choose to copy rotated objects:",1224:"Please specify the target point",1225:"Please specify the rotation angle",1226:"Select the object to be converted into a polygon",1227:"Set the number of polygon edges",1228:"Input Options",1229:"Internally connected to a circle",1230:"Externally cut to a circle",1231:"Select the object whose color you want to modify",1232:"Enter color index",1233:"hide",1234:"Hide Unselected",1235:"show all",1236:"Select the target object",1237:"Please select an angle to copy the object",1238:"Please enter the angle for copying quantity",1239:"Please enter the base point for copying the angle",1240:"Please enter the copying angle",1241:"Please select vertex object",1242:"Please select the copied object",1243:"Please confirm the replication base point",1244:"Please select the reference curve",1245:"Select interrupt object",1246:"Specify offset object",1247:"Please enter the offset distance",1248:"Specify the scaling object (select lines, polylines, arcs)",1249:"Stretching to",1250:"Select the object to modify the line type scale",1251:"Please enter the line type ratio",1252:"Please enter the array spacing",1253:"Please select an arc",1254:"Select sorting objects",1255:"Specify the arrangement base point",1256:"Select target polyline:",1257:"Please enter rounded corner radius<5>",1258:"Please select a line object",1259:"Select equal division mode",1260:"measure",1261:"Divide",1262:"Offset equal division",1263:"Copy equally",1264:"Please select offset equal division objects",1265:"Please select to copy equally divided objects",1266:"Please select the line segments that need to be divided equally",1267:"Please set equal distances",1268:"Please set the number of equal parts",1269:"Please set the offset distance",1270:"Please specify the offset point",1271:"Please specify the replication base point",1272:"Please specify the number of equal parts to be copied",1273:"Please specify the endpoints for copying and dividing equally",1274:"Please select the entity that requires rectangular scaling:",1275:"Please specify corner 1 of the rectangle",1276:"Please specify corner 2 of the rectangle",1277:"Please choose to zoom in on the center point",1278:"Please select the zoom in range",1279:"Please set the magnification factor",1280:"Please choose to enlarge the insertion point",1281:"Please select a curve that needs to be broken",1282:"Please select a break point on the curve",1283:"Please enter the number of arrays",1284:"Do you want to enable rotation",1285:"Please select the graphics that require an array:",1286:"Please select the center point of the array",1287:"Please select a closed polygon!",1288:"Please select the first point",1289:"Please select the second point",1290:"Please select the first closed polygon",1291:"Please select the second closed polygon",1292:"Please select two closed polygons",1293:"Two polygons do not have overlapping edges!",1294:"Please select the target polygon",1295:"Please select the edges of the polygon to add vertices to",1296:"Please set the position of the added vertices",1297:"Please select the vertices of the polygon that need to be deleted",1298:"Please select the edges of the polygon that need to be stretched",1299:"Please specify the stretching position",1300:"Please set the position of the frame",1301:"Insert frame",1302:"Please select the target alignment line object (choose a line)",1303:"Please select the target text object",1304:"Select Text Object",1305:"Please set the font height",1306:"Please set the word width",1307:"Please select the source text",1308:"Please select the target text",1309:"Please select the first text",1310:"Please select the second text",1311:"Please select the text that needs to be aligned",1312:"Please choose the alignment method",1313:"the left side",1314:"centre",1315:"the right side",1316:"Please select the alignment base point",1317:"Please select the text that needs to be reversed",1318:"Please select the text that needs to be filled with spaces",1319:"Please select a text object",1320:"Please enter underline width",1321:"Please set the underline distance",1322:"Please set an underline to extend the distance",1323:"Please select the operation option",1324:"capital letters",1325:"lowercase",1326:"sentence case ",1327:"Please select a numerical object",1328:"Please select a text insertion point",1329:"Select the scope to search for:",1330:"Please select the search mode",1331:"equal to",1332:"contain",1333:"The prefix is",1334:"The suffix is",1335:"Please enter keywords",1336:"Select the scope of operation:",1337:"Select operation mode",1338:"Select operation location",1339:"prefix",1340:"suffix",1341:"Please enter the content",1342:"Please select text",1343:"Please select an arc",1344:"Please enter the width of the door",1345:"Please choose the insertion method<E>",1346:"Anywhere",1347:"Center position",1348:"Please select the location of the door",1349:"Please set the length of the standard window",1350:"Please select the position of the window",1351:"Specify the starting point of the axis line",1352:"Specify the endpoint of the axis or input the length",1353:"Click to specify the grid position",1354:"Axis style:",1355:"clear",1356:"number",1357:"spacing",1358:"Add annotations",1359:"Text Size",1360:"ARROW size",1361:"Add Number",1362:"Circle frame radius",1363:"return",1364:"Single axis",1365:"Axis grid",1366:"above",1367:"bottom",1368:"Please set the wall width",1369:"Please set the starting point of the wall",1370:"Please set the length of the wall",1371:"Please choose to draw room type<C>",1372:"Internal dimensions",1373:"Dimensions",1374:"Center size",1375:"Please set room corner 1",1376:"Please set room corner 2",1377:"Click on the first point on the wall",1378:"Click on the second point on the wall",1379:"Please set the wall opening width to<30>",1380:"Please set the insertion position of the wall hole<A>",1381:"Middle position",1382:"Click to confirm the insertion position of the wall hole",1383:"Pattern Recognition",1384:"graphic",1385:"Please enter the name of the graphic",1386:"The graphic name cannot be empty",1387:"Re select graphics",1388:"Look In",1389:"The entire blueprint",1390:"Regional search",1391:"Regional selection",1392:"Enable it",1393:"Please select the scope of image recognition",1394:"Please click the left button or pull the box to select the graphic you want to recognize",1395:"Specify the starting point of the arrow",1396:"Specify the next point or endpoint, right-click to complete",1397:"Please set the starting point of the symmetry axis",1398:"Please set the end point of the symmetry axis",1399:"Please click on the marked high point",1400:"Point in the direction of elevation",1401:"Please click to remove another one",1402:"Annotation position setting:",1403:"Text position setting:",1404:"Precision unit setting:",1405:"Free annotation",1406:"Align annotations",1407:"Complete the text from beginning to end",1408:"Text line end",1409:"National standard (0.000)",1410:"Custom settings",1411:"Please specify the first point for annotation",1412:"Please specify the position of the leader line",1413:"Please specify the position of the text baseline",1414:"Specify other annotation points, right-click to complete",1415:"Fixed angle:",1416:"Please set the number of breaks",1417:"Please set the starting point for the disconnection",1418:"Please set the end point of the disconnection",1419:"Please specify the location of the index map name",1420:"index number",1421:"proportion:",1422:"Please specify the location of the index node",1423:"Please specify the location of the turning point",1424:"Please specify the position of the text index number",1425:"Index map number",1426:"Index style:",1427:"Add index range",1428:"Center",1429:"Point to index",1430:"Cut index",1431:"Please specify the location of the image name annotation",1432:"Annotation style:",1433:"Title Text",1434:"Display scale:",1435:"Continuous annotation",1436:"National standard labeling",1437:"Traditional annotation",1438:"Please specify the position of the first point of the annotation",1439:"Please specify the baseline length of the text",1440:"Specify the position of the origin, right-click to complete",1441:"Add dots",1442:"Online Text Platform",1443:"Text online",1444:"Please specify the first cutting point",1445:"Please specify the second cutting point",1446:"Please specify the cross-sectional direction",1447:"Cut number",1448:"Sectional drawing number:",1449:"Cutting style:",1450:"Annotated location:",1451:"Annotation direction:",1452:"Orthogonal section",1453:"Sectional cutting",1454:"both ends",1455:"Along the cutting position line",1456:"Along the cross-sectional direction line",1457:"Label color",1458:"Unclassified annotation color:",1459:"Tip: Only the default color of unclassified annotations is modified here. If you need to modify the color of classified annotations, you can do so in the annotation classification management interface",1460:"TEXT HEIGHT",1461:"automatic",1462:"Manual setting",1463:"Specify on the screen",1464:"(After the above settings are modified, they will take effect for newly added annotations)",1465:"Display and precision settings",1466:"Display according to actual values",1467:"The drawing unit is mm,",1468:"Value according to",1469:"display",1470:"Display accuracy:",1471:"save",1472:"length",1473:"Please select the starting point of a line segment and take the length of the line as the height of the text",1474:"New Category",1475:"Current Category",1476:"hide all",1477:"Search for category names",1478:"Please enter the category name you want to search for",1479:"Clicking on the table item allows you to modify the name and color of the category, as well as set the current category",1480:"Do you need to modify all annotated colors under this category together to the new color of the category?",1481:"prompt",1482:"Modify together",1483:"NOT REQUIRED",1484:"colour",1485:"current",1486:"This category is the current category and cannot be deleted. You can set other categories as the current category and then operate again!",1487:"There are annotations under this category that cannot be deleted. You can move the annotations to other categories and then perform the operation again!",1488:"This is the current category and cannot be hidden. Other categories are already hidden",1489:"This category is the current category and cannot be hidden. You can set other categories as the current category and then operate again!",1490:"Modify Tools",1491:"Multiple replication",1492:"Arc to Circle",1493:"Copy Rotation",1494:"Circular to Multilateral",1495:"Change color",1496:"Arc angle cutting",1497:"Temporary Hide",1498:"Angle copying",1499:"Vertex Copy",1500:"Intersection point interruption",1501:"double offset",1502:"Telescoping",1503:"Change the size of the circle",1504:"Linetype Scale",1505:"By arc array",1506:"PL rounded corner",1507:"PL line reverse",1508:"Rectangular scaling",1509:"interrupt",1510:"Polar Array",1511:"Cutting polygons",1512:"Merging Polygons",1513:"Polygon with vertices",1514:"Polygon vertex deletion",1515:"Stretch polygon on one side",1516:"text tool",1517:"Align by line",1518:"Change the font height",1519:"Change the width of the characters",1520:"Brush content",1521:"Change content",1522:"justified",1523:"Align up and down",1524:"Text reversal",1525:"Delete space",1526:"Text framing",1527:"underline",1528:"Title line",1529:"case",1530:"Sum of numbers",1531:"Select specific characters",1532:"affix",1533:"Connecting Text",1534:"Vertical Text",1535:"Align by arc",1536:"Annotation tool",1537:"Drawing review annotation",1538:"Rectangular annotation",1539:"Number annotation",1540:"enlarge",1541:"Block Tool",1542:"Change the block name",1543:"Brush block",1544:"Block Connection",1545:"Block centerline",1546:"Change the base point of the block",1547:"Change the color of the block",1548:"Multi block rotation",1549:"Multi block scaling",1550:"Brush block angle",1551:"Select by block",1552:"Select all by block",1553:"Statistics of individual blocks",1554:"Modify block layer",1555:"Drawing tools",1556:"Mx_Extool_DrawStart",1557:"star shape",1558:"Mx_Extool_ConcavoVex",1559:"Concave convex line",1560:"Mx_Extool_ZigzagLine",1561:"jagged lines",1562:"Mx_Extool_CenterRect",1563:"Center rectangle",1564:"Mx_Extool_RREC",1565:"rounded rectangle",1566:"Mx_Extool_CCLine",1567:"Circular centerline",1568:"Mx_Extool_Piping",1569:"pipe",1570:"Mx_Extool_CutPipeline",1571:"Pipe cutting symbol",1572:"Mx_Extool_WelLine",1573:"weld line",1574:"Mx_Extool_PerpLine",1575:"perpendicular bisector",1576:"Mx_Extool_StairLine",1577:"staircase",1578:"Mx_Extool_SolidCircle",1579:"solid circle",1580:"Mx_Extool_CottonInsulation",1581:"Thermal insulation cotton",1582:"Mx_Extool_CenterLine",1583:"Centerline",1584:"Mx_Extool_DoHole",1585:"Opening a hole",1586:"Mx_Extool_Compass",1587:"compass",1588:"Mx_Extool_MassegeBox",1589:"prompt box",1590:"Mx_Extool_ConcentricCircles",1591:"concentric circles",1592:"Mx_Extool_Gear",1593:"gear",1594:"Mx_Extool_BlkCenterLine",1595:"Mx_Extool_RoundCutPublicLine",1596:"Round cut public line",1597:"Mx_Extool_DrawPolygon",1598:"Draw any polygon",1599:"Frame direction",1600:"Horizontal frame",1601:"Vertical frame",1602:"Additional items",1603:"Add title bar",1604:"Join the signature section",1605:"Frame size",1606:"Standard:",1607:"customize",1608:"Length:",1609:"Width:",1610:"Scale",1611:"Basic characteristics",1612:"Special characteristics",1613:"classification",1614:"proportion",1615:"Statistical scope",1616:"All annotations",1617:"Manually select annotations",1618:"Select annotation",1619:"Clear selection",1620:"Filter by annotation color",1621:"Open the color selection box",1622:"Filter by label classification",1623:"Open the category selection box",1624:"total:",1625:"Copy statistical results",1626:"Total length:",1627:"Total area:",1628:"Total circumference:",1629:"Export table to Excel",1630:"Not included in the table",1631:"The annotation",1632:"Unable to select annotation",1633:"Perform filtering",1634:"Select All",1635:"Deselect All",1636:"perimeter",1637:"Please click or box the annotation, right-click to end the selection",1638:"Select color classification",1639:"Select annotation classification",1640:"Enter the actual size between two points to set the annotation scale:"}},Symbol.toStringTag,{value:"Module"})),tp=Object.freeze(Object.defineProperty({__proto__:null,default:{911:"그래픽 인식 목록",912:"화살표 주석",913:"치수 내보내기",914:"방법 마크업",915:"색인 기호",916:"색인 그림 이름",917:"단면 기호",918:"표고 치수",919:"그림 이름 마크업",920:"축 그리기",921:"DWG 비교",922:"구별",923:"개",924:"엔티티 이름",925:"솔리드 위치",926:"수정됨",927:"삭제됨",928:"추가됨",929:"위 첨자 문자",930:"아래 첨자 문자",931:"정렬:",932:"화살표 스타일:",933:"확인",934:"온라인",935:"제선중",936:"제선단",937:"시작",938:"가운데",939:"끝 부분",940:"화살표",941:"반 화살표",942:"점",943:"십자",944:"없음",945:"동일한 객체를 포함하는 그룹이 이미 있습니다.새 그룹 만들기",946:"예",947:"아니오",948:"이름 없는 그룹이 생성됨",949:"그룹",950:"생성됨",951:"객체 선택",952:"이름",953:"설명",954:"그룹 이름 입력",955:"질의",956:"나열할 인코딩 그룹 이름을 입력하십시오.",957:"정의된 그룹",958:"* 유효하지 않음 *",959:"그룹",960:"이미 있음",961:"그룹 설명 입력",962:"객체가 선택되지 않았고 그룹이 작성되지 않았습니다.",963:"그룹 선택",964:"그룹",965:"분해됨",966:"그룹",967:"정의되지 않음",968:"객체는 여러 그룹의 구성원입니다<적용>",969:"수용",970:"다음",971:"분해됨",972:"개체가 그룹 구성원이 아닙니다.",973:"입력 옵션",974:"객체 추가",975:"객체 삭제",976:"이름 바꾸기",977:"그룹에 추가할 객체 선택",978:"객체 추가 성공!",979:"그룹에서 삭제할 객체 선택",980:"개체가 그룹 내 요소가 아니므로 삭제할 수 없습니다.",981:"그룹의 새 이름을 입력합니다.",982:"그룹 이름을 수정했습니다.",983:"그룹의 이름을 입력합니다.",984:"없음",985:"대상 그룹을 선택하십시오.",986:"객체 그룹",987:"그룹 만들기",988:"그룹 해제",989:"그룹 편집",990:"그룹 관리자",991:"확장 도구",992:"색상 (C)",993:"레이어 (L)",994:"선 모양 (Y)",995:"선종류 축척 (I)",996:"선가중치 (W)",997:"투명도 (R)",998:"두께 (T)",999:"플롯 스타일 (S)",1e3:"마크업 (D)",1001:"텍스트 (X)",1002:"해치(H)",1003:"폴리선 (P)",1004:"뷰포트 (V)",1005:"표 (B)",1006:"재료 (M)",1007:"그림자 표시 (O)",1008:"다중 지시선 (U)",1009:"특성 일치",1010:"소스 객체 선택",1011:"레이어에 따라",1012:"덩어리",1013:"기본",1014:"현재 활성화된 설정:",1015:"대상 객체 선택",1016:"특성 설정",1017:"측정",1018:"정렬",1019:"선형",1020:"면적",1021:"직사각형 영역",1022:"좌표 치수",1023:"치수 축척 설정",1024:"호 길이",1025:"점에서 선까지의 거리",1026:"연속 측정",1027:"세그먼트 길이 보기",1028:"치수 속성 수정",1029:"영역 (호 포함)",1030:"채우기 영역 측정하기",1031:"원 측정",1032:"반지름 치수",1033:"각도 측정",1034:"암시적 치수",1035:"치수 지우기",1036:"치수 분류 관리",1037:"측정 통계",1038:"치수 설정",1039:"등분",1040:"영역의 첫 번째 점을 선택하십시오.",1041:"다음 점을 선택하십시오.",1042:"영역 치수의 위치를 선택하십시오.",1043:"사각형의 구석 1을 선택하십시오.",1044:"사각형의 구석 2 를 선택하십시오.",1045:"영역 치수의 위치를 설정하십시오.",1046:"대상 좌표점을 선택하십시오.",1047:"치수 위치를 지정하십시오.",1048:"알려진 선의 시작점을 선택하십시오.",1049:"알려진 선의 끝점을 선택하십시오.",1050:"실제 치수 가져오기",1051:"호선을 선택하십시오.",1052:"치수 선 위치를 지정하십시오.",1053:"측정 점을 선택하십시오.",1054:"선을 선택하십시오.",1055:"치수 선의 위치를 설정하십시오.",1056:"원 객체를 선택하십시오.",1057:"문자 위치를 지정하십시오.",1058:"선의 끝점이나 호를 선택하십시오.",1059:"연속된 선 세그먼트를 선택하십시오!",1060:"문자의 위치를 지정하십시오.",1061:"연속 측정을 위한 치수를 선택하고 마우스 오른쪽 버튼을 클릭하여 종료합니다.",1062:"두 번째 선을 선택하십시오.",1063:"각도 치수의 위치를 설정하십시오.",1064:"정렬 치수의 시작점을 선택하십시오.",1065:"정렬 치수의 끝점을 선택하십시오.",1066:"치수를 정렬할 위치를 선택하십시오.",1067:"선형 치수의 시작점을 선택하십시오.",1068:"선형 치수의 끝점을 선택하십시오.",1069:"선형 치수의 위치를 선택하십시오.",1070:"호 또는 원을 선택하십시오.",1071:"반지름 치수의 위치를 선택하십시오.",1072:"채우기 영역을 선택하십시오.",1073:"하나 이상의 측정 치수를 선택하십시오.",1074:"치수 설정 수정",1075:"치수 측정 또는 상자 선택 치수 삭제 범위를 선택하십시오.",1076:"일련번호",1077:"수량",1078:"작업",1079:"상세 정보",1080:"삭제",1081:"데이터 없음",1082:"좌표",1083:"보기",1084:"나침반 위치를 설정하세요",1085:"나침반 방향을 설정하십시오.",1086:"그룹 식별",1087:"그룹 이름:",1088:"설명:",1089:"이름 찾기",1090:"강조",1091:"이름 없는 포함",1092:"그룹 만들기",1093:"새로 만들기",1094:"선택 가능",1095:"이름 없음",1096:"그룹 수정",1097:"추가",1098:"재배열",1099:"분해",1100:"삭제 위치:",1101:"객체의 새 위치 번호를 입력합니다.",1102:"객체 수:",1103:"순서재정리",1104:"역순",1105:"다음 그룹",1106:"이전 그룹",1107:"그룹 이름",1108:"그룹의 구성원 선택",1109:"선택한 객체가 없습니다.",1110:"그룹 구성원 아님",1111:"그룹 구성원 목록",1112:"잘못된 그룹 이름",1113:"그룹 이름 반복",1114:"그룹이 성공적으로 만들어졌습니다!",1115:"삭제할 수 없음",1116:"추가할 객체 선택",1117:"추가할 수 없음",1118:"그룹 설명이 업데이트되었습니다.",1119:"취소",1120:"그룹 정렬",1121:"객체:",1122:"객체 순서가 반전됨",1123:"이 위치에서 삭제할 수 없습니다.",1124:"이 위치에서 삽입할 수 없음",1125:"그룹이 재정리됨",1126:"다시 정렬할 수 없습니다!다시 설정해 주세요!",1127:"승인 의견을 입력하십시오.",1128:"클라우드 와이어프레임 시작점 지정",1129:"클라우드 와이어프레임 끝점 지정",1130:"심사 아이콘 주석 지정",1131:"첫 번째 구석을 지정합니다.",1132:"두 번째 구석 지정:",1133:"치수 점을 지정하려면 다음과 같이 하십시오.",1134:"일련번호 위치를 지정하려면 다음과 같이 하십시오.",1135:"대상 블록 객체를 선택하십시오.",1136:"새 블록 이름을 입력하십시오.",1137:"기준점을 수정할 블록 선택",1138:"기준점 설정",1139:"색상을 수정할 블록 선택",1140:"색상 색인 입력 (0~256)",1141:"소스 블록을 선택하십시오.",1142:"브러시할 대상 블록 선택:",1143:"연결 방법 선택",1144:"수동으로 하나씩 연결",1145:"자동 대량 연결",1146:"연결된 블록을 선택하십시오.",1147:"중심선 길이 설정",1148:"회전할 대상 블록을 선택합니다.",1149:"회전 각도 설정",1150:"배율을 설정하십시오.",1151:"선택 범위를 설정하십시오.",1152:"대상 블록을 선택하십시오.",1153:"통계 범위를 설정하십시오.",1154:"별 꼭대기 점 수를 입력하십시오.",1155:"별의 중심점을 지정하려면:",1156:"별의 내부 반지름을 설정하십시오.",1157:"별의 외부 반지름을 지정합니다.",1158:"범프 선 너비를 입력하십시오<5>",1159:"범프 선 높이를 입력하십시오<10>",1160:"시작점을 확인하려면 클릭하십시오.",1161:"클릭하여 결승점을 확정하세요",1162:"앤티앨리어싱 너비를 입력하십시오<5>",1163:"앤티앨리어싱 높이 입력<10>",1164:"직사각형 너비 입력<5>",1165:"직사각형 높이 입력<10>",1166:"클릭하여 사각형 중심 확인",1167:"파이프 지름을 입력하십시오<10>",1168:"파이프 배출구 길이를 입력하십시오<5>",1169:"클릭하여 시작점 확인",1170:"횡단면 파이프라인 시작점 지정하기",1171:"횡단면 파이프라인 끝점 지정하기",1172:"횡단면 파이프라인 호 방향 선택",1173:"왼쪽",1174:"오른쪽",1175:"선택 모드",1176:"선 용접",1177:"아크 용접",1178:"용접 반지름을 입력하십시오<5>",1179:"시작점 지정",1180:"호의 두 번째 점 지정하기",1181:"호의 끝점 지정하기",1182:"폭을 입력하십시오<25>",1183:"높이를 입력하십시오<15>",1184:"계단 레벨을 입력하십시오<10>",1185:"중심 위치를 확인하십시오.",1186:"원 반지름을 입력하십시오.",1187:"보온면 너비 입력<5>",1188:"보온면 높이 입력<10>",1189:"다음 점 눌러주세요.",1190:"첫 번째 선을 선택하십시오.",1191:"두 번째 선을 선택하십시오.",1192:"끝점을 선택하십시오.",1193:"대상 사각형을 선택하십시오.",1194:"나침반 중심점 설정",1195:"나침반 반지름 설정",1196:"프롬프트 상자 가리키기 선택",1197:"메시지 상자의 첫 번째 점을 지정합니다.",1198:"메시지 상자의 두 번째 점을 지정합니다.",1199:"메시지 상자 방향을 설정하려면 다음과 같이 하십시오.",1200:"중심점을 설정하십시오.",1201:"기어 중심을 설정하십시오.",1202:"기어 반지름을 설정하십시오.",1203:"중심선 길이 10 설정 >",1204:"첫 번째 원을 선택하십시오.",1205:"두 번째 원을 선택하십시오.",1206:"직사각형의 왼쪽 위 구석을 설정하십시오.",1207:"직사각형의 오른쪽 아래 구석을 설정하십시오.",1208:"필렛 반지름을 설정하십시오.",1209:"다각형 시작점을 선택하십시오.",1210:"다각형 교점을 선택하십시오.",1211:"테이블 추출 정밀도를 입력하십시오.",1212:"추출 범위의 첫 번째 구석 선택",1213:"추출 범위의 두 번째 구석 선택",1214:"유효한 양식이 인식되지 않았습니다!",1215:"객체 선택:",1216:"기준점 지정",1217:"두 번째 점 지정",1218:"어레이",1219:"종료",1220:"포기",1221:"패턴화할 항목 수 입력",1222:"호 객체 선택",1223:"회전된 객체 복사를 선택합니다.",1224:"대상 점을 지정하십시오.",1225:"회전 각도를 지정하십시오.",1226:"다각형으로 변환할 객체 선택",1227:"다각형 모서리 수 설정",1228:"입력 옵션",1229:"내접 원",1230:"원에 외부 탄젠트",1231:"색상을 수정할 객체 선택",1232:"색상 색인 입력",1233:"숨기기",1234:"선택 안 함 숨기기",1235:"모두 표시",1236:"대상의 객체 선택",1237:"각도를 선택하여 객체를 복사합니다.",1238:"각도 복사 수량을 입력하십시오.",1239:"각도 복사의 기준점을 입력하십시오.",1240:"복사 각도를 입력하십시오.",1241:"정점 객체를 선택하십시오.",1242:"객체 복사를 선택하십시오.",1243:"복제 기준점을 확인하십시오.",1244:"참조 커브 선택",1245:"끊기 객체 선택",1246:"오프셋 객체 지정",1247:"오프셋 거리를 입력하십시오.",1248:"신축 객체 지정 (선, 폴리선, 호 선택)",1249:"다음으로 확장",1250:"선종류 축척을 수정할 객체 선택",1251:"선종류 축척을 입력하십시오.",1252:"패턴 간격을 입력하십시오.",1253:"호를 선택하십시오.",1254:"정렬 객체 선택",1255:"정렬 기준점 지정",1256:"대상 폴리선을 선택합니다.",1257:"필렛 반지름을 입력하십시오<5>",1258:"선 객체 선택",1259:"등분 모드 선택",1260:"정거 등분",1261:"정수 등분",1262:"오프셋 등분",1263:"등분 복사",1264:"동등한 객체 간격띄우기를 선택하십시오.",1265:"등분 객체 복사를 선택하십시오.",1266:"등분할 세그먼트를 선택하십시오.",1267:"등분 거리를 설정하십시오.",1268:"등분 수량을 설정하십시오",1269:"오프셋 거리를 설정하십시오.",1270:"오프셋 점을 지정하십시오.",1271:"복사 기준점을 지정하십시오.",1272:"복사 등분 수량을 지정하십시오.",1273:"복사 등분 끝점을 지정하십시오.",1274:"사각형 배율이 필요한 엔티티를 선택하십시오.",1275:"사각형의 구석 1 을 지정하십시오.",1276:"사각형 구석 2를 지정하십시오.",1277:"중심점 확대 선택",1278:"확대 범위를 선택하십시오.",1279:"확대 배수를 설정하십시오.",1280:"삽입점 확대 를 선택하십시오.",1281:"끊을 커브를 선택하십시오.",1282:"커브에서 브레이크 점을 선택하십시오.",1283:"패턴 수를 입력하십시오.",1284:"회전 켜기",1285:"배열이 필요한 도면을 선택하십시오.",1286:"스토리지 중심점을 선택하십시오.",1287:"닫힌 다각형을 선택하십시오!",1288:"첫 번째 점을 선택하십시오.",1289:"두 번째 점을 선택하십시오.",1290:"첫 번째 닫힌 다각형을 선택하십시오.",1291:"두 번째 닫힌 다각형을 선택하십시오.",1292:"닫힌 다각형 두 개를 선택하십시오.",1293:"두 다각형은 겹치는 모서리가 없습니다!",1294:"대상 다각형을 선택하십시오.",1295:"정점을 추가할 다각형 모서리를 선택하십시오.",1296:"추가할 정점 위치를 설정하십시오.",1297:"다각형에서 삭제할 정점을 선택하십시오.",1298:"다각형으로 밀어낼 모서리를 선택하십시오.",1299:"밀어내기 위치를 지정하십시오.",1300:"프레임 위치를 설정하십시오.",1301:"그림 상자 삽입",1302:"대상 정렬선 객체 (선 선택) 를 선택하십시오.",1303:"대상 문자 객체를 선택하십시오.",1304:"문자 객체 선택",1305:"높이를 설정하십시오.",1306:"글자 폭을 설정하십시오.",1307:"원본 텍스트를 선택하십시오.",1308:"대상 텍스트 선택",1309:"첫 번째 텍스트를 선택하십시오.",1310:"두 번째 텍스트를 선택하십시오.",1311:"정렬할 문자를 선택하십시오.",1312:"정렬을 선택하십시오.",1313:"왼쪽",1314:"가운데",1315:"오른쪽",1316:"기준점 정렬을 선택하십시오.",1317:"반전할 텍스트를 선택하십시오.",1318:"공백을 제거할 텍스트를 선택하십시오.",1319:"문자 객체를 선택하십시오.",1320:"밑줄 너비를 입력하십시오.",1321:"밑줄 거리를 설정하십시오.",1322:"밑줄 연장 거리를 설정하십시오.",1323:"작업 옵션을 선택하십시오.",1324:"대문자",1325:"소문자",1326:"문장의 첫머리와 대문자.",1327:"디지털 객체를 선택하십시오.",1328:"텍스트 삽입점을 선택하십시오.",1329:"찾을 범위를 선택합니다.",1330:"찾기 모드를 선택하십시오.",1331:"같음",1332:"포함",1333:"접두사는",1334:"접미어는",1335:"키워드를 입력하십시오.",1336:"작업할 범위를 선택합니다.",1337:"작업 방법 선택",1338:"작업 위치 선택",1339:"접두사",1340:"접미어",1341:"내용을 입력하십시오.",1342:"텍스트 선택",1343:"호를 선택하십시오.",1344:"문의 너비를 입력하십시오.",1345:"삽입 방법을 선택하십시오<E>",1346:"아무 곳이나",1347:"중심 위치",1348:"문의 위치를 선택하십시오.",1349:"표준 창 길이를 설정하십시오.",1350:"창 위치를 선택하십시오.",1351:"축 시작점 지정하기",1352:"축 끝점 또는 입력 길이 지정",1353:"축망 위치 지정 클릭",1354:"축 스타일:",1355:"비우기",1356:"개수",1357:"간격",1358:"마크업 추가",1359:"문자 크기",1360:"화살표 크기",1361:"번호 추가",1362:"원형 프레임 반지름",1363:"반환",1364:"단일 축",1365:"축선 격자",1366:"위쪽",1367:"아래",1368:"벽 너비를 설정하십시오.",1369:"벽의 시작점을 설정하십시오.",1370:"벽 길이를 설정하십시오.",1371:"도면 공간 유형을 선택하십시오<C>",1372:"내부 치수",1373:"외부 치수",1374:"중심 치수",1375:"방 구석 점 1을 설정하십시오.",1376:"방 구석 점 2를 설정하십시오.",1377:"벽의 첫 번째 점을 찍다",1378:"벽의 두 번째 점을 찍다",1379:"벽의 폭을 설정하십시오<30>",1380:"벽 삽입 위치를 설정하십시오<A>",1381:"중간 위치",1382:"클릭하여 벽 구멍 삽입 위치 확인",1383:"그래픽 인식",1384:"그래픽",1385:"도면 이름을 입력하십시오.",1386:"도면 이름은 비워둘 수 없습니다.",1387:"도면 다시 선택",1388:"검색 범위",1389:"전체 시트",1390:"영역 찾기",1391:"영역 선택",1392:"확인 시작",1393:"차트 범위를 선택하십시오.",1394:"왼쪽 단추나 상자를 눌러서 식별할 도형을 선택하십시오",1395:"화살표 시작점 지정",1396:"다음 점 또는 끝점을 지정하고 마우스 오른쪽 버튼으로 완료",1397:"대칭 축 시작점을 설정하십시오.",1398:"대칭 축 끝점을 설정하십시오.",1399:"고점을 찍으십시오",1400:"표고 방향 클릭",1401:"다음 점을 클릭하십시오.",1402:"치수 위치 설정:",1403:"문자 위치 설정:",1404:"정밀도 단위 설정:",1405:"자유 치수",1406:"치수 정렬",1407:"글이 시종일관하다.",1408:"문자 합선단",1409:"국가 규범 (0.000)",1410:"사용자 정의 설정",1411:"치수의 첫 번째 점을 지정하십시오.",1412:"지시선의 위치를 지정하십시오.",1413:"문자 베이스라인의 위치를 지정하십시오.",1414:"다른 치수 점을 지정하고 마우스 오른쪽 버튼으로 완료",1415:"고정 각도:",1416:"끊기 수를 설정하십시오.",1417:"브레이크 시작점을 설정하십시오.",1418:"끊기 끝점을 설정하십시오.",1419:"색인 그림 이름의 위치를 지정하십시오.",1420:"인덱스 번호",1421:"배율:",1422:"색인 노드의 위치를 지정하십시오.",1423:"전환점의 위치를 지정하십시오.",1424:"색인 번호 위치를 지정하십시오.",1425:"색인 번호",1426:"색인 스타일:",1427:"색인 범위 추가",1428:"가운데",1429:"인덱스 가리키기",1430:"단면 색인",1431:"그림 이름 마크업 위치를 지정하십시오.",1432:"치수 스타일:",1433:"도명 문자",1434:"배율을 표시하려면 다음과 같이 하십시오.",1435:"연속 치수",1436:"국가 표준 마크업",1437:"기존 치수",1438:"치수의 첫 번째 점 위치를 지정하십시오.",1439:"문자 베이스라인 길이를 지정하십시오.",1440:"원점의 위치를 지정하고 마우스 오른쪽 버튼으로 완료",1441:"점 추가",1442:"텍스트 온라인",1443:"텍스트 온라인",1444:"첫 번째 단면점을 지정하십시오.",1445:"두 번째 단면점을 지정하십시오.",1446:"횡단면 방향을 지정하십시오.",1447:"단면 번호",1448:"해칭 번호:",1449:"단면 스타일:",1450:"치수 위치:",1451:"치수 방향:",1452:"직교 횡단면",1453:"단면 절단",1454:"양쪽 끝",1455:"단면화 위치 선을 따라",1456:"횡단면 방향선을 따라",1457:"치수 색상",1458:"분류되지 않은 마크업 색상:",1459:"팁: 분류되지 않은 마크업의 기본 색상만 수정합니다. 분류된 마크업의 색상을 수정해야 하는 경우 마크업 분류 관리 인터페이스에서 수정할 수 있습니다.",1460:"문자 높이",1461:"자동",1462:"수동 설정",1463:"화면에 지정",1464:"(이상 설정을 수정하면 새로 추가한 마크업에 적용됨)",1465:"디스플레이 및 정밀도 설정",1466:"실제 수치로 표시",1467:"시트 단위는 mm,",1468:"수치 기준",1469:"표시",1470:"디스플레이 정밀도:",1471:"저장",1472:"길이",1473:"선 세그먼트의 시작점을 선택하여 문자 높이로 선 길이를 지정합니다.",1474:"새 분류",1475:"현재 분류",1476:"모두 숨기기",1477:"분류 이름 찾기",1478:"찾으려는 분류 이름을 입력하십시오.",1479:"테이블 항목을 클릭하면 분류의 이름과 색상을 수정하거나 현재 분류를 설정할 수 있습니다",1480:"분류 아래에 있는 모든 마크업의 색상을 분류의 새 색상으로 수정해야 합니까?",1481:"힌트",1482:"함께 수정",1483:"필요 없음",1484:"색상",1485:"현재",1486:"이 분류는 현재 분류입니다. 삭제할 수 없습니다. 다른 분류를 현재 분류로 설정한 후 다시 조작할 수 있습니다!",1487:"분류 아래에 마크업이 있으므로 삭제할 수 없습니다. 다른 분류로 마크업을 이동한 후 다시 작업할 수 있습니다!",1488:"현재 분류입니다. 숨기기를 설정할 수 없습니다. 다른 분류는 숨겨졌습니다.",1489:"이 분류는 현재 분류입니다. 숨길 수 없습니다. 다른 분류를 현재 분류로 설정한 후 다시 조작할 수 있습니다!",1490:"수정 도구",1491:"다중 복제",1492:"호전원",1493:"복사 회전",1494:"원형 다각형",1495:"색상 변경",1496:"호 탄젠트",1497:"임시 숨기기",1498:"각도 복사",1499:"정점 복사",1500:"교점이 끊어지다",1501:"양방향 오프셋",1502:"신축",1503:"원 크기 변경",1504:"선종류 축척",1505:"호별 패턴",1506:"pl 필렛",1507:"pl선 대칭 이동",1508:"직사각형 크기 조절",1509:"끊다",1510:"원형 패턴",1511:"다각형 가공하기",1512:"다각형 결합",1513:"다각형 + 정점",1514:"다각형 삭제 정점",1515:"다각형 한면 밀어내기",1516:"문자 도구",1517:"선으로 정렬",1518:"고자질",1519:"글자의 폭을 바꾸다",1520:"내용 스밍",1521:"내용을 바꾸다",1522:"좌우 정렬",1523:"위아래 정렬",1524:"문자 반전",1525:"공백 제거",1526:"텍스트 상자",1527:"밑줄",1528:"도명선",1529:"대소문자",1530:"숫자 구화",1531:"특정 단어 선택",1532:"접미어",1533:"연결 문자",1534:"문자 세로 방향",1535:"호별 정렬",1536:"치수 도구",1537:"심도 치수",1538:"직사각형 주석",1539:"일련번호 마크업",1540:"부분 확대",1541:"블록 도구",1542:"블록 이름 변경",1543:"브러시",1544:"블록 연결",1545:"블록 중심선",1546:"블록 기준점을 변경하다.",1547:"블록 색상 변경",1548:"다중 블록 회전",1549:"다중 블록 크기 조절",1550:"브러시 각도",1551:"블록별 선택",1552:"블록별로 모두 선택",1553:"통계 단일 블록",1554:"블록 도면층 수정",1555:"드로잉 도구",1556:"Mx_Extool_DrawStart",1557:"별 모양",1558:"Mx_Extool_ConcavoVex",1559:"범프 선",1560:"Mx_Extool_ZigzagLine",1561:"톱니 선",1562:"Mx_Extool_CenterRect",1563:"중심 사각형",1564:"Mx_Extool_RREC",1565:"필렛 사각형",1566:"Mx_Extool_CCLine",1567:"원 중심선",1568:"Mx_Extool_Piping",1569:"파이프",1570:"Mx_Extool_CutPipeline",1571:"단면부",1572:"Mx_Extool_WelLine",1573:"용접선",1574:"Mx_Extool_PerpLine",1575:"중수선",1576:"Mx_Extool_StairLine",1577:"계단",1578:"Mx_Extool_SolidCircle",1579:"채워진 원",1580:"Mx_Extool_CottonInsulation",1581:"보온면",1582:"Mx_Extool_CenterLine",1583:"중심선",1584:"Mx_Extool_DoHole",1585:"구멍을 내다",1586:"Mx_Extool_Compass",1587:"지북침",1588:"Mx_Extool_MassegeBox",1589:"프롬프트 상자",1590:"Mx_Extool_ConcentricCircles",1591:"동심원",1592:"Mx_Extool_Gear",1593:"기어",1594:"Mx_Extool_BlkCenterLine",1595:"Mx_Extool_RoundCutPublicLine",1596:"원형 가공선",1597:"Mx_Extool_DrawPolygon",1598:"다각형 그리기",1599:"그림 상자 방향",1600:"가로 프레임",1601:"세로 프레임",1602:"추가",1603:"제목 표시줄 추가",1604:"회의 서명란에 가입",1605:"액자 크기",1606:"표준:",1607:"사용자 지정",1608:"길이:",1609:"너비:",1610:"치수 배율",1611:"기본 기능",1612:"특수 기능",1613:"분류",1614:"비율",1615:"통계 범위",1616:"모든 치수",1617:"수동으로 마크업 선택",1618:"마크업 선택",1619:"선택 항목 비우기",1620:"치수 색상별로 필터링",1621:"색상 선택 상자 열기",1622:"마크업별로 필터링",1623:"분류 선택 상자 열기",1624:"합계:",1625:"복제 통계",1626:"총 길이:",1627:"전체 면적:",1628:"총 둘레:",1629:"Excel로 테이블 내보내기",1630:"테이블에 없음",1631:"의 마크업",1632:"마크업을 선택할 수 없습니다.",1633:"필터링",1634:"모두 선택",1635:"모두 선택 안 함",1636:"둘레",1637:"치수를 클릭하거나 상자를 선택하여 마우스 오른쪽 버튼으로 선택을 종료합니다.",1638:"색상 분류 선택",1639:"마크업 분류 선택",1640:"두 점 사이의 실제 치수를 입력하여 치수 축척을 설정합니다."}},Symbol.toStringTag,{value:"Module"})),ep=Object.freeze(Object.defineProperty({__proto__:null,default:{911:"圖形識別清單",912:"箭頭引注",913:"引出標注",914:"做法標注",915:"索引符號",916:"索引圖名",917:"剖切符號",918:"標高標注",919:"圖名標注",920:"繪製軸線",921:"DWG比對",922:"區別",923:"個",924:"實體名稱",925:"實體位置",926:"已修改",927:"已删除",928:"已添加",929:"上標文字",930:"下標文字",931:"對齊管道：",932:"箭頭樣式：",933:"確定",934:"線上端",935:"齊線中",936:"齊線端",937:"始端",938:"中間",939:"末端",940:"箭頭",941:"半箭頭",942:"點",943:"十字",944:"無",945:"包含相同對象的組已經存在。 仍要創建新的組",946:"是",947:"否",948:"未命名組已創建",949:"組",950:"已創建",951:"選擇對象",952:"名稱",953:"說明",954:"輸入編組名",955:"査詢",956:"請輸入要列出的編碼組名",957:"定義的編組",958:"*無效*",959:"編組",960:"已經存在",961:"輸入編組說明",962:"未選擇對象,未創建編組",963:"選擇組",964:"組",965:"已分解",966:"編組",967:"未定義",968:"對象是多個組的成員<接受>",969:"接受",970:"下一個",971:"已分解",972:"對象不是組成員",973:"輸入選項",974:"添加對象",975:"删除對象",976:"重命名",977:"選擇要添加到編組的對象",978:"添加對象成功！",979:"選擇要從編組中删除的對象",980:"對象不是組內元素,無法删除",981:"輸入組的新名稱",982:"修改組名成功",983:"輸入組的名稱",984:"不存在",985:"請選擇目標組",986:"對象編組",987:"創建組",988:"解除編組",989:"編輯組",990:"編組管理器",991:"擴展工具",992:"顏色(C)",993:"圖層(L)",994:"線型(Y)",995:"線型比例(I)",996:"線寬(W)",997:"透明度(R)",998:"厚度(T)",999:"列印樣式(S)",1e3:"標注(D)",1001:"文字(X)",1002:"圖案填充(H)",1003:"多段線(P)",1004:"視口(V)",1005:"表格(B)",1006:"材質(M)",1007:"陰影顯示(O)",1008:"多重引線(U)",1009:"特性匹配",1010:"請選擇源對象",1011:"隨層",1012:"隨塊",1013:"預設",1014:"當前啟動的設定：",1015:"選擇目標對象",1016:"特性設定",1017:"量測",1018:"對齊",1019:"線性",1020:"面積",1021:"矩形面積",1022:"座標標注",1023:"設定標注比例",1024:"弧長",1025:"點到直線的距離",1026:"連續量測",1027:"查看分段長度",1028:"修改標注内容",1029:"面積(含弧線)",1030:"量測填充面積",1031:"量測圓",1032:"半徑標注",1033:"量測角度",1034:"顯隱標注",1035:"清除標注",1036:"標注分類管理",1037:"量測統計",1038:"標注設定",1039:"等分",1040:"請選擇面積的第一個點",1041:"請選擇下一個點",1042:"請選擇面積標注的位置",1043:"請選擇矩形的角點1",1044:"請選擇矩形的角點2",1045:"請設定面積標注的位置",1046:"請選擇目標座標點",1047:"請指定標注位置",1048:"請選擇一條已知直線的起點",1049:"請選擇已知直線的終點",1050:"輸入實際尺寸",1051:"請選擇一條弧線",1052:"請指定尺寸線位置",1053:"請選擇一個量測點",1054:"請選擇一條直線",1055:"請設定尺寸線的位置",1056:"請選擇一個圓對象",1057:"請指定文字位置",1058:"請選擇直線的端點或弧線",1059:"請選擇連續的線段！",1060:"請指定文字的位置",1061:"請選擇一個連續量測的標注,右鍵退出",1062:"請選擇第二條直線",1063:"請設定角度標注的位置",1064:"請選擇對齊標注的開始點",1065:"請選擇對齊標注的結束點",1066:"請選擇對齊標注的位置",1067:"請選擇線性標注的開始點",1068:"請選擇線性標注的結束點",1069:"請選擇線性標注的位置",1070:"請選擇圓弧或圓",1071:"請選擇半徑標注的位置",1072:"請選擇填充區域",1073:"請選擇一個或多個量測標注",1074:"修改標注設定",1075:"請選擇量測標注或框選删除標注的範圍",1076:"序號",1077:"數量",1078:"操作",1079:"詳情",1080:"删除",1081:"暫無數據",1082:"座標",1083:"查看",1084:"請設定指北針位置",1085:"請設定指北針方向",1086:"編組標識",1087:"編組名：",1088:"說明：",1089:"查找名稱",1090:"亮顯",1091:"包含未命名的",1092:"創建編組",1093:"新建",1094:"可選擇的",1095:"未命名的",1096:"修改編組",1097:"添加",1098:"重排",1099:"分解",1100:"删除位置：",1101:"輸入對象的新位置編號：",1102:"對象數目：",1103:"重排序",1104:"逆序",1105:"下一組",1106:"上一組",1107:"編組名",1108:"拾取編組的成員",1109:"未選擇任何對象",1110:"不是編組成員",1111:"編組成員列表",1112:"編組名無效",1113:"編組名重複",1114:"編組創建成功！",1115:"無法删除",1116:"選擇添加的對象",1117:"無法添加",1118:"編組說明已更新",1119:"取消",1120:"編組排序",1121:"對象：",1122:"對象順序已反轉",1123:"無法從該位置删除",1124:"無法從該位置插入",1125:"編組已重新排序",1126:"無法重排！ 請重新設定！",1127:"請輸入審批意見",1128:"指定雲線框起始點",1129:"指定雲線框終止點",1130:"指定審圖標注點",1131:"指定第一個角點：",1132:"指定第二個角點：",1133:"指定標注點：",1134:"指定序號位置：",1135:"請選擇目標塊對象",1136:"請輸入新塊名",1137:"選擇需要修改基點的塊",1138:"設定基點",1139:"選擇需要修改顏色的塊",1140:"輸入顏色索引(0~256)",1141:"請選擇源塊",1142:"選擇要刷的目標塊：",1143:"選擇連接管道",1144:"手動逐個連線",1145:"自動批量連線",1146:"請選擇連線的塊",1147:"設定中心線長度",1148:"選擇要旋轉的目標塊：",1149:"設定旋轉角度",1150:"請設定縮放比例",1151:"請設定選擇範圍：",1152:"請選擇目標塊",1153:"請設定統計範圍",1154:"請輸入星形頂點數：",1155:"指定星形中心點：",1156:"請設定星形的內半徑：",1157:"指定星形的外半徑：",1158:"請輸入凹凸線寬度<5>",1159:"請輸入凹凸線高度<10>",1160:"請點擊確定起始點",1161:"請點擊確定終點",1162:"請輸入鋸齒線寬度<5>",1163:"請輸入鋸齒線高度<10>",1164:"請輸入矩形寬度<5>",1165:"請輸入矩形高度<10>",1166:"請點擊確定矩形中心",1167:"請輸入管徑<10>",1168:"請輸入長出管口長度<5>",1169:"請點擊確定起點",1170:"指定剖管線起點",1171:"指定剖管線終點",1172:"選擇剖管線圓弧方向",1173:"左邊",1174:"右邊",1175:"選擇模式",1176:"直線焊縫",1177:"弧線焊縫",1178:"請輸入焊縫半徑<5>",1179:"指定起點",1180:"指定圓弧的第二個點",1181:"指定圓弧的端點",1182:"請輸入寬度<25>",1183:"請輸入高度<15>",1184:"請輸入樓梯級數<10>",1185:"請確定圓心位置",1186:"請輸入圓半徑",1187:"請輸入保溫棉寬度<5>",1188:"請輸入保溫棉高度<10>",1189:"請點擊下一個點",1190:"請選擇第一條線",1191:"請選擇第二條線",1192:"請選擇終點",1193:"請選擇目標矩形",1194:"設定指北針中心點",1195:"設定指北針半徑",1196:"選擇提示框指向",1197:"指定訊息方塊第一點：",1198:"指定訊息方塊第二點：",1199:"設定訊息方塊指向：",1200:"請設定圓心",1201:"請設定齒輪圓心",1202:"請設定齒輪半徑",1203:"請設定中心線長度10>",1204:"請選擇第一個圓",1205:"請選擇第二個圓",1206:"請設定矩形左上角點",1207:"請設定矩形右下角點",1208:"請設定圓角半徑",1209:"請選擇多邊形起點",1210:"請選擇多邊形頂點",1211:"請輸入表格選取精度",1212:"選擇選取範圍第一個角點",1213:"選擇選取範圍第二個角點",1214:"未識別到有效表格！",1215:"選擇對象：",1216:"指定基點",1217:"指定第二個點",1218:"陣列",1219:"退出",1220:"放弃",1221:"輸入要進行陣列的項目數",1222:"選擇圓弧對象",1223:"選擇複製旋轉對象：",1224:"請指定目標點",1225:"請指定旋轉角度",1226:"選擇要轉成多邊形的對象",1227:"設定多邊形邊數",1228:"輸入選項",1229:"內接於圓",1230:"外切於圓",1231:"選擇要修改顏色的對象",1232:"輸入顏色索引",1233:"隱藏",1234:"隱藏未選",1235:"全部顯示",1236:"選擇目標的對象",1237:"請選擇角度複製對象",1238:"請輸入角度複製數量",1239:"請輸入角度複製的基點",1240:"請輸入複製角度",1241:"請選擇頂點對象",1242:"請選擇複製對象",1243:"請確定複製基點",1244:"請選擇參攷曲線",1245:"選擇打斷對象",1246:"指定偏移對象",1247:"請輸入偏移距離",1248:"指定伸縮對象(選擇直線、多段線、圓弧)",1249:"伸縮至",1250:"選擇要修改線型比例的對象",1251:"請輸入線型比例",1252:"請輸入陣列間距",1253:"請選擇圓弧",1254:"選擇排列對象",1255:"指定排列基點",1256:"選擇目標多段線：",1257:"請輸入圓角半徑<5>",1258:"請選擇線對象",1259:"選擇等分模式",1260:"定距等分",1261:"定數等分",1262:"偏移等分",1263:"複製等分",1264:"請選擇偏移等分對象",1265:"請選擇複製等分對象",1266:"請選擇需要等分的線段",1267:"請設定等分距離",1268:"請設定等分的數量",1269:"請設定偏移距離",1270:"請指定偏移點",1271:"請指定複製基點",1272:"請指定複製等分數量",1273:"請指定複製等分端點",1274:"請選擇需要矩形縮放的實體：",1275:"請指定矩形的角點1",1276:"請指定矩形角點2",1277:"請選擇放大中心點",1278:"請選擇放大範圍",1279:"請設定放大倍數",1280:"請選擇放大插入點",1281:"請選擇一條需要打斷的曲線",1282:"請在曲線上選取打斷點",1283:"請輸入陣列數量",1284:"是否開啟旋轉",1285:"請選擇需要陣列的圖形：",1286:"請選擇陣列中心點",1287:"請選擇閉合多邊形！",1288:"請選擇第一個點",1289:"請選擇第二個點",1290:"請選擇第一個閉合多邊形",1291:"請選擇第二個閉合多邊形",1292:"請選擇兩個閉合多邊形",1293:"兩個多邊形沒有重合邊！",1294:"請選擇目標多邊形",1295:"請選擇多邊形需要添加頂點的邊",1296:"請設定添加的頂點位置",1297:"請選擇多邊形需要删除的頂點",1298:"請選擇多邊形需要拉伸的邊",1299:"請指定拉伸位置",1300:"請設定圖框位置",1301:"插入圖框",1302:"請選擇目標對齊線對象(選擇直線)",1303:"請選擇目標文字對象",1304:"選擇文字對象",1305:"請設定字高",1306:"請設定字寬",1307:"請選擇源文字",1308:"請選擇目標文字",1309:"請選擇第一個文字",1310:"請選擇第二個文字",1311:"請選擇需要對齊的文字",1312:"請選擇對齊管道",1313:"左",1314:"中",1315:"右",1316:"請選擇對齊基點",1317:"請選擇需要反轉的文字",1318:"請選擇需要去空格的文字",1319:"請選擇文字對象",1320:"請輸入底線寬度",1321:"請設定底線距離",1322:"請設定底線延長距離",1323:"請選擇操作選項",1324:"大寫",1325:"小寫",1326:"句首大寫",1327:"請選擇數位對象",1328:"請選擇文字插入點",1329:"選擇要查找的範圍：",1330:"請選擇查找模式",1331:"等於",1332:"包含",1333:"首碼為",1334:"尾碼為",1335:"請輸入關鍵字",1336:"選擇要操作的範圍：",1337:"選擇操作管道",1338:"選擇操作位置",1339:"首碼",1340:"尾碼",1341:"請輸入內容",1342:"請選擇文字",1343:"請選擇圓弧",1344:"請輸入門的寬度",1345:"請選擇插入管道<E>",1346:"任意位置",1347:"中心位置",1348:"請選擇門的位置",1349:"請設定標準窗的長度",1350:"請選擇窗的位置",1351:"指定軸線起點",1352:"指定軸線終點或輸入長度",1353:"點擊指定軸網位置",1354:"軸線樣式：",1355:"清空",1356:"個數",1357:"間距",1358:"添加標注",1359:"文字大小",1360:"箭頭大小",1361:"添加編號",1362:"圓框半徑",1363:"返回",1364:"單條軸線",1365:"軸線網格",1366:"上邊",1367:"下邊",1368:"請設定牆體寬度",1369:"請設定牆體起點",1370:"請設定牆體長度",1371:"請選擇繪製房間類型<C>",1372:"內部尺寸",1373:"外部尺寸",1374:"中心尺寸",1375:"請設定房間角點1",1376:"請設定房間角點2",1377:"點取牆上的第一個點",1378:"點取牆上的第二個點",1379:"請設定牆洞寬<30>",1380:"請設定牆洞插入位置<A>",1381:"中間位置",1382:"點擊確定牆洞插入位置",1383:"圖形識別",1384:"圖形",1385:"請輸入圖形名稱",1386:"圖形名稱不能為空",1387:"重新選擇圖形",1388:"查找範圍",1389:"整張圖紙",1390:"區域查找",1391:"區域選擇",1392:"開始識別",1393:"請選擇識圖範圍",1394:"請點擊左鍵或拉框選擇需要識別的圖形",1395:"指定箭頭起點",1396:"指定下一點或終點,右鍵完成",1397:"請設定對稱軸起點",1398:"請設定對稱軸結束點",1399:"請點取標高點",1400:"點取標高方向",1401:"請點取下一點",1402:"標注位置設定：",1403:"文字位置設定：",1404:"精度組織設定：",1405:"自由標注",1406:"對齊標注",1407:"文字齊始端",1408:"文字齊線端",1409:"國家規範(0.000)",1410:"自定義設定",1411:"請指定標注的第一個點",1412:"請指定引線的位置",1413:"請指定文字基線的位置",1414:"指定其他標注點,右鍵完成",1415:"固定角度：",1416:"請設定折斷數",1417:"請設定斷線起點",1418:"請設定斷線結束點",1419:"請指定索引圖名的位置",1420:"索引編號",1421:"比例：",1422:"請指定索引節點的位置",1423:"請指定轉捩點的位置",1424:"請指定文字索引號位置",1425:"索引圖號",1426:"索引樣式：",1427:"添加索引範圍",1428:"居中",1429:"指向索引",1430:"剖切索引",1431:"請指定圖名標注位置",1432:"標注樣式：",1433:"圖名文字",1434:"顯示比例：",1435:"連續標注",1436:"國標標注",1437:"傳統標注",1438:"請指定標注的第一點的位置",1439:"請指定文字基線長度",1440:"指定原點的位置,右鍵完成",1441:"添加圓點",1442:"文字線上端",1443:"文字線上上",1444:"請指定第一個剖切點",1445:"請指定第二個剖切點",1446:"請指定剖視方向",1447:"剖切編號",1448:"剖面圖號：",1449:"剖切樣式：",1450:"標注位置：",1451:"標注方向：",1452:"正交剖面",1453:"斷面剖切",1454:"兩端",1455:"沿剖切位置線",1456:"沿剖視方向線",1457:"標注顏色",1458:"未分類標注顏色：",1459:"提示：這裡只修改未分類標注的默認顏色,如果需要修改分類標注的顏色,可以在標注分類管理介面裏修改",1460:"文字高度",1461:"自動",1462:"手動設置",1463:"在荧幕中指定",1464:"(以上設定修改後,對新添加的標注生效)",1465:"顯示與精度設定",1466:"按實際數值顯示",1467:"圖紙組織為mm,",1468:"數值按照",1469:"顯示",1470:"顯示精度：",1471:"保存",1472:"長度",1473:"請選擇一條線段的起始點,取線長作為文字的高度",1474:"新建分類",1475:"當前分類",1476:"全部隱藏",1477:"查找分類名稱",1478:"請輸入要查找的分類名稱",1479:"點擊表格項可以修改分類的名稱和顏色,也可以設定當前分類",1480:"是否需要將該分類下所有標注的顏色一起修改成分類的新顏色？",1481:"提示",1482:"一起修改",1483:"不需要",1484:"顏色",1485:"當前",1486:"這個分類是當前分類,不能被删除,您可以將其它分類設定為當前分類後,再重新操作！",1487:"該分類下有標注,不能被删除,您可以將標注移動到其它分類後,再重新操作！",1488:"是當前分類,無法設定隱藏,其它分類已隱藏",1489:"這個分類是當前分類,不能被隱藏,您可以將其它分類設定為當前分類後,再重新操作！",1490:"修改工具",1491:"多重複製",1492:"弧轉圓",1493:"複製旋轉",1494:"圓轉多邊",1495:"改顏色",1496:"圓弧切角",1497:"臨時隱藏",1498:"角度複製",1499:"頂點複製",1500:"交點打斷",1501:"雙向偏移",1502:"伸縮",1503:"改圓大小",1504:"線型比例",1505:"按弧陣列",1506:"pl圓角",1507:"pl線反向",1508:"矩形縮放",1509:"打斷",1510:"環形陣列",1511:"切割多邊形",1512:"合併多邊形",1513:"多邊形加頂點",1514:"多邊形删頂點",1515:"拉伸多邊形單邊",1516:"文字工具",1517:"按線對齊",1518:"改字高",1519:"改字寬",1520:"刷內容",1521:"換內容",1522:"左右對齊",1523:"上下對齊",1524:"文字反轉",1525:"去空格",1526:"文字加框",1527:"底線",1528:"圖名線",1529:"大小寫",1530:"數位求和",1531:"選特定字",1532:"前尾碼",1533:"連接文字",1534:"文字豎向",1535:"按弧對齊",1536:"標注工具",1537:"審圖標注",1538:"矩形批註",1539:"序號標注",1540:"局部放大",1541:"塊工具",1542:"改塊名",1543:"刷塊",1544:"塊連線",1545:"塊中心線",1546:"改塊基點",1547:"改塊顏色",1548:"多塊旋轉",1549:"多塊縮放",1550:"刷塊角度",1551:"按塊選擇",1552:"按塊全選",1553:"統計單塊",1554:"修改塊圖層",1555:"繪圖工具",1556:"Mx_Extool_DrawStart",1557:"星形",1558:"Mx_Extool_ConcavoVex",1559:"凹凸線",1560:"Mx_Extool_ZigzagLine",1561:"鋸齒線",1562:"Mx_Extool_CenterRect",1563:"中心矩形",1564:"Mx_Extool_RREC",1565:"圓角矩形",1566:"Mx_Extool_CCLine",1567:"圓中心線",1568:"Mx_Extool_Piping",1569:"筦道",1570:"Mx_Extool_CutPipeline",1571:"剖管符",1572:"Mx_Extool_WelLine",1573:"焊縫線",1574:"Mx_Extool_PerpLine",1575:"中垂線",1576:"Mx_Extool_StairLine",1577:"樓梯",1578:"Mx_Extool_SolidCircle",1579:"實心圓",1580:"Mx_Extool_CottonInsulation",1581:"保溫棉",1582:"Mx_Extool_CenterLine",1583:"中心線",1584:"Mx_Extool_DoHole",1585:"開洞",1586:"Mx_Extool_Compass",1587:"指北針",1588:"Mx_Extool_MassegeBox",1589:"提示框",1590:"Mx_Extool_ConcentricCircles",1591:"同心圓",1592:"Mx_Extool_Gear",1593:"齒輪",1594:"Mx_Extool_BlkCenterLine",1595:"Mx_Extool_RoundCutPublicLine",1596:"圓切公線",1597:"Mx_Extool_DrawPolygon",1598:"繪任意多邊形",1599:"圖框方向",1600:"橫向圖框",1601:"縱向圖框",1602:"附加項",1603:"加入標題列",1604:"加入會簽欄",1605:"圖框尺寸",1606:"標準：",1607:"自定義",1608:"長度：",1609:"寬度：",1610:"尺寸比例",1611:"基本特性",1612:"特殊特性",1613:"分類",1614:"比例",1615:"統計範圍",1616:"所有標注",1617:"手動選擇標注",1618:"選擇標注",1619:"清空選擇",1620:"按標注顏色進行過濾",1621:"打開顏色選擇框",1622:"按標注分類進行過濾",1623:"打開分類選擇框",1624:"總計：",1625:"複製統計結果",1626:"總長度：",1627:"總面積：",1628:"總周長：",1629:"匯出表格到Excel",1630:"表格中沒有帶",1631:"的標注",1632:"無法選擇標注",1633:"進行過濾",1634:"全選",1635:"全不選",1636:"周長",1637:"請點選或框選標注,右鍵結束選擇",1638:"選擇顏色分類",1639:"選擇標注分類",1640:"輸入兩點之間實際尺寸來設定標注比例："}},Symbol.toStringTag,{value:"Module"})),np={border:"1"},rp={class:"options"},ip=["onClick"],op=["onClick"],sp={key:0,class:"noDataBox",style:{"margin-bottom":"30px"}},ap={key:1,style:{width:"100%",display:"flex","justify-content":"center","margin-top":"10px"}},lp=["src"],cp={border:"1"},hp={style:{"margin-left":"10px"}},dp={class:"options"},up=["onClick"],fp={key:2,class:"noDataBox",style:{"margin-bottom":"30px"}},pp=b.defineComponent({__name:"patternRec",setup(D){const o=b.ref(!1),t=b.computed(()=>{var d;return o.value&&(o.value=!1),((d=Re[Re.length-1])==null?void 0:d.graphBoxsPos)||[]}),c=b.computed(()=>{var d;return o.value&&(o.value=!1),((d=Re[Re.length-1])==null?void 0:d.patternImgUrl)||""}),u=b.ref(0);b.onUpdated(()=>{u.value<Re.length&&e(Re.length-1)});const a=d=>{let l=lt.MxFun.getCurrentDraw();l.getTempMarkDraw().clear(),l.getTempMarkDraw().drawCircleMark(d.toVector3(),l.viewCoordLong2Cad(50),16711680),l.updateDisplay(),w.MxCpp.getCurrentMxCAD().zoomCenter(d.x,d.y)},r=b.reactive([]),i=b.ref(""),s=b.ref(null),e=d=>{r.length=0,r.push(...Re[d].graphBoxsPos),i.value=Re[d].patternImgUrl,o.value||(o.value=!0),u.value=Re.length,s.value=d},n=d=>{Re.splice(d,1),s.value===d&&Re.length>0&&e(Re.length-1),Re.length===0&&(o.value=!1)};return(d,l)=>b.withDirectives((b.openBlock(),b.createElementBlock("div",null,[b.createElementVNode("table",np,[b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("序号")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("名称")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("数量")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("操作")),1)])]),b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(b.unref(Re),(h,p)=>{var g;return b.openBlock(),b.createElementBlock("tr",{key:h.name},[b.createElementVNode("td",null,b.toDisplayString(p+1),1),b.createElementVNode("td",null,b.toDisplayString(h.name),1),b.createElementVNode("td",null,b.toDisplayString(((g=h==null?void 0:h.graphBoxsPos)==null?void 0:g.length)||0),1),b.createElementVNode("td",null,[b.createElementVNode("div",rp,[b.createElementVNode("span",{onClick:()=>e(p)},b.toDisplayString(b.unref(O)("详情")),9,ip),b.createElementVNode("span",{onClick:()=>n(p)},b.toDisplayString(b.unref(O)("删除")),9,op)])])])}),128))])]),b.unref(Re).length?b.createCommentVNode("",!0):(b.openBlock(),b.createElementBlock("div",sp,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("暂无数据")),1)])),b.unref(Re).length?(b.openBlock(),b.createElementBlock("div",ap,[b.createElementVNode("img",{src:o.value?i.value:c.value,alt:"graph",style:{width:"50%"}},null,8,lp)])):b.createCommentVNode("",!0),b.createElementVNode("table",cp,[b.createElementVNode("thead",null,[b.createElementVNode("tr",null,[b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("序号")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("坐标")),1),b.createElementVNode("th",null,b.toDisplayString(b.unref(O)("操作")),1)])]),b.createElementVNode("tbody",null,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(o.value?r:t.value,(h,p)=>(b.openBlock(),b.createElementBlock("tr",{key:p},[b.createElementVNode("td",null,b.toDisplayString(p+1),1),b.createElementVNode("td",null,[b.createElementVNode("span",null,"X:"+b.toDisplayString(h.x.toFixed(3)),1),b.createElementVNode("span",hp,"Y:"+b.toDisplayString(h.y.toFixed(3)),1)]),b.createElementVNode("td",null,[b.createElementVNode("div",dp,[b.createElementVNode("span",{onClick:()=>a(h)},b.toDisplayString(b.unref(O)("查看")),9,up)])])]))),128))])]),b.unref(Re).length?b.createCommentVNode("",!0):(b.openBlock(),b.createElementBlock("div",fp,[b.createElementVNode("span",null,b.toDisplayString(b.unref(O)("暂无数据")),1)]))],512)),[[b.vShow,b.unref(ki)]])}}),V2="",gp=Object.freeze(Object.defineProperty({__proto__:null,default:_e(pp,[["__scopeId","data-v-dd40058c"],["__file","patternRec.vue"]])},Symbol.toStringTag,{value:"Module"}))})(MXCADAPP_EXTERNALLIBRARIES.Vue,Mx,MxCAD,MXCADAPP_EXTERNALLIBRARIES.vuetifyComponents);
//# sourceMappingURL=index.js.map
